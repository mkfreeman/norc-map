var kb=Object.defineProperty;var Cb=(t,e,n)=>e in t?kb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qn=(t,e,n)=>(Cb(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Me(){}function Ua(t,e){for(const n in e)t[n]=e[n];return t}function Em(t){return t()}function Wh(){return Object.create(null)}function Ai(t){t.forEach(Em)}function $o(t){return typeof t=="function"}function Je(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Eb(t){return Object.keys(t).length===0}function Ps(t,e,n,i){if(t){const o=Am(t,e,n,i);return t[0](o)}}function Am(t,e,n,i){return t[1]&&i?Ua(n.ctx.slice(),t[1](i(e))):n.ctx}function ks(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const a=[],u=Math.max(e.dirty.length,o.length);for(let c=0;c<u;c+=1)a[c]=e.dirty[c]|o[c];return a}return e.dirty|o}return e.dirty}function Cs(t,e,n,i,o,a){if(o){const u=Am(e,n,i,a);t.p(u,o)}}function Es(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Ab(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function qh(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Vh(t){return t??""}function $b(t){return t&&$o(t.destroy)?t.destroy:Me}function yt(t,e){t.appendChild(e)}function $t(t,e,n){t.insertBefore(e,n||null)}function kt(t){t.parentNode&&t.parentNode.removeChild(t)}function Ha(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function Pt(t){return document.createElement(t)}function vi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function un(t){return document.createTextNode(t)}function ne(){return un(" ")}function Gn(){return un("")}function As(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function zb(t){return function(e){return e.preventDefault(),t.call(this,e)}}function lt(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Nb=["width","height"];function Yh(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Nb.indexOf(i)===-1?t[i]=e[i]:lt(t,i,e[i])}function Ib(t){return Array.from(t.childNodes)}function Wa(t,e){e=""+e,t.data!==e&&(t.data=e)}function po(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Ob(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Oc{constructor(e=!1){qn(this,"is_svg",!1);qn(this,"e");qn(this,"n");qn(this,"t");qn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=vi(n.nodeName):this.e=Pt(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)$t(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(kt)}}let mo;function uo(t){mo=t}function zo(){if(!mo)throw new Error("Function called outside component initialization");return mo}function Tr(t){zo().$$.on_mount.push(t)}function $s(t){zo().$$.on_destroy.push(t)}function Db(){const t=zo();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const a=Ob(e,n,{cancelable:i});return o.slice().forEach(u=>{u.call(t,a)}),!a.defaultPrevented}return!0}}function Dc(t,e){return zo().$$.context.set(t,e),e}function Bc(t){return zo().$$.context.get(t)}const er=[],bi=[];let or=[];const Gh=[],$m=Promise.resolve();let Af=!1;function zm(){Af||(Af=!0,$m.then(Nm))}function Bb(){return zm(),$m}function $f(t){or.push(t)}const Fu=new Set;let Xi=0;function Nm(){if(Xi!==0)return;const t=mo;do{try{for(;Xi<er.length;){const e=er[Xi];Xi++,uo(e),Rb(e.$$)}}catch(e){throw er.length=0,Xi=0,e}for(uo(null),er.length=0,Xi=0;bi.length;)bi.pop()();for(let e=0;e<or.length;e+=1){const n=or[e];Fu.has(n)||(Fu.add(n),n())}or.length=0}while(er.length);for(;Gh.length;)Gh.pop()();Af=!1,Fu.clear(),uo(t)}function Rb(t){if(t.fragment!==null){t.update(),Ai(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach($f)}}function Zb(t){const e=[],n=[];or.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),or=e}const Ia=new Set;let ci;function Te(){ci={r:0,c:[],p:ci}}function Le(){ci.r||Ai(ci.c),ci=ci.p}function ft(t,e){t&&t.i&&(Ia.delete(t),t.i(e))}function pt(t,e,n,i){if(t&&t.o){if(Ia.has(t))return;Ia.add(t),ci.c.push(()=>{Ia.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Ne(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Fb(t,e){t.d(1),e.delete(t.key)}function Ub(t,e){pt(t,1,1,()=>{e.delete(t.key)})}function Im(t,e,n,i,o,a,u,c,l,h,d,m){let g=t.length,_=a.length,v=g;const w={};for(;v--;)w[t[v].key]=v;const x=[],P=new Map,T=new Map,S=[];for(v=_;v--;){const A=m(o,a,v),N=n(A);let B=u.get(N);B?i&&S.push(()=>B.p(A,e)):(B=h(N,A),B.c()),P.set(N,x[v]=B),N in w&&T.set(N,Math.abs(v-w[N]))}const M=new Set,C=new Set;function k(A){ft(A,1),A.m(c,d),u.set(A.key,A),d=A.first,_--}for(;g&&_;){const A=x[_-1],N=t[g-1],B=A.key,R=N.key;A===N?(d=A.first,g--,_--):P.has(R)?!u.has(B)||M.has(B)?k(A):C.has(R)?g--:T.get(B)>T.get(R)?(C.add(B),k(A)):(M.add(R),g--):(l(N,u),g--)}for(;g--;){const A=t[g];P.has(A.key)||l(A,u)}for(;_;)k(x[_-1]);return Ai(S),x}function Hb(t,e){const n={},i={},o={$$scope:1};let a=t.length;for(;a--;){const u=t[a],c=e[a];if(c){for(const l in u)l in c||(i[l]=1);for(const l in c)o[l]||(n[l]=c[l],o[l]=1);t[a]=c}else for(const l in u)o[l]=1}for(const u in i)u in n||(n[u]=void 0);return n}function pe(t){t&&t.c()}function ce(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),$f(()=>{const a=t.$$.on_mount.map(Em).filter($o);t.$$.on_destroy?t.$$.on_destroy.push(...a):Ai(a),t.$$.on_mount=[]}),o.forEach($f)}function le(t,e){const n=t.$$;n.fragment!==null&&(Zb(n.after_update),Ai(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Wb(t,e){t.$$.dirty[0]===-1&&(er.push(t),zm(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gn(t,e,n,i,o,a,u=null,c=[-1]){const l=mo;uo(t);const h=t.$$={fragment:null,ctx:[],props:a,update:Me,not_equal:o,bound:Wh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Wh(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};u&&u(h.root);let d=!1;if(h.ctx=n?n(t,e.props||{},(m,g,..._)=>{const v=_.length?_[0]:g;return h.ctx&&o(h.ctx[m],h.ctx[m]=v)&&(!h.skip_bound&&h.bound[m]&&h.bound[m](v),d&&Wb(t,m)),g}):[],h.update(),d=!0,Ai(h.before_update),h.fragment=i?i(h.ctx):!1,e.target){if(e.hydrate){const m=Ib(e.target);h.fragment&&h.fragment.l(m),m.forEach(kt)}else h.fragment&&h.fragment.c();e.intro&&ft(t.$$.fragment),ce(t,e.target,e.anchor),Nm()}uo(l)}class _n{constructor(){qn(this,"$$");qn(this,"$$set")}$destroy(){le(this,1),this.$destroy=Me}$on(e,n){if(!$o(n))return Me;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Eb(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const qb="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(qb);var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(Vb,function(n){var i="1.9.4";function o(r){var s,f,p,y;for(f=1,p=arguments.length;f<p;f++){y=arguments[f];for(s in y)r[s]=y[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var p=f.call(arguments,2);return function(){return r.apply(s,p.length?p.concat(f.call(arguments)):arguments)}}var c=0;function l(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function h(r,s,f){var p,y,b,E;return E=function(){p=!1,y&&(b.apply(f,y),y=!1)},b=function(){p?y=arguments:(r.apply(f,arguments),setTimeout(E,s),p=!0)},b}function d(r,s,f){var p=s[1],y=s[0],b=p-y;return r===p&&f?r:((r-y)%b+b)%b+y}function m(){return!1}function g(r,s){if(s===!1)return r;var f=Math.pow(10,s===void 0?6:s);return Math.round(r*f)/f}function _(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function v(r){return _(r).split(/\s+/)}function w(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var f in s)r.options[f]=s[f];return r.options}function x(r,s,f){var p=[];for(var y in r)p.push(encodeURIComponent(f?y.toUpperCase():y)+"="+encodeURIComponent(r[y]));return(!s||s.indexOf("?")===-1?"?":"&")+p.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function T(r,s){return r.replace(P,function(f,p){var y=s[p];if(y===void 0)throw new Error("No value provided for variable "+f);return typeof y=="function"&&(y=y(s)),y})}var S=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function M(r,s){for(var f=0;f<r.length;f++)if(r[f]===s)return f;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var A=0;function N(r){var s=+new Date,f=Math.max(0,16-(s-A));return A=s+f,window.setTimeout(r,f)}var B=window.requestAnimationFrame||k("RequestAnimationFrame")||N,R=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function $(r,s,f){if(f&&B===N)r.call(s);else return B.call(window,u(r,s))}function H(r){r&&R.call(window,r)}var X={__proto__:null,extend:o,create:a,bind:u,get lastId(){return c},stamp:l,throttle:h,wrapNum:d,falseFn:m,formatNum:g,trim:_,splitWords:v,setOptions:w,getParamString:x,template:T,isArray:S,indexOf:M,emptyImageUrl:C,requestFn:B,cancelFn:R,requestAnimFrame:$,cancelAnimFrame:H};function Y(){}Y.extend=function(r){var s=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,p=a(f);p.constructor=s,s.prototype=p;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(s[y]=this[y]);return r.statics&&o(s,r.statics),r.includes&&(I(r.includes),o.apply(null,[p].concat(r.includes))),o(p,r),delete p.statics,delete p.includes,p.options&&(p.options=f.options?a(f.options):{},o(p.options,r.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var b=0,E=p._initHooks.length;b<E;b++)p._initHooks[b].call(this)}},s},Y.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},Y.mergeOptions=function(r){return o(this.prototype.options,r),this},Y.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function I(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=S(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var W={on:function(r,s,f){if(typeof r=="object")for(var p in r)this._on(p,r[p],s);else{r=v(r);for(var y=0,b=r.length;y<b;y++)this._on(r[y],s,f)}return this},off:function(r,s,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var p in r)this._off(p,r[p],s);else{r=v(r);for(var y=arguments.length===1,b=0,E=r.length;b<E;b++)y?this._off(r[b]):this._off(r[b],s,f)}return this},_on:function(r,s,f,p){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,f)===!1){f===this&&(f=void 0);var y={fn:s,ctx:f};p&&(y.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(y)}},_off:function(r,s,f){var p,y,b;if(this._events&&(p=this._events[r],!!p)){if(arguments.length===1){if(this._firingCount)for(y=0,b=p.length;y<b;y++)p[y].fn=m;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var E=this._listens(r,s,f);if(E!==!1){var z=p[E];this._firingCount&&(z.fn=m,this._events[r]=p=p.slice()),p.splice(E,1)}}},fire:function(r,s,f){if(!this.listens(r,f))return this;var p=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var y=this._events[r];if(y){this._firingCount=this._firingCount+1||1;for(var b=0,E=y.length;b<E;b++){var z=y[b],O=z.fn;z.once&&this.off(r,O,z.ctx),O.call(z.ctx||this,p)}this._firingCount--}}return f&&this._propagateEvent(p),this},listens:function(r,s,f,p){typeof r!="string"&&console.warn('"string" type argument expected');var y=s;typeof s!="function"&&(p=!!s,y=void 0,f=void 0);var b=this._events&&this._events[r];if(b&&b.length&&this._listens(r,y,f)!==!1)return!0;if(p){for(var E in this._eventParents)if(this._eventParents[E].listens(r,s,f,p))return!0}return!1},_listens:function(r,s,f){if(!this._events)return!1;var p=this._events[r]||[];if(!s)return!!p.length;f===this&&(f=void 0);for(var y=0,b=p.length;y<b;y++)if(p[y].fn===s&&p[y].ctx===f)return y;return!1},once:function(r,s,f){if(typeof r=="object")for(var p in r)this._on(p,r[p],s,!0);else{r=v(r);for(var y=0,b=r.length;y<b;y++)this._on(r[y],s,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[l(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[l(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};W.addEventListener=W.on,W.removeEventListener=W.clearAllEventListeners=W.off,W.addOneTimeEventListener=W.once,W.fireEvent=W.fire,W.hasEventListeners=W.listens;var Q=Y.extend(W);function q(r,s,f){this.x=f?Math.round(r):r,this.y=f?Math.round(s):s}var et=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(r){return this.clone()._add(D(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(D(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new q(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new q(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=et(this.x),this.y=et(this.y),this},distanceTo:function(r){r=D(r);var s=r.x-this.x,f=r.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(r){return r=D(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=D(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function D(r,s,f){return r instanceof q?r:S(r)?new q(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new q(r.x,r.y):new q(r,s,f)}function F(r,s){if(r)for(var f=s?[r,s]:r,p=0,y=f.length;p<y;p++)this.extend(f[p])}F.prototype={extend:function(r){var s,f;if(!r)return this;if(r instanceof q||typeof r[0]=="number"||"x"in r)s=f=D(r);else if(r=G(r),s=r.min,f=r.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,f;return typeof r[0]=="number"||r instanceof q?r=D(r):r=G(r),r instanceof F?(s=r.min,f=r.max):s=f=r,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=G(r);var s=this.min,f=this.max,p=r.min,y=r.max,b=y.x>=s.x&&p.x<=f.x,E=y.y>=s.y&&p.y<=f.y;return b&&E},overlaps:function(r){r=G(r);var s=this.min,f=this.max,p=r.min,y=r.max,b=y.x>s.x&&p.x<f.x,E=y.y>s.y&&p.y<f.y;return b&&E},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,f=this.max,p=Math.abs(s.x-f.x)*r,y=Math.abs(s.y-f.y)*r;return G(D(s.x-p,s.y-y),D(f.x+p,f.y+y))},equals:function(r){return r?(r=G(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function G(r,s){return!r||r instanceof F?r:new F(r,s)}function K(r,s){if(r)for(var f=s?[r,s]:r,p=0,y=f.length;p<y;p++)this.extend(f[p])}K.prototype={extend:function(r){var s=this._southWest,f=this._northEast,p,y;if(r instanceof nt)p=r,y=r;else if(r instanceof K){if(p=r._southWest,y=r._northEast,!p||!y)return this}else return r?this.extend(J(r)||at(r)):this;return!s&&!f?(this._southWest=new nt(p.lat,p.lng),this._northEast=new nt(y.lat,y.lng)):(s.lat=Math.min(p.lat,s.lat),s.lng=Math.min(p.lng,s.lng),f.lat=Math.max(y.lat,f.lat),f.lng=Math.max(y.lng,f.lng)),this},pad:function(r){var s=this._southWest,f=this._northEast,p=Math.abs(s.lat-f.lat)*r,y=Math.abs(s.lng-f.lng)*r;return new K(new nt(s.lat-p,s.lng-y),new nt(f.lat+p,f.lng+y))},getCenter:function(){return new nt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new nt(this.getNorth(),this.getWest())},getSouthEast:function(){return new nt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof nt||"lat"in r?r=J(r):r=at(r);var s=this._southWest,f=this._northEast,p,y;return r instanceof K?(p=r.getSouthWest(),y=r.getNorthEast()):p=y=r,p.lat>=s.lat&&y.lat<=f.lat&&p.lng>=s.lng&&y.lng<=f.lng},intersects:function(r){r=at(r);var s=this._southWest,f=this._northEast,p=r.getSouthWest(),y=r.getNorthEast(),b=y.lat>=s.lat&&p.lat<=f.lat,E=y.lng>=s.lng&&p.lng<=f.lng;return b&&E},overlaps:function(r){r=at(r);var s=this._southWest,f=this._northEast,p=r.getSouthWest(),y=r.getNorthEast(),b=y.lat>s.lat&&p.lat<f.lat,E=y.lng>s.lng&&p.lng<f.lng;return b&&E},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=at(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function at(r,s){return r instanceof K?r:new K(r,s)}function nt(r,s,f){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,f!==void 0&&(this.alt=+f)}nt.prototype={equals:function(r,s){if(!r)return!1;r=J(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+g(this.lat,r)+", "+g(this.lng,r)+")"},distanceTo:function(r){return st.distance(this,J(r))},wrap:function(){return st.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,f=s/Math.cos(Math.PI/180*this.lat);return at([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new nt(this.lat,this.lng,this.alt)}};function J(r,s,f){return r instanceof nt?r:S(r)&&typeof r[0]!="object"?r.length===3?new nt(r[0],r[1],r[2]):r.length===2?new nt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new nt(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new nt(r,s,f)}var j={latLngToPoint:function(r,s){var f=this.projection.project(r),p=this.scale(s);return this.transformation._transform(f,p)},pointToLatLng:function(r,s){var f=this.scale(s),p=this.transformation.untransform(r,f);return this.projection.unproject(p)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(r),p=this.transformation.transform(s.min,f),y=this.transformation.transform(s.max,f);return new F(p,y)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?d(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?d(r.lat,this.wrapLat,!0):r.lat,p=r.alt;return new nt(f,s,p)},wrapLatLngBounds:function(r){var s=r.getCenter(),f=this.wrapLatLng(s),p=s.lat-f.lat,y=s.lng-f.lng;if(p===0&&y===0)return r;var b=r.getSouthWest(),E=r.getNorthEast(),z=new nt(b.lat-p,b.lng-y),O=new nt(E.lat-p,E.lng-y);return new K(z,O)}},st=o({},j,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var f=Math.PI/180,p=r.lat*f,y=s.lat*f,b=Math.sin((s.lat-r.lat)*f/2),E=Math.sin((s.lng-r.lng)*f/2),z=b*b+Math.cos(p)*Math.cos(y)*E*E,O=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*O}}),U=6378137,tt={R:U,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,f=this.MAX_LATITUDE,p=Math.max(Math.min(f,r.lat),-f),y=Math.sin(p*s);return new q(this.R*r.lng*s,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var s=180/Math.PI;return new nt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=U*Math.PI;return new F([-r,-r],[r,r])}()};function ot(r,s,f,p){if(S(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=f,this._d=p}ot.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new q((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function Z(r,s,f,p){return new ot(r,s,f,p)}var _t=o({},st,{code:"EPSG:3857",projection:tt,transformation:function(){var r=.5/(Math.PI*tt.R);return Z(r,.5,-r,.5)}()}),ht=o({},_t,{code:"EPSG:900913"});function Ct(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Et(r,s){var f="",p,y,b,E,z,O;for(p=0,b=r.length;p<b;p++){for(z=r[p],y=0,E=z.length;y<E;y++)O=z[y],f+=(y?"L":"M")+O.x+" "+O.y;f+=s?ct.svg?"z":"x":""}return f||"M0 0"}var ut=document.documentElement.style,Nt="ActiveXObject"in window,en=Nt&&!document.addEventListener,ve="msLaunchUri"in navigator&&!("documentMode"in document),$r=nn("webkit"),Bl=nn("android"),Rl=nn("android 2")||nn("android 3"),av=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),sv=Bl&&nn("Google")&&av<537&&!("AudioNode"in window),hu=!!window.opera,Zl=!ve&&nn("chrome"),Fl=nn("gecko")&&!$r&&!hu&&!Nt,uv=!Zl&&nn("safari"),Ul=nn("phantom"),Hl="OTransition"in ut,fv=navigator.platform.indexOf("Win")===0,Wl=Nt&&"transition"in ut,du="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Rl,ql="MozPerspective"in ut,cv=!window.L_DISABLE_3D&&(Wl||du||ql)&&!Hl&&!Ul,zr=typeof orientation<"u"||nn("mobile"),lv=zr&&$r,hv=zr&&du,Vl=!window.PointerEvent&&window.MSPointerEvent,Yl=!!(window.PointerEvent||Vl),Gl="ontouchstart"in window||!!window.TouchEvent,dv=!window.L_NO_TOUCH&&(Gl||Yl),pv=zr&&hu,mv=zr&&Fl,gv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,_v=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",m,s),window.removeEventListener("testPassiveEventSupport",m,s)}catch{}return r}(),yv=function(){return!!document.createElement("canvas").getContext}(),pu=!!(document.createElementNS&&Ct("svg").createSVGRect),vv=!!pu&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),bv=!pu&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),wv=navigator.platform.indexOf("Mac")===0,xv=navigator.platform.indexOf("Linux")===0;function nn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var ct={ie:Nt,ielt9:en,edge:ve,webkit:$r,android:Bl,android23:Rl,androidStock:sv,opera:hu,chrome:Zl,gecko:Fl,safari:uv,phantom:Ul,opera12:Hl,win:fv,ie3d:Wl,webkit3d:du,gecko3d:ql,any3d:cv,mobile:zr,mobileWebkit:lv,mobileWebkit3d:hv,msPointer:Vl,pointer:Yl,touch:dv,touchNative:Gl,mobileOpera:pv,mobileGecko:mv,retina:gv,passiveEvents:_v,canvas:yv,svg:pu,vml:bv,inlineSvg:vv,mac:wv,linux:xv},Xl=ct.msPointer?"MSPointerDown":"pointerdown",jl=ct.msPointer?"MSPointerMove":"pointermove",Kl=ct.msPointer?"MSPointerUp":"pointerup",Jl=ct.msPointer?"MSPointerCancel":"pointercancel",mu={touchstart:Xl,touchmove:jl,touchend:Kl,touchcancel:Jl},Ql={touchstart:kv,touchmove:Qo,touchend:Qo,touchcancel:Qo},Zi={},th=!1;function Mv(r,s,f){return s==="touchstart"&&Pv(),Ql[s]?(f=Ql[s].bind(this,f),r.addEventListener(mu[s],f,!1),f):(console.warn("wrong event specified:",s),m)}function Tv(r,s,f){if(!mu[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(mu[s],f,!1)}function Lv(r){Zi[r.pointerId]=r}function Sv(r){Zi[r.pointerId]&&(Zi[r.pointerId]=r)}function eh(r){delete Zi[r.pointerId]}function Pv(){th||(document.addEventListener(Xl,Lv,!0),document.addEventListener(jl,Sv,!0),document.addEventListener(Kl,eh,!0),document.addEventListener(Jl,eh,!0),th=!0)}function Qo(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in Zi)s.touches.push(Zi[f]);s.changedTouches=[s],r(s)}}function kv(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&te(s),Qo(r,s)}function Cv(r){var s={},f,p;for(p in r)f=r[p],s[p]=f&&f.bind?f.bind(r):f;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Ev=200;function Av(r,s){r.addEventListener("dblclick",s);var f=0,p;function y(b){if(b.detail!==1){p=b.detail;return}if(!(b.pointerType==="mouse"||b.sourceCapabilities&&!b.sourceCapabilities.firesTouchEvents)){var E=ah(b);if(!(E.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!E.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var z=Date.now();z-f<=Ev?(p++,p===2&&s(Cv(b))):p=1,f=z}}}return r.addEventListener("click",y),{dblclick:s,simDblclick:y}}function $v(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var gu=na(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Nr=na(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nh=Nr==="webkitTransition"||Nr==="OTransition"?Nr+"End":"transitionend";function ih(r){return typeof r=="string"?document.getElementById(r):r}function Ir(r,s){var f=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(r,null);f=p?p[s]:null}return f==="auto"?null:f}function At(r,s,f){var p=document.createElement(r);return p.className=s||"",f&&f.appendChild(p),p}function Bt(r){var s=r.parentNode;s&&s.removeChild(r)}function ta(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Fi(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function Ui(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function _u(r,s){if(r.classList!==void 0)return r.classList.contains(s);var f=ea(r);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function wt(r,s){if(r.classList!==void 0)for(var f=v(s),p=0,y=f.length;p<y;p++)r.classList.add(f[p]);else if(!_u(r,s)){var b=ea(r);yu(r,(b?b+" ":"")+s)}}function Ht(r,s){r.classList!==void 0?r.classList.remove(s):yu(r,_((" "+ea(r)+" ").replace(" "+s+" "," ")))}function yu(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function ea(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ce(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&zv(r,s)}function zv(r,s){var f=!1,p="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(p)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):r.style.filter+=" progid:"+p+"(opacity="+s+")"}function na(r){for(var s=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in s)return r[f];return!1}function ii(r,s,f){var p=s||new q(0,0);r.style[gu]=(ct.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(f?" scale("+f+")":"")}function Wt(r,s){r._leaflet_pos=s,ct.any3d?ii(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function ri(r){return r._leaflet_pos||new q(0,0)}var Or,Dr,vu;if("onselectstart"in document)Or=function(){mt(window,"selectstart",te)},Dr=function(){Dt(window,"selectstart",te)};else{var Br=na(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Or=function(){if(Br){var r=document.documentElement.style;vu=r[Br],r[Br]="none"}},Dr=function(){Br&&(document.documentElement.style[Br]=vu,vu=void 0)}}function bu(){mt(window,"dragstart",te)}function wu(){Dt(window,"dragstart",te)}var ia,xu;function Mu(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(ra(),ia=r,xu=r.style.outlineStyle,r.style.outlineStyle="none",mt(window,"keydown",ra))}function ra(){ia&&(ia.style.outlineStyle=xu,ia=void 0,xu=void 0,Dt(window,"keydown",ra))}function rh(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Tu(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Nv={__proto__:null,TRANSFORM:gu,TRANSITION:Nr,TRANSITION_END:nh,get:ih,getStyle:Ir,create:At,remove:Bt,empty:ta,toFront:Fi,toBack:Ui,hasClass:_u,addClass:wt,removeClass:Ht,setClass:yu,getClass:ea,setOpacity:Ce,testProp:na,setTransform:ii,setPosition:Wt,getPosition:ri,get disableTextSelection(){return Or},get enableTextSelection(){return Dr},disableImageDrag:bu,enableImageDrag:wu,preventOutline:Mu,restoreOutline:ra,getSizedParentNode:rh,getScale:Tu};function mt(r,s,f,p){if(s&&typeof s=="object")for(var y in s)Su(r,y,s[y],f);else{s=v(s);for(var b=0,E=s.length;b<E;b++)Su(r,s[b],f,p)}return this}var rn="_leaflet_events";function Dt(r,s,f,p){if(arguments.length===1)oh(r),delete r[rn];else if(s&&typeof s=="object")for(var y in s)Pu(r,y,s[y],f);else if(s=v(s),arguments.length===2)oh(r,function(z){return M(s,z)!==-1});else for(var b=0,E=s.length;b<E;b++)Pu(r,s[b],f,p);return this}function oh(r,s){for(var f in r[rn]){var p=f.split(/\d/)[0];(!s||s(p))&&Pu(r,p,null,null,f)}}var Lu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Su(r,s,f,p){var y=s+l(f)+(p?"_"+l(p):"");if(r[rn]&&r[rn][y])return this;var b=function(z){return f.call(p||r,z||window.event)},E=b;!ct.touchNative&&ct.pointer&&s.indexOf("touch")===0?b=Mv(r,s,b):ct.touch&&s==="dblclick"?b=Av(r,b):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Lu[s]||s,b,ct.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(b=function(z){z=z||window.event,Cu(r,z)&&E(z)},r.addEventListener(Lu[s],b,!1)):r.addEventListener(s,E,!1):r.attachEvent("on"+s,b),r[rn]=r[rn]||{},r[rn][y]=b}function Pu(r,s,f,p,y){y=y||s+l(f)+(p?"_"+l(p):"");var b=r[rn]&&r[rn][y];if(!b)return this;!ct.touchNative&&ct.pointer&&s.indexOf("touch")===0?Tv(r,s,b):ct.touch&&s==="dblclick"?$v(r,b):"removeEventListener"in r?r.removeEventListener(Lu[s]||s,b,!1):r.detachEvent("on"+s,b),r[rn][y]=null}function oi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function ku(r){return Su(r,"wheel",oi),this}function Rr(r){return mt(r,"mousedown touchstart dblclick contextmenu",oi),r._leaflet_disable_click=!0,this}function te(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ai(r){return te(r),oi(r),this}function ah(r){if(r.composedPath)return r.composedPath();for(var s=[],f=r.target;f;)s.push(f),f=f.parentNode;return s}function sh(r,s){if(!s)return new q(r.clientX,r.clientY);var f=Tu(s),p=f.boundingClientRect;return new q((r.clientX-p.left)/f.x-s.clientLeft,(r.clientY-p.top)/f.y-s.clientTop)}var Iv=ct.linux&&ct.chrome?window.devicePixelRatio:ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function uh(r){return ct.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Iv:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Cu(r,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Ov={__proto__:null,on:mt,off:Dt,stopPropagation:oi,disableScrollPropagation:ku,disableClickPropagation:Rr,preventDefault:te,stop:ai,getPropagationPath:ah,getMousePosition:sh,getWheelDelta:uh,isExternalTarget:Cu,addListener:mt,removeListener:Dt},fh=Q.extend({run:function(r,s,f,p){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=ri(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var f=this._startPos.add(this._offset.multiplyBy(r));s&&f._round(),Wt(this._el,f),this.fire("step")},_complete:function(){H(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),St=Q.extend({options:{crs:_t,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=w(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(J(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Nr&&ct.any3d&&!ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,nh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(J(r),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=o({animate:f.animate},f.zoom),f.pan=o({animate:f.animate,duration:f.duration},f.pan));var p=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,f.zoom):this._tryAnimatedPan(r,f.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,f){var p=this.getZoomScale(s),y=this.getSize().divideBy(2),b=r instanceof q?r:this.latLngToContainerPoint(r),E=b.subtract(y).multiplyBy(1-1/p),z=this.containerPointToLatLng(y.add(E));return this.setView(z,s,{zoom:f})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():at(r);var f=D(s.paddingTopLeft||s.padding||[0,0]),p=D(s.paddingBottomRight||s.padding||[0,0]),y=this.getBoundsZoom(r,!1,f.add(p));if(y=typeof s.maxZoom=="number"?Math.min(s.maxZoom,y):y,y===1/0)return{center:r.getCenter(),zoom:y};var b=p.subtract(f).divideBy(2),E=this.project(r.getSouthWest(),y),z=this.project(r.getNorthEast(),y),O=this.unproject(E.add(z).divideBy(2).add(b),y);return{center:O,zoom:y}},fitBounds:function(r,s){if(r=at(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=D(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){wt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,f){if(f=f||{},f.animate===!1||!ct.any3d)return this.setView(r,s,f);this._stop();var p=this.project(this.getCenter()),y=this.project(r),b=this.getSize(),E=this._zoom;r=J(r),s=s===void 0?E:s;var z=Math.max(b.x,b.y),O=z*this.getZoomScale(E,s),V=y.distanceTo(p)||1,rt=1.42,dt=rt*rt;function Mt(qt){var ga=qt?-1:1,Tb=qt?O:z,Lb=O*O-z*z+ga*dt*dt*V*V,Sb=2*Tb*dt*V,Zu=Lb/Sb,Hh=Math.sqrt(Zu*Zu+1)-Zu,Pb=Hh<1e-9?-18:Math.log(Hh);return Pb}function se(qt){return(Math.exp(qt)-Math.exp(-qt))/2}function Gt(qt){return(Math.exp(qt)+Math.exp(-qt))/2}function Ae(qt){return se(qt)/Gt(qt)}var he=Mt(0);function Gi(qt){return z*(Gt(he)/Gt(he+rt*qt))}function bb(qt){return z*(Gt(he)*Ae(he+rt*qt)-se(he))/dt}function wb(qt){return 1-Math.pow(1-qt,1.5)}var xb=Date.now(),Fh=(Mt(1)-he)/rt,Mb=f.duration?1e3*f.duration:1e3*Fh*.8;function Uh(){var qt=(Date.now()-xb)/Mb,ga=wb(qt)*Fh;qt<=1?(this._flyToFrame=$(Uh,this),this._move(this.unproject(p.add(y.subtract(p).multiplyBy(bb(ga)/V)),E),this.getScaleZoom(z/Gi(ga),E),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Uh.call(this),this},flyToBounds:function(r,s){var f=this._getBoundsCenterZoom(r,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(r){return r=at(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var f=this.getCenter(),p=this._limitCenter(f,this._zoom,at(r));return f.equals(p)||this.panTo(p,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var f=D(s.paddingTopLeft||s.padding||[0,0]),p=D(s.paddingBottomRight||s.padding||[0,0]),y=this.project(this.getCenter()),b=this.project(r),E=this.getPixelBounds(),z=G([E.min.add(f),E.max.subtract(p)]),O=z.getSize();if(!z.contains(b)){this._enforcingBounds=!0;var V=b.subtract(z.getCenter()),rt=z.extend(b).getSize().subtract(O);y.x+=V.x<0?-rt.x:rt.x,y.y+=V.y<0?-rt.y:rt.y,this.panTo(this.unproject(y),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),p=s.divideBy(2).round(),y=f.divideBy(2).round(),b=p.subtract(y);return!b.x&&!b.y?this:(r.animate&&r.pan?this.panBy(b):(r.pan&&this._rawPanBy(b),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),f=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,r):navigator.geolocation.getCurrentPosition(s,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,f=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,f=r.coords.longitude,p=new nt(s,f),y=p.toBounds(r.coords.accuracy*2),b=this._locateOptions;if(b.setView){var E=this.getBoundsZoom(y);this.setView(p,b.maxZoom?Math.min(E,b.maxZoom):E)}var z={latlng:p,bounds:y,timestamp:r.timestamp};for(var O in r.coords)typeof r.coords[O]=="number"&&(z[O]=r.coords[O]);this.fire("locationfound",z)}},addHandler:function(r,s){if(!s)return this;var f=this[r]=new s(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(H(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Bt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),p=At("div",f,s||this._mapPane);return r&&(this._panes[r]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new K(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,f){r=at(r),f=D(f||[0,0]);var p=this.getZoom()||0,y=this.getMinZoom(),b=this.getMaxZoom(),E=r.getNorthWest(),z=r.getSouthEast(),O=this.getSize().subtract(f),V=G(this.project(z,p),this.project(E,p)).getSize(),rt=ct.any3d?this.options.zoomSnap:1,dt=O.x/V.x,Mt=O.y/V.y,se=s?Math.max(dt,Mt):Math.min(dt,Mt);return p=this.getScaleZoom(se,p),rt&&(p=Math.round(p/(rt/100))*(rt/100),p=s?Math.ceil(p/rt)*rt:Math.floor(p/rt)*rt),Math.max(y,Math.min(b,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var f=this._getTopLeftPoint(r,s);return new F(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(r)/f.scale(s)},getScaleZoom:function(r,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var p=f.zoom(r*f.scale(s));return isNaN(p)?1/0:p},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(J(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(D(r),s)},layerPointToLatLng:function(r){var s=D(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(J(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(J(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(at(r))},distance:function(r,s){return this.options.crs.distance(J(r),J(s))},containerPointToLayerPoint:function(r){return D(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return D(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(D(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(r)))},mouseEventToContainerPoint:function(r){return sh(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=ih(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(s,"scroll",this._onScroll,this),this._containerId=l(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&ct.any3d,wt(r,"leaflet-container"+(ct.touch?" leaflet-touch":"")+(ct.retina?" leaflet-retina":"")+(ct.ielt9?" leaflet-oldie":"")+(ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ir(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Wt(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(r.markerPane,"leaflet-zoom-hide"),wt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,f){Wt(this._mapPane,new q(0,0));var p=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var y=this._zoom!==s;this._moveStart(y,f)._move(r,s)._moveEnd(y),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,f,p){s===void 0&&(s=this._zoom);var y=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),p?f&&f.pinch&&this.fire("zoom",f):((y||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return H(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Wt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[l(this._container)]=this;var s=r?Dt:mt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),ct.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){H(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var f=[],p,y=s==="mouseout"||s==="mouseover",b=r.target||r.srcElement,E=!1;b;){if(p=this._targets[l(b)],p&&(s==="click"||s==="preclick")&&this._draggableMoved(p)){E=!0;break}if(p&&p.listens(s,!0)&&(y&&!Cu(b,r)||(f.push(p),y))||b===this._container)break;b=b.parentNode}return!f.length&&!E&&!y&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var f=r.type;f==="mousedown"&&Mu(s),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,f){if(r.type==="click"){var p=o({},r);p.type="preclick",this._fireDOMEvent(p,p.type,f)}var y=this._findEventTargets(r,s);if(f){for(var b=[],E=0;E<f.length;E++)f[E].listens(s,!0)&&b.push(f[E]);y=b.concat(y)}if(y.length){s==="contextmenu"&&te(r);var z=y[0],O={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var V=z.getLatLng&&(!z._radius||z._radius<=10);O.containerPoint=V?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(r),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=V?z.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(E=0;E<y.length;E++)if(y[E].fire(s,O,!0),O.originalEvent._stopped||y[E].options.bubblingMouseEvents===!1&&M(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return ri(this._mapPane)||new q(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var f=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var f=this.getSize()._divideBy(2);return this.project(r,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,f){var p=this._getNewPixelOrigin(f,s);return this.project(r,s)._subtract(p)},_latLngBoundsToNewLayerBounds:function(r,s,f){var p=this._getNewPixelOrigin(f,s);return G([this.project(r.getSouthWest(),s)._subtract(p),this.project(r.getNorthWest(),s)._subtract(p),this.project(r.getSouthEast(),s)._subtract(p),this.project(r.getNorthEast(),s)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,f){if(!f)return r;var p=this.project(r,s),y=this.getSize().divideBy(2),b=new F(p.subtract(y),p.add(y)),E=this._getBoundsOffset(b,f,s);return Math.abs(E.x)<=1&&Math.abs(E.y)<=1?r:this.unproject(p.add(E),s)},_limitOffset:function(r,s){if(!s)return r;var f=this.getPixelBounds(),p=new F(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(p,s))},_getBoundsOffset:function(r,s,f){var p=G(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),y=p.min.subtract(r.min),b=p.max.subtract(r.max),E=this._rebound(y.x,-b.x),z=this._rebound(y.y,-b.y);return new q(E,z)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),f=this.getMaxZoom(),p=ct.any3d?this.options.zoomSnap:1;return p&&(r=Math.round(r/p)*p),Math.max(s,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var f=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var r=this._proxy=At("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var f=gu,p=this._proxy.style[f];ii(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),p===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();ii(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(s),y=this._getCenterOffset(r)._divideBy(1-1/p);return f.animate!==!0&&!this.getSize().contains(y)?!1:($(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,f,p){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dv(r,s){return new St(r,s)}var Ue=Y.extend({options:{position:"topright"},initialize:function(r){w(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),f=this.getPosition(),p=r._controlCorners[f];return wt(s,"leaflet-control"),f.indexOf("bottom")!==-1?p.insertBefore(s,p.firstChild):p.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Zr=function(r){return new Ue(r)};St.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",f=this._controlContainer=At("div",s+"control-container",this._container);function p(y,b){var E=s+y+" "+s+b;r[y+b]=At("div",E,f)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Bt(this._controlCorners[r]);Bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ch=Ue.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,f,p){return f<p?-1:p<f?1:0}},initialize:function(r,s,f){w(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in r)this._addLayer(r[p],p);for(p in s)this._addLayer(s[p],p,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ue.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(l(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=At("div",r),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Rr(s),ku(s);var p=this._section=At("section",r+"-list");f&&(this._map.on("click",this.collapse,this),mt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=At("a",r+"-toggle",s);y.href="#",y.title="Layers",y.setAttribute("role","button"),mt(y,{keydown:function(b){b.keyCode===13&&this._expandSafely()},click:function(b){te(b),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=At("div",r+"-base",p),this._separator=At("div",r+"-separator",p),this._overlaysList=At("div",r+"-overlays",p),s.appendChild(p)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&l(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(u(function(p,y){return this.options.sortFunction(p.layer,y.layer,p.name,y.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ta(this._baseLayersList),ta(this._overlaysList),this._layerControlInputs=[];var r,s,f,p,y=0;for(f=0;f<this._layers.length;f++)p=this._layers[f],this._addItem(p),s=s||p.overlay,r=r||!p.overlay,y+=p.overlay?0:1;return this.options.hideSingleBase&&(r=r&&y>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(l(r.target)),f=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(r,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=f,p.firstChild},_addItem:function(r){var s=document.createElement("label"),f=this._map.hasLayer(r.layer),p;r.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=f):p=this._createRadioElement("leaflet-base-layers_"+l(this),f),this._layerControlInputs.push(p),p.layerId=l(r.layer),mt(p,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+r.name;var b=document.createElement("span");s.appendChild(b),b.appendChild(p),b.appendChild(y);var E=r.overlay?this._overlaysList:this._baseLayersList;return E.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,f,p=[],y=[];this._handlingClick=!0;for(var b=r.length-1;b>=0;b--)s=r[b],f=this._getLayer(s.layerId).layer,s.checked?p.push(f):s.checked||y.push(f);for(b=0;b<y.length;b++)this._map.hasLayer(y[b])&&this._map.removeLayer(y[b]);for(b=0;b<p.length;b++)this._map.hasLayer(p[b])||this._map.addLayer(p[b]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,f,p=this._map.getZoom(),y=r.length-1;y>=0;y--)s=r[y],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&p<f.options.minZoom||f.options.maxZoom!==void 0&&p>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,mt(r,"click",te),this.expand();var s=this;setTimeout(function(){Dt(r,"click",te),s._preventClick=!1})}}),Bv=function(r,s,f){return new ch(r,s,f)},Eu=Ue.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",f=At("div",s+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,f,p,y){var b=At("a",f,p);return b.innerHTML=r,b.href="#",b.title=s,b.setAttribute("role","button"),b.setAttribute("aria-label",s),Rr(b),mt(b,"click",ai),mt(b,"click",y,this),mt(b,"click",this._refocusOnMap,this),b},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Ht(this._zoomInButton,s),Ht(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(wt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(wt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});St.mergeOptions({zoomControl:!0}),St.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Eu,this.addControl(this.zoomControl))});var Rv=function(r){return new Eu(r)},lh=Ue.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",f=At("div",s),p=this.options;return this._addScales(p,s+"-line",f),r.on(p.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,f){r.metric&&(this._mScale=At("div",s,f)),r.imperial&&(this._iScale=At("div",s,f))},_update:function(){var r=this._map,s=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/r)},_updateImperial:function(r){var s=r*3.2808399,f,p,y;s>5280?(f=s/5280,p=this._getRoundNum(f),this._updateScale(this._iScale,p+" mi",p/f)):(y=this._getRoundNum(s),this._updateScale(this._iScale,y+" ft",y/s))},_updateScale:function(r,s,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),f=r/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),Zv=function(r){return new lh(r)},Fv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Au=Ue.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ct.inlineSvg?Fv+" ":"")+"Leaflet</a>"},initialize:function(r){w(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=At("div","leaflet-control-attribution"),Rr(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});St.mergeOptions({attributionControl:!0}),St.addInitHook(function(){this.options.attributionControl&&new Au().addTo(this)});var Uv=function(r){return new Au(r)};Ue.Layers=ch,Ue.Zoom=Eu,Ue.Scale=lh,Ue.Attribution=Au,Zr.layers=Bv,Zr.zoom=Rv,Zr.scale=Zv,Zr.attribution=Uv;var on=Y.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});on.addTo=function(r,s){return r.addHandler(s,this),this};var Hv={Events:W},hh=ct.touch?"touchstart mousedown":"mousedown",Hn=Q.extend({options:{clickTolerance:3},initialize:function(r,s,f,p){w(this,p),this._element=r,this._dragStartTarget=s||r,this._preventOutline=f},enable:function(){this._enabled||(mt(this._dragStartTarget,hh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Hn._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,hh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!_u(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Hn._dragging===this&&this.finishDrag();return}if(!(Hn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Hn._dragging=this,this._preventOutline&&Mu(this._element),bu(),Or(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,f=rh(this._element);this._startPoint=new q(s.clientX,s.clientY),this._startPos=ri(this._element),this._parentScale=Tu(f);var p=r.type==="mousedown";mt(document,p?"mousemove":"touchmove",this._onMove,this),mt(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,f=new q(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,te(r),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Wt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Ht(document.body,"leaflet-dragging"),this._lastTarget&&(Ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),wu(),Dr();var s=this._moved&&this._moving;this._moving=!1,Hn._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function dh(r,s,f){var p,y=[1,4,2,8],b,E,z,O,V,rt,dt,Mt;for(b=0,rt=r.length;b<rt;b++)r[b]._code=si(r[b],s);for(z=0;z<4;z++){for(dt=y[z],p=[],b=0,rt=r.length,E=rt-1;b<rt;E=b++)O=r[b],V=r[E],O._code&dt?V._code&dt||(Mt=oa(V,O,dt,s,f),Mt._code=si(Mt,s),p.push(Mt)):(V._code&dt&&(Mt=oa(V,O,dt,s,f),Mt._code=si(Mt,s),p.push(Mt)),p.push(O));r=p}return r}function ph(r,s){var f,p,y,b,E,z,O,V,rt;if(!r||r.length===0)throw new Error("latlngs not passed");Ee(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var dt=J([0,0]),Mt=at(r),se=Mt.getNorthWest().distanceTo(Mt.getSouthWest())*Mt.getNorthEast().distanceTo(Mt.getNorthWest());se<1700&&(dt=$u(r));var Gt=r.length,Ae=[];for(f=0;f<Gt;f++){var he=J(r[f]);Ae.push(s.project(J([he.lat-dt.lat,he.lng-dt.lng])))}for(z=O=V=0,f=0,p=Gt-1;f<Gt;p=f++)y=Ae[f],b=Ae[p],E=y.y*b.x-b.y*y.x,O+=(y.x+b.x)*E,V+=(y.y+b.y)*E,z+=E*3;z===0?rt=Ae[0]:rt=[O/z,V/z];var Gi=s.unproject(D(rt));return J([Gi.lat+dt.lat,Gi.lng+dt.lng])}function $u(r){for(var s=0,f=0,p=0,y=0;y<r.length;y++){var b=J(r[y]);s+=b.lat,f+=b.lng,p++}return J([s/p,f/p])}var Wv={__proto__:null,clipPolygon:dh,polygonCenter:ph,centroid:$u};function mh(r,s){if(!s||!r.length)return r.slice();var f=s*s;return r=Yv(r,f),r=Vv(r,f),r}function gh(r,s,f){return Math.sqrt(Fr(r,s,f,!0))}function qv(r,s,f){return Fr(r,s,f)}function Vv(r,s){var f=r.length,p=typeof Uint8Array!=void 0+""?Uint8Array:Array,y=new p(f);y[0]=y[f-1]=1,zu(r,y,s,0,f-1);var b,E=[];for(b=0;b<f;b++)y[b]&&E.push(r[b]);return E}function zu(r,s,f,p,y){var b=0,E,z,O;for(z=p+1;z<=y-1;z++)O=Fr(r[z],r[p],r[y],!0),O>b&&(E=z,b=O);b>f&&(s[E]=1,zu(r,s,f,p,E),zu(r,s,f,E,y))}function Yv(r,s){for(var f=[r[0]],p=1,y=0,b=r.length;p<b;p++)Gv(r[p],r[y])>s&&(f.push(r[p]),y=p);return y<b-1&&f.push(r[b-1]),f}var _h;function yh(r,s,f,p,y){var b=p?_h:si(r,f),E=si(s,f),z,O,V;for(_h=E;;){if(!(b|E))return[r,s];if(b&E)return!1;z=b||E,O=oa(r,s,z,f,y),V=si(O,f),z===b?(r=O,b=V):(s=O,E=V)}}function oa(r,s,f,p,y){var b=s.x-r.x,E=s.y-r.y,z=p.min,O=p.max,V,rt;return f&8?(V=r.x+b*(O.y-r.y)/E,rt=O.y):f&4?(V=r.x+b*(z.y-r.y)/E,rt=z.y):f&2?(V=O.x,rt=r.y+E*(O.x-r.x)/b):f&1&&(V=z.x,rt=r.y+E*(z.x-r.x)/b),new q(V,rt,y)}function si(r,s){var f=0;return r.x<s.min.x?f|=1:r.x>s.max.x&&(f|=2),r.y<s.min.y?f|=4:r.y>s.max.y&&(f|=8),f}function Gv(r,s){var f=s.x-r.x,p=s.y-r.y;return f*f+p*p}function Fr(r,s,f,p){var y=s.x,b=s.y,E=f.x-y,z=f.y-b,O=E*E+z*z,V;return O>0&&(V=((r.x-y)*E+(r.y-b)*z)/O,V>1?(y=f.x,b=f.y):V>0&&(y+=E*V,b+=z*V)),E=r.x-y,z=r.y-b,p?E*E+z*z:new q(y,b)}function Ee(r){return!S(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function vh(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ee(r)}function bh(r,s){var f,p,y,b,E,z,O,V;if(!r||r.length===0)throw new Error("latlngs not passed");Ee(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var rt=J([0,0]),dt=at(r),Mt=dt.getNorthWest().distanceTo(dt.getSouthWest())*dt.getNorthEast().distanceTo(dt.getNorthWest());Mt<1700&&(rt=$u(r));var se=r.length,Gt=[];for(f=0;f<se;f++){var Ae=J(r[f]);Gt.push(s.project(J([Ae.lat-rt.lat,Ae.lng-rt.lng])))}for(f=0,p=0;f<se-1;f++)p+=Gt[f].distanceTo(Gt[f+1])/2;if(p===0)V=Gt[0];else for(f=0,b=0;f<se-1;f++)if(E=Gt[f],z=Gt[f+1],y=E.distanceTo(z),b+=y,b>p){O=(b-p)/y,V=[z.x-O*(z.x-E.x),z.y-O*(z.y-E.y)];break}var he=s.unproject(D(V));return J([he.lat+rt.lat,he.lng+rt.lng])}var Xv={__proto__:null,simplify:mh,pointToSegmentDistance:gh,closestPointOnSegment:qv,clipSegment:yh,_getEdgeIntersection:oa,_getBitCode:si,_sqClosestPointOnSegment:Fr,isFlat:Ee,_flat:vh,polylineCenter:bh},Nu={project:function(r){return new q(r.lng,r.lat)},unproject:function(r){return new nt(r.y,r.x)},bounds:new F([-180,-90],[180,90])},Iu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new F([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,f=this.R,p=r.lat*s,y=this.R_MINOR/f,b=Math.sqrt(1-y*y),E=b*Math.sin(p),z=Math.tan(Math.PI/4-p/2)/Math.pow((1-E)/(1+E),b/2);return p=-f*Math.log(Math.max(z,1e-10)),new q(r.lng*s*f,p)},unproject:function(r){for(var s=180/Math.PI,f=this.R,p=this.R_MINOR/f,y=Math.sqrt(1-p*p),b=Math.exp(-r.y/f),E=Math.PI/2-2*Math.atan(b),z=0,O=.1,V;z<15&&Math.abs(O)>1e-7;z++)V=y*Math.sin(E),V=Math.pow((1-V)/(1+V),y/2),O=Math.PI/2-2*Math.atan(b*V)-E,E+=O;return new nt(E*s,r.x*s/f)}},jv={__proto__:null,LonLat:Nu,Mercator:Iu,SphericalMercator:tt},Kv=o({},st,{code:"EPSG:3395",projection:Iu,transformation:function(){var r=.5/(Math.PI*Iu.R);return Z(r,.5,-r,.5)}()}),wh=o({},st,{code:"EPSG:4326",projection:Nu,transformation:Z(1/180,1,-1/180,.5)}),Jv=o({},j,{projection:Nu,transformation:Z(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var f=s.lng-r.lng,p=s.lat-r.lat;return Math.sqrt(f*f+p*p)},infinite:!0});j.Earth=st,j.EPSG3395=Kv,j.EPSG3857=_t,j.EPSG900913=ht,j.EPSG4326=wh,j.Simple=Jv;var He=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[l(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[l(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});St.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=l(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=l(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return l(r)in this._layers},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},_addLayers:function(r){r=r?S(r)?r:[r]:[];for(var s=0,f=r.length;s<f;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[l(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=l(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,f=this._getZoomSpan();for(var p in this._zoomBoundLayers){var y=this._zoomBoundLayers[p].options;r=y.minZoom===void 0?r:Math.min(r,y.minZoom),s=y.maxZoom===void 0?s:Math.max(s,y.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hi=He.extend({initialize:function(r,s){w(this,s),this._layers={};var f,p;if(r)for(f=0,p=r.length;f<p;f++)this.addLayer(r[f])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),f,p;for(f in this._layers)p=this._layers[f],p[r]&&p[r].apply(p,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return l(r)}}),Qv=function(r,s){return new Hi(r,s)},wn=Hi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Hi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Hi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new K;for(var s in this._layers){var f=this._layers[s];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),tb=function(r,s){return new wn(r,s)},Wi=Y.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){w(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(p,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(r,s){var f=this.options,p=f[s+"Size"];typeof p=="number"&&(p=[p,p]);var y=D(p),b=D(s==="shadow"&&f.shadowAnchor||f.iconAnchor||y&&y.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(f.className||""),b&&(r.style.marginLeft=-b.x+"px",r.style.marginTop=-b.y+"px"),y&&(r.style.width=y.x+"px",r.style.height=y.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return ct.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function eb(r){return new Wi(r)}var Ur=Wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Ur.imagePath!="string"&&(Ur.imagePath=this._detectIconPath()),(this.options.imagePath||Ur.imagePath)+Wi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(f,p,y){var b=p.exec(f);return b&&b[y]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=At("div","leaflet-default-icon-path",document.body),s=Ir(r,"background-image")||Ir(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),xh=on.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Hn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,f=s._map,p=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,b=ri(s._icon),E=f.getPixelBounds(),z=f.getPixelOrigin(),O=G(E.min._subtract(z).add(y),E.max._subtract(z).subtract(y));if(!O.contains(b)){var V=D((Math.max(O.max.x,b.x)-O.max.x)/(E.max.x-O.max.x)-(Math.min(O.min.x,b.x)-O.min.x)/(E.min.x-O.min.x),(Math.max(O.max.y,b.y)-O.max.y)/(E.max.y-O.max.y)-(Math.min(O.min.y,b.y)-O.min.y)/(E.min.y-O.min.y)).multiplyBy(p);f.panBy(V,{animate:!1}),this._draggable._newPos._add(V),this._draggable._startPos._add(V),Wt(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=$(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(H(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,f=s._shadow,p=ri(s._icon),y=s._map.layerPointToLatLng(p);f&&Wt(f,p),s._latlng=y,r.latlng=y,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){H(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),aa=He.extend({options:{icon:new Ur,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){w(this,s),this._latlng=J(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=J(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),p=!1;f!==this._icon&&(this._icon&&this._removeIcon(),p=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),wt(f,s),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(f,"focus",this._panOnFocus,this);var y=r.icon.createShadow(this._shadow),b=!1;y!==this._shadow&&(this._removeShadow(),b=!0),y&&(wt(y,s),y.alt=""),this._shadow=y,r.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&b&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Bt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Wt(this._icon,r),this._shadow&&Wt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xh)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xh(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ce(this._icon,r),this._shadow&&Ce(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,f=s.iconSize?D(s.iconSize):D(0,0),p=s.iconAnchor?D(s.iconAnchor):D(0,0);r.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:f.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function nb(r,s){return new aa(r,s)}var Wn=He.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return w(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),sa=Wn.extend({options:{fill:!0,radius:10},initialize:function(r,s){w(this,s),this._latlng=J(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=J(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return Wn.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,f=this._clickTolerance(),p=[r+f,s+f];this._pxBounds=new F(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ib(r,s){return new sa(r,s)}var Ou=sa.extend({initialize:function(r,s,f){if(typeof s=="number"&&(s=o({},f,{radius:s})),w(this,s),this._latlng=J(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Wn.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,f=this._map,p=f.options.crs;if(p.distance===st.distance){var y=Math.PI/180,b=this._mRadius/st.R/y,E=f.project([s+b,r]),z=f.project([s-b,r]),O=E.add(z).divideBy(2),V=f.unproject(O).lat,rt=Math.acos((Math.cos(b*y)-Math.sin(s*y)*Math.sin(V*y))/(Math.cos(s*y)*Math.cos(V*y)))/y;(isNaN(rt)||rt===0)&&(rt=b/Math.cos(Math.PI/180*s)),this._point=O.subtract(f.getPixelOrigin()),this._radius=isNaN(rt)?0:O.x-f.project([V,r-rt]).x,this._radiusY=O.y-E.y}else{var dt=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(dt).x}this._updateBounds()}});function rb(r,s,f){return new Ou(r,s,f)}var xn=Wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){w(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,f=null,p=Fr,y,b,E=0,z=this._parts.length;E<z;E++)for(var O=this._parts[E],V=1,rt=O.length;V<rt;V++){y=O[V-1],b=O[V];var dt=p(r,y,b,!0);dt<s&&(s=dt,f=p(r,y,b))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=J(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new K,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ee(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],f=Ee(r),p=0,y=r.length;p<y;p++)f?(s[p]=J(r[p]),this._bounds.extend(s[p])):s[p]=this._convertLatLngs(r[p]);return s},_project:function(){var r=new F;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new q(r,r);this._rawPxBounds&&(this._pxBounds=new F([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,f){var p=r[0]instanceof nt,y=r.length,b,E;if(p){for(E=[],b=0;b<y;b++)E[b]=this._map.latLngToLayerPoint(r[b]),f.extend(E[b]);s.push(E)}else for(b=0;b<y;b++)this._projectLatlngs(r[b],s,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,p,y,b,E,z,O;for(f=0,y=0,b=this._rings.length;f<b;f++)for(O=this._rings[f],p=0,E=O.length;p<E-1;p++)z=yh(O[p],O[p+1],r,p,!0),z&&(s[y]=s[y]||[],s[y].push(z[0]),(z[1]!==O[p+1]||p===E-2)&&(s[y].push(z[1]),y++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,f=0,p=r.length;f<p;f++)r[f]=mh(r[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var f,p,y,b,E,z,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,b=this._parts.length;f<b;f++)for(z=this._parts[f],p=0,E=z.length,y=E-1;p<E;y=p++)if(!(!s&&p===0)&&gh(r,z[y],z[p])<=O)return!0;return!1}});function ob(r,s){return new xn(r,s)}xn._flat=vh;var qi=xn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ph(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=xn.prototype._convertLatLngs.call(this,r),f=s.length;return f>=2&&s[0]instanceof nt&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(r){xn.prototype._setLatLngs.call(this,r),Ee(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ee(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,f=new q(s,s);if(r=new F(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,y=this._rings.length,b;p<y;p++)b=dh(this._rings[p],r,!0),b.length&&this._parts.push(b)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,f,p,y,b,E,z,O,V;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(b=0,O=this._parts.length;b<O;b++)for(f=this._parts[b],E=0,V=f.length,z=V-1;E<V;z=E++)p=f[E],y=f[z],p.y>r.y!=y.y>r.y&&r.x<(y.x-p.x)*(r.y-p.y)/(y.y-p.y)+p.x&&(s=!s);return s||xn.prototype._containsPoint.call(this,r,!0)}});function ab(r,s){return new qi(r,s)}var Mn=wn.extend({initialize:function(r,s){w(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=S(r)?r:r.features,f,p,y;if(s){for(f=0,p=s.length;f<p;f++)y=s[f],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var b=this.options;if(b.filter&&!b.filter(r))return this;var E=ua(r,b);return E?(E.feature=la(r),E.defaultOptions=E.options,this.resetStyle(E),b.onEachFeature&&b.onEachFeature(r,E),this.addLayer(E)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function ua(r,s){var f=r.type==="Feature"?r.geometry:r,p=f?f.coordinates:null,y=[],b=s&&s.pointToLayer,E=s&&s.coordsToLatLng||Du,z,O,V,rt;if(!p&&!f)return null;switch(f.type){case"Point":return z=E(p),Mh(b,r,z,s);case"MultiPoint":for(V=0,rt=p.length;V<rt;V++)z=E(p[V]),y.push(Mh(b,r,z,s));return new wn(y);case"LineString":case"MultiLineString":return O=fa(p,f.type==="LineString"?0:1,E),new xn(O,s);case"Polygon":case"MultiPolygon":return O=fa(p,f.type==="Polygon"?1:2,E),new qi(O,s);case"GeometryCollection":for(V=0,rt=f.geometries.length;V<rt;V++){var dt=ua({geometry:f.geometries[V],type:"Feature",properties:r.properties},s);dt&&y.push(dt)}return new wn(y);case"FeatureCollection":for(V=0,rt=f.features.length;V<rt;V++){var Mt=ua(f.features[V],s);Mt&&y.push(Mt)}return new wn(y);default:throw new Error("Invalid GeoJSON object.")}}function Mh(r,s,f,p){return r?r(s,f):new aa(f,p&&p.markersInheritOptions&&p)}function Du(r){return new nt(r[1],r[0],r[2])}function fa(r,s,f){for(var p=[],y=0,b=r.length,E;y<b;y++)E=s?fa(r[y],s-1,f):(f||Du)(r[y]),p.push(E);return p}function Bu(r,s){return r=J(r),r.alt!==void 0?[g(r.lng,s),g(r.lat,s),g(r.alt,s)]:[g(r.lng,s),g(r.lat,s)]}function ca(r,s,f,p){for(var y=[],b=0,E=r.length;b<E;b++)y.push(s?ca(r[b],Ee(r[b])?0:s-1,f,p):Bu(r[b],p));return!s&&f&&y.length>0&&y.push(y[0].slice()),y}function Vi(r,s){return r.feature?o({},r.feature,{geometry:s}):la(s)}function la(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Ru={toGeoJSON:function(r){return Vi(this,{type:"Point",coordinates:Bu(this.getLatLng(),r)})}};aa.include(Ru),Ou.include(Ru),sa.include(Ru),xn.include({toGeoJSON:function(r){var s=!Ee(this._latlngs),f=ca(this._latlngs,s?1:0,!1,r);return Vi(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),qi.include({toGeoJSON:function(r){var s=!Ee(this._latlngs),f=s&&!Ee(this._latlngs[0]),p=ca(this._latlngs,f?2:s?1:0,!0,r);return s||(p=[p]),Vi(this,{type:(f?"Multi":"")+"Polygon",coordinates:p})}}),Hi.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(r).geometry.coordinates)}),Vi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var f=s==="GeometryCollection",p=[];return this.eachLayer(function(y){if(y.toGeoJSON){var b=y.toGeoJSON(r);if(f)p.push(b.geometry);else{var E=la(b);E.type==="FeatureCollection"?p.push.apply(p,E.features):p.push(E)}}}),f?Vi(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function Th(r,s){return new Mn(r,s)}var sb=Th,ha=He.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,f){this._url=r,this._bounds=at(s),w(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Fi(this._image),this},bringToBack:function(){return this._map&&Ui(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=at(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:At("img");if(wt(s,"leaflet-image-layer"),this._zoomAnimated&&wt(s,"leaflet-zoom-animated"),this.options.className&&wt(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ii(this._image,f,s)},_reset:function(){var r=this._image,s=new F(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();Wt(r,s.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),ub=function(r,s,f){return new ha(r,s,f)},Lh=ha.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:At("video");if(wt(s,"leaflet-image-layer"),this._zoomAnimated&&wt(s,"leaflet-zoom-animated"),this.options.className&&wt(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onloadeddata=u(this.fire,this,"load"),r){for(var f=s.getElementsByTagName("source"),p=[],y=0;y<f.length;y++)p.push(f[y].src);this._url=f.length>0?p:[s.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var b=0;b<this._url.length;b++){var E=At("source");E.src=this._url[b],s.appendChild(E)}}});function fb(r,s,f){return new Lh(r,s,f)}var Sh=ha.extend({_initImage:function(){var r=this._image=this._url;wt(r,"leaflet-image-layer"),this._zoomAnimated&&wt(r,"leaflet-zoom-animated"),this.options.className&&wt(r,this.options.className),r.onselectstart=m,r.onmousemove=m}});function cb(r,s,f){return new Sh(r,s,f)}var an=He.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof nt||S(r))?(this._latlng=J(r),w(this,s)):(w(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(u(Bt,void 0,this._container),200)):Bt(this._container),this.options.interactive&&(Ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=J(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fi(this._container),this},bringToBack:function(){return this._map&&Ui(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof wn){s=null;var f=this._source._layers;for(var p in f)if(f[p]._map){s=f[p];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=D(this.options.offset),f=this._getAnchor();this._zoomAnimated?Wt(this._container,r.add(f)):s=s.add(r).add(f);var p=this._containerBottom=-s.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=p+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});St.include({_initOverlay:function(r,s,f,p){var y=s;return y instanceof r||(y=new r(p).setContent(s)),f&&y.setLatLng(f),y}}),He.include({_initOverlay:function(r,s,f,p){var y=f;return y instanceof r?(w(y,p),y._source=this):(y=s&&!p?s:new r(p,this),y.setContent(f)),y}});var da=an.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,an.prototype.openOn.call(this,r)},onAdd:function(r){an.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wn||this._source.on("preclick",oi))},onRemove:function(r){an.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wn||this._source.off("preclick",oi))},getEvents:function(){var r=an.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=At("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=At("div",r+"-content-wrapper",s);if(this._contentNode=At("div",r+"-content",f),Rr(s),ku(this._contentNode),mt(s,"contextmenu",oi),this._tipContainer=At("div",r+"-tip-container",s),this._tip=At("div",r+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=At("a",r+"-close-button",s);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',mt(p,"click",function(y){te(y),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var p=r.offsetHeight,y=this.options.maxHeight,b="leaflet-popup-scrolled";y&&p>y?(s.height=y+"px",wt(r,b)):Ht(r,b),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();Wt(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(Ir(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,p=this._containerWidth,y=new q(this._containerLeft,-f-this._containerBottom);y._add(ri(this._container));var b=r.layerPointToContainerPoint(y),E=D(this.options.autoPanPadding),z=D(this.options.autoPanPaddingTopLeft||E),O=D(this.options.autoPanPaddingBottomRight||E),V=r.getSize(),rt=0,dt=0;b.x+p+O.x>V.x&&(rt=b.x+p-V.x+O.x),b.x-rt-z.x<0&&(rt=b.x-z.x),b.y+f+O.y>V.y&&(dt=b.y+f-V.y+O.y),b.y-dt-z.y<0&&(dt=b.y-z.y),(rt||dt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([rt,dt]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),lb=function(r,s){return new da(r,s)};St.mergeOptions({closePopupOnClick:!0}),St.include({openPopup:function(r,s,f){return this._initOverlay(da,r,s,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),He.include({bindPopup:function(r,s){return this._popup=this._initOverlay(da,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof wn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ai(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof Wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var pa=an.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){an.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){an.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=an.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=At("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,f,p=this._map,y=this._container,b=p.latLngToContainerPoint(p.getCenter()),E=p.layerPointToContainerPoint(r),z=this.options.direction,O=y.offsetWidth,V=y.offsetHeight,rt=D(this.options.offset),dt=this._getAnchor();z==="top"?(s=O/2,f=V):z==="bottom"?(s=O/2,f=0):z==="center"?(s=O/2,f=V/2):z==="right"?(s=0,f=V/2):z==="left"?(s=O,f=V/2):E.x<b.x?(z="right",s=0,f=V/2):(z="left",s=O+(rt.x+dt.x)*2,f=V/2),r=r.subtract(D(s,f,!0)).add(rt).add(dt),Ht(y,"leaflet-tooltip-right"),Ht(y,"leaflet-tooltip-left"),Ht(y,"leaflet-tooltip-top"),Ht(y,"leaflet-tooltip-bottom"),wt(y,"leaflet-tooltip-"+z),Wt(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ce(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),hb=function(r,s){return new pa(r,s)};St.include({openTooltip:function(r,s,f){return this._initOverlay(pa,r,s,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),He.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pa,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof wn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(mt(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),mt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,f,p;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),p=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(s)}});var Ph=Wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(ta(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var p=D(f.bgPos);s.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function db(r){return new Ph(r)}Wi.Default=Ur;var Hr=He.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){w(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Bt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof q?r:new q(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,f=-r(-1/0,1/0),p=0,y=s.length,b;p<y;p++)b=s[p].style.zIndex,s[p]!==this._container&&b&&(f=r(f,+b));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ct.ielt9){Ce(this._container,this.options.opacity);var r=+new Date,s=!1,f=!1;for(var p in this._tiles){var y=this._tiles[p];if(!(!y.current||!y.loaded)){var b=Math.min(1,(r-y.loaded)/200);Ce(y.el,b),b<1?s=!0:(y.active?f=!0:this._onOpaqueTile(y),y.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(H(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=At("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=s-Math.abs(r-f),this._onUpdateLevel(f)):(Bt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var p=this._levels[r],y=this._map;return p||(p=this._levels[r]={},p.el=At("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=s,p.origin=y.project(y.unproject(y.getPixelOrigin()),r).round(),p.zoom=r,this._setZoomTransform(p,y.getCenter(),y.getZoom()),m(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var r,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var p=s.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Bt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,f,p){var y=Math.floor(r/2),b=Math.floor(s/2),E=f-1,z=new q(+y,+b);z.z=+E;var O=this._tileCoordsToKey(z),V=this._tiles[O];return V&&V.active?(V.retain=!0,!0):(V&&V.loaded&&(V.retain=!0),E>p?this._retainParent(y,b,E,p):!1)},_retainChildren:function(r,s,f,p){for(var y=2*r;y<2*r+2;y++)for(var b=2*s;b<2*s+2;b++){var E=new q(y,b);E.z=f+1;var z=this._tileCoordsToKey(E),O=this._tiles[z];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);f+1<p&&this._retainChildren(y,b,f+1,p)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,f,p){var y=Math.round(s);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var b=this.options.updateWhenZooming&&y!==this._tileZoom;(!p||b)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,s)},_setZoomTransform:function(r,s,f){var p=this._map.getZoomScale(f,r.zoom),y=r.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(s,f)).round();ct.any3d?ii(r.el,y,p):Wt(r.el,y)},_resetGrid:function(){var r=this._map,s=r.options.crs,f=this._tileSize=this.getTileSize(),p=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],p).x/f.x),Math.ceil(r.project([0,s.wrapLng[1]],p).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],p).y/f.x),Math.ceil(r.project([s.wrapLat[1],0],p).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),p=s.getZoomScale(f,this._tileZoom),y=s.project(r,this._tileZoom).floor(),b=s.getSize().divideBy(p*2);return new F(y.subtract(b),y.add(b))},_update:function(r){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(r),y=this._pxBoundsToTileRange(p),b=y.getCenter(),E=[],z=this.options.keepBuffer,O=new F(y.getBottomLeft().subtract([z,-z]),y.getTopRight().add([z,-z]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var V in this._tiles){var rt=this._tiles[V].coords;(rt.z!==this._tileZoom||!O.contains(new q(rt.x,rt.y)))&&(this._tiles[V].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var dt=y.min.y;dt<=y.max.y;dt++)for(var Mt=y.min.x;Mt<=y.max.x;Mt++){var se=new q(Mt,dt);if(se.z=this._tileZoom,!!this._isValidTile(se)){var Gt=this._tiles[this._tileCoordsToKey(se)];Gt?Gt.current=!0:E.push(se)}}if(E.sort(function(he,Gi){return he.distanceTo(b)-Gi.distanceTo(b)}),E.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ae=document.createDocumentFragment();for(Mt=0;Mt<E.length;Mt++)this._addTile(E[Mt],Ae);this._level.el.appendChild(Ae)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!s.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(r);return at(this.options.bounds).overlaps(p)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,f=this.getTileSize(),p=r.scaleBy(f),y=p.add(f),b=s.unproject(p,r.z),E=s.unproject(y,r.z);return[b,E]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),f=new K(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),f=new q(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(r){var s=this._tiles[r];s&&(Bt(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){wt(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=m,r.onmousemove=m,ct.ielt9&&this.options.opacity<1&&Ce(r,this.options.opacity)},_addTile:function(r,s){var f=this._getTilePos(r),p=this._tileCoordsToKey(r),y=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(y),this.createTile.length<2&&$(u(this._tileReady,this,r,null,y)),Wt(y,f),this._tiles[p]={el:y,coords:r,current:!0},s.appendChild(y),this.fire("tileloadstart",{tile:y,coords:r})},_tileReady:function(r,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:r});var p=this._tileCoordsToKey(r);f=this._tiles[p],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Ce(f.el,0),H(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(wt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ct.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new q(this._wrapX?d(r.x,this._wrapX):r.x,this._wrapY?d(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new F(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function pb(r){return new Hr(r)}var Yi=Hr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=w(this,s),s.detectRetina&&ct.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var f=document.createElement("img");return mt(f,"load",u(this._tileOnLoad,this,s,f)),mt(f,"error",u(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var s={r:ct.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=f),s["-y"]=f}return T(this._url,o(s,this.options))},_tileOnLoad:function(r,s){ct.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,f){var p=this.options.errorTileUrl;p&&s.getAttribute("src")!==p&&(s.src=p),r(f,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,p=this.options.zoomOffset;return f&&(r=s-r),r+p},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=m,s.onerror=m,!s.complete)){s.src=C;var f=this._tiles[r].coords;Bt(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",C),Hr.prototype._removeTile.call(this,r)},_tileReady:function(r,s,f){if(!(!this._map||f&&f.getAttribute("src")===C))return Hr.prototype._tileReady.call(this,r,s,f)}});function kh(r,s){return new Yi(r,s)}var Ch=Yi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var f=o({},this.defaultWmsParams);for(var p in s)p in this.options||(f[p]=s[p]);s=w(this,s);var y=s.detectRetina&&ct.retina?2:1,b=this.getTileSize();f.width=b.x*y,f.height=b.y*y,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Yi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),f=this._crs,p=G(f.project(s[0]),f.project(s[1])),y=p.min,b=p.max,E=(this._wmsVersion>=1.3&&this._crs===wh?[y.y,y.x,b.y,b.x]:[y.x,y.y,b.x,b.y]).join(","),z=Yi.prototype.getTileUrl.call(this,r);return z+x(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+E},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function mb(r,s){return new Ch(r,s)}Yi.WMS=Ch,kh.wms=mb;var Tn=He.extend({options:{padding:.1},initialize:function(r){w(this,r),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var f=this._map.getZoomScale(s,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,s),b=p.multiplyBy(-f).add(y).subtract(this._map._getNewPixelOrigin(r,s));ct.any3d?ii(this._container,b,f):Wt(this._container,b)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new F(f,f.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Eh=Tn.extend({options:{tolerance:0},getEvents:function(){var r=Tn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Tn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");mt(r,"mousemove",this._onMouseMove,this),mt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){H(this._redrawRequest),delete this._ctx,Bt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tn.prototype._update.call(this);var r=this._bounds,s=this._container,f=r.getSize(),p=ct.retina?2:1;Wt(s,r.min),s.width=p*f.x,s.height=p*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Tn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[l(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,f=s.next,p=s.prev;f?f.prev=p:this._drawLast=p,p?p.next=f:this._drawFirst=f,delete r._order,delete this._layers[l(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),f=[],p,y;for(y=0;y<s.length;y++){if(p=Number(s[y]),isNaN(p))return;f.push(p)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new F,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)r=p.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var f,p,y,b,E=r._parts,z=E.length,O=this._ctx;if(z){for(O.beginPath(),f=0;f<z;f++){for(p=0,y=E[f].length;p<y;p++)b=E[f][p],O[p?"lineTo":"moveTo"](b.x,b.y);s&&O.closePath()}this._fillStroke(O,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,f=this._ctx,p=Math.max(Math.round(r._radius),1),y=(Math.max(Math.round(r._radiusY),1)||p)/p;y!==1&&(f.save(),f.scale(1,y)),f.beginPath(),f.arc(s.x,s.y/y,p,0,Math.PI*2,!1),y!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,s){var f=s.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),f,p,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(p=f);this._fireEvent(p?[p]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Ht(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var f,p,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(s)&&(p=f);p!==this._hoveredLayer&&(this._handleMouseOut(r),p&&(wt(this._container,"leaflet-interactive"),this._fireEvent([p],r,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,f){this._map._fireDOMEvent(s,f||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var f=s.next,p=s.prev;if(f)f.prev=p;else return;p?p.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var f=s.next,p=s.prev;if(p)p.next=f;else return;f?f.prev=p:p&&(this._drawLast=p),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function Ah(r){return ct.canvas?new Eh(r):null}var Wr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),gb={_initContainer:function(){this._container=At("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Tn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=Wr("shape");wt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=Wr("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[l(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Bt(s),r.removeInteractiveTarget(s),delete this._layers[l(r)]},_updateStyle:function(r){var s=r._stroke,f=r._fill,p=r.options,y=r._container;y.stroked=!!p.stroke,y.filled=!!p.fill,p.stroke?(s||(s=r._stroke=Wr("stroke")),y.appendChild(s),s.weight=p.weight+"px",s.color=p.color,s.opacity=p.opacity,p.dashArray?s.dashStyle=S(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=p.lineCap.replace("butt","flat"),s.joinstyle=p.lineJoin):s&&(y.removeChild(s),r._stroke=null),p.fill?(f||(f=r._fill=Wr("fill")),y.appendChild(f),f.color=p.fillColor||p.color,f.opacity=p.fillOpacity):f&&(y.removeChild(f),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),f=Math.round(r._radius),p=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+p+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){Fi(r._container)},_bringToBack:function(r){Ui(r._container)}},ma=ct.vml?Wr:Ct,qr=Tn.extend({_initContainer:function(){this._container=ma("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ma("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Bt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Tn.prototype._update.call(this);var r=this._bounds,s=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),Wt(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=ma("path");r.options.className&&wt(s,r.options.className),r.options.interactive&&wt(s,"leaflet-interactive"),this._updateStyle(r),this._layers[l(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Bt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[l(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,f=r.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,Et(r._parts,s))},_updateCircle:function(r){var s=r._point,f=Math.max(Math.round(r._radius),1),p=Math.max(Math.round(r._radiusY),1)||f,y="a"+f+","+p+" 0 1,0 ",b=r._empty()?"M0 0":"M"+(s.x-f)+","+s.y+y+f*2+",0 "+y+-f*2+",0 ";this._setPath(r,b)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){Fi(r._path)},_bringToBack:function(r){Ui(r._path)}});ct.vml&&qr.include(gb);function $h(r){return ct.svg||ct.vml?new qr(r):null}St.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&Ah(r)||$h(r)}});var zh=qi.extend({initialize:function(r,s){qi.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=at(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function _b(r,s){return new zh(r,s)}qr.create=ma,qr.pointsToPath=Et,Mn.geometryToLayer=ua,Mn.coordsToLatLng=Du,Mn.coordsToLatLngs=fa,Mn.latLngToCoords=Bu,Mn.latLngsToCoords=ca,Mn.getFeature=Vi,Mn.asFeature=la,St.mergeOptions({boxZoom:!0});var Nh=on.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Or(),bu(),this._startPoint=this._map.mouseEventToContainerPoint(r),mt(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=At("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new F(this._point,this._startPoint),f=s.getSize();Wt(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Bt(this._box),Ht(this._container,"leaflet-crosshair")),Dr(),wu(),Dt(document,{contextmenu:ai,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});St.addInitHook("addHandler","boxZoom",Nh),St.mergeOptions({doubleClickZoom:!0});var Ih=on.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,f=s.getZoom(),p=s.options.zoomDelta,y=r.originalEvent.shiftKey?f-p:f+p;s.options.doubleClickZoom==="center"?s.setZoom(y):s.setZoomAround(r.containerPoint,y)}});St.addInitHook("addHandler","doubleClickZoom",Ih),St.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Oh=on.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Hn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ht(this._map._container,"leaflet-grab"),Ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=at(this._map.options.maxBounds);this._offsetLimit=G(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),f=this._initialWorldOffset,p=this._draggable._newPos.x,y=(p-s+f)%r+s-f,b=(p+s+f)%r-s-f,E=Math.abs(y+f)<Math.abs(b+f)?y:b;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=E},_onDragEnd:function(r){var s=this._map,f=s.options,p=!f.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),p)s.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),b=(this._lastTime-this._times[0])/1e3,E=f.easeLinearity,z=y.multiplyBy(E/b),O=z.distanceTo([0,0]),V=Math.min(f.inertiaMaxSpeed,O),rt=z.multiplyBy(V/O),dt=V/(f.inertiaDeceleration*E),Mt=rt.multiplyBy(-dt/2).round();!Mt.x&&!Mt.y?s.fire("moveend"):(Mt=s._limitOffset(Mt,s.options.maxBounds),$(function(){s.panBy(Mt,{duration:dt,easeLinearity:E,noMoveStart:!0,animate:!0})}))}}});St.addInitHook("addHandler","dragging",Oh),St.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dh=on.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),mt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,f=r.scrollTop||s.scrollTop,p=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(p,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},f=this.keyCodes,p,y;for(p=0,y=f.left.length;p<y;p++)s[f.left[p]]=[-1*r,0];for(p=0,y=f.right.length;p<y;p++)s[f.right[p]]=[r,0];for(p=0,y=f.down.length;p<y;p++)s[f.down[p]]=[0,r];for(p=0,y=f.up.length;p<y;p++)s[f.up[p]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},f=this.keyCodes,p,y;for(p=0,y=f.zoomIn.length;p<y;p++)s[f.zoomIn[p]]=r;for(p=0,y=f.zoomOut.length;p<y;p++)s[f.zoomOut[p]]=-r},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,f=this._map,p;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(p=this._panKeys[s],r.shiftKey&&(p=D(p).multiplyBy(3)),f.options.maxBounds&&(p=f._limitOffset(D(p),f.options.maxBounds)),f.options.worldCopyJump){var y=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(p)));f.panTo(y)}else f.panBy(p)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;ai(r)}}});St.addInitHook("addHandler","keyboard",Dh),St.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Bh=on.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=uh(r),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var p=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),p),ai(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,b=f?Math.ceil(y/f)*f:y,E=r._limitZoom(s+(this._delta>0?b:-b))-s;this._delta=0,this._startTime=null,E&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+E):r.setZoomAround(this._lastMousePos,s+E))}});St.addInitHook("addHandler","scrollWheelZoom",Bh);var yb=600;St.mergeOptions({tapHold:ct.touchNative&&ct.safari&&ct.mobile,tapTolerance:15});var Rh=on.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new q(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",te),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),yb),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Dt(document,"touchend",te),Dt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new q(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});St.addInitHook("addHandler","tapHold",Rh),St.mergeOptions({touchZoom:ct.touch,bounceAtZoomLimits:!0});var Zh=on.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ht(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(r.touches[0]),p=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(p)._divideBy(2))),this._startDist=f.distanceTo(p),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),te(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(r.touches[0]),p=s.mouseEventToContainerPoint(r.touches[1]),y=f.distanceTo(p)/this._startDist;if(this._zoom=s.getScaleZoom(y,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&y<1||this._zoom>s.getMaxZoom()&&y>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var b=f._add(p)._divideBy(2)._subtract(this._centerPoint);if(y===1&&b.x===0&&b.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(b),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),H(this._animRequest);var E=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(E,this,!0),te(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,H(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});St.addInitHook("addHandler","touchZoom",Zh),St.BoxZoom=Nh,St.DoubleClickZoom=Ih,St.Drag=Oh,St.Keyboard=Dh,St.ScrollWheelZoom=Bh,St.TapHold=Rh,St.TouchZoom=Zh,n.Bounds=F,n.Browser=ct,n.CRS=j,n.Canvas=Eh,n.Circle=Ou,n.CircleMarker=sa,n.Class=Y,n.Control=Ue,n.DivIcon=Ph,n.DivOverlay=an,n.DomEvent=Ov,n.DomUtil=Nv,n.Draggable=Hn,n.Evented=Q,n.FeatureGroup=wn,n.GeoJSON=Mn,n.GridLayer=Hr,n.Handler=on,n.Icon=Wi,n.ImageOverlay=ha,n.LatLng=nt,n.LatLngBounds=K,n.Layer=He,n.LayerGroup=Hi,n.LineUtil=Xv,n.Map=St,n.Marker=aa,n.Mixin=Hv,n.Path=Wn,n.Point=q,n.PolyUtil=Wv,n.Polygon=qi,n.Polyline=xn,n.Popup=da,n.PosAnimation=fh,n.Projection=jv,n.Rectangle=zh,n.Renderer=Tn,n.SVG=qr,n.SVGOverlay=Sh,n.TileLayer=Yi,n.Tooltip=pa,n.Transformation=ot,n.Util=X,n.VideoOverlay=Lh,n.bind=u,n.bounds=G,n.canvas=Ah,n.circle=rb,n.circleMarker=ib,n.control=Zr,n.divIcon=db,n.extend=o,n.featureGroup=tb,n.geoJSON=Th,n.geoJson=sb,n.gridLayer=pb,n.icon=eb,n.imageOverlay=ub,n.latLng=J,n.latLngBounds=at,n.layerGroup=Qv,n.map=Dv,n.marker=nb,n.point=D,n.polygon=ab,n.polyline=ob,n.popup=lb,n.rectangle=_b,n.setOptions=w,n.stamp=l,n.svg=$h,n.svgOverlay=cb,n.tileLayer=kh,n.tooltip=hb,n.transformation=Z,n.version=i,n.videoOverlay=fb;var vb=window.L;n.noConflict=function(){return window.L=vb,this},window.L=n})})(zf,zf.exports);var Gb=zf.exports;const pi=Yb(Gb);function Xh(t){let e;const n=t[6].default,i=Ps(n,t,t[5],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&32)&&Cs(i,n,o,o[5],e?ks(n,o[5],a,null):Es(o[5]),null)},i(o){e||(ft(i,o),e=!0)},o(o){pt(i,o),e=!1},d(o){i&&i.d(o)}}}function Xb(t){let e,n,i=t[0]&&Xh(t);return{c(){e=Pt("div"),i&&i.c(),lt(e,"class","w-full h-full")},m(o,a){$t(o,e,a),i&&i.m(e,null),t[7](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ft(i,1)):(i=Xh(o),i.c(),ft(i,1),i.m(e,null)):i&&(Te(),pt(i,1,1,()=>{i=null}),Le())},i(o){n||(ft(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[7](null)}}}function jb(t,e,n){let{$$slots:i={},$$scope:o}=e,{bounds:a=void 0}=e,{view:u=void 0}=e,{zoom:c=void 0}=e;const l=Db();let h,d;Tr(()=>{if(!a&&(!u||!c))throw new Error("Must set either bounds, or view and zoom.");n(0,h=pi.map(d).on("zoom",g=>l("zoom",g)).on("popupopen",async g=>{await Bb(),g.popup.update()})),pi.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,&copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>'}).addTo(h)}),$s(()=>{h==null||h.remove(),n(0,h=void 0)}),Dc("map",{getMap:()=>h});function m(g){bi[g?"unshift":"push"](()=>{d=g,n(1,d)})}return t.$$set=g=>{"bounds"in g&&n(2,a=g.bounds),"view"in g&&n(3,u=g.view),"zoom"in g&&n(4,c=g.zoom),"$$scope"in g&&n(5,o=g.$$scope)},t.$$.update=()=>{t.$$.dirty&29&&h&&(a?h.fitBounds(a):u&&c&&h.setView(u,c))},[h,d,a,u,c,o,i,m]}class Kb extends _n{constructor(e){super(),gn(this,e,jb,Xb,Je,{bounds:2,view:3,zoom:4})}}function jh(t){let e;const n=t[8].default,i=Ps(n,t,t[7],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&128)&&Cs(i,n,o,o[7],e?ks(n,o[7],a,null):Es(o[7]),null)},i(o){e||(ft(i,o),e=!0)},o(o){pt(i,o),e=!1},d(o){i&&i.d(o)}}}function Jb(t){let e,n,i=t[0]&&jh(t);return{c(){e=Pt("div"),i&&i.c()},m(o,a){$t(o,e,a),i&&i.m(e,null),t[9](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ft(i,1)):(i=jh(o),i.c(),ft(i,1),i.m(e,null)):i&&(Te(),pt(i,1,1,()=>{i=null}),Le())},i(o){n||(ft(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[9](null)}}}function Qb(t,e,n){let{$$slots:i={},$$scope:o}=e,{latLng:a}=e,{iconUrl:u}=e,{iconSize:c=[50,50]}=e,{radius:l=4}=e,{fillColor:h="blue"}=e,d,m;const{getMap:g}=Bc("map"),_=g();Dc("layer",{getLayer:()=>d});function v(){n(0,d=_?u?pi.marker(a,{icon:pi.icon({iconUrl:u,iconSize:c})}).addTo(_):pi.circleMarker(a,{radius:l,fillColor:h,stroke:!1,fillOpacity:.6}).addTo(_):void 0)}Tr(()=>{_&&v()}),$s(()=>{d==null||d.remove(),n(0,d=void 0)});function w(x){bi[x?"unshift":"push"](()=>{m=x,n(1,m)})}return t.$$set=x=>{"latLng"in x&&n(2,a=x.latLng),"iconUrl"in x&&n(3,u=x.iconUrl),"iconSize"in x&&n(4,c=x.iconSize),"radius"in x&&n(5,l=x.radius),"fillColor"in x&&n(6,h=x.fillColor),"$$scope"in x&&n(7,o=x.$$scope)},[d,m,a,u,c,l,h,o,i,w]}class Om extends _n{constructor(e){super(),gn(this,e,Qb,Jb,Je,{latLng:2,iconUrl:3,iconSize:4,radius:5,fillColor:6})}}function me(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function No(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zs(t){let e,n,i;t.length!==2?(e=me,n=(c,l)=>me(t(c),l),i=(c,l)=>t(c)-l):(e=t===me||t===No?t:tw,n=t,i=t);function o(c,l,h=0,d=c.length){if(h<d){if(e(l,l)!==0)return d;do{const m=h+d>>>1;n(c[m],l)<0?h=m+1:d=m}while(h<d)}return h}function a(c,l,h=0,d=c.length){if(h<d){if(e(l,l)!==0)return d;do{const m=h+d>>>1;n(c[m],l)<=0?h=m+1:d=m}while(h<d)}return h}function u(c,l,h=0,d=c.length){const m=o(c,l,h,d-1);return m>h&&i(c[m-1],l)>-i(c[m],l)?m-1:m}return{left:o,center:u,right:a}}function tw(){return 0}function Dm(t){return t===null?NaN:+t}function*ew(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(yield i)}}const nw=zs(me),iw=nw.right;zs(Dm).center;const Ns=iw;function rw(t,e){let n=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&++n;else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&++n}return n}function ow(t){return t.length|0}function aw(t){return!(t>0)}function sw(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function uw(t){return e=>t(...e)}function fw(...t){const e=typeof t[t.length-1]=="function"&&uw(t.pop());t=t.map(sw);const n=t.map(ow),i=t.length-1,o=new Array(i+1).fill(0),a=[];if(i<0||n.some(aw))return a;for(;;){a.push(o.map((c,l)=>t[l][c]));let u=i;for(;++o[u]===n[u];){if(u===0)return e?a.map(e):a;o[u--]=0}}}function cw(t,e){var n=0,i=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,i++,t)||0)}function Bm(t,e){let n=0,i,o=0,a=0;if(e===void 0)for(let u of t)u!=null&&(u=+u)>=u&&(i=u-o,o+=i/++n,a+=i*(u-o));else{let u=-1;for(let c of t)(c=e(c,++u,t))!=null&&(c=+c)>=c&&(i=c-o,o+=i/++n,a+=i*(c-o))}if(n>1)return a/(n-1)}function lw(t,e){const n=Bm(t,e);return n&&Math.sqrt(n)}function Re(t,e){let n,i;if(e===void 0)for(const o of t)o!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)));else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(n===void 0?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}class wi{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const a=n[o],u=e+a,c=Math.abs(e)<Math.abs(a)?e-(u-a):a-(u-e);c&&(n[i++]=c),e=u}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,o,a,u=0;if(n>0){for(u=e[--n];n>0&&(i=u,o=e[--n],u=i+o,a=o-(u-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(o=a*2,i=u+o,o==i-u&&(u=i))}return u}}class xi extends Map{constructor(e,n=Fm){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(Nf(this,e))}has(e){return super.has(Nf(this,e))}set(e,n){return super.set(Rm(this,e),n)}delete(e){return super.delete(Zm(this,e))}}class Is extends Set{constructor(e,n=Fm){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(Nf(this,e))}add(e){return super.add(Rm(this,e))}delete(e){return super.delete(Zm(this,e))}}function Nf({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Rm({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function Zm({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function Fm(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qa(t){return t}function Rc(t,...e){return Zc(t,qa,qa,e)}function ar(t,e,...n){return Zc(t,qa,e,n)}function hw(t,e,...n){return Zc(t,Array.from,e,n)}function Zc(t,e,n,i){return function o(a,u){if(u>=i.length)return n(a);const c=new xi,l=i[u++];let h=-1;for(const d of a){const m=l(d,++h,a),g=c.get(m);g?g.push(d):c.set(m,[d])}for(const[d,m]of c)c.set(d,o(m,u));return e(c)}(t,0)}function dw(t,e){return Array.from(e,n=>t[n])}function go(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const i=Uint32Array.from(t,(o,a)=>a);return e.length>1?(e=e.map(o=>t.map(o)),i.sort((o,a)=>{for(const u of e){const c=Va(u[o],u[a]);if(c)return c}})):(n=t.map(n),i.sort((o,a)=>Va(n[o],n[a]))),dw(t,i)}return t.sort(Um(n))}function Um(t=me){if(t===me)return Va;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function Va(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Fc(t,e,n){return(e.length!==2?go(ar(t,e,n),([i,o],[a,u])=>me(o,u)||me(i,a)):go(Rc(t,n),([i,o],[a,u])=>e(o,u)||me(i,a))).map(([i])=>i)}var pw=Array.prototype,mw=pw.slice;function Uu(t){return()=>t}const gw=Math.sqrt(50),_w=Math.sqrt(10),yw=Math.sqrt(2);function Ya(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),u=a>=gw?10:a>=_w?5:a>=yw?2:1;let c,l,h;return o<0?(h=Math.pow(10,-o)/u,c=Math.round(t*h),l=Math.round(e*h),c/h<t&&++c,l/h>e&&--l,h=-h):(h=Math.pow(10,o)*u,c=Math.round(t/h),l=Math.round(e/h),c*h<t&&++c,l*h>e&&--l),l<c&&.5<=n&&n<2?Ya(t,e,n*2):[c,l,h]}function _o(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,a,u]=i?Ya(e,t,n):Ya(t,e,n);if(!(a>=o))return[];const c=a-o+1,l=new Array(c);if(i)if(u<0)for(let h=0;h<c;++h)l[h]=(a-h)/-u;else for(let h=0;h<c;++h)l[h]=(a-h)*u;else if(u<0)for(let h=0;h<c;++h)l[h]=(o+h)/-u;else for(let h=0;h<c;++h)l[h]=(o+h)*u;return l}function cr(t,e,n){return e=+e,t=+t,n=+n,Ya(t,e,n)[2]}function If(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?cr(e,t,n):cr(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function vw(t,e,n){let i;for(;;){const o=cr(t,e,n);if(o===i||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),i=o}}function bw(t){return Math.max(1,Math.ceil(Math.log(rw(t))/Math.LN2)+1)}function ww(){var t=qa,e=Re,n=bw;function i(o){Array.isArray(o)||(o=Array.from(o));var a,u=o.length,c,l,h=new Array(u);for(a=0;a<u;++a)h[a]=t(o[a],a,o);var d=e(h),m=d[0],g=d[1],_=n(h,m,g);if(!Array.isArray(_)){const S=g,M=+_;if(e===Re&&([m,g]=vw(m,g,M)),_=_o(m,g,M),_[0]<=m&&(l=cr(m,g,M)),_[_.length-1]>=g)if(S>=g&&e===Re){const C=cr(m,g,M);isFinite(C)&&(C>0?g=(Math.floor(g/C)+1)*C:C<0&&(g=(Math.ceil(g*-C)+1)/-C))}else _.pop()}for(var v=_.length,w=0,x=v;_[w]<=m;)++w;for(;_[x-1]>g;)--x;(w||x<v)&&(_=_.slice(w,x),v=x-w);var P=new Array(v+1),T;for(a=0;a<=v;++a)T=P[a]=[],T.x0=a>0?_[a-1]:m,T.x1=a<v?_[a]:g;if(isFinite(l)){if(l>0)for(a=0;a<u;++a)(c=h[a])!=null&&m<=c&&c<=g&&P[Math.min(v,Math.floor((c-m)/l))].push(o[a]);else if(l<0){for(a=0;a<u;++a)if((c=h[a])!=null&&m<=c&&c<=g){const S=Math.floor((m-c)*l);P[Math.min(v,S+(_[S]<=c))].push(o[a])}}}else for(a=0;a<u;++a)(c=h[a])!=null&&m<=c&&c<=g&&P[Ns(_,c,0,v)].push(o[a]);return P}return i.value=function(o){return arguments.length?(t=typeof o=="function"?o:Uu(o),i):t},i.domain=function(o){return arguments.length?(e=typeof o=="function"?o:Uu([o[0],o[1]]),i):e},i.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Uu(Array.isArray(o)?mw.call(o):o),i):n},i}function Ye(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function xw(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);return i}function In(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Mw(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);return i}function Hm(t,e,n=0,i=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(o=o===void 0?Va:Um(o);i>n;){if(i-n>600){const l=i-n+1,h=e-n+1,d=Math.log(l),m=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*m*(l-m)/l)*(h-l/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/l+g)),v=Math.min(i,Math.floor(e+(l-h)*m/l+g));Hm(t,e,_,v,o)}const a=t[e];let u=n,c=i;for(Vr(t,n,e),o(t[i],a)>0&&Vr(t,n,i);u<c;){for(Vr(t,u,c),++u,--c;o(t[u],a)<0;)++u;for(;o(t[c],a)>0;)--c}o(t[n],a)===0?Vr(t,n,c):(++c,Vr(t,c,i)),c<=e&&(n=c+1),e<=c&&(i=c-1)}return t}function Vr(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Wm(t,e=me){let n,i=!1;if(e.length===1){let o;for(const a of t){const u=e(a);(i?me(u,o)>0:me(u,u)===0)&&(n=a,o=u,i=!0)}}else for(const o of t)(i?e(o,n)>0:e(o,o)===0)&&(n=o,i=!0);return n}function Ga(t,e,n){if(t=Float64Array.from(ew(t,n)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return In(t);if(e>=1)return Ye(t);var i,o=(i-1)*e,a=Math.floor(o),u=Ye(Hm(t,a).subarray(0,a+1)),c=In(t.subarray(a+1));return u+(c-u)*(o-a)}}function Tw(t,e,n=Dm){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),u=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return u+(c-u)*(o-a)}}function Lw(t,e){let n=0,i=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,i+=o);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}function Of(t,e){return Ga(t,.5,e)}function*Sw(t){for(const e of t)yield*e}function qm(t){return Array.from(Sw(t))}function Pw(t,e){const n=new xi;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let u of t)(u=e(u,++a,t))!=null&&u>=u&&n.set(u,(n.get(u)||0)+1)}let i,o=0;for(const[a,u]of n)u>o&&(o=u,i=a);return i}function kw(t,e=Cw){const n=[];let i,o=!1;for(const a of t)o&&n.push(e(i,a)),i=a,o=!0;return n}function Cw(t,e){return[t,e]}function Df(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(o);++i<o;)a[i]=t+i*n;return a}function Xn(t,e){let n=0;if(e===void 0)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let o of t)(o=+e(o,++i,t))&&(n+=o)}return n}function Xa(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Ew(t){return t}var Hu=1,Wu=2,Bf=3,Qr=4,Kh=1e-6;function Aw(t){return"translate("+t+",0)"}function $w(t){return"translate(0,"+t+")"}function zw(t){return e=>+t(e)}function Nw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Iw(){return!this.__axis}function Vm(t,e){var n=[],i=null,o=null,a=6,u=6,c=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=t===Hu||t===Qr?-1:1,d=t===Qr||t===Wu?"x":"y",m=t===Hu||t===Bf?Aw:$w;function g(_){var v=i??(e.ticks?e.ticks.apply(e,n):e.domain()),w=o??(e.tickFormat?e.tickFormat.apply(e,n):Ew),x=Math.max(a,0)+c,P=e.range(),T=+P[0]+l,S=+P[P.length-1]+l,M=(e.bandwidth?Nw:zw)(e.copy(),l),C=_.selection?_.selection():_,k=C.selectAll(".domain").data([null]),A=C.selectAll(".tick").data(v,e).order(),N=A.exit(),B=A.enter().append("g").attr("class","tick"),R=A.select("line"),$=A.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(B),R=R.merge(B.append("line").attr("stroke","currentColor").attr(d+"2",h*a)),$=$.merge(B.append("text").attr("fill","currentColor").attr(d,h*x).attr("dy",t===Hu?"0em":t===Bf?"0.71em":"0.32em")),_!==C&&(k=k.transition(_),A=A.transition(_),R=R.transition(_),$=$.transition(_),N=N.transition(_).attr("opacity",Kh).attr("transform",function(H){return isFinite(H=M(H))?m(H+l):this.getAttribute("transform")}),B.attr("opacity",Kh).attr("transform",function(H){var X=this.parentNode.__axis;return m((X&&isFinite(X=X(H))?X:M(H))+l)})),N.remove(),k.attr("d",t===Qr||t===Wu?u?"M"+h*u+","+T+"H"+l+"V"+S+"H"+h*u:"M"+l+","+T+"V"+S:u?"M"+T+","+h*u+"V"+l+"H"+S+"V"+h*u:"M"+T+","+l+"H"+S),A.attr("opacity",1).attr("transform",function(H){return m(M(H)+l)}),R.attr(d+"2",h*a),$.attr(d,h*x).text(w),C.filter(Iw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Wu?"start":t===Qr?"end":"middle"),C.each(function(){this.__axis=M})}return g.scale=function(_){return arguments.length?(e=_,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(_){return arguments.length?(n=_==null?[]:Array.from(_),g):n.slice()},g.tickValues=function(_){return arguments.length?(i=_==null?null:Array.from(_),g):i&&i.slice()},g.tickFormat=function(_){return arguments.length?(o=_,g):o},g.tickSize=function(_){return arguments.length?(a=u=+_,g):a},g.tickSizeInner=function(_){return arguments.length?(a=+_,g):a},g.tickSizeOuter=function(_){return arguments.length?(u=+_,g):u},g.tickPadding=function(_){return arguments.length?(c=+_,g):c},g.offset=function(_){return arguments.length?(l=+_,g):l},g}function Ym(t){return Vm(Bf,t)}function Ow(t){return Vm(Qr,t)}var Dw={value:()=>{}};function Uc(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Oa(n)}function Oa(t){this._=t}function Bw(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Oa.prototype=Uc.prototype={constructor:Oa,on:function(t,e){var n=this._,i=Bw(t+"",n),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(t=i[a]).type)&&(o=Rw(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(o=(t=i[a]).type)n[o]=Jh(n[o],t.name,e);else if(e==null)for(o in n)n[o]=Jh(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Oa(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,o=a.length;i<o;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,n)}};function Rw(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function Jh(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Dw,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Rf="http://www.w3.org/1999/xhtml";const lr={svg:"http://www.w3.org/2000/svg",xhtml:Rf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Os(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),lr.hasOwnProperty(e)?{space:lr[e],local:t}:t}function Zw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Rf&&e.documentElement.namespaceURI===Rf?e.createElement(t):e.createElementNS(n,t)}}function Fw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ds(t){var e=Os(t);return(e.local?Fw:Zw)(e)}function Uw(){}function Hc(t){return t==null?Uw:function(){return this.querySelector(t)}}function Hw(t){typeof t!="function"&&(t=Hc(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=new Array(u),l,h,d=0;d<u;++d)(l=a[d])&&(h=t.call(l,l.__data__,d,a))&&("__data__"in l&&(h.__data__=l.__data__),c[d]=h);return new Se(i,this._parents)}function Ww(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function qw(){return[]}function Gm(t){return t==null?qw:function(){return this.querySelectorAll(t)}}function Vw(t){return function(){return Ww(t.apply(this,arguments))}}function Yw(t){typeof t=="function"?t=Vw(t):t=Gm(t);for(var e=this._groups,n=e.length,i=[],o=[],a=0;a<n;++a)for(var u=e[a],c=u.length,l,h=0;h<c;++h)(l=u[h])&&(i.push(t.call(l,l.__data__,h,u)),o.push(l));return new Se(i,o)}function Xm(t){return function(){return this.matches(t)}}function jm(t){return function(e){return e.matches(t)}}var Gw=Array.prototype.find;function Xw(t){return function(){return Gw.call(this.children,t)}}function jw(){return this.firstElementChild}function Kw(t){return this.select(t==null?jw:Xw(typeof t=="function"?t:jm(t)))}var Jw=Array.prototype.filter;function Qw(){return Array.from(this.children)}function t2(t){return function(){return Jw.call(this.children,t)}}function e2(t){return this.selectAll(t==null?Qw:t2(typeof t=="function"?t:jm(t)))}function n2(t){typeof t!="function"&&(t=Xm(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=[],l,h=0;h<u;++h)(l=a[h])&&t.call(l,l.__data__,h,a)&&c.push(l);return new Se(i,this._parents)}function Km(t){return new Array(t.length)}function i2(){return new Se(this._enter||this._groups.map(Km),this._parents)}function ja(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ja.prototype={constructor:ja,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function r2(t){return function(){return t}}function o2(t,e,n,i,o,a){for(var u=0,c,l=e.length,h=a.length;u<h;++u)(c=e[u])?(c.__data__=a[u],i[u]=c):n[u]=new ja(t,a[u]);for(;u<l;++u)(c=e[u])&&(o[u]=c)}function a2(t,e,n,i,o,a,u){var c,l,h=new Map,d=e.length,m=a.length,g=new Array(d),_;for(c=0;c<d;++c)(l=e[c])&&(g[c]=_=u.call(l,l.__data__,c,e)+"",h.has(_)?o[c]=l:h.set(_,l));for(c=0;c<m;++c)_=u.call(t,a[c],c,a)+"",(l=h.get(_))?(i[c]=l,l.__data__=a[c],h.delete(_)):n[c]=new ja(t,a[c]);for(c=0;c<d;++c)(l=e[c])&&h.get(g[c])===l&&(o[c]=l)}function s2(t){return t.__data__}function u2(t,e){if(!arguments.length)return Array.from(this,s2);var n=e?a2:o2,i=this._parents,o=this._groups;typeof t!="function"&&(t=r2(t));for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),h=0;h<a;++h){var d=i[h],m=o[h],g=m.length,_=f2(t.call(d,d&&d.__data__,h,i)),v=_.length,w=c[h]=new Array(v),x=u[h]=new Array(v),P=l[h]=new Array(g);n(d,m,w,x,P,_,e);for(var T=0,S=0,M,C;T<v;++T)if(M=w[T]){for(T>=S&&(S=T+1);!(C=x[S])&&++S<v;);M._next=C||null}}return u=new Se(u,i),u._enter=c,u._exit=l,u}function f2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function c2(){return new Se(this._exit||this._groups.map(Km),this._parents)}function l2(t,e,n){var i=this.enter(),o=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function h2(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,a=i.length,u=Math.min(o,a),c=new Array(o),l=0;l<u;++l)for(var h=n[l],d=i[l],m=h.length,g=c[l]=new Array(m),_,v=0;v<m;++v)(_=h[v]||d[v])&&(g[v]=_);for(;l<o;++l)c[l]=n[l];return new Se(c,this._parents)}function d2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function p2(t){t||(t=m2);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var u=n[a],c=u.length,l=o[a]=new Array(c),h,d=0;d<c;++d)(h=u[d])&&(l[d]=h);l.sort(e)}return new Se(o,this._parents).order()}function m2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function g2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function _2(){return Array.from(this)}function y2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function v2(){let t=0;for(const e of this)++t;return t}function b2(){return!this.node()}function w2(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],a=0,u=o.length,c;a<u;++a)(c=o[a])&&t.call(c,c.__data__,a,o);return this}function x2(t){return function(){this.removeAttribute(t)}}function M2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function T2(t,e){return function(){this.setAttribute(t,e)}}function L2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function S2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function P2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function k2(t,e){var n=Os(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?M2:x2:typeof e=="function"?n.local?P2:S2:n.local?L2:T2)(n,e))}function Jm(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function C2(t){return function(){this.style.removeProperty(t)}}function E2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function A2(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function $2(t,e,n){return arguments.length>1?this.each((e==null?C2:typeof e=="function"?A2:E2)(t,e,n??"")):hr(this.node(),t)}function hr(t,e){return t.style.getPropertyValue(e)||Jm(t).getComputedStyle(t,null).getPropertyValue(e)}function z2(t){return function(){delete this[t]}}function N2(t,e){return function(){this[t]=e}}function I2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function O2(t,e){return arguments.length>1?this.each((e==null?z2:typeof e=="function"?I2:N2)(t,e)):this.node()[t]}function Qm(t){return t.trim().split(/^|\s+/)}function Wc(t){return t.classList||new t0(t)}function t0(t){this._node=t,this._names=Qm(t.getAttribute("class")||"")}t0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function e0(t,e){for(var n=Wc(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function n0(t,e){for(var n=Wc(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function D2(t){return function(){e0(this,t)}}function B2(t){return function(){n0(this,t)}}function R2(t,e){return function(){(e.apply(this,arguments)?e0:n0)(this,t)}}function Z2(t,e){var n=Qm(t+"");if(arguments.length<2){for(var i=Wc(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?R2:e?D2:B2)(n,e))}function F2(){this.textContent=""}function U2(t){return function(){this.textContent=t}}function H2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function W2(t){return arguments.length?this.each(t==null?F2:(typeof t=="function"?H2:U2)(t)):this.node().textContent}function q2(){this.innerHTML=""}function V2(t){return function(){this.innerHTML=t}}function Y2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function G2(t){return arguments.length?this.each(t==null?q2:(typeof t=="function"?Y2:V2)(t)):this.node().innerHTML}function X2(){this.nextSibling&&this.parentNode.appendChild(this)}function j2(){return this.each(X2)}function K2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J2(){return this.each(K2)}function Q2(t){var e=typeof t=="function"?t:Ds(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function tx(){return null}function ex(t,e){var n=typeof t=="function"?t:Ds(t),i=e==null?tx:typeof e=="function"?e:Hc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function nx(){var t=this.parentNode;t&&t.removeChild(this)}function ix(){return this.each(nx)}function rx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ox(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ax(t){return this.select(t?ox:rx)}function sx(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ux(t){return function(e){t.call(this,e,this.__data__)}}function fx(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function cx(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,a;n<o;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function lx(t,e,n){return function(){var i=this.__on,o,a=ux(e);if(i){for(var u=0,c=i.length;u<c;++u)if((o=i[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=e;return}}this.addEventListener(t.type,a,n),o={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(o):this.__on=[o]}}function hx(t,e,n){var i=fx(t+""),o,a=i.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var l=0,h=c.length,d;l<h;++l)for(o=0,d=c[l];o<a;++o)if((u=i[o]).type===d.type&&u.name===d.name)return d.value}return}for(c=e?lx:cx,o=0;o<a;++o)this.each(c(i[o],e,n));return this}function i0(t,e,n){var i=Jm(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function dx(t,e){return function(){return i0(this,t,e)}}function px(t,e){return function(){return i0(this,t,e.apply(this,arguments))}}function mx(t,e){return this.each((typeof e=="function"?px:dx)(t,e))}function*gx(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var r0=[null];function Se(t,e){this._groups=t,this._parents=e}function Io(){return new Se([[document.documentElement]],r0)}function _x(){return this}Se.prototype=Io.prototype={constructor:Se,select:Hw,selectAll:Yw,selectChild:Kw,selectChildren:e2,filter:n2,data:u2,enter:i2,exit:c2,join:l2,merge:h2,selection:_x,order:d2,sort:p2,call:g2,nodes:_2,node:y2,size:v2,empty:b2,each:w2,attr:k2,style:$2,property:O2,classed:Z2,text:W2,html:G2,raise:j2,lower:J2,append:Q2,insert:ex,remove:ix,clone:ax,datum:sx,on:hx,dispatch:mx,[Symbol.iterator]:gx};function be(t){return typeof t=="string"?new Se([[document.querySelector(t)]],[document.documentElement]):new Se([[t]],r0)}function yx(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Zf(t,e){if(t=yx(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Ff={capture:!0,passive:!1};function Uf(t){t.preventDefault(),t.stopImmediatePropagation()}function vx(t){var e=t.document.documentElement,n=be(t).on("dragstart.drag",Uf,Ff);"onselectstart"in e?n.on("selectstart.drag",Uf,Ff):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function bx(t,e){var n=t.document.documentElement,i=be(t).on("dragstart.drag",null);e&&(i.on("click.drag",Uf,Ff),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Lr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Oo(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Jn(){}var Mi=.7,dr=1/Mi,sr="\\s*([+-]?\\d+)\\s*",yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wx=/^#([0-9a-f]{3,8})$/,xx=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),Mx=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),Tx=new RegExp(`^rgba\\(${sr},${sr},${sr},${yo}\\)$`),Lx=new RegExp(`^rgba\\(${dn},${dn},${dn},${yo}\\)$`),Sx=new RegExp(`^hsl\\(${yo},${dn},${dn}\\)$`),Px=new RegExp(`^hsla\\(${yo},${dn},${dn},${yo}\\)$`),Qh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lr(Jn,Ti,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:td,formatHex:td,formatHex8:kx,formatHsl:Cx,formatRgb:ed,toString:ed});function td(){return this.rgb().formatHex()}function kx(){return this.rgb().formatHex8()}function Cx(){return o0(this).formatHsl()}function ed(){return this.rgb().formatRgb()}function Ti(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?nd(e):n===3?new Kt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?_a(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?_a(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=xx.exec(t))?new Kt(e[1],e[2],e[3],1):(e=Mx.exec(t))?new Kt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tx.exec(t))?_a(e[1],e[2],e[3],e[4]):(e=Lx.exec(t))?_a(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Sx.exec(t))?od(e[1],e[2]/100,e[3]/100,1):(e=Px.exec(t))?od(e[1],e[2]/100,e[3]/100,e[4]):Qh.hasOwnProperty(t)?nd(Qh[t]):t==="transparent"?new Kt(NaN,NaN,NaN,0):null}function nd(t){return new Kt(t>>16&255,t>>8&255,t&255,1)}function _a(t,e,n,i){return i<=0&&(t=e=n=NaN),new Kt(t,e,n,i)}function qc(t){return t instanceof Jn||(t=Ti(t)),t?(t=t.rgb(),new Kt(t.r,t.g,t.b,t.opacity)):new Kt}function jn(t,e,n,i){return arguments.length===1?qc(t):new Kt(t,e,n,i??1)}function Kt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Lr(Kt,jn,Oo(Jn,{brighter(t){return t=t==null?dr:Math.pow(dr,t),new Kt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mi:Math.pow(Mi,t),new Kt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Kt(mi(this.r),mi(this.g),mi(this.b),Ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:id,formatHex:id,formatHex8:Ex,formatRgb:rd,toString:rd}));function id(){return`#${li(this.r)}${li(this.g)}${li(this.b)}`}function Ex(){return`#${li(this.r)}${li(this.g)}${li(this.b)}${li((isNaN(this.opacity)?1:this.opacity)*255)}`}function rd(){const t=Ka(this.opacity);return`${t===1?"rgb(":"rgba("}${mi(this.r)}, ${mi(this.g)}, ${mi(this.b)}${t===1?")":`, ${t})`}`}function Ka(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function li(t){return t=mi(t),(t<16?"0":"")+t.toString(16)}function od(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qe(t,e,n,i)}function o0(t){if(t instanceof qe)return new qe(t.h,t.s,t.l,t.opacity);if(t instanceof Jn||(t=Ti(t)),!t)return new qe;if(t instanceof qe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),u=NaN,c=a-o,l=(a+o)/2;return c?(e===a?u=(n-i)/c+(n<i)*6:n===a?u=(i-e)/c+2:u=(e-n)/c+4,c/=l<.5?a+o:2-a-o,u*=60):c=l>0&&l<1?0:u,new qe(u,c,l,t.opacity)}function Hf(t,e,n,i){return arguments.length===1?o0(t):new qe(t,e,n,i??1)}function qe(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Lr(qe,Hf,Oo(Jn,{brighter(t){return t=t==null?dr:Math.pow(dr,t),new qe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mi:Math.pow(Mi,t),new qe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Kt(qu(t>=240?t-240:t+120,o,i),qu(t,o,i),qu(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new qe(ad(this.h),ya(this.s),ya(this.l),Ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ka(this.opacity);return`${t===1?"hsl(":"hsla("}${ad(this.h)}, ${ya(this.s)*100}%, ${ya(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ad(t){return t=(t||0)%360,t<0?t+360:t}function ya(t){return Math.max(0,Math.min(1,t||0))}function qu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const a0=Math.PI/180,s0=180/Math.PI,Ja=18,u0=.96422,f0=1,c0=.82521,l0=4/29,ur=6/29,h0=3*ur*ur,Ax=ur*ur*ur;function d0(t){if(t instanceof pn)return new pn(t.l,t.a,t.b,t.opacity);if(t instanceof $n)return p0(t);t instanceof Kt||(t=qc(t));var e=Xu(t.r),n=Xu(t.g),i=Xu(t.b),o=Vu((.2225045*e+.7168786*n+.0606169*i)/f0),a,u;return e===n&&n===i?a=u=o:(a=Vu((.4360747*e+.3850649*n+.1430804*i)/u0),u=Vu((.0139322*e+.0971045*n+.7141733*i)/c0)),new pn(116*o-16,500*(a-o),200*(o-u),t.opacity)}function Wf(t,e,n,i){return arguments.length===1?d0(t):new pn(t,e,n,i??1)}function pn(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}Lr(pn,Wf,Oo(Jn,{brighter(t){return new pn(this.l+Ja*(t??1),this.a,this.b,this.opacity)},darker(t){return new pn(this.l-Ja*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=u0*Yu(e),t=f0*Yu(t),n=c0*Yu(n),new Kt(Gu(3.1338561*e-1.6168667*t-.4906146*n),Gu(-.9787684*e+1.9161415*t+.033454*n),Gu(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Vu(t){return t>Ax?Math.pow(t,1/3):t/h0+l0}function Yu(t){return t>ur?t*t*t:h0*(t-l0)}function Gu(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Xu(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function $x(t){if(t instanceof $n)return new $n(t.h,t.c,t.l,t.opacity);if(t instanceof pn||(t=d0(t)),t.a===0&&t.b===0)return new $n(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*s0;return new $n(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function qf(t,e,n,i){return arguments.length===1?$x(t):new $n(t,e,n,i??1)}function $n(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function p0(t){if(isNaN(t.h))return new pn(t.l,0,0,t.opacity);var e=t.h*a0;return new pn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Lr($n,qf,Oo(Jn,{brighter(t){return new $n(this.h,this.c,this.l+Ja*(t??1),this.opacity)},darker(t){return new $n(this.h,this.c,this.l-Ja*(t??1),this.opacity)},rgb(){return p0(this).rgb()}}));var m0=-.14861,Vc=1.78277,Yc=-.29227,Bs=-.90649,vo=1.97294,sd=vo*Bs,ud=vo*Vc,fd=Vc*Yc-Bs*m0;function zx(t){if(t instanceof gi)return new gi(t.h,t.s,t.l,t.opacity);t instanceof Kt||(t=qc(t));var e=t.r/255,n=t.g/255,i=t.b/255,o=(fd*i+sd*e-ud*n)/(fd+sd-ud),a=i-o,u=(vo*(n-o)-Yc*a)/Bs,c=Math.sqrt(u*u+a*a)/(vo*o*(1-o)),l=c?Math.atan2(u,a)*s0-120:NaN;return new gi(l<0?l+360:l,c,o,t.opacity)}function mn(t,e,n,i){return arguments.length===1?zx(t):new gi(t,e,n,i??1)}function gi(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Lr(gi,mn,Oo(Jn,{brighter(t){return t=t==null?dr:Math.pow(dr,t),new gi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mi:Math.pow(Mi,t),new gi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*a0,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),o=Math.sin(t);return new Kt(255*(e+n*(m0*i+Vc*o)),255*(e+n*(Yc*i+Bs*o)),255*(e+n*(vo*i)),this.opacity)}}));function Nx(t,e,n,i,o){var a=t*t,u=a*t;return((1-3*t+3*a-u)*e+(4-6*a+3*u)*n+(1+3*t+3*a-3*u)*i+u*o)/6}function Ix(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,c=i<e-1?t[i+2]:2*a-o;return Nx((n-i/e)*e,u,o,a,c)}}const Rs=t=>()=>t;function g0(t,e){return function(n){return t+n*e}}function Ox(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Gc(t,e){var n=e-t;return n?g0(t,n>180||n<-180?n-360*Math.round(n/360):n):Rs(isNaN(t)?e:t)}function Dx(t){return(t=+t)==1?ae:function(e,n){return n-e?Ox(e,n,t):Rs(isNaN(e)?n:e)}}function ae(t,e){var n=e-t;return n?g0(t,n):Rs(isNaN(t)?e:t)}const Li=function t(e){var n=Dx(e);function i(o,a){var u=n((o=jn(o)).r,(a=jn(a)).r),c=n(o.g,a.g),l=n(o.b,a.b),h=ae(o.opacity,a.opacity);return function(d){return o.r=u(d),o.g=c(d),o.b=l(d),o.opacity=h(d),o+""}}return i.gamma=t,i}(1);function Bx(t){return function(e){var n=e.length,i=new Array(n),o=new Array(n),a=new Array(n),u,c;for(u=0;u<n;++u)c=jn(e[u]),i[u]=c.r||0,o[u]=c.g||0,a[u]=c.b||0;return i=t(i),o=t(o),a=t(a),c.opacity=1,function(l){return c.r=i(l),c.g=o(l),c.b=a(l),c+""}}}var Rx=Bx(Ix);function Zx(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<n;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function Fx(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ux(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n),u;for(u=0;u<i;++u)o[u]=Sr(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(c){for(u=0;u<i;++u)a[u]=o[u](c);return a}}function Hx(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function oe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wx(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Sr(t[o],e[o]):i[o]=e[o];return function(a){for(o in n)i[o]=n[o](a);return i}}var Vf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ju=new RegExp(Vf.source,"g");function qx(t){return function(){return t}}function Vx(t){return function(e){return t(e)+""}}function _0(t,e){var n=Vf.lastIndex=ju.lastIndex=0,i,o,a,u=-1,c=[],l=[];for(t=t+"",e=e+"";(i=Vf.exec(t))&&(o=ju.exec(e));)(a=o.index)>n&&(a=e.slice(n,a),c[u]?c[u]+=a:c[++u]=a),(i=i[0])===(o=o[0])?c[u]?c[u]+=o:c[++u]=o:(c[++u]=null,l.push({i:u,x:oe(i,o)})),n=ju.lastIndex;return n<e.length&&(a=e.slice(n),c[u]?c[u]+=a:c[++u]=a),c.length<2?l[0]?Vx(l[0].x):qx(e):(e=l.length,function(h){for(var d=0,m;d<e;++d)c[(m=l[d]).i]=m.x(h);return c.join("")})}function Sr(t,e){var n=typeof e,i;return e==null||n==="boolean"?Rs(e):(n==="number"?oe:n==="string"?(i=Ti(e))?(e=i,Li):_0:e instanceof Ti?Li:e instanceof Date?Hx:Fx(e)?Zx:Array.isArray(e)?Ux:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wx:oe)(t,e)}function Xc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var cd=180/Math.PI,Yf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function y0(t,e,n,i,o,a){var u,c,l;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,l/=c),t*i<e*n&&(t=-t,e=-e,l=-l,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*cd,skewX:Math.atan(l)*cd,scaleX:u,scaleY:c}}var va;function Yx(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Yf:y0(e.a,e.b,e.c,e.d,e.e,e.f)}function Gx(t){return t==null||(va||(va=document.createElementNS("http://www.w3.org/2000/svg","g")),va.setAttribute("transform",t),!(t=va.transform.baseVal.consolidate()))?Yf:(t=t.matrix,y0(t.a,t.b,t.c,t.d,t.e,t.f))}function v0(t,e,n,i){function o(h){return h.length?h.pop()+" ":""}function a(h,d,m,g,_,v){if(h!==m||d!==g){var w=_.push("translate(",null,e,null,n);v.push({i:w-4,x:oe(h,m)},{i:w-2,x:oe(d,g)})}else(m||g)&&_.push("translate("+m+e+g+n)}function u(h,d,m,g){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),g.push({i:m.push(o(m)+"rotate(",null,i)-2,x:oe(h,d)})):d&&m.push(o(m)+"rotate("+d+i)}function c(h,d,m,g){h!==d?g.push({i:m.push(o(m)+"skewX(",null,i)-2,x:oe(h,d)}):d&&m.push(o(m)+"skewX("+d+i)}function l(h,d,m,g,_,v){if(h!==m||d!==g){var w=_.push(o(_)+"scale(",null,",",null,")");v.push({i:w-4,x:oe(h,m)},{i:w-2,x:oe(d,g)})}else(m!==1||g!==1)&&_.push(o(_)+"scale("+m+","+g+")")}return function(h,d){var m=[],g=[];return h=t(h),d=t(d),a(h.translateX,h.translateY,d.translateX,d.translateY,m,g),u(h.rotate,d.rotate,m,g),c(h.skewX,d.skewX,m,g),l(h.scaleX,h.scaleY,d.scaleX,d.scaleY,m,g),h=d=null,function(_){for(var v=-1,w=g.length,x;++v<w;)m[(x=g[v]).i]=x.x(_);return m.join("")}}}var Xx=v0(Yx,"px, ","px)","deg)"),jx=v0(Gx,", ",")",")");function Kx(t){return function(e,n){var i=t((e=Hf(e)).h,(n=Hf(n)).h),o=ae(e.s,n.s),a=ae(e.l,n.l),u=ae(e.opacity,n.opacity);return function(c){return e.h=i(c),e.s=o(c),e.l=a(c),e.opacity=u(c),e+""}}}const Jx=Kx(Gc);function Qx(t,e){var n=ae((t=Wf(t)).l,(e=Wf(e)).l),i=ae(t.a,e.a),o=ae(t.b,e.b),a=ae(t.opacity,e.opacity);return function(u){return t.l=n(u),t.a=i(u),t.b=o(u),t.opacity=a(u),t+""}}function t6(t){return function(e,n){var i=t((e=qf(e)).h,(n=qf(n)).h),o=ae(e.c,n.c),a=ae(e.l,n.l),u=ae(e.opacity,n.opacity);return function(c){return e.h=i(c),e.c=o(c),e.l=a(c),e.opacity=u(c),e+""}}}const e6=t6(Gc);function b0(t){return function e(n){n=+n;function i(o,a){var u=t((o=mn(o)).h,(a=mn(a)).h),c=ae(o.s,a.s),l=ae(o.l,a.l),h=ae(o.opacity,a.opacity);return function(d){return o.h=u(d),o.s=c(d),o.l=l(Math.pow(d,n)),o.opacity=h(d),o+""}}return i.gamma=e,i}(1)}b0(Gc);var jc=b0(ae);function Zs(t,e){e===void 0&&(e=t,t=Sr);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return function(u){var c=Math.max(0,Math.min(i-1,Math.floor(u*=i)));return a[c](u-c)}}function Ge(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}var pr=0,to=0,Yr=0,w0=1e3,Qa,eo,ts=0,Si=0,Fs=0,bo=typeof performance=="object"&&performance.now?performance:Date,x0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kc(){return Si||(x0(n6),Si=bo.now()+Fs)}function n6(){Si=0}function es(){this._call=this._time=this._next=null}es.prototype=M0.prototype={constructor:es,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Kc():+n)+(e==null?0:+e),!this._next&&eo!==this&&(eo?eo._next=this:Qa=this,eo=this),this._call=t,this._time=n,Gf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Gf())}};function M0(t,e,n){var i=new es;return i.restart(t,e,n),i}function i6(){Kc(),++pr;for(var t=Qa,e;t;)(e=Si-t._time)>=0&&t._call.call(void 0,e),t=t._next;--pr}function ld(){Si=(ts=bo.now())+Fs,pr=to=0;try{i6()}finally{pr=0,o6(),Si=0}}function r6(){var t=bo.now(),e=t-ts;e>w0&&(Fs-=e,ts=t)}function o6(){for(var t,e=Qa,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Qa=n);eo=t,Gf(i)}function Gf(t){if(!pr){to&&(to=clearTimeout(to));var e=t-Si;e>24?(t<1/0&&(to=setTimeout(ld,t-bo.now()-Fs)),Yr&&(Yr=clearInterval(Yr))):(Yr||(ts=bo.now(),Yr=setInterval(r6,w0)),pr=1,x0(ld))}}function hd(t,e,n){var i=new es;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var a6=Uc("start","end","cancel","interrupt"),s6=[],T0=0,dd=1,Xf=2,Da=3,pd=4,jf=5,Ba=6;function Us(t,e,n,i,o,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;u6(t,n,{name:e,index:i,group:o,on:a6,tween:s6,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:T0})}function Jc(t,e){var n=Qe(t,e);if(n.state>T0)throw new Error("too late; already scheduled");return n}function yn(t,e){var n=Qe(t,e);if(n.state>Da)throw new Error("too late; already running");return n}function Qe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function u6(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=M0(a,0,n.time);function a(h){n.state=dd,n.timer.restart(u,n.delay,n.time),n.delay<=h&&u(h-n.delay)}function u(h){var d,m,g,_;if(n.state!==dd)return l();for(d in i)if(_=i[d],_.name===n.name){if(_.state===Da)return hd(u);_.state===pd?(_.state=Ba,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[d]):+d<e&&(_.state=Ba,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[d])}if(hd(function(){n.state===Da&&(n.state=pd,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=Xf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Xf){for(n.state=Da,o=new Array(g=n.tween.length),d=0,m=-1;d<g;++d)(_=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(o[++m]=_);o.length=m+1}}function c(h){for(var d=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(l),n.state=jf,1),m=-1,g=o.length;++m<g;)o[m].call(t,d);n.state===jf&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Ba,n.timer.stop(),delete i[e];for(var h in i)return;delete t.__transition}}function Kf(t,e){var n=t.__transition,i,o,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){a=!1;continue}o=i.state>Xf&&i.state<jf,i.state=Ba,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}a&&delete t.__transition}}function f6(t){return this.each(function(){Kf(this,t)})}function c6(t,e){var n,i;return function(){var o=yn(this,t),a=o.tween;if(a!==n){i=n=a;for(var u=0,c=i.length;u<c;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function l6(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=yn(this,t),u=a.tween;if(u!==i){o=(i=u).slice();for(var c={name:e,value:n},l=0,h=o.length;l<h;++l)if(o[l].name===e){o[l]=c;break}l===h&&o.push(c)}a.tween=o}}function h6(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Qe(this.node(),n).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===t)return u.value;return null}return this.each((e==null?c6:l6)(n,t,e))}function Qc(t,e,n){var i=t._id;return t.each(function(){var o=yn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return Qe(o,i).value[e]}}function L0(t,e){var n;return(typeof e=="number"?oe:e instanceof Ti?Li:(n=Ti(e))?(e=n,Li):_0)(t,e)}function d6(t){return function(){this.removeAttribute(t)}}function p6(t){return function(){this.removeAttributeNS(t.space,t.local)}}function m6(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttribute(t);return u===o?null:u===i?a:a=e(i=u,n)}}function g6(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===i?a:a=e(i=u,n)}}function _6(t,e,n){var i,o,a;return function(){var u,c=n(this),l;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),l=c+"",u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c)))}}function y6(t,e,n){var i,o,a;return function(){var u,c=n(this),l;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),l=c+"",u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c)))}}function v6(t,e){var n=Os(t),i=n==="transform"?jx:L0;return this.attrTween(t,typeof e=="function"?(n.local?y6:_6)(n,i,Qc(this,"attr."+t,e)):e==null?(n.local?p6:d6)(n):(n.local?g6:m6)(n,i,e))}function b6(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function w6(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function x6(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&w6(t,a)),n}return o._value=e,o}function M6(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&b6(t,a)),n}return o._value=e,o}function T6(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Os(t);return this.tween(n,(i.local?x6:M6)(i,e))}function L6(t,e){return function(){Jc(this,t).delay=+e.apply(this,arguments)}}function S6(t,e){return e=+e,function(){Jc(this,t).delay=e}}function P6(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?L6:S6)(e,t)):Qe(this.node(),e).delay}function k6(t,e){return function(){yn(this,t).duration=+e.apply(this,arguments)}}function C6(t,e){return e=+e,function(){yn(this,t).duration=e}}function E6(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?k6:C6)(e,t)):Qe(this.node(),e).duration}function A6(t,e){if(typeof e!="function")throw new Error;return function(){yn(this,t).ease=e}}function $6(t){var e=this._id;return arguments.length?this.each(A6(e,t)):Qe(this.node(),e).ease}function z6(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yn(this,t).ease=n}}function N6(t){if(typeof t!="function")throw new Error;return this.each(z6(this._id,t))}function I6(t){typeof t!="function"&&(t=Xm(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=[],l,h=0;h<u;++h)(l=a[h])&&t.call(l,l.__data__,h,a)&&c.push(l);return new On(i,this._parents,this._name,this._id)}function O6(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var l=e[c],h=n[c],d=l.length,m=u[c]=new Array(d),g,_=0;_<d;++_)(g=l[_]||h[_])&&(m[_]=g);for(;c<i;++c)u[c]=e[c];return new On(u,this._parents,this._name,this._id)}function D6(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function B6(t,e,n){var i,o,a=D6(e)?Jc:yn;return function(){var u=a(this,t),c=u.on;c!==i&&(o=(i=c).copy()).on(e,n),u.on=o}}function R6(t,e){var n=this._id;return arguments.length<2?Qe(this.node(),n).on.on(t):this.each(B6(n,t,e))}function Z6(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function F6(){return this.on("end.remove",Z6(this._id))}function U6(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Hc(t));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var c=i[u],l=c.length,h=a[u]=new Array(l),d,m,g=0;g<l;++g)(d=c[g])&&(m=t.call(d,d.__data__,g,c))&&("__data__"in d&&(m.__data__=d.__data__),h[g]=m,Us(h[g],e,n,g,h,Qe(d,n)));return new On(a,this._parents,e,n)}function H6(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Gm(t));for(var i=this._groups,o=i.length,a=[],u=[],c=0;c<o;++c)for(var l=i[c],h=l.length,d,m=0;m<h;++m)if(d=l[m]){for(var g=t.call(d,d.__data__,m,l),_,v=Qe(d,n),w=0,x=g.length;w<x;++w)(_=g[w])&&Us(_,e,n,w,g,v);a.push(g),u.push(d)}return new On(a,u,e,n)}var W6=Io.prototype.constructor;function q6(){return new W6(this._groups,this._parents)}function V6(t,e){var n,i,o;return function(){var a=hr(this,t),u=(this.style.removeProperty(t),hr(this,t));return a===u?null:a===n&&u===i?o:o=e(n=a,i=u)}}function S0(t){return function(){this.style.removeProperty(t)}}function Y6(t,e,n){var i,o=n+"",a;return function(){var u=hr(this,t);return u===o?null:u===i?a:a=e(i=u,n)}}function G6(t,e,n){var i,o,a;return function(){var u=hr(this,t),c=n(this),l=c+"";return c==null&&(l=c=(this.style.removeProperty(t),hr(this,t))),u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c))}}function X6(t,e){var n,i,o,a="style."+e,u="end."+a,c;return function(){var l=yn(this,t),h=l.on,d=l.value[a]==null?c||(c=S0(e)):void 0;(h!==n||o!==d)&&(i=(n=h).copy()).on(u,o=d),l.on=i}}function j6(t,e,n){var i=(t+="")=="transform"?Xx:L0;return e==null?this.styleTween(t,V6(t,i)).on("end.style."+t,S0(t)):typeof e=="function"?this.styleTween(t,G6(t,i,Qc(this,"style."+t,e))).each(X6(this._id,t)):this.styleTween(t,Y6(t,i,e),n).on("end.style."+t,null)}function K6(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function J6(t,e,n){var i,o;function a(){var u=e.apply(this,arguments);return u!==o&&(i=(o=u)&&K6(t,u,n)),i}return a._value=e,a}function Q6(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,J6(t,e,n??""))}function t3(t){return function(){this.textContent=t}}function e3(t){return function(){var e=t(this);this.textContent=e??""}}function n3(t){return this.tween("text",typeof t=="function"?e3(Qc(this,"text",t)):t3(t==null?"":t+""))}function i3(t){return function(e){this.textContent=t.call(this,e)}}function r3(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&i3(o)),e}return i._value=t,i}function o3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,r3(t))}function a3(){for(var t=this._name,e=this._id,n=P0(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],c=u.length,l,h=0;h<c;++h)if(l=u[h]){var d=Qe(l,e);Us(l,t,n,h,u,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new On(i,this._parents,t,n)}function s3(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(a,u){var c={value:u},l={value:function(){--o===0&&a()}};n.each(function(){var h=yn(this,i),d=h.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(l)),h.on=e}),o===0&&a()})}var u3=0;function On(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function P0(){return++u3}var Ln=Io.prototype;On.prototype={constructor:On,select:U6,selectAll:H6,selectChild:Ln.selectChild,selectChildren:Ln.selectChildren,filter:I6,merge:O6,selection:q6,transition:a3,call:Ln.call,nodes:Ln.nodes,node:Ln.node,size:Ln.size,empty:Ln.empty,each:Ln.each,on:R6,attr:v6,attrTween:T6,style:j6,styleTween:Q6,text:n3,textTween:o3,remove:F6,tween:h6,delay:P6,duration:E6,ease:$6,easeVarying:N6,end:s3,[Symbol.iterator]:Ln[Symbol.iterator]};function f3(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var c3={time:null,delay:0,duration:250,ease:f3};function l3(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function h3(t){var e,n;t instanceof On?(e=t._id,t=t._name):(e=P0(),(n=c3).time=Kc(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],c=u.length,l,h=0;h<c;++h)(l=u[h])&&Us(l,t,e,h,u,n||l3(l,e));return new On(i,this._parents,t,e)}Io.prototype.interrupt=f6;Io.prototype.transition=h3;const Ku=t=>()=>t;function d3(t,{sourceEvent:e,target:n,selection:i,mode:o,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function p3(t){t.stopImmediatePropagation()}function Ju(t){t.preventDefault(),t.stopImmediatePropagation()}var md={name:"drag"},Qu={name:"space"},ji={name:"handle"},Ki={name:"center"};const{abs:gd,max:ie,min:re}=Math;function _d(t){return[+t[0],+t[1]]}function yd(t){return[_d(t[0]),_d(t[1])]}var Ra={name:"x",handles:["w","e"].map(ns),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},tf={name:"y",handles:["n","s"].map(ns),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Sn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},vd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},bd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},m3={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},g3={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ns(t){return{type:t}}function _3(t){return!t.ctrlKey&&!t.button}function y3(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function v3(){return navigator.maxTouchPoints||"ontouchstart"in this}function ef(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function b3(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function w3(){return x3(Ra)}function x3(t){var e=y3,n=_3,i=v3,o=!0,a=Uc("start","brush","end"),u=6,c;function l(x){var P=x.property("__brush",w).selectAll(".overlay").data([ns("overlay")]);P.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Sn.overlay).merge(P).each(function(){var S=ef(this).extent;be(this).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1])}),x.selectAll(".selection").data([ns("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Sn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var T=x.selectAll(".handle").data(t.handles,function(S){return S.type});T.exit().remove(),T.enter().append("rect").attr("class",function(S){return"handle handle--"+S.type}).attr("cursor",function(S){return Sn[S.type]}),x.each(h).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(i).on("touchstart.brush",g).on("touchmove.brush",_).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(x,P,T){x.tween?x.on("start.brush",function(S){d(this,arguments).beforestart().start(S)}).on("interrupt.brush end.brush",function(S){d(this,arguments).end(S)}).tween("brush",function(){var S=this,M=S.__brush,C=d(S,arguments),k=M.selection,A=t.input(typeof P=="function"?P.apply(this,arguments):P,M.extent),N=Sr(k,A);function B(R){M.selection=R===1&&A===null?null:N(R),h.call(S),C.brush()}return k!==null&&A!==null?B:B(1)}):x.each(function(){var S=this,M=arguments,C=S.__brush,k=t.input(typeof P=="function"?P.apply(S,M):P,C.extent),A=d(S,M).beforestart();Kf(S),C.selection=k===null?null:k,h.call(S),A.start(T).brush(T).end(T)})},l.clear=function(x,P){l.move(x,null,P)};function h(){var x=be(this),P=ef(this).selection;P?(x.selectAll(".selection").style("display",null).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1]),x.selectAll(".handle").style("display",null).attr("x",function(T){return T.type[T.type.length-1]==="e"?P[1][0]-u/2:P[0][0]-u/2}).attr("y",function(T){return T.type[0]==="s"?P[1][1]-u/2:P[0][1]-u/2}).attr("width",function(T){return T.type==="n"||T.type==="s"?P[1][0]-P[0][0]+u:u}).attr("height",function(T){return T.type==="e"||T.type==="w"?P[1][1]-P[0][1]+u:u})):x.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(x,P,T){var S=x.__brush.emitter;return S&&(!T||!S.clean)?S:new m(x,P,T)}function m(x,P,T){this.that=x,this.args=P,this.state=x.__brush,this.active=0,this.clean=T}m.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(x,P){return this.starting?(this.starting=!1,this.emit("start",x,P)):this.emit("brush",x),this},brush:function(x,P){return this.emit("brush",x,P),this},end:function(x,P){return--this.active===0&&(delete this.state.emitter,this.emit("end",x,P)),this},emit:function(x,P,T){var S=be(this.that).datum();a.call(x,this.that,new d3(x,{sourceEvent:P,target:l,selection:t.output(this.state.selection),mode:T,dispatch:a}),S)}};function g(x){if(c&&!x.touches||!n.apply(this,arguments))return;var P=this,T=x.target.__data__.type,S=(o&&x.metaKey?T="overlay":T)==="selection"?md:o&&x.altKey?Ki:ji,M=t===tf?null:m3[T],C=t===Ra?null:g3[T],k=ef(P),A=k.extent,N=k.selection,B=A[0][0],R,$,H=A[0][1],X,Y,I=A[1][0],W,Q,q=A[1][1],et,D,F=0,G=0,K,at=M&&C&&o&&x.shiftKey,nt,J,j=Array.from(x.touches||[x],ut=>{const Nt=ut.identifier;return ut=Zf(ut,P),ut.point0=ut.slice(),ut.identifier=Nt,ut});Kf(P);var st=d(P,arguments,!0).beforestart();if(T==="overlay"){N&&(K=!0);const ut=[j[0],j[1]||j[0]];k.selection=N=[[R=t===tf?B:re(ut[0][0],ut[1][0]),X=t===Ra?H:re(ut[0][1],ut[1][1])],[W=t===tf?I:ie(ut[0][0],ut[1][0]),et=t===Ra?q:ie(ut[0][1],ut[1][1])]],j.length>1&&_t(x)}else R=N[0][0],X=N[0][1],W=N[1][0],et=N[1][1];$=R,Y=X,Q=W,D=et;var U=be(P).attr("pointer-events","none"),tt=U.selectAll(".overlay").attr("cursor",Sn[T]);if(x.touches)st.moved=Z,st.ended=ht;else{var ot=be(x.view).on("mousemove.brush",Z,!0).on("mouseup.brush",ht,!0);o&&ot.on("keydown.brush",Ct,!0).on("keyup.brush",Et,!0),vx(x.view)}h.call(P),st.start(x,S.name);function Z(ut){for(const Nt of ut.changedTouches||[ut])for(const en of j)en.identifier===Nt.identifier&&(en.cur=Zf(Nt,P));if(at&&!nt&&!J&&j.length===1){const Nt=j[0];gd(Nt.cur[0]-Nt[0])>gd(Nt.cur[1]-Nt[1])?J=!0:nt=!0}for(const Nt of j)Nt.cur&&(Nt[0]=Nt.cur[0],Nt[1]=Nt.cur[1]);K=!0,Ju(ut),_t(ut)}function _t(ut){const Nt=j[0],en=Nt.point0;var ve;switch(F=Nt[0]-en[0],G=Nt[1]-en[1],S){case Qu:case md:{M&&(F=ie(B-R,re(I-W,F)),$=R+F,Q=W+F),C&&(G=ie(H-X,re(q-et,G)),Y=X+G,D=et+G);break}case ji:{j[1]?(M&&($=ie(B,re(I,j[0][0])),Q=ie(B,re(I,j[1][0])),M=1),C&&(Y=ie(H,re(q,j[0][1])),D=ie(H,re(q,j[1][1])),C=1)):(M<0?(F=ie(B-R,re(I-R,F)),$=R+F,Q=W):M>0&&(F=ie(B-W,re(I-W,F)),$=R,Q=W+F),C<0?(G=ie(H-X,re(q-X,G)),Y=X+G,D=et):C>0&&(G=ie(H-et,re(q-et,G)),Y=X,D=et+G));break}case Ki:{M&&($=ie(B,re(I,R-F*M)),Q=ie(B,re(I,W+F*M))),C&&(Y=ie(H,re(q,X-G*C)),D=ie(H,re(q,et+G*C)));break}}Q<$&&(M*=-1,ve=R,R=W,W=ve,ve=$,$=Q,Q=ve,T in vd&&tt.attr("cursor",Sn[T=vd[T]])),D<Y&&(C*=-1,ve=X,X=et,et=ve,ve=Y,Y=D,D=ve,T in bd&&tt.attr("cursor",Sn[T=bd[T]])),k.selection&&(N=k.selection),nt&&($=N[0][0],Q=N[1][0]),J&&(Y=N[0][1],D=N[1][1]),(N[0][0]!==$||N[0][1]!==Y||N[1][0]!==Q||N[1][1]!==D)&&(k.selection=[[$,Y],[Q,D]],h.call(P),st.brush(ut,S.name))}function ht(ut){if(p3(ut),ut.touches){if(ut.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500)}else bx(ut.view,K),ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);U.attr("pointer-events","all"),tt.attr("cursor",Sn.overlay),k.selection&&(N=k.selection),b3(N)&&(k.selection=null,h.call(P)),st.end(ut,S.name)}function Ct(ut){switch(ut.keyCode){case 16:{at=M&&C;break}case 18:{S===ji&&(M&&(W=Q-F*M,R=$+F*M),C&&(et=D-G*C,X=Y+G*C),S=Ki,_t(ut));break}case 32:{(S===ji||S===Ki)&&(M<0?W=Q-F:M>0&&(R=$-F),C<0?et=D-G:C>0&&(X=Y-G),S=Qu,tt.attr("cursor",Sn.selection),_t(ut));break}default:return}Ju(ut)}function Et(ut){switch(ut.keyCode){case 16:{at&&(nt=J=at=!1,_t(ut));break}case 18:{S===Ki&&(M<0?W=Q:M>0&&(R=$),C<0?et=D:C>0&&(X=Y),S=ji,_t(ut));break}case 32:{S===Qu&&(ut.altKey?(M&&(W=Q-F*M,R=$+F*M),C&&(et=D-G*C,X=Y+G*C),S=Ki):(M<0?W=Q:M>0&&(R=$),C<0?et=D:C>0&&(X=Y),S=ji),tt.attr("cursor",Sn[T]),_t(ut));break}default:return}Ju(ut)}}function _(x){d(this,arguments).moved(x)}function v(x){d(this,arguments).ended(x)}function w(){var x=this.__brush||{selection:null};return x.extent=yd(e.apply(this,arguments)),x.dim=t,x}return l.extent=function(x){return arguments.length?(e=typeof x=="function"?x:Ku(yd(x)),l):e},l.filter=function(x){return arguments.length?(n=typeof x=="function"?x:Ku(!!x),l):n},l.touchable=function(x){return arguments.length?(i=typeof x=="function"?x:Ku(!!x),l):i},l.handleSize=function(x){return arguments.length?(u=+x,l):u},l.keyModifiers=function(x){return arguments.length?(o=!!x,l):o},l.on=function(){var x=a.on.apply(a,arguments);return x===a?l:x},l}const Jf=Math.PI,Qf=2*Jf,ui=1e-6,M3=Qf-ui;function k0(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function T3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return k0;const n=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class L3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?k0:T3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,a,u){this._append`C${+e},${+n},${+i},${+o},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,i,o,a){if(e=+e,n=+n,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,c=this._y1,l=i-e,h=o-n,d=u-e,m=c-n,g=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>ui)if(!(Math.abs(m*l-h*d)>ui)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=i-u,v=o-c,w=l*l+h*h,x=_*_+v*v,P=Math.sqrt(w),T=Math.sqrt(g),S=a*Math.tan((Jf-Math.acos((w+g-x)/(2*P*T)))/2),M=S/T,C=S/P;Math.abs(M-1)>ui&&this._append`L${e+M*d},${n+M*m}`,this._append`A${a},${a},0,0,${+(m*_>d*v)},${this._x1=e+C*l},${this._y1=n+C*h}`}}arc(e,n,i,o,a,u){if(e=+e,n=+n,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(o),l=i*Math.sin(o),h=e+c,d=n+l,m=1^u,g=u?o-a:a-o;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>ui||Math.abs(this._y1-d)>ui)&&this._append`L${h},${d}`,i&&(g<0&&(g=g%Qf+Qf),g>M3?this._append`A${i},${i},0,1,${m},${e-c},${n-l}A${i},${i},0,1,${m},${this._x1=h},${this._y1=d}`:g>ui&&this._append`A${i},${i},0,${+(g>=Jf)},${m},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function tc(t=3){return new L3(+t)}function S3(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function is(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function mr(t){return t=is(Math.abs(t)),t?t[1]:NaN}function P3(t,e){return function(n,i){for(var o=n.length,a=[],u=0,c=t[0],l=0;o>0&&c>0&&(l+c+1>i&&(c=Math.max(1,i-l)),a.push(n.substring(o-=c,o+c)),!((l+=c+1)>i));)c=t[u=(u+1)%t.length];return a.reverse().join(e)}}function k3(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var C3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wo(t){if(!(e=C3.exec(t)))throw new Error("invalid format: "+t);var e;return new tl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}wo.prototype=tl.prototype;function tl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function E3(t){t:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var C0;function A3(t,e){var n=is(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(C0=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+is(t,Math.max(0,e+a-1))[0]}function wd(t,e){var n=is(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const xd={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:S3,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>wd(t*100,e),r:wd,s:A3,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Md(t){return t}var Td=Array.prototype.map,Ld=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $3(t){var e=t.grouping===void 0||t.thousands===void 0?Md:P3(Td.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Md:k3(Td.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function h(m){m=wo(m);var g=m.fill,_=m.align,v=m.sign,w=m.symbol,x=m.zero,P=m.width,T=m.comma,S=m.precision,M=m.trim,C=m.type;C==="n"?(T=!0,C="g"):xd[C]||(S===void 0&&(S=12),M=!0,C="g"),(x||g==="0"&&_==="=")&&(x=!0,g="0",_="=");var k=w==="$"?n:w==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",A=w==="$"?i:/[%p]/.test(C)?u:"",N=xd[C],B=/[defgprs%]/.test(C);S=S===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R($){var H=k,X=A,Y,I,W;if(C==="c")X=N($)+X,$="";else{$=+$;var Q=$<0||1/$<0;if($=isNaN($)?l:N(Math.abs($),S),M&&($=E3($)),Q&&+$==0&&v!=="+"&&(Q=!1),H=(Q?v==="("?v:c:v==="-"||v==="("?"":v)+H,X=(C==="s"?Ld[8+C0/3]:"")+X+(Q&&v==="("?")":""),B){for(Y=-1,I=$.length;++Y<I;)if(W=$.charCodeAt(Y),48>W||W>57){X=(W===46?o+$.slice(Y+1):$.slice(Y))+X,$=$.slice(0,Y);break}}}T&&!x&&($=e($,1/0));var q=H.length+$.length+X.length,et=q<P?new Array(P-q+1).join(g):"";switch(T&&x&&($=e(et+$,et.length?P-X.length:1/0),et=""),_){case"<":$=H+$+X+et;break;case"=":$=H+et+$+X;break;case"^":$=et.slice(0,q=et.length>>1)+H+$+X+et.slice(q);break;default:$=et+H+$+X;break}return a($)}return R.toString=function(){return m+""},R}function d(m,g){var _=h((m=wo(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(mr(g)/3)))*3,w=Math.pow(10,-v),x=Ld[8+v/3];return function(P){return _(w*P)+x}}return{format:h,formatPrefix:d}}var ba,Kn,E0;z3({thousands:",",grouping:[3],currency:["$",""]});function z3(t){return ba=$3(t),Kn=ba.format,E0=ba.formatPrefix,ba}function N3(t){return Math.max(0,-mr(Math.abs(t)))}function I3(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mr(e)/3)))*3-mr(Math.abs(t)))}function O3(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mr(e)-mr(t))+1}var vt=1e-6,A0=1e-12,Tt=Math.PI,Ft=Tt/2,Sd=Tt/4,Pe=Tt*2,ue=180/Tt,Rt=Tt/180,It=Math.abs,Pr=Math.atan,Dn=Math.atan2,xt=Math.cos,$0=Math.exp,rs=Math.log,nf=Math.pow,gt=Math.sin,Ie=Math.sign||function(t){return t>0?1:t<0?-1:0},ge=Math.sqrt,el=Math.tan;function z0(t){return t>1?0:t<-1?Tt:Math.acos(t)}function Ze(t){return t>1?Ft:t<-1?-Ft:Math.asin(t)}function Oe(){}function os(t,e){t&&kd.hasOwnProperty(t.type)&&kd[t.type](t,e)}var Pd={Feature:function(t,e){os(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)os(n[i].geometry,e)}},kd={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){ec(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)ec(n[i],e,0)},Polygon:function(t,e){Cd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Cd(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)os(n[i],e)}};function ec(t,e,n){var i=-1,o=t.length-n,a;for(e.lineStart();++i<o;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function Cd(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ec(t[n],e,1);e.polygonEnd()}function fi(t,e){t&&Pd.hasOwnProperty(t.type)?Pd[t.type](t,e):os(t,e)}function nc(t){return[Dn(t[1],t[0]),Ze(t[2])]}function gr(t){var e=t[0],n=t[1],i=xt(n);return[i*xt(e),i*gt(e),gt(n)]}function wa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function as(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function rf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xa(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ic(t){var e=ge(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function rc(t,e){function n(i,o){return i=t(i,o),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,o){return i=e.invert(i,o),i&&t.invert(i[0],i[1])}),n}function oc(t,e){return It(t)>Tt&&(t-=Math.round(t/Pe)*Pe),[t,e]}oc.invert=oc;function N0(t,e,n){return(t%=Pe)?e||n?rc(Ad(t),$d(e,n)):Ad(t):e||n?$d(e,n):oc}function Ed(t){return function(e,n){return e+=t,It(e)>Tt&&(e-=Math.round(e/Pe)*Pe),[e,n]}}function Ad(t){var e=Ed(t);return e.invert=Ed(-t),e}function $d(t,e){var n=xt(t),i=gt(t),o=xt(e),a=gt(e);function u(c,l){var h=xt(l),d=xt(c)*h,m=gt(c)*h,g=gt(l),_=g*n+d*i;return[Dn(m*o-_*a,d*n-g*i),Ze(_*o+m*a)]}return u.invert=function(c,l){var h=xt(l),d=xt(c)*h,m=gt(c)*h,g=gt(l),_=g*o-m*a;return[Dn(m*o+g*a,d*n+_*i),Ze(_*n-d*i)]},u}function D3(t){t=N0(t[0]*Rt,t[1]*Rt,t.length>2?t[2]*Rt:0);function e(n){return n=t(n[0]*Rt,n[1]*Rt),n[0]*=ue,n[1]*=ue,n}return e.invert=function(n){return n=t.invert(n[0]*Rt,n[1]*Rt),n[0]*=ue,n[1]*=ue,n},e}function B3(t,e,n,i,o,a){if(n){var u=xt(e),c=gt(e),l=i*n;o==null?(o=e+i*Pe,a=e-l/2):(o=zd(u,o),a=zd(u,a),(i>0?o<a:o>a)&&(o+=i*Pe));for(var h,d=o;i>0?d>a:d<a;d-=l)h=nc([u,-c*xt(d),-c*gt(d)]),t.point(h[0],h[1])}}function zd(t,e){e=gr(e),e[0]-=t,ic(e);var n=z0(-e[1]);return((-e[2]<0?-n:n)+Pe-vt)%Pe}function I0(){var t=[],e;return{point:function(n,i,o){e.push([n,i,o])},lineStart:function(){t.push(e=[])},lineEnd:Oe,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Za(t,e){return It(t[0]-e[0])<vt&&It(t[1]-e[1])<vt}function Ma(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function O0(t,e,n,i,o){var a=[],u=[],c,l;if(t.forEach(function(v){if(!((w=v.length-1)<=0)){var w,x=v[0],P=v[w],T;if(Za(x,P)){if(!x[2]&&!P[2]){for(o.lineStart(),c=0;c<w;++c)o.point((x=v[c])[0],x[1]);o.lineEnd();return}P[0]+=2*vt}a.push(T=new Ma(x,v,null,!0)),u.push(T.o=new Ma(x,null,T,!1)),a.push(T=new Ma(P,v,null,!1)),u.push(T.o=new Ma(P,null,T,!0))}}),!!a.length){for(u.sort(e),Nd(a),Nd(u),c=0,l=u.length;c<l;++c)u[c].e=n=!n;for(var h=a[0],d,m;;){for(var g=h,_=!0;g.v;)if((g=g.n)===h)return;d=g.z,o.lineStart();do{if(g.v=g.o.v=!0,g.e){if(_)for(c=0,l=d.length;c<l;++c)o.point((m=d[c])[0],m[1]);else i(g.x,g.n.x,1,o);g=g.n}else{if(_)for(d=g.p.z,c=d.length-1;c>=0;--c)o.point((m=d[c])[0],m[1]);else i(g.x,g.p.x,-1,o);g=g.p}g=g.o,d=g.z,_=!_}while(!g.v);o.lineEnd()}}}function Nd(t){if(e=t.length){for(var e,n=0,i=t[0],o;++n<e;)i.n=o=t[n],o.p=i,i=o;i.n=o=t[0],o.p=i}}function of(t){return It(t[0])<=Tt?t[0]:Ie(t[0])*((It(t[0])+Tt)%Pe-Tt)}function R3(t,e){var n=of(e),i=e[1],o=gt(i),a=[gt(n),-xt(n),0],u=0,c=0,l=new wi;o===1?i=Ft+vt:o===-1&&(i=-Ft-vt);for(var h=0,d=t.length;h<d;++h)if(g=(m=t[h]).length)for(var m,g,_=m[g-1],v=of(_),w=_[1]/2+Sd,x=gt(w),P=xt(w),T=0;T<g;++T,v=M,x=k,P=A,_=S){var S=m[T],M=of(S),C=S[1]/2+Sd,k=gt(C),A=xt(C),N=M-v,B=N>=0?1:-1,R=B*N,$=R>Tt,H=x*k;if(l.add(Dn(H*B*gt(R),P*A+H*xt(R))),u+=$?N+B*Pe:N,$^v>=n^M>=n){var X=as(gr(_),gr(S));ic(X);var Y=as(a,X);ic(Y);var I=($^N>=0?-1:1)*Ze(Y[2]);(i>I||i===I&&(X[0]||X[1]))&&(c+=$^N>=0?1:-1)}}return(u<-vt||u<vt&&l<-A0)^c&1}function D0(t,e,n,i){return function(o){var a=e(o),u=I0(),c=e(u),l=!1,h,d,m,g={point:_,lineStart:w,lineEnd:x,polygonStart:function(){g.point=P,g.lineStart=T,g.lineEnd=S,d=[],h=[]},polygonEnd:function(){g.point=_,g.lineStart=w,g.lineEnd=x,d=qm(d);var M=R3(h,i);d.length?(l||(o.polygonStart(),l=!0),O0(d,F3,M,n,o)):M&&(l||(o.polygonStart(),l=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),l&&(o.polygonEnd(),l=!1),d=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function _(M,C){t(M,C)&&o.point(M,C)}function v(M,C){a.point(M,C)}function w(){g.point=v,a.lineStart()}function x(){g.point=_,a.lineEnd()}function P(M,C){m.push([M,C]),c.point(M,C)}function T(){c.lineStart(),m=[]}function S(){P(m[0][0],m[0][1]),c.lineEnd();var M=c.clean(),C=u.result(),k,A=C.length,N,B,R;if(m.pop(),h.push(m),m=null,!!A){if(M&1){if(B=C[0],(N=B.length-1)>0){for(l||(o.polygonStart(),l=!0),o.lineStart(),k=0;k<N;++k)o.point((R=B[k])[0],R[1]);o.lineEnd()}return}A>1&&M&2&&C.push(C.pop().concat(C.shift())),d.push(C.filter(Z3))}}return g}}function Z3(t){return t.length>1}function F3(t,e){return((t=t.x)[0]<0?t[1]-Ft-vt:Ft-t[1])-((e=e.x)[0]<0?e[1]-Ft-vt:Ft-e[1])}const Id=D0(function(){return!0},U3,W3,[-Tt,-Ft]);function U3(t){var e=NaN,n=NaN,i=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(a,u){var c=a>0?Tt:-Tt,l=It(a-e);It(l-Tt)<vt?(t.point(e,n=(n+u)/2>0?Ft:-Ft),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(c,n),t.point(a,n),o=0):i!==c&&l>=Tt&&(It(e-i)<vt&&(e-=i*vt),It(a-c)<vt&&(a-=c*vt),n=H3(e,n,a,u),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(c,n),o=0),t.point(e=a,n=u),i=c},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function H3(t,e,n,i){var o,a,u=gt(t-n);return It(u)>vt?Pr((gt(e)*(a=xt(i))*gt(n)-gt(i)*(o=xt(e))*gt(t))/(o*a*u)):(e+i)/2}function W3(t,e,n,i){var o;if(t==null)o=n*Ft,i.point(-Tt,o),i.point(0,o),i.point(Tt,o),i.point(Tt,0),i.point(Tt,-o),i.point(0,-o),i.point(-Tt,-o),i.point(-Tt,0),i.point(-Tt,o);else if(It(t[0]-e[0])>vt){var a=t[0]<e[0]?Tt:-Tt;o=n*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(e[0],e[1])}function q3(t){var e=xt(t),n=6*Rt,i=e>0,o=It(e)>vt;function a(d,m,g,_){B3(_,t,n,g,d,m)}function u(d,m){return xt(d)*xt(m)>e}function c(d){var m,g,_,v,w;return{lineStart:function(){v=_=!1,w=1},point:function(x,P){var T=[x,P],S,M=u(x,P),C=i?M?0:h(x,P):M?h(x+(x<0?Tt:-Tt),P):0;if(!m&&(v=_=M)&&d.lineStart(),M!==_&&(S=l(m,T),(!S||Za(m,S)||Za(T,S))&&(T[2]=1)),M!==_)w=0,M?(d.lineStart(),S=l(T,m),d.point(S[0],S[1])):(S=l(m,T),d.point(S[0],S[1],2),d.lineEnd()),m=S;else if(o&&m&&i^M){var k;!(C&g)&&(k=l(T,m,!0))&&(w=0,i?(d.lineStart(),d.point(k[0][0],k[0][1]),d.point(k[1][0],k[1][1]),d.lineEnd()):(d.point(k[1][0],k[1][1]),d.lineEnd(),d.lineStart(),d.point(k[0][0],k[0][1],3)))}M&&(!m||!Za(m,T))&&d.point(T[0],T[1]),m=T,_=M,g=C},lineEnd:function(){_&&d.lineEnd(),m=null},clean:function(){return w|(v&&_)<<1}}}function l(d,m,g){var _=gr(d),v=gr(m),w=[1,0,0],x=as(_,v),P=wa(x,x),T=x[0],S=P-T*T;if(!S)return!g&&d;var M=e*P/S,C=-e*T/S,k=as(w,x),A=xa(w,M),N=xa(x,C);rf(A,N);var B=k,R=wa(A,B),$=wa(B,B),H=R*R-$*(wa(A,A)-1);if(!(H<0)){var X=ge(H),Y=xa(B,(-R-X)/$);if(rf(Y,A),Y=nc(Y),!g)return Y;var I=d[0],W=m[0],Q=d[1],q=m[1],et;W<I&&(et=I,I=W,W=et);var D=W-I,F=It(D-Tt)<vt,G=F||D<vt;if(!F&&q<Q&&(et=Q,Q=q,q=et),G?F?Q+q>0^Y[1]<(It(Y[0]-I)<vt?Q:q):Q<=Y[1]&&Y[1]<=q:D>Tt^(I<=Y[0]&&Y[0]<=W)){var K=xa(B,(-R+X)/$);return rf(K,A),[Y,nc(K)]}}}function h(d,m){var g=i?t:Tt-t,_=0;return d<-g?_|=1:d>g&&(_|=2),m<-g?_|=4:m>g&&(_|=8),_}return D0(u,c,a,i?[0,-t]:[-Tt,t-Tt])}function V3(t,e,n,i,o,a){var u=t[0],c=t[1],l=e[0],h=e[1],d=0,m=1,g=l-u,_=h-c,v;if(v=n-u,!(!g&&v>0)){if(v/=g,g<0){if(v<d)return;v<m&&(m=v)}else if(g>0){if(v>m)return;v>d&&(d=v)}if(v=o-u,!(!g&&v<0)){if(v/=g,g<0){if(v>m)return;v>d&&(d=v)}else if(g>0){if(v<d)return;v<m&&(m=v)}if(v=i-c,!(!_&&v>0)){if(v/=_,_<0){if(v<d)return;v<m&&(m=v)}else if(_>0){if(v>m)return;v>d&&(d=v)}if(v=a-c,!(!_&&v<0)){if(v/=_,_<0){if(v>m)return;v>d&&(d=v)}else if(_>0){if(v<d)return;v<m&&(m=v)}return d>0&&(t[0]=u+d*g,t[1]=c+d*_),m<1&&(e[0]=u+m*g,e[1]=c+m*_),!0}}}}}var no=1e9,Ta=-no;function B0(t,e,n,i){function o(h,d){return t<=h&&h<=n&&e<=d&&d<=i}function a(h,d,m,g){var _=0,v=0;if(h==null||(_=u(h,m))!==(v=u(d,m))||l(h,d)<0^m>0)do g.point(_===0||_===3?t:n,_>1?i:e);while((_=(_+m+4)%4)!==v);else g.point(d[0],d[1])}function u(h,d){return It(h[0]-t)<vt?d>0?0:3:It(h[0]-n)<vt?d>0?2:1:It(h[1]-e)<vt?d>0?1:0:d>0?3:2}function c(h,d){return l(h.x,d.x)}function l(h,d){var m=u(h,1),g=u(d,1);return m!==g?m-g:m===0?d[1]-h[1]:m===1?h[0]-d[0]:m===2?h[1]-d[1]:d[0]-h[0]}return function(h){var d=h,m=I0(),g,_,v,w,x,P,T,S,M,C,k,A={point:N,lineStart:H,lineEnd:X,polygonStart:R,polygonEnd:$};function N(I,W){o(I,W)&&d.point(I,W)}function B(){for(var I=0,W=0,Q=_.length;W<Q;++W)for(var q=_[W],et=1,D=q.length,F=q[0],G,K,at=F[0],nt=F[1];et<D;++et)G=at,K=nt,F=q[et],at=F[0],nt=F[1],K<=i?nt>i&&(at-G)*(i-K)>(nt-K)*(t-G)&&++I:nt<=i&&(at-G)*(i-K)<(nt-K)*(t-G)&&--I;return I}function R(){d=m,g=[],_=[],k=!0}function $(){var I=B(),W=k&&I,Q=(g=qm(g)).length;(W||Q)&&(h.polygonStart(),W&&(h.lineStart(),a(null,null,1,h),h.lineEnd()),Q&&O0(g,c,I,a,h),h.polygonEnd()),d=h,g=_=v=null}function H(){A.point=Y,_&&_.push(v=[]),C=!0,M=!1,T=S=NaN}function X(){g&&(Y(w,x),P&&M&&m.rejoin(),g.push(m.result())),A.point=N,M&&d.lineEnd()}function Y(I,W){var Q=o(I,W);if(_&&v.push([I,W]),C)w=I,x=W,P=Q,C=!1,Q&&(d.lineStart(),d.point(I,W));else if(Q&&M)d.point(I,W);else{var q=[T=Math.max(Ta,Math.min(no,T)),S=Math.max(Ta,Math.min(no,S))],et=[I=Math.max(Ta,Math.min(no,I)),W=Math.max(Ta,Math.min(no,W))];V3(q,et,t,e,n,i)?(M||(d.lineStart(),d.point(q[0],q[1])),d.point(et[0],et[1]),Q||d.lineEnd(),k=!1):Q&&(d.lineStart(),d.point(I,W),k=!1)}T=I,S=W,M=Q}return A}}const ac=t=>t;var af=new wi,sc=new wi,R0,Z0,uc,fc,Yn={point:Oe,lineStart:Oe,lineEnd:Oe,polygonStart:function(){Yn.lineStart=Y3,Yn.lineEnd=X3},polygonEnd:function(){Yn.lineStart=Yn.lineEnd=Yn.point=Oe,af.add(It(sc)),sc=new wi},result:function(){var t=af/2;return af=new wi,t}};function Y3(){Yn.point=G3}function G3(t,e){Yn.point=F0,R0=uc=t,Z0=fc=e}function F0(t,e){sc.add(fc*t-uc*e),uc=t,fc=e}function X3(){F0(R0,Z0)}const Od=Yn;var _r=1/0,ss=_r,xo=-_r,us=xo,j3={point:K3,lineStart:Oe,lineEnd:Oe,polygonStart:Oe,polygonEnd:Oe,result:function(){var t=[[_r,ss],[xo,us]];return xo=us=-(ss=_r=1/0),t}};function K3(t,e){t<_r&&(_r=t),t>xo&&(xo=t),e<ss&&(ss=e),e>us&&(us=e)}const fs=j3;var cc=0,lc=0,io=0,cs=0,ls=0,ir=0,hc=0,dc=0,ro=0,U0,H0,fn,cn,Ve={point:Pi,lineStart:Dd,lineEnd:Bd,polygonStart:function(){Ve.lineStart=t5,Ve.lineEnd=e5},polygonEnd:function(){Ve.point=Pi,Ve.lineStart=Dd,Ve.lineEnd=Bd},result:function(){var t=ro?[hc/ro,dc/ro]:ir?[cs/ir,ls/ir]:io?[cc/io,lc/io]:[NaN,NaN];return cc=lc=io=cs=ls=ir=hc=dc=ro=0,t}};function Pi(t,e){cc+=t,lc+=e,++io}function Dd(){Ve.point=J3}function J3(t,e){Ve.point=Q3,Pi(fn=t,cn=e)}function Q3(t,e){var n=t-fn,i=e-cn,o=ge(n*n+i*i);cs+=o*(fn+t)/2,ls+=o*(cn+e)/2,ir+=o,Pi(fn=t,cn=e)}function Bd(){Ve.point=Pi}function t5(){Ve.point=n5}function e5(){W0(U0,H0)}function n5(t,e){Ve.point=W0,Pi(U0=fn=t,H0=cn=e)}function W0(t,e){var n=t-fn,i=e-cn,o=ge(n*n+i*i);cs+=o*(fn+t)/2,ls+=o*(cn+e)/2,ir+=o,o=cn*t-fn*e,hc+=o*(fn+t),dc+=o*(cn+e),ro+=o*3,Pi(fn=t,cn=e)}const Rd=Ve;function q0(t){this._context=t}q0.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pe);break}}},result:Oe};var pc=new wi,sf,V0,Y0,oo,ao,hs={point:Oe,lineStart:function(){hs.point=i5},lineEnd:function(){sf&&G0(V0,Y0),hs.point=Oe},polygonStart:function(){sf=!0},polygonEnd:function(){sf=null},result:function(){var t=+pc;return pc=new wi,t}};function i5(t,e){hs.point=G0,V0=oo=t,Y0=ao=e}function G0(t,e){oo-=t,ao-=e,pc.add(ge(oo*oo+ao*ao)),oo=t,ao=e}const Zd=hs;let Fd,ds,Ud,Hd;class Wd{constructor(e){this._append=e==null?X0:r5(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Ud||this._append!==ds){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Ud=i,ds=this._append,Hd=this._,this._=o}this._+=Hd;break}}}result(){const e=this._;return this._="",e.length?e:null}}function X0(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function r5(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return X0;if(e!==Fd){const n=10**e;Fd=e,ds=function(o){let a=1;this._+=o[0];for(const u=o.length;a<u;++a)this._+=Math.round(arguments[a]*n)/n+o[a]}}return ds}function j0(t,e){let n=3,i=4.5,o,a;function u(c){return c&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),fi(c,o(a))),a.result()}return u.area=function(c){return fi(c,o(Od)),Od.result()},u.measure=function(c){return fi(c,o(Zd)),Zd.result()},u.bounds=function(c){return fi(c,o(fs)),fs.result()},u.centroid=function(c){return fi(c,o(Rd)),Rd.result()},u.projection=function(c){return arguments.length?(o=c==null?(t=null,ac):(t=c).stream,u):t},u.context=function(c){return arguments.length?(a=c==null?(e=null,new Wd(n)):new q0(e=c),typeof i!="function"&&a.pointRadius(i),u):e},u.pointRadius=function(c){return arguments.length?(i=typeof c=="function"?c:(a.pointRadius(+c),+c),u):i},u.digits=function(c){if(!arguments.length)return n;if(c==null)n=null;else{const l=Math.floor(c);if(!(l>=0))throw new RangeError(`invalid digits: ${c}`);n=l}return e===null&&(a=new Wd(n)),u},u.projection(t).digits(n).context(e)}function mc(t){return{stream:Hs(t)}}function Hs(t){return function(e){var n=new gc;for(var i in t)n[i]=t[i];return n.stream=e,n}}function gc(){}gc.prototype={constructor:gc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function nl(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),fi(n,t.stream(fs)),e(fs.result()),i!=null&&t.clipExtent(i),t}function il(t,e,n){return nl(t,function(i){var o=e[1][0]-e[0][0],a=e[1][1]-e[0][1],u=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),c=+e[0][0]+(o-u*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(a-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([c,l])},n)}function K0(t,e,n){return il(t,[[0,0],e],n)}function J0(t,e,n){return nl(t,function(i){var o=+e,a=o/(i[1][0]-i[0][0]),u=(o-a*(i[1][0]+i[0][0]))/2,c=-a*i[0][1];t.scale(150*a).translate([u,c])},n)}function Q0(t,e,n){return nl(t,function(i){var o=+e,a=o/(i[1][1]-i[0][1]),u=-a*i[0][0],c=(o-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([u,c])},n)}var qd=16,o5=xt(30*Rt);function Vd(t,e){return+e?s5(t,e):a5(t)}function a5(t){return Hs({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function s5(t,e){function n(i,o,a,u,c,l,h,d,m,g,_,v,w,x){var P=h-i,T=d-o,S=P*P+T*T;if(S>4*e&&w--){var M=u+g,C=c+_,k=l+v,A=ge(M*M+C*C+k*k),N=Ze(k/=A),B=It(It(k)-1)<vt||It(a-m)<vt?(a+m)/2:Dn(C,M),R=t(B,N),$=R[0],H=R[1],X=$-i,Y=H-o,I=T*X-P*Y;(I*I/S>e||It((P*X+T*Y)/S-.5)>.3||u*g+c*_+l*v<o5)&&(n(i,o,a,u,c,l,$,H,B,M/=A,C/=A,k,w,x),x.point($,H),n($,H,B,M,C,k,h,d,m,g,_,v,w,x))}}return function(i){var o,a,u,c,l,h,d,m,g,_,v,w,x={point:P,lineStart:T,lineEnd:M,polygonStart:function(){i.polygonStart(),x.lineStart=C},polygonEnd:function(){i.polygonEnd(),x.lineStart=T}};function P(N,B){N=t(N,B),i.point(N[0],N[1])}function T(){m=NaN,x.point=S,i.lineStart()}function S(N,B){var R=gr([N,B]),$=t(N,B);n(m,g,d,_,v,w,m=$[0],g=$[1],d=N,_=R[0],v=R[1],w=R[2],qd,i),i.point(m,g)}function M(){x.point=P,i.lineEnd()}function C(){T(),x.point=k,x.lineEnd=A}function k(N,B){S(o=N,B),a=m,u=g,c=_,l=v,h=w,x.point=S}function A(){n(m,g,d,_,v,w,a,u,o,c,l,h,qd,i),x.lineEnd=M,M()}return x}}var u5=Hs({point:function(t,e){this.stream.point(t*Rt,e*Rt)}});function f5(t){return Hs({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function c5(t,e,n,i,o){function a(u,c){return u*=i,c*=o,[e+t*u,n-t*c]}return a.invert=function(u,c){return[(u-e)/t*i,(n-c)/t*o]},a}function Yd(t,e,n,i,o,a){if(!a)return c5(t,e,n,i,o);var u=xt(a),c=gt(a),l=u*t,h=c*t,d=u/t,m=c/t,g=(c*n-u*e)/t,_=(c*e+u*n)/t;function v(w,x){return w*=i,x*=o,[l*w-h*x+e,n-h*w-l*x]}return v.invert=function(w,x){return[i*(d*w-m*x+g),o*(_-m*w-d*x)]},v}function Qn(t){return tg(function(){return t})()}function tg(t){var e,n=150,i=480,o=250,a=0,u=0,c=0,l=0,h=0,d,m=0,g=1,_=1,v=null,w=Id,x=null,P,T,S,M=ac,C=.5,k,A,N,B,R;function $(I){return N(I[0]*Rt,I[1]*Rt)}function H(I){return I=N.invert(I[0],I[1]),I&&[I[0]*ue,I[1]*ue]}$.stream=function(I){return B&&R===I?B:B=u5(f5(d)(w(k(M(R=I)))))},$.preclip=function(I){return arguments.length?(w=I,v=void 0,Y()):w},$.postclip=function(I){return arguments.length?(M=I,x=P=T=S=null,Y()):M},$.clipAngle=function(I){return arguments.length?(w=+I?q3(v=I*Rt):(v=null,Id),Y()):v*ue},$.clipExtent=function(I){return arguments.length?(M=I==null?(x=P=T=S=null,ac):B0(x=+I[0][0],P=+I[0][1],T=+I[1][0],S=+I[1][1]),Y()):x==null?null:[[x,P],[T,S]]},$.scale=function(I){return arguments.length?(n=+I,X()):n},$.translate=function(I){return arguments.length?(i=+I[0],o=+I[1],X()):[i,o]},$.center=function(I){return arguments.length?(a=I[0]%360*Rt,u=I[1]%360*Rt,X()):[a*ue,u*ue]},$.rotate=function(I){return arguments.length?(c=I[0]%360*Rt,l=I[1]%360*Rt,h=I.length>2?I[2]%360*Rt:0,X()):[c*ue,l*ue,h*ue]},$.angle=function(I){return arguments.length?(m=I%360*Rt,X()):m*ue},$.reflectX=function(I){return arguments.length?(g=I?-1:1,X()):g<0},$.reflectY=function(I){return arguments.length?(_=I?-1:1,X()):_<0},$.precision=function(I){return arguments.length?(k=Vd(A,C=I*I),Y()):ge(C)},$.fitExtent=function(I,W){return il($,I,W)},$.fitSize=function(I,W){return K0($,I,W)},$.fitWidth=function(I,W){return J0($,I,W)},$.fitHeight=function(I,W){return Q0($,I,W)};function X(){var I=Yd(n,0,0,g,_,m).apply(null,e(a,u)),W=Yd(n,i-I[0],o-I[1],g,_,m);return d=N0(c,l,h),A=rc(e,W),N=rc(d,A),k=Vd(A,C),Y()}function Y(){return B=R=null,$}return function(){return e=t.apply(this,arguments),$.invert=e.invert&&H,X()}}function rl(t){var e=0,n=Tt/3,i=tg(t),o=i(e,n);return o.parallels=function(a){return arguments.length?i(e=a[0]*Rt,n=a[1]*Rt):[e*ue,n*ue]},o}function l5(t){var e=xt(t);function n(i,o){return[i*e,gt(o)/e]}return n.invert=function(i,o){return[i/e,Ze(o*e)]},n}function h5(t,e){var n=gt(t),i=(n+gt(e))/2;if(It(i)<vt)return l5(t);var o=1+n*(2*i-n),a=ge(o)/i;function u(c,l){var h=ge(o-2*i*gt(l))/i;return[h*gt(c*=i),a-h*xt(c)]}return u.invert=function(c,l){var h=a-l,d=Dn(c,It(h))*Ie(h);return h*i<0&&(d-=Tt*Ie(c)*Ie(h)),[d/i,Ze((o-(c*c+h*h)*i*i)/(2*i))]},u}function ps(){return rl(h5).scale(155.424).center([0,33.6442])}function eg(){return ps().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function d5(t){var e=t.length;return{point:function(n,i){for(var o=-1;++o<e;)t[o].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function p5(){var t,e,n=eg(),i,o=ps().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,u=ps().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,l,h={point:function(g,_){l=[g,_]}};function d(g){var _=g[0],v=g[1];return l=null,i.point(_,v),l||(a.point(_,v),l)||(c.point(_,v),l)}d.invert=function(g){var _=n.scale(),v=n.translate(),w=(g[0]-v[0])/_,x=(g[1]-v[1])/_;return(x>=.12&&x<.234&&w>=-.425&&w<-.214?o:x>=.166&&x<.234&&w>=-.214&&w<-.115?u:n).invert(g)},d.stream=function(g){return t&&e===g?t:t=d5([n.stream(e=g),o.stream(g),u.stream(g)])},d.precision=function(g){return arguments.length?(n.precision(g),o.precision(g),u.precision(g),m()):n.precision()},d.scale=function(g){return arguments.length?(n.scale(g),o.scale(g*.35),u.scale(g),d.translate(n.translate())):n.scale()},d.translate=function(g){if(!arguments.length)return n.translate();var _=n.scale(),v=+g[0],w=+g[1];return i=n.translate(g).clipExtent([[v-.455*_,w-.238*_],[v+.455*_,w+.238*_]]).stream(h),a=o.translate([v-.307*_,w+.201*_]).clipExtent([[v-.425*_+vt,w+.12*_+vt],[v-.214*_-vt,w+.234*_-vt]]).stream(h),c=u.translate([v-.205*_,w+.212*_]).clipExtent([[v-.214*_+vt,w+.166*_+vt],[v-.115*_-vt,w+.234*_-vt]]).stream(h),m()},d.fitExtent=function(g,_){return il(d,g,_)},d.fitSize=function(g,_){return K0(d,g,_)},d.fitWidth=function(g,_){return J0(d,g,_)},d.fitHeight=function(g,_){return Q0(d,g,_)};function m(){return t=e=null,d}return d.scale(1070)}function ng(t){return function(e,n){var i=xt(e),o=xt(n),a=t(i*o);return a===1/0?[2,0]:[a*o*gt(e),a*gt(n)]}}function Do(t){return function(e,n){var i=ge(e*e+n*n),o=t(i),a=gt(o),u=xt(o);return[Dn(e*a,i*u),Ze(i&&n*a/i)]}}var ig=ng(function(t){return ge(2/(1+t))});ig.invert=Do(function(t){return 2*Ze(t/2)});function m5(){return Qn(ig).scale(124.75).clipAngle(180-.001)}var rg=ng(function(t){return(t=z0(t))&&t/gt(t)});rg.invert=Do(function(t){return t});function g5(){return Qn(rg).scale(79.4188).clipAngle(180-.001)}function Ws(t,e){return[t,rs(el((Ft+e)/2))]}Ws.invert=function(t,e){return[t,2*Pr($0(e))-Ft]};function _5(){return og(Ws).scale(961/Pe)}function og(t){var e=Qn(t),n=e.center,i=e.scale,o=e.translate,a=e.clipExtent,u=null,c,l,h;e.scale=function(m){return arguments.length?(i(m),d()):i()},e.translate=function(m){return arguments.length?(o(m),d()):o()},e.center=function(m){return arguments.length?(n(m),d()):n()},e.clipExtent=function(m){return arguments.length?(m==null?u=c=l=h=null:(u=+m[0][0],c=+m[0][1],l=+m[1][0],h=+m[1][1]),d()):u==null?null:[[u,c],[l,h]]};function d(){var m=Tt*i(),g=e(D3(e.rotate()).invert([0,0]));return a(u==null?[[g[0]-m,g[1]-m],[g[0]+m,g[1]+m]]:t===Ws?[[Math.max(g[0]-m,u),c],[Math.min(g[0]+m,l),h]]:[[u,Math.max(g[1]-m,c)],[l,Math.min(g[1]+m,h)]])}return d()}function La(t){return el((Ft+t)/2)}function y5(t,e){var n=xt(t),i=t===e?gt(t):rs(n/xt(e))/rs(La(e)/La(t)),o=n*nf(La(t),i)/i;if(!i)return Ws;function a(u,c){o>0?c<-Ft+vt&&(c=-Ft+vt):c>Ft-vt&&(c=Ft-vt);var l=o/nf(La(c),i);return[l*gt(i*u),o-l*xt(i*u)]}return a.invert=function(u,c){var l=o-c,h=Ie(i)*ge(u*u+l*l),d=Dn(u,It(l))*Ie(l);return l*i<0&&(d-=Tt*Ie(u)*Ie(l)),[d/i,2*Pr(nf(o/h,1/i))-Ft]},a}function v5(){return rl(y5).scale(109.5).parallels([30,30])}function ms(t,e){return[t,e]}ms.invert=ms;function b5(){return Qn(ms).scale(152.63)}function w5(t,e){var n=xt(t),i=t===e?gt(t):(n-xt(e))/(e-t),o=n/i+t;if(It(i)<vt)return ms;function a(u,c){var l=o-c,h=i*u;return[l*gt(h),o-l*xt(h)]}return a.invert=function(u,c){var l=o-c,h=Dn(u,It(l))*Ie(l);return l*i<0&&(h-=Tt*Ie(u)*Ie(l)),[h/i,o-Ie(i)*ge(u*u+l*l)]},a}function x5(){return rl(w5).scale(131.154).center([0,13.9389])}var fo=1.340264,co=-.081106,lo=893e-6,ho=.003796,gs=ge(3)/2,M5=12;function ag(t,e){var n=Ze(gs*gt(e)),i=n*n,o=i*i*i;return[t*xt(n)/(gs*(fo+3*co*i+o*(7*lo+9*ho*i))),n*(fo+co*i+o*(lo+ho*i))]}ag.invert=function(t,e){for(var n=e,i=n*n,o=i*i*i,a=0,u,c,l;a<M5&&(c=n*(fo+co*i+o*(lo+ho*i))-e,l=fo+3*co*i+o*(7*lo+9*ho*i),n-=u=c/l,i=n*n,o=i*i*i,!(It(u)<A0));++a);return[gs*t*(fo+3*co*i+o*(7*lo+9*ho*i))/xt(n),Ze(gt(n)/gs)]};function T5(){return Qn(ag).scale(177.158)}function sg(t,e){var n=xt(e),i=xt(t)*n;return[n*gt(t)/i,gt(e)/i]}sg.invert=Do(Pr);function L5(){return Qn(sg).scale(144.049).clipAngle(60)}function ug(t,e){return[xt(e)*gt(t),gt(e)]}ug.invert=Do(Ze);function S5(){return Qn(ug).scale(249.5).clipAngle(90+vt)}function fg(t,e){var n=xt(e),i=1+xt(t)*n;return[n*gt(t)/i,gt(e)/i]}fg.invert=Do(function(t){return 2*Pr(t)});function P5(){return Qn(fg).scale(250).clipAngle(142)}function cg(t,e){return[rs(el((Ft+e)/2)),-t]}cg.invert=function(t,e){return[-e,2*Pr($0(t))-Ft]};function k5(){var t=og(cg),e=t.center,n=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function vn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _c=Symbol("implicit");function ol(){var t=new xi,e=[],n=[],i=_c;function o(a){let u=t.get(a);if(u===void 0){if(i!==_c)return i;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new xi;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return ol(e,n).unknown(i)},vn.apply(o,arguments),o}function Vs(){var t=ol().unknown(void 0),e=t.domain,n=t.range,i=0,o=1,a,u,c=!1,l=0,h=0,d=.5;delete t.unknown;function m(){var g=e().length,_=o<i,v=_?o:i,w=_?i:o;a=(w-v)/Math.max(1,g-l+h*2),c&&(a=Math.floor(a)),v+=(w-v-a*(g-l))*d,u=a*(1-l),c&&(v=Math.round(v),u=Math.round(u));var x=Df(g).map(function(P){return v+a*P});return n(_?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([i,o]=g,i=+i,o=+o,m()):[i,o]},t.rangeRound=function(g){return[i,o]=g,i=+i,o=+o,c=!0,m()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(g){return arguments.length?(c=!!g,m()):c},t.padding=function(g){return arguments.length?(l=Math.min(1,h=+g),m()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),m()):l},t.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),m()):d},t.copy=function(){return Vs(e(),[i,o]).round(c).paddingInner(l).paddingOuter(h).align(d)},vn.apply(m(),arguments)}function lg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lg(e())},t}function C5(){return lg(Vs.apply(null,arguments).paddingInner(1))}function E5(t){return function(){return t}}function yc(t){return+t}var Gd=[0,1];function De(t){return t}function vc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:E5(isNaN(e)?NaN:.5)}function A5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function $5(t,e,n){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=vc(o,i),a=n(u,a)):(i=vc(i,o),a=n(a,u)),function(c){return a(i(c))}}function z5(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=vc(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(c){var l=Ns(t,c,1,i)-1;return a[l](o[l](c))}}function Bo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ys(){var t=Gd,e=Gd,n=Sr,i,o,a,u=De,c,l,h;function d(){var g=Math.min(t.length,e.length);return u!==De&&(u=A5(t[0],t[g-1])),c=g>2?z5:$5,l=h=null,m}function m(g){return g==null||isNaN(g=+g)?a:(l||(l=c(t.map(i),e,n)))(i(u(g)))}return m.invert=function(g){return u(o((h||(h=c(e,t.map(i),oe)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,yc),d()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=Xc,d()},m.clamp=function(g){return arguments.length?(u=g?!0:De,d()):u!==De},m.interpolate=function(g){return arguments.length?(n=g,d()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,_){return i=g,o=_,d()}}function hg(){return Ys()(De,De)}function N5(t,e,n,i){var o=If(t,e,n),a;switch(i=wo(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=I3(o,u))&&(i.precision=a),E0(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=O3(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=N3(o))&&(i.precision=a-(i.type==="%")*2);break}}return Kn(i)}function Ro(t){var e=t.domain;return t.ticks=function(n){var i=e();return _o(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return N5(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,a=i.length-1,u=i[o],c=i[a],l,h,d=10;for(c<u&&(h=u,u=c,c=h,h=o,o=a,a=h);d-- >0;){if(h=cr(u,c,n),h===l)return i[o]=u,i[a]=c,e(i);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;l=h}return t},t}function Mo(){var t=hg();return t.copy=function(){return Bo(t,Mo())},vn.apply(t,arguments),Ro(t)}function dg(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,yc),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return dg(t).unknown(e)},t=arguments.length?Array.from(t,yc):[0,1],Ro(n)}function pg(t,e){t=t.slice();var n=0,i=t.length-1,o=t[n],a=t[i],u;return a<o&&(u=n,n=i,i=u,u=o,o=a,a=u),t[n]=e.floor(o),t[i]=e.ceil(a),t}function Xd(t){return Math.log(t)}function jd(t){return Math.exp(t)}function I5(t){return-Math.log(-t)}function O5(t){return-Math.exp(-t)}function D5(t){return isFinite(t)?+("1e"+t):t<0?0:t}function B5(t){return t===10?D5:t===Math.E?Math.exp:e=>Math.pow(t,e)}function R5(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Kd(t){return(e,n)=>-t(-e,n)}function mg(t){const e=t(Xd,jd),n=e.domain;let i=10,o,a;function u(){return o=R5(i),a=B5(i),n()[0]<0?(o=Kd(o),a=Kd(a),t(I5,O5)):t(Xd,jd),e}return e.base=function(c){return arguments.length?(i=+c,u()):i},e.domain=function(c){return arguments.length?(n(c),u()):n()},e.ticks=c=>{const l=n();let h=l[0],d=l[l.length-1];const m=d<h;m&&([h,d]=[d,h]);let g=o(h),_=o(d),v,w;const x=c==null?10:+c;let P=[];if(!(i%1)&&_-g<x){if(g=Math.floor(g),_=Math.ceil(_),h>0){for(;g<=_;++g)for(v=1;v<i;++v)if(w=g<0?v/a(-g):v*a(g),!(w<h)){if(w>d)break;P.push(w)}}else for(;g<=_;++g)for(v=i-1;v>=1;--v)if(w=g>0?v/a(-g):v*a(g),!(w<h)){if(w>d)break;P.push(w)}P.length*2<x&&(P=_o(h,d,x))}else P=_o(g,_,Math.min(_-g,x)).map(a);return m?P.reverse():P},e.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=wo(l)).precision==null&&(l.trim=!0),l=Kn(l)),c===1/0)return l;const h=Math.max(1,i*c/e.ticks().length);return d=>{let m=d/a(Math.round(o(d)));return m*i<i-.5&&(m*=i),m<=h?l(d):""}},e.nice=()=>n(pg(n(),{floor:c=>a(Math.floor(o(c))),ceil:c=>a(Math.ceil(o(c)))})),e}function gg(){const t=mg(Ys()).domain([1,10]);return t.copy=()=>Bo(t,gg()).base(t.base()),vn.apply(t,arguments),t}function Jd(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Qd(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function _g(t){var e=1,n=t(Jd(e),Qd(e));return n.constant=function(i){return arguments.length?t(Jd(e=+i),Qd(e)):e},Ro(n)}function yg(){var t=_g(Ys());return t.copy=function(){return Bo(t,yg()).constant(t.constant())},vn.apply(t,arguments)}function tp(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Z5(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function F5(t){return t<0?-t*t:t*t}function vg(t){var e=t(De,De),n=1;function i(){return n===1?t(De,De):n===.5?t(Z5,F5):t(tp(n),tp(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,i()):n},Ro(e)}function bg(){var t=vg(Ys());return t.copy=function(){return Bo(t,bg()).exponent(t.exponent())},vn.apply(t,arguments),t}function wg(){var t=[],e=[],n=[],i;function o(){var u=0,c=Math.max(1,e.length);for(n=new Array(c-1);++u<c;)n[u-1]=Tw(t,u/c);return a}function a(u){return u==null||isNaN(u=+u)?i:e[Ns(n,u)]}return a.invertExtent=function(u){var c=e.indexOf(u);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let c of u)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(me),o()},a.range=function(u){return arguments.length?(e=Array.from(u),o()):e.slice()},a.unknown=function(u){return arguments.length?(i=u,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return wg().domain(t).range(e).unknown(i)},vn.apply(a,arguments)}function xg(){var t=[.5],e=[0,1],n,i=1;function o(a){return a!=null&&a<=a?e[Ns(t,a,0,i)]:n}return o.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return xg().domain(t).range(e).unknown(n)},vn.apply(o,arguments)}const uf=new Date,ff=new Date;function Vt(t,e,n,i){function o(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(t(a=new Date(+a)),a),o.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),o.round=a=>{const u=o(a),c=o.ceil(a);return a-u<c-a?u:c},o.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),o.range=(a,u,c)=>{const l=[];if(a=o.ceil(a),c=c==null?1:Math.floor(c),!(a<u)||!(c>0))return l;let h;do l.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<u);return l},o.filter=a=>Vt(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;e(u,-1),!a(u););else for(;--c>=0;)for(;e(u,1),!a(u););}),n&&(o.count=(a,u)=>(uf.setTime(+a),ff.setTime(+u),t(uf),t(ff),Math.floor(n(uf,ff))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(i?u=>i(u)%a===0:u=>o.count(0,u)%a===0):o)),o}const _s=Vt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);_s.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Vt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):_s);_s.range;const zn=1e3,Be=zn*60,Nn=Be*60,Bn=Nn*24,al=Bn*7,ep=Bn*30,cf=Bn*365,ln=Vt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCSeconds());ln.range;const Gs=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zn)},(t,e)=>{t.setTime(+t+e*Be)},(t,e)=>(e-t)/Be,t=>t.getMinutes());Gs.range;const Zo=Vt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Be)},(t,e)=>(e-t)/Be,t=>t.getUTCMinutes());Zo.range;const Xs=Vt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zn-t.getMinutes()*Be)},(t,e)=>{t.setTime(+t+e*Nn)},(t,e)=>(e-t)/Nn,t=>t.getHours());Xs.range;const Fo=Vt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nn)},(t,e)=>(e-t)/Nn,t=>t.getUTCHours());Fo.range;const $i=Vt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Be)/Bn,t=>t.getDate()-1);$i.range;const js=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bn,t=>t.getUTCDate()-1);js.range;const Ks=Vt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bn,t=>Math.floor(t/Bn));Ks.range;function zi(t){return Vt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Be)/al)}const yr=zi(0),To=zi(1),Mg=zi(2),Tg=zi(3),ki=zi(4),Lg=zi(5),Sg=zi(6);yr.range;To.range;Mg.range;Tg.range;ki.range;Lg.range;Sg.range;function Ni(t){return Vt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/al)}const vr=Ni(0),Lo=Ni(1),Pg=Ni(2),kg=Ni(3),Ci=Ni(4),Cg=Ni(5),Eg=Ni(6);vr.range;Lo.range;Pg.range;kg.range;Ci.range;Cg.range;Eg.range;const Uo=Vt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Uo.range;const Ho=Vt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ho.range;const Xe=Vt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xe.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Xe.range;const je=Vt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());je.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Vt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});je.range;function Ag(t,e,n,i,o,a){const u=[[ln,1,zn],[ln,5,5*zn],[ln,15,15*zn],[ln,30,30*zn],[a,1,Be],[a,5,5*Be],[a,15,15*Be],[a,30,30*Be],[o,1,Nn],[o,3,3*Nn],[o,6,6*Nn],[o,12,12*Nn],[i,1,Bn],[i,2,2*Bn],[n,1,al],[e,1,ep],[e,3,3*ep],[t,1,cf]];function c(h,d,m){const g=d<h;g&&([h,d]=[d,h]);const _=m&&typeof m.range=="function"?m:l(h,d,m),v=_?_.range(h,+d+1):[];return g?v.reverse():v}function l(h,d,m){const g=Math.abs(d-h)/m,_=zs(([,,x])=>x).right(u,g);if(_===u.length)return t.every(If(h/cf,d/cf,m));if(_===0)return _s.every(Math.max(If(h,d,m),1));const[v,w]=u[g/u[_-1][2]<u[_][2]/g?_-1:_];return v.every(w)}return[c,l]}const[U5,H5]=Ag(je,Ho,vr,Ks,Fo,Zo),[W5,q5]=Ag(Xe,Uo,yr,$i,Xs,Gs);function lf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function hf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function V5(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,a=t.days,u=t.shortDays,c=t.months,l=t.shortMonths,h=Xr(o),d=jr(o),m=Xr(a),g=jr(a),_=Xr(u),v=jr(u),w=Xr(c),x=jr(c),P=Xr(l),T=jr(l),S={a:Q,A:q,b:et,B:D,c:null,d:sp,e:sp,f:m8,g:L8,G:P8,H:h8,I:d8,j:p8,L:$g,m:g8,M:_8,p:F,q:G,Q:cp,s:lp,S:y8,u:v8,U:b8,V:w8,w:x8,W:M8,x:null,X:null,y:T8,Y:S8,Z:k8,"%":fp},M={a:K,A:at,b:nt,B:J,c:null,d:up,e:up,f:$8,g:U8,G:W8,H:C8,I:E8,j:A8,L:Ng,m:z8,M:N8,p:j,q:st,Q:cp,s:lp,S:I8,u:O8,U:D8,V:B8,w:R8,W:Z8,x:null,X:null,y:F8,Y:H8,Z:q8,"%":fp},C={a:R,A:$,b:H,B:X,c:Y,d:op,e:op,f:u8,g:rp,G:ip,H:ap,I:ap,j:r8,L:s8,m:i8,M:o8,p:B,q:n8,Q:c8,s:l8,S:a8,u:K5,U:J5,V:Q5,w:j5,W:t8,x:I,X:W,y:rp,Y:ip,Z:e8,"%":f8};S.x=k(n,S),S.X=k(i,S),S.c=k(e,S),M.x=k(n,M),M.X=k(i,M),M.c=k(e,M);function k(U,tt){return function(ot){var Z=[],_t=-1,ht=0,Ct=U.length,Et,ut,Nt;for(ot instanceof Date||(ot=new Date(+ot));++_t<Ct;)U.charCodeAt(_t)===37&&(Z.push(U.slice(ht,_t)),(ut=np[Et=U.charAt(++_t)])!=null?Et=U.charAt(++_t):ut=Et==="e"?" ":"0",(Nt=tt[Et])&&(Et=Nt(ot,ut)),Z.push(Et),ht=_t+1);return Z.push(U.slice(ht,_t)),Z.join("")}}function A(U,tt){return function(ot){var Z=Gr(1900,void 0,1),_t=N(Z,U,ot+="",0),ht,Ct;if(_t!=ot.length)return null;if("Q"in Z)return new Date(Z.Q);if("s"in Z)return new Date(Z.s*1e3+("L"in Z?Z.L:0));if(tt&&!("Z"in Z)&&(Z.Z=0),"p"in Z&&(Z.H=Z.H%12+Z.p*12),Z.m===void 0&&(Z.m="q"in Z?Z.q:0),"V"in Z){if(Z.V<1||Z.V>53)return null;"w"in Z||(Z.w=1),"Z"in Z?(ht=hf(Gr(Z.y,0,1)),Ct=ht.getUTCDay(),ht=Ct>4||Ct===0?Lo.ceil(ht):Lo(ht),ht=js.offset(ht,(Z.V-1)*7),Z.y=ht.getUTCFullYear(),Z.m=ht.getUTCMonth(),Z.d=ht.getUTCDate()+(Z.w+6)%7):(ht=lf(Gr(Z.y,0,1)),Ct=ht.getDay(),ht=Ct>4||Ct===0?To.ceil(ht):To(ht),ht=$i.offset(ht,(Z.V-1)*7),Z.y=ht.getFullYear(),Z.m=ht.getMonth(),Z.d=ht.getDate()+(Z.w+6)%7)}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),Ct="Z"in Z?hf(Gr(Z.y,0,1)).getUTCDay():lf(Gr(Z.y,0,1)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+Z.W*7-(Ct+5)%7:Z.w+Z.U*7-(Ct+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,hf(Z)):lf(Z)}}function N(U,tt,ot,Z){for(var _t=0,ht=tt.length,Ct=ot.length,Et,ut;_t<ht;){if(Z>=Ct)return-1;if(Et=tt.charCodeAt(_t++),Et===37){if(Et=tt.charAt(_t++),ut=C[Et in np?tt.charAt(_t++):Et],!ut||(Z=ut(U,ot,Z))<0)return-1}else if(Et!=ot.charCodeAt(Z++))return-1}return Z}function B(U,tt,ot){var Z=h.exec(tt.slice(ot));return Z?(U.p=d.get(Z[0].toLowerCase()),ot+Z[0].length):-1}function R(U,tt,ot){var Z=_.exec(tt.slice(ot));return Z?(U.w=v.get(Z[0].toLowerCase()),ot+Z[0].length):-1}function $(U,tt,ot){var Z=m.exec(tt.slice(ot));return Z?(U.w=g.get(Z[0].toLowerCase()),ot+Z[0].length):-1}function H(U,tt,ot){var Z=P.exec(tt.slice(ot));return Z?(U.m=T.get(Z[0].toLowerCase()),ot+Z[0].length):-1}function X(U,tt,ot){var Z=w.exec(tt.slice(ot));return Z?(U.m=x.get(Z[0].toLowerCase()),ot+Z[0].length):-1}function Y(U,tt,ot){return N(U,e,tt,ot)}function I(U,tt,ot){return N(U,n,tt,ot)}function W(U,tt,ot){return N(U,i,tt,ot)}function Q(U){return u[U.getDay()]}function q(U){return a[U.getDay()]}function et(U){return l[U.getMonth()]}function D(U){return c[U.getMonth()]}function F(U){return o[+(U.getHours()>=12)]}function G(U){return 1+~~(U.getMonth()/3)}function K(U){return u[U.getUTCDay()]}function at(U){return a[U.getUTCDay()]}function nt(U){return l[U.getUTCMonth()]}function J(U){return c[U.getUTCMonth()]}function j(U){return o[+(U.getUTCHours()>=12)]}function st(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var tt=k(U+="",S);return tt.toString=function(){return U},tt},parse:function(U){var tt=A(U+="",!1);return tt.toString=function(){return U},tt},utcFormat:function(U){var tt=k(U+="",M);return tt.toString=function(){return U},tt},utcParse:function(U){var tt=A(U+="",!0);return tt.toString=function(){return U},tt}}}var np={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,Y5=/^%/,G5=/[\\^$*+?|[\]().{}]/g;function zt(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",a=o.length;return i+(a<n?new Array(n-a+1).join(e)+o:o)}function X5(t){return t.replace(G5,"\\$&")}function Xr(t){return new RegExp("^(?:"+t.map(X5).join("|")+")","i")}function jr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function j5(t,e,n){var i=Qt.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function K5(t,e,n){var i=Qt.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function J5(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Q5(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function t8(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function ip(t,e,n){var i=Qt.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function rp(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function e8(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function n8(t,e,n){var i=Qt.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function i8(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function op(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function r8(t,e,n){var i=Qt.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function ap(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function o8(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function a8(t,e,n){var i=Qt.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function s8(t,e,n){var i=Qt.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function u8(t,e,n){var i=Qt.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function f8(t,e,n){var i=Y5.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function c8(t,e,n){var i=Qt.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function l8(t,e,n){var i=Qt.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function sp(t,e){return zt(t.getDate(),e,2)}function h8(t,e){return zt(t.getHours(),e,2)}function d8(t,e){return zt(t.getHours()%12||12,e,2)}function p8(t,e){return zt(1+$i.count(Xe(t),t),e,3)}function $g(t,e){return zt(t.getMilliseconds(),e,3)}function m8(t,e){return $g(t,e)+"000"}function g8(t,e){return zt(t.getMonth()+1,e,2)}function _8(t,e){return zt(t.getMinutes(),e,2)}function y8(t,e){return zt(t.getSeconds(),e,2)}function v8(t){var e=t.getDay();return e===0?7:e}function b8(t,e){return zt(yr.count(Xe(t)-1,t),e,2)}function zg(t){var e=t.getDay();return e>=4||e===0?ki(t):ki.ceil(t)}function w8(t,e){return t=zg(t),zt(ki.count(Xe(t),t)+(Xe(t).getDay()===4),e,2)}function x8(t){return t.getDay()}function M8(t,e){return zt(To.count(Xe(t)-1,t),e,2)}function T8(t,e){return zt(t.getFullYear()%100,e,2)}function L8(t,e){return t=zg(t),zt(t.getFullYear()%100,e,2)}function S8(t,e){return zt(t.getFullYear()%1e4,e,4)}function P8(t,e){var n=t.getDay();return t=n>=4||n===0?ki(t):ki.ceil(t),zt(t.getFullYear()%1e4,e,4)}function k8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function up(t,e){return zt(t.getUTCDate(),e,2)}function C8(t,e){return zt(t.getUTCHours(),e,2)}function E8(t,e){return zt(t.getUTCHours()%12||12,e,2)}function A8(t,e){return zt(1+js.count(je(t),t),e,3)}function Ng(t,e){return zt(t.getUTCMilliseconds(),e,3)}function $8(t,e){return Ng(t,e)+"000"}function z8(t,e){return zt(t.getUTCMonth()+1,e,2)}function N8(t,e){return zt(t.getUTCMinutes(),e,2)}function I8(t,e){return zt(t.getUTCSeconds(),e,2)}function O8(t){var e=t.getUTCDay();return e===0?7:e}function D8(t,e){return zt(vr.count(je(t)-1,t),e,2)}function Ig(t){var e=t.getUTCDay();return e>=4||e===0?Ci(t):Ci.ceil(t)}function B8(t,e){return t=Ig(t),zt(Ci.count(je(t),t)+(je(t).getUTCDay()===4),e,2)}function R8(t){return t.getUTCDay()}function Z8(t,e){return zt(Lo.count(je(t)-1,t),e,2)}function F8(t,e){return zt(t.getUTCFullYear()%100,e,2)}function U8(t,e){return t=Ig(t),zt(t.getUTCFullYear()%100,e,2)}function H8(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function W8(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ci(t):Ci.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function q8(){return"+0000"}function fp(){return"%"}function cp(t){return+t}function lp(t){return Math.floor(+t/1e3)}var Ji,sl,Wo;V8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function V8(t){return Ji=V5(t),sl=Ji.format,Ji.parse,Wo=Ji.utcFormat,Ji.utcParse,Ji}function Y8(t){return new Date(t)}function G8(t){return t instanceof Date?+t:+new Date(+t)}function ul(t,e,n,i,o,a,u,c,l,h){var d=hg(),m=d.invert,g=d.domain,_=h(".%L"),v=h(":%S"),w=h("%I:%M"),x=h("%I %p"),P=h("%a %d"),T=h("%b %d"),S=h("%B"),M=h("%Y");function C(k){return(l(k)<k?_:c(k)<k?v:u(k)<k?w:a(k)<k?x:i(k)<k?o(k)<k?P:T:n(k)<k?S:M)(k)}return d.invert=function(k){return new Date(m(k))},d.domain=function(k){return arguments.length?g(Array.from(k,G8)):g().map(Y8)},d.ticks=function(k){var A=g();return t(A[0],A[A.length-1],k??10)},d.tickFormat=function(k,A){return A==null?C:h(A)},d.nice=function(k){var A=g();return(!k||typeof k.range!="function")&&(k=e(A[0],A[A.length-1],k??10)),k?g(pg(A,k)):d},d.copy=function(){return Bo(d,ul(t,e,n,i,o,a,u,c,l,h))},d}function X8(){return vn.apply(ul(W5,q5,Xe,Uo,yr,$i,Xs,Gs,ln,sl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function j8(){return vn.apply(ul(U5,H5,je,Ho,vr,js,Fo,Zo,ln,Wo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Js(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qs(){var t=0,e=.5,n=1,i=1,o,a,u,c,l,h=De,d,m=!1,g;function _(w){return isNaN(w=+w)?g:(w=.5+((w=+d(w))-a)*(i*w<i*a?c:l),h(m?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([t,e,n]=w,o=d(t=+t),a=d(e=+e),u=d(n=+n),c=o===a?0:.5/(a-o),l=a===u?0:.5/(u-a),i=a<o?-1:1,_):[t,e,n]},_.clamp=function(w){return arguments.length?(m=!!w,_):m},_.interpolator=function(w){return arguments.length?(h=w,_):h};function v(w){return function(x){var P,T,S;return arguments.length?([P,T,S]=x,h=Zs(w,[P,T,S]),_):[h(0),h(.5),h(1)]}}return _.range=v(Sr),_.rangeRound=v(Xc),_.unknown=function(w){return arguments.length?(g=w,_):g},function(w){return d=w,o=w(t),a=w(e),u=w(n),c=o===a?0:.5/(a-o),l=a===u?0:.5/(u-a),i=a<o?-1:1,_}}function Og(){var t=Ro(Qs()(De));return t.copy=function(){return Js(t,Og())},qs.apply(t,arguments)}function Dg(){var t=mg(Qs()).domain([.1,1,10]);return t.copy=function(){return Js(t,Dg()).base(t.base())},qs.apply(t,arguments)}function Bg(){var t=_g(Qs());return t.copy=function(){return Js(t,Bg()).constant(t.constant())},qs.apply(t,arguments)}function Rg(){var t=vg(Qs());return t.copy=function(){return Js(t,Rg()).exponent(t.exponent())},qs.apply(t,arguments)}function bt(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}const K8=bt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),J8=bt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Q8=bt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),t4=bt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),e4=bt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),n4=bt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),i4=bt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),r4=bt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),o4=bt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),a4=bt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Ot=t=>Rx(t[t.length-1]);var Zg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(bt);const Fg=Ot(Zg);var Ug=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(bt);const Hg=Ot(Ug);var Wg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(bt);const qg=Ot(Wg);var Vg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(bt);const Yg=Ot(Vg);var bc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(bt);const ys=Ot(bc);var Gg=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(bt);const Xg=Ot(Gg);var wc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(bt);const vs=Ot(wc);var jg=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(bt);const Kg=Ot(jg);var Jg=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(bt);const Qg=Ot(Jg);var t_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(bt);const e_=Ot(t_);var n_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(bt);const i_=Ot(n_);var r_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(bt);const o_=Ot(r_);var a_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(bt);const s_=Ot(a_);var u_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(bt);const f_=Ot(u_);var c_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(bt);const l_=Ot(c_);var h_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(bt);const d_=Ot(h_);var p_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(bt);const m_=Ot(p_);var g_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(bt);const __=Ot(g_);var y_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(bt);const v_=Ot(y_);var b_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(bt);const w_=Ot(b_);var x_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(bt);const M_=Ot(x_);var T_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(bt);const L_=Ot(T_);var S_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(bt);const P_=Ot(S_);var k_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(bt);const C_=Ot(k_);var E_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(bt);const A_=Ot(E_);var $_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(bt);const z_=Ot($_);var N_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(bt);const I_=Ot(N_);function O_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const D_=jc(mn(300,.5,0),mn(-240,.5,1));var B_=jc(mn(-100,.75,.35),mn(80,1.5,.8)),R_=jc(mn(260,.75,.35),mn(80,1.5,.8)),Sa=mn();function Z_(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Sa.h=360*t-100,Sa.s=1.5-1.5*e,Sa.l=.8-.9*e,Sa+""}var Pa=jn(),s4=Math.PI/3,u4=Math.PI*2/3;function F_(t){var e;return t=(.5-t)*Math.PI,Pa.r=255*(e=Math.sin(t))*e,Pa.g=255*(e=Math.sin(t+s4))*e,Pa.b=255*(e=Math.sin(t+u4))*e,Pa+""}function U_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function tu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const H_=tu(bt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var W_=tu(bt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),q_=tu(bt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),V_=tu(bt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Y_=Math.cos,fl=Math.min,bs=Math.sin,Yt=Math.sqrt,ws=Math.PI,eu=2*ws,f4=Yt(3),G_={draw(t,e){const n=Yt(e+fl(e/28,.75))*.59436,i=n/2,o=i*f4;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-i),t.lineTo(o,i),t.moveTo(-o,i),t.lineTo(o,-i)}},cl={draw(t,e){const n=Yt(e/ws);t.moveTo(n,0),t.arc(0,0,n,0,eu)}},X_={draw(t,e){const n=Yt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},j_=Yt(1/3),c4=j_*2,K_={draw(t,e){const n=Yt(e/c4),i=n*j_;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},J_={draw(t,e){const n=Yt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Q_={draw(t,e){const n=Yt(e-fl(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},t1={draw(t,e){const n=Yt(e),i=-n/2;t.rect(i,i,n,n)}},e1={draw(t,e){const n=Yt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},l4=.8908130915292852,n1=bs(ws/10)/bs(7*ws/10),h4=bs(eu/10)*n1,d4=-Y_(eu/10)*n1,i1={draw(t,e){const n=Yt(e*l4),i=h4*n,o=d4*n;t.moveTo(0,-n),t.lineTo(i,o);for(let a=1;a<5;++a){const u=eu*a/5,c=Y_(u),l=bs(u);t.lineTo(l*n,-c*n),t.lineTo(c*i-l*o,l*i+c*o)}t.closePath()}},df=Yt(3),r1={draw(t,e){const n=-Yt(e/(df*3));t.moveTo(0,n*2),t.lineTo(-df*n,-n),t.lineTo(df*n,-n),t.closePath()}},p4=Yt(3),o1={draw(t,e){const n=Yt(e)*.6824,i=n/2,o=n*p4/2;t.moveTo(0,-n),t.lineTo(o,i),t.lineTo(-o,i),t.closePath()}},$e=-.5,ze=Yt(3)/2,xc=1/Yt(12),m4=(xc/2+1)*3,a1={draw(t,e){const n=Yt(e/m4),i=n/2,o=n*xc,a=i,u=n*xc+n,c=-a,l=u;t.moveTo(i,o),t.lineTo(a,u),t.lineTo(c,l),t.lineTo($e*i-ze*o,ze*i+$e*o),t.lineTo($e*a-ze*u,ze*a+$e*u),t.lineTo($e*c-ze*l,ze*c+$e*l),t.lineTo($e*i+ze*o,$e*o-ze*i),t.lineTo($e*a+ze*u,$e*u-ze*a),t.lineTo($e*c+ze*l,$e*l-ze*c),t.closePath()}},s1={draw(t,e){const n=Yt(e-fl(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},g4=[cl,X_,K_,t1,i1,r1,a1],_4=[cl,Q_,s1,o1,G_,e1,J_];function so(t,e,n){this.k=t,this.x=e,this.y=n}so.prototype={constructor:so,scale:function(t){return t===1?this:new so(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new so(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};so.prototype;function Ei(t){return t!=null&&!Number.isNaN(t)}function Ke(t,e){return+Ei(e)-+Ei(t)||me(t,e)}function xs(t,e){return+Ei(e)-+Ei(t)||No(t,e)}function u1(t){return t!=null&&`${t}`!=""}function f1(t){return isFinite(t)?t:NaN}function ll(t){return t>0&&isFinite(t)?t:NaN}function c1(t){return t<0&&isFinite(t)?t:NaN}function y4(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),i=t.getUTCMinutes(),o=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${v4(t.getUTCFullYear())}-${An(t.getUTCMonth()+1,2)}-${An(t.getUTCDate(),2)}${n||i||o||a?`T${An(n,2)}:${An(i,2)}${o||a?`:${An(o,2)}${a?`.${An(a,3)}`:""}`:""}Z`:""}`}function v4(t){return t<0?`-${An(-t,6)}`:t>9999?`+${An(t,6)}`:An(t,4)}function An(t,e){return`${t}`.padStart(e,"0")}const b4=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function l1(t,e){return b4.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const rr=1e3,hi=rr*60,di=hi*60,Rn=di*24,sn=Rn*7,_i=Rn*30,Vn=Rn*365,pf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",rr],["5 seconds",5*rr],["15 seconds",15*rr],["30 seconds",30*rr],["minute",hi],["5 minutes",5*hi],["15 minutes",15*hi],["30 minutes",30*hi],["hour",di],["3 hours",3*di],["6 hours",6*di],["12 hours",12*di],["day",Rn],["2 days",2*Rn],["week",sn],["2 weeks",2*sn],["month",_i],["3 months",3*_i],["6 months",6*_i],["year",Vn],["2 years",2*Vn],["5 years",5*Vn],["10 years",10*Vn],["20 years",20*Vn],["50 years",50*Vn],["100 years",100*Vn]],hl=new Map([["second",rr],["minute",hi],["hour",di],["day",Rn],["monday",sn],["tuesday",sn],["wednesday",sn],["thursday",sn],["friday",sn],["saturday",sn],["sunday",sn],["week",sn],["month",_i],["year",Vn]]),h1=new Map([["second",ln],["minute",Gs],["hour",Xs],["day",$i],["monday",To],["tuesday",Mg],["wednesday",Tg],["thursday",ki],["friday",Lg],["saturday",Sg],["sunday",yr],["week",yr],["month",Uo],["year",Xe]]),d1=new Map([["second",ln],["minute",Zo],["hour",Fo],["day",Ks],["monday",Lo],["tuesday",Pg],["wednesday",kg],["thursday",Ci],["friday",Cg],["saturday",Eg],["sunday",vr],["week",vr],["month",Ho],["year",je]]),qo=Symbol("intervalDuration"),nu=Symbol("intervalType");for(const[t,e]of h1)e[qo]=hl.get(t),e[nu]="time";for(const[t,e]of d1)e[qo]=hl.get(t),e[nu]="utc";const w4=[["year",je,"utc"],["year",Xe,"time"],["month",Ho,"utc"],["month",Uo,"time"],["day",Ks,"utc",6*_i],["day",$i,"time",6*_i],["hour",Fo,"utc",3*Rn],["minute",Zo,"utc",6*di],["second",ln,"utc",30*hi]];function p1(t,e,n){let i=`${t}`.toLowerCase();i.endsWith("s")&&(i=i.slice(0,-1));let o=1;const a=/^(?:(\d+)\s+)/.exec(i);switch(a&&(i=i.slice(a[0].length),o=+a[1]),i){case"quarter":i="month",o*=3;break;case"half":i="month",o*=6;break}let u=e.get(i);if(!u)throw new Error(`unknown interval: ${t}`);if(o>1){if(!u.every)throw new Error(`non-periodic interval: ${i}`);u=u.every(o),u[qo]=hl.get(i)*o,u[nu]=n}return u}function m1(t){return p1(t,h1,"time")}function g1(t){return p1(t,d1,"utc")}function hp(t,e){if(!(e>1))return;const n=t[qo];if(!pf.some(([,o])=>o===n)||n%Rn===0&&Rn<n&&n<_i)return;const[i]=pf[zs(([,o])=>Math.log(o)).center(pf,Math.log(n*e))];return(t[nu]==="time"?m1:g1)(i)}function dp(t,e,n){const i=e==="time"?sl:Wo;if(n==null)return i(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const o=x4(n);switch(t){case"millisecond":return Qi(i(".%L"),i(":%M:%S"),o);case"second":return Qi(i(":%S"),i("%-I:%M"),o);case"minute":return Qi(i("%-I:%M"),i("%p"),o);case"hour":return Qi(i("%-I %p"),i("%b %-d"),o);case"day":return Qi(i("%-d"),i("%b"),o);case"month":return Qi(i("%b"),i("%Y"),o);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function x4(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function M4(t,e){const n=Ye(kw(t,(i,o)=>Math.abs(o-i)));if(n<1e3)return dp("millisecond","utc",e);for(const[i,o,a,u]of w4){if(n>u||i==="hour"&&!n)break;if(t.every(c=>o.floor(c)>=c))return dp(i,a,e)}}function Qi(t,e,n){return(i,o,a)=>{const u=t(i,o),c=e(i,o),l=o-br(a);return o!==l&&a[l]!==void 0&&c===e(a[l],l)?u:n(u,c)}}const So=Object.getPrototypeOf(Uint8Array),T4=Object.prototype.toString,_1=Symbol("reindex");function jt(t,e,n){const i=typeof e;return i==="string"?pp(t,y1(e),n):i==="function"?pp(t,e,n):i==="number"||e instanceof Date||i==="boolean"?Jt(t,Vo(e),n):typeof(e==null?void 0:e.transform)=="function"?mp(e.transform(t),n):L4(mp(e,n),t==null?void 0:t[_1])}function L4(t,e){return e?gl(t,e):t}function pp(t,e,n){return Jt(t,(n==null?void 0:n.prototype)instanceof So?S4(e):e,n)}function mp(t,e){return e===void 0?ke(t):t instanceof e?t:e.prototype instanceof So&&!(t instanceof So)?e.from(t,pl):e.from(t)}function S4(t){return(e,n)=>pl(t(e,n))}const Fa=[null],y1=t=>e=>e[t],v1={transform:Fn},_e={transform:t=>t},P4=()=>1,k4=()=>!0,fe=t=>t==null?t:`${t}`,Zt=t=>t==null?t:+t,dl=t=>t?t[0]:void 0,Mc=t=>t?t[1]:void 0,Vo=t=>()=>t;function C4(t){const e=+`${t}`.slice(1)/100;return(n,i)=>Ga(n,e,i)}function gp(t){return t instanceof So?t:Jt(t,pl,Float64Array)}function pl(t){return t==null?NaN:Number(t)}function E4(t){return Jt(t,A4)}function A4(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?l1(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Zn(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:ru(t)?[void 0,t]:[t,void 0]}function we(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function b1(t,e,n){if(t!=null)return tn(t,e,n)}function tn(t,e,n){const i=`${t}`.toLowerCase();if(!n.includes(i))throw new Error(`invalid ${e}: ${t}`);return i}function ke(t){return t==null||t instanceof Array||t instanceof So?t:Array.from(t)}function Jt(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function Po(t,e=Array){return t instanceof e?t.slice():e.from(t)}function w1({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function $4({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function z4(t){return w1(t)||$4(t)||t.interval!==void 0}function ti(t){return(t==null?void 0:t.toString)===T4}function Tc(t){return ti(t)&&(t.type!==void 0||t.domain!==void 0)}function ml(t){return ti(t)&&typeof t.transform!="function"}function ko(t){return ml(t)&&t.value===void 0&&t.channel===void 0}function N4(t,e,n,i=_e){return e===void 0&&n===void 0?(e=0,n=t===void 0?i:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function x1(t,e){return t===void 0&&e===void 0?[dl,Mc]:[t,e]}function I4({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Zn(e)),t===void 0&&([t]=Zn(n)),t}function Fn(t){const e=t.length,n=new Uint32Array(e);for(let i=0;i<e;++i)n[i]=i;return n}function gl(t,e){return Jt(e,n=>t[n],t.constructor)}function O4(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function ka(t){return t!==null&&typeof t=="object"?t.valueOf():t}function D4(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Ms(t){let e;return[{transform:()=>e,label:kr(t)},n=>e=n]}function nr(t){return t==null?[t]:Ms(t)}function kr(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function B4(t,e){return{transform(n){const i=t.transform(n),o=e.transform(n);return Fe(i)||Fe(o)?Jt(i,(a,u)=>new Date((+i[u]+ +o[u])/2)):Jt(i,(a,u)=>(+i[u]+ +o[u])/2,Float64Array)},label:t.label}}function Lc(t,e){const n=M1(e==null?void 0:e.interval,e==null?void 0:e.type);return n?Jt(t,n):t}function M1(t,e){const n=_l(t,e);return n&&(i=>Ei(i)?n.floor(i):i)}function _l(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:i=>Math.floor(i*n)/n,offset:i=>(i*n+1)/n,range:(i,o)=>Df(Math.ceil(i*n),o*n).map(a=>a/n)}:{floor:i=>Math.floor(i/n)*n,offset:i=>i+n,range:(i,o)=>Df(Math.ceil(i/n),o/n).map(a=>a*n)}}if(typeof t=="string")return(e==="time"?m1:g1)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Yo(t,e){if(t=_l(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function R4(t,e){if(t=Yo(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Z4(t){return typeof(t==null?void 0:t.range)=="function"}function iu(t){return t===void 0||ml(t)?t:{value:t}}function F4(t){return t==null?null:{transform:e=>jt(e,t,Float64Array),label:kr(t)}}function Ii(t){return t&&typeof t[Symbol.iterator]=="function"}function T1(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function _p(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Fe(t){for(const e of t)if(e!=null)return e instanceof Date}function U4(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&l1(e)}function H4(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function W4(t){for(const e of t)if(e!=null)return typeof e=="number"}function mf(t,e){let n;for(const i of t)if(i!=null){if(!e(i))return!1;n=!0}return n}const q4=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function ru(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||q4.has(t))}function V4(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function de(t){return t==null||Co(t)}function Co(t){return/^\s*none\s*$/i.test(t)}function Y4(t){return/^\s*round\s*$/i.test(t)}function L1(t,e){return b1(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function yl(t="middle"){return L1(t,"frameAnchor")}function br(t){if(t==null)return;const e=t[0],n=t[t.length-1];return No(e,n)}function G4(t={},...e){let n=t;for(const i of e)for(const o in i)if(n[o]===void 0){const a=i[o];n===t?n={...n,[o]:a}:n[o]=a}return n}function X4(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:i}=n;if(i==null)throw new Error("missing name");const o=`${i}`;if(o==="__proto__")throw new Error(`illegal name: ${o}`);if(e.has(o))throw new Error(`duplicate name: ${o}`);return e.add(o),[i,n]}))}function S1(t){return Ii(t)?X4(t):t}const hn=Symbol("position"),Un=Symbol("color"),Go=Symbol("radius"),Xo=Symbol("length"),jo=Symbol("opacity"),ou=Symbol("symbol"),P1=Symbol("projection"),Ut=new Map([["x",hn],["y",hn],["fx",hn],["fy",hn],["r",Go],["color",Un],["opacity",jo],["symbol",ou],["length",Xo],["projection",P1]]);function j4(t){return t===hn||t===P1}function K4(t){return t===hn||t===Go||t===Xo||t===jo}const J4=Math.sqrt(3),Q4=2/J4,t7={draw(t,e){const n=Math.sqrt(e/Math.PI),i=n*Q4,o=i/2;t.moveTo(0,i),t.lineTo(n,o),t.lineTo(n,-o),t.lineTo(0,-i),t.lineTo(-n,-o),t.lineTo(-n,o),t.closePath()}},k1=new Map([["asterisk",G_],["circle",cl],["cross",X_],["diamond",K_],["diamond2",J_],["hexagon",t7],["plus",Q_],["square",t1],["square2",e1],["star",i1],["times",s1],["triangle",r1],["triangle2",o1],["wye",a1]]);function C1(t){return t&&typeof t.draw=="function"}function e7(t){return C1(t)?!0:typeof t!="string"?!1:k1.has(t.toLowerCase())}function vl(t){if(t==null||C1(t))return t;const e=k1.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function bl({filter:t,sort:e,reverse:n,transform:i,initializer:o,...a}={},u){if(i===void 0&&(t!=null&&(i=E1(t)),e!=null&&!ko(e)&&(i=gf(i,$1(e))),n&&(i=gf(i,A1))),u!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||ko(e))&&{sort:e},transform:gf(i,u)}}function Ts({filter:t,sort:e,reverse:n,initializer:i,...o}={},a){return i===void 0&&(t!=null&&(i=E1(t)),e!=null&&!ko(e)&&(i=_f(i,$1(e))),n&&(i=_f(i,A1))),{...o,...(e===null||ko(e))&&{sort:e},initializer:_f(i,a)}}function gf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,i,o){return{data:n,facets:i}=t.call(this,n,i,o),e.call(this,ke(n),i,o)}}function _f(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,i,o,...a){let u,c,l,h,d,m;return{data:c=n,facets:l=i,channels:u}=t.call(this,n,i,o,...a),{data:d=c,facets:m=l,channels:h}=e.call(this,c,l,{...o,...u},...a),{data:d,facets:m,channels:{...u,...h}}}}function E1(t){return(e,n)=>{const i=jt(e,t);return{data:e,facets:n.map(o=>o.filter(a=>i[a]))}}}function A1(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function $1(t){return(typeof t=="function"&&t.length!==1?n7:i7)(t)}function n7(t){return(e,n)=>{const i=(o,a)=>t(e[o],e[a]);return{data:e,facets:n.map(o=>o.slice().sort(i))}}}function i7(t){let e,n;({channel:e,value:t,order:n}={...iu(t)});const i=e==null?void 0:e.startsWith("-");if(i&&(e=e.slice(1)),n===void 0&&(n=i?xs:Ke),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Ke;break;case"descending":n=xs;break;default:throw new Error(`invalid order: ${n}`)}return(o,a,u)=>{let c;if(e===void 0)c=jt(o,t);else{if(u===void 0)throw new Error("channel sort requires an initializer");if(c=u[e],!c)return{};c=c.value}const l=(h,d)=>n(c[h],c[d]);return{data:o,facets:a.map(h=>h.slice().sort(l))}}}function yp(t,e){return z1(null,null,t,e)}function vp(t={x:"count"},e={}){const{y:n=_e}=e;if(n==null)throw new Error("missing channel: y");return z1(null,n,t,e)}function z1(t,e,{data:n=O1,filter:i,sort:o,reverse:a,...u}={},c={}){u=r7(u,c),n=wl(n,_e),o=o==null?void 0:N1("sort",o,c),i=i==null?void 0:I1("filter",i,c);const[l,h]=nr(t),[d,m]=nr(e),{z:g,fill:_,stroke:v,x1:w,x2:x,y1:P,y2:T,...S}=c,[M,C]=nr(g),[k]=Zn(_),[A]=Zn(v),[N,B]=nr(k),[R,$]=nr(A);return{..."z"in c&&{z:M||g},..."fill"in c&&{fill:N||_},..."stroke"in c&&{stroke:R||v},...bl(S,(H,X,Y)=>{const I=Lc(jt(H,t),Y==null?void 0:Y.x),W=Lc(jt(H,e),Y==null?void 0:Y.y),Q=jt(H,g),q=jt(H,k),et=jt(H,A),D=s7(u,{z:Q,fill:q,stroke:et}),F=[],G=[],K=I&&h([]),at=W&&m([]),nt=Q&&C([]),J=q&&B([]),j=et&&$([]);let st=0;for(const U of u)U.initialize(H);o&&o.initialize(H),i&&i.initialize(H);for(const U of X){const tt=[];for(const ot of u)ot.scope("facet",U);o&&o.scope("facet",U),i&&i.scope("facet",U);for(const[ot,Z]of yf(U,D))for(const[_t,ht]of yf(Z,W))for(const[Ct,Et]of yf(ht,I))if(!(i&&!i.reduce(Et))){tt.push(st++),G.push(n.reduceIndex(Et,H)),I&&K.push(Ct),W&&at.push(_t),Q&&nt.push(D===Q?ot:Q[Et[0]]),q&&J.push(D===q?ot:q[Et[0]]),et&&j.push(D===et?ot:et[Et[0]]);for(const ut of u)ut.reduce(Et);o&&o.reduce(Et)}F.push(tt)}return u7(F,o,a),{data:G,facets:F}}),...!bp(u,"x")&&(l?{x:l}:{x1:w,x2:x}),...!bp(u,"y")&&(d?{y:d}:{y1:P,y2:T}),...Object.fromEntries(u.map(({name:H,output:X})=>[H,X]))}}function bp(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function r7(t,e,n=N1){const i=Object.entries(t);return e.title!=null&&t.title===void 0&&i.push(["title",l7]),e.href!=null&&t.href===void 0&&i.push(["href",D1]),i.filter(([,o])=>o!==void 0).map(([o,a])=>a===null?o7(o):n(o,a,e))}function N1(t,e,n,i=I1){let o;ti(e)&&"reduce"in e&&(o=e.scale,e=e.reduce);const a=i(t,e,n),[u,c]=Ms(a.label);let l;return{name:t,output:o===void 0?u:{value:u,scale:o},initialize(h){a.initialize(h),l=c([])},scope(h,d){a.scope(h,d)},reduce(h,d){l.push(a.reduce(h,d))}}}function o7(t){return{name:t,initialize(){},scope(){},reduce(){}}}function I1(t,e,n,i=wl){const o=D4(t,n),a=i(e,o);let u,c;return{label:kr(a===Sc?null:o,a.label),initialize(l){u=o===void 0?l:jt(l,o),a.scope==="data"&&(c=a.reduceIndex(Fn(l),u))},scope(l,h){a.scope===l&&(c=a.reduceIndex(h,u))},reduce(l,h){return a.scope==null?a.reduceIndex(l,u,h):a.reduceIndex(l,u,c,h)}}}function yf(t,e){return e?go(Rc(t,n=>e[n]),dl):[[,t]]}function wl(t,e,n=a7){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&ti(t))return f7(t);if(typeof t=="function")return c7(t);if(/^p\d{2}$/i.test(t))return En(C4(t));switch(`${t}`.toLowerCase()){case"first":return D1;case"last":return h7;case"identity":return O1;case"count":return Sc;case"distinct":return d7;case"sum":return e==null?Sc:p7;case"proportion":return xp(e,"data");case"proportion-facet":return xp(e,"facet");case"deviation":return En(lw);case"min":return En(In);case"min-index":return En(Mw);case"max":return En(Ye);case"max-index":return En(xw);case"mean":return wp(Lw);case"median":return wp(Of);case"variance":return En(Bm);case"mode":return En(Pw)}return n(t)}function a7(t){throw new Error(`invalid reduce: ${t}`)}function s7(t,e){for(const n in e){const i=e[n];if(i!==void 0&&!t.some(o=>o.name===n))return i}}function u7(t,e,n){if(e){const i=e.output.transform(),o=(a,u)=>Ke(i[a],i[u]);t.forEach(a=>a.sort(o))}n&&t.forEach(i=>i.reverse())}function f7(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function c7(t){return{reduceIndex(e,n,i){return t(gl(n,e),i)}}}function En(t){return{reduceIndex(e,n){return t(e,i=>n[i])}}}function wp(t){return{reduceIndex(e,n){const i=t(e,o=>n[o]);return Fe(n)?new Date(i):i}}}const O1={reduceIndex(t,e){return gl(e,t)}},D1={reduceIndex(t,e){return e[t[0]]}},l7={reduceIndex(t,e){const i=go(ar(t,a=>a.length,a=>e[a]),Mc),o=i.slice(-5).reverse();if(o.length<i.length){const a=i.slice(0,-4);o[5-1]=[`… ${a.length.toLocaleString("en-US")} more`,Xn(a,Mc)]}return o.map(([a,u])=>`${a} (${u.toLocaleString("en-US")})`).join(`
`)}},h7={reduceIndex(t,e){return e[t[t.length-1]]}},Sc={label:"Frequency",reduceIndex(t){return t.length}},d7={label:"Distinct",reduceIndex(t,e){const n=new Is;for(const i of t)n.add(e[i]);return n.size}},p7=En(Xn);function xp(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,i,o=1)=>n.length/o}:{scope:e,reduceIndex:(n,i,o=1)=>Xn(n,a=>i[a])/o}}function Eo(t,{scale:e,type:n,value:i,filter:o,hint:a,label:u=kr(i)},c){return a===void 0&&typeof(i==null?void 0:i.transform)=="function"&&(a=i.hint),B1(c,{scale:e,type:n,value:jt(t,i),label:u,filter:o,hint:a})}function m7(t,e){return Object.fromEntries(Object.entries(t).map(([n,i])=>[n,Eo(e,i,n)]))}function g7(t,e){const n=Object.fromEntries(Object.entries(t).map(([i,{scale:o,value:a}])=>{const u=o==null?null:e[o];return[i,u==null?a:Jt(a,u)]}));return n.channels=t,n}function B1(t,e){const{scale:n,value:i}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&mf(i,ru)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&mf(i,V4)?null:"opacity";break;case"symbol":n!==!0&&mf(i,e7)?(e.scale=null,e.value=Jt(i,vl)):e.scale="symbol";break;default:e.scale=Ut.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Ut.has(n))throw new Error(`unknown scale: ${n}`);return e}function _7(t,e,n,i,o){const{order:a,reverse:u,reduce:c=!0,limit:l}=o;for(const h in o){if(!Ut.has(h))continue;let{value:d,order:m=a,reverse:g=u,reduce:_=c,limit:v=l}=iu(o[h]);const w=d==null?void 0:d.startsWith("-");if(w&&(d=d.slice(1)),m=m===void 0?w!==(d==="width"||d==="height")?Z1:R1:b7(m),_==null||_===!1)continue;const x=h==="fx"||h==="fy"?v7(e,i[h]):y7(n,h);if(!x)throw new Error(`missing channel for scale: ${h}`);const P=x.value,[T=0,S=1/0]=Ii(v)?v:v<0?[v]:[0,v];if(d==null)x.domain=()=>{let M=Array.from(new Is(P));return g&&(M=M.reverse()),(T!==0||S!==1/0)&&(M=M.slice(T,S)),M};else{const M=d==="data"?t:d==="height"?Mp(n,"y1","y2"):d==="width"?Mp(n,"x1","x2"):Pc(n,d,d==="y"?"y2":d==="x"?"x2":void 0),C=wl(_===!0?"max":_,M);x.domain=()=>{let k=hw(Fn(P),A=>C.reduceIndex(A,M),A=>P[A]);return m&&k.sort(m),g&&k.reverse(),(T!==0||S!==1/0)&&(k=k.slice(T,S)),k.map(dl)}}}}function y7(t,e){for(const n in t){const i=t[n];if(i.scale===e)return i}}function v7(t,e){const n=t.original;if(n===t)return e;const i=e.value,o=e.value=[];for(let a=0;a<n.length;++a){const u=i[n[a][0]];for(const c of t[a])o[c]=u}return e}function Mp(t,e,n){const i=Pc(t,e),o=Pc(t,n);return Jt(o,(a,u)=>Math.abs(a-i[u]),Float64Array)}function Pc(t,e,n){let i=t[e];if(!i&&n!==void 0&&(i=t[n]),i)return i.value;throw new Error(`missing channel: ${e}`)}function b7(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return R1;case"descending":return Z1}throw new Error(`invalid order: ${t}`)}function R1([t,e],[n,i]){return Ke(e,i)||Ke(t,n)}function Z1([t,e],[n,i]){return xs(e,i)||Ke(t,n)}function Tp(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function w7(t){let e,n;return(...i)=>(((n==null?void 0:n.length)!==i.length||n.some((o,a)=>o!==i[a]))&&(n=i,e=t(...i)),e)}const x7=w7(t=>new Intl.NumberFormat(t));function M7(t="en-US"){const e=x7(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function T7(t){return y4(t,"Invalid Date")}function L7(t="en-US"){const e=M7(t);return n=>(n instanceof Date?T7:typeof n=="number"?e:fe)(n)}const wr=L7();let kc=0,Cc;function S7(){const t=kc;return kc=0,Cc=void 0,t}function yi(t){t!==Cc&&(Cc=t,console.warn(t),++kc)}const xe=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let P7=0;function Lp(){return`plot-clip-${++P7}`}function k7(t,{title:e,href:n,ariaLabel:i,ariaDescription:o,ariaHidden:a,target:u,fill:c,fillOpacity:l,stroke:h,strokeWidth:d,strokeOpacity:m,strokeLinejoin:g,strokeLinecap:_,strokeMiterlimit:v,strokeDasharray:w,strokeDashoffset:x,opacity:P,mixBlendMode:T,imageFilter:S,paintOrder:M,pointerEvents:C,shapeRendering:k,channels:A},{ariaLabel:N,fill:B="currentColor",fillOpacity:R,stroke:$="none",strokeOpacity:H,strokeWidth:X,strokeLinecap:Y,strokeLinejoin:I,strokeMiterlimit:W,paintOrder:Q}){B===null&&(c=null,l=null),$===null&&(h=null,m=null),de(B)?!de($)&&(!de(c)||A!=null&&A.fill)&&($="none"):de($)&&(!de(h)||A!=null&&A.stroke)&&(B="none");const[q,et]=Zn(c,B),[D,F]=we(l,R),[G,K]=Zn(h,$),[at,nt]=we(m,H),[J,j]=we(P);Co(K)||(d===void 0&&(d=X),_===void 0&&(_=Y),g===void 0&&(g=I),v===void 0&&!Y4(g)&&(v=W),!Co(et)&&M===void 0&&(M=Q));const[st,U]=we(d);return B!==null&&(t.fill=ee(et,"currentColor"),t.fillOpacity=Kr(F,1)),$!==null&&(t.stroke=ee(K,"none"),t.strokeWidth=Kr(U,1),t.strokeOpacity=Kr(nt,1),t.strokeLinejoin=ee(g,"miter"),t.strokeLinecap=ee(_,"butt"),t.strokeMiterlimit=Kr(v,4),t.strokeDasharray=ee(w,"none"),t.strokeDashoffset=ee(x,"0")),t.target=fe(u),t.ariaLabel=fe(N),t.ariaDescription=fe(o),t.ariaHidden=fe(a),t.opacity=Kr(j,1),t.mixBlendMode=ee(T,"normal"),t.imageFilter=ee(S,"none"),t.paintOrder=ee(M,"normal"),t.pointerEvents=ee(C,"auto"),t.shapeRendering=ee(k,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:i,optional:!0,filter:null},fill:{value:q,scale:"auto",optional:!0},fillOpacity:{value:D,scale:"auto",optional:!0},stroke:{value:G,scale:"auto",optional:!0},strokeOpacity:{value:at,scale:"auto",optional:!0},strokeWidth:{value:st,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function C7(t,e){e&&t.filter(n=>u1(e[n])).append("title").call(E7,e)}function E7(t,e){e&&t.text(n=>wr(e[n]))}function Cr(t,{target:e,tip:n},{ariaLabel:i,title:o,fill:a,fillOpacity:u,stroke:c,strokeOpacity:l,strokeWidth:h,opacity:d,href:m}){i&&Lt(t,"aria-label",g=>i[g]),a&&Lt(t,"fill",g=>a[g]),u&&Lt(t,"fill-opacity",g=>u[g]),c&&Lt(t,"stroke",g=>c[g]),l&&Lt(t,"stroke-opacity",g=>l[g]),h&&Lt(t,"stroke-width",g=>h[g]),d&&Lt(t,"opacity",g=>d[g]),m&&$7(t,g=>m[g],e),n||C7(t,o)}function F1(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=tn(t,"clip",["frame","sphere"])),t}function A7(t,e,n,i){let o;const{clip:a=i.clip}=e;switch(a){case"frame":{const{width:u,height:c,marginLeft:l,marginRight:h,marginTop:d,marginBottom:m}=n,g=Lp();o=`url(#${g})`,t=ye("svg:g",i).call(_=>_.append("svg:clipPath").attr("id",g).append("rect").attr("x",l).attr("y",d).attr("width",u-h-l).attr("height",c-d-m)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:u}=i;if(!u)throw new Error('the "sphere" clip option requires a projection');const c=Lp();o=`url(#${c})`,t.append("clipPath").attr("id",c).append("path").attr("d",j0(u)({type:"Sphere"}));break}}Lt(t,"aria-label",e.ariaLabel),Lt(t,"aria-description",e.ariaDescription),Lt(t,"aria-hidden",e.ariaHidden),Lt(t,"clip-path",o)}function Oi(t,e,n,i){A7(t,e,n,i),Lt(t,"fill",e.fill),Lt(t,"fill-opacity",e.fillOpacity),Lt(t,"stroke",e.stroke),Lt(t,"stroke-width",e.strokeWidth),Lt(t,"stroke-opacity",e.strokeOpacity),Lt(t,"stroke-linejoin",e.strokeLinejoin),Lt(t,"stroke-linecap",e.strokeLinecap),Lt(t,"stroke-miterlimit",e.strokeMiterlimit),Lt(t,"stroke-dasharray",e.strokeDasharray),Lt(t,"stroke-dashoffset",e.strokeDashoffset),Lt(t,"shape-rendering",e.shapeRendering),Lt(t,"filter",e.imageFilter),Lt(t,"paint-order",e.paintOrder);const{pointerEvents:o=i.pointerSticky===!1?"none":void 0}=e;Lt(t,"pointer-events",o)}function Di(t,e){z7(t,"mix-blend-mode",e.mixBlendMode),Lt(t,"opacity",e.opacity)}function $7(t,e,n){t.each(function(i){const o=e(i);if(o!=null){const a=this.ownerDocument.createElementNS(lr.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(lr.xlink,"href",o),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function Lt(t,e,n){n!=null&&t.attr(e,n)}function z7(t,e,n){n!=null&&t.style(e,n)}function Bi(t,e,{x:n,y:i},o=xe,a=xe){o+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(o+=n.bandwidth()/2),i!=null&&i.bandwidth&&(a+=i.bandwidth()/2),(o||a)&&t.attr("transform",`translate(${o},${a})`)}function ee(t,e){if((t=fe(t))!==e)return t}function Kr(t,e){if((t=Zt(t))!==e)return t}const N7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function xl(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!N7.test(t))throw new Error(`invalid class name: ${t}`);return t}function Ml(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function au({frameAnchor:t},{width:e,height:n,marginTop:i,marginRight:o,marginBottom:a,marginLeft:u}){return[/left$/.test(t)?u:/right$/.test(t)?e-o:(u+e-o)/2,/^top/.test(t)?i:/^bottom/.test(t)?n-a:(i+n-a)/2]}function Tl(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:F1(n)}}function ye(t,{document:e}){return be(Ds(t).call(e.documentElement))}const U1=Math.PI,Pn=2*U1,Sp=.618;function I7({projection:t,inset:e=0,insetTop:n=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e}={},u){if(t==null)return;if(typeof t.stream=="function")return t;let c,l,h="frame";if(ti(t)){let C;if({type:t,domain:l,inset:C,insetTop:n=C!==void 0?C:n,insetRight:i=C!==void 0?C:i,insetBottom:o=C!==void 0?C:o,insetLeft:a=C!==void 0?C:a,clip:h=h,...c}=t,t==null)return}typeof t!="function"&&({type:t}=H1(t));const{width:d,height:m,marginLeft:g,marginRight:_,marginTop:v,marginBottom:w}=u,x=d-g-_-a-i,P=m-v-w-n-o;if(t=t==null?void 0:t({width:x,height:P,clip:h,...c}),t==null)return;h=O7(h,g,v,d-_,m-w);let T=g+a,S=v+n,M;if(l!=null){const[[C,k],[A,N]]=j0(t).bounds(l),B=Math.min(x/(A-C),P/(N-k));B>0?(T-=(B*(C+A)-x)/2,S-=(B*(k+N)-P)/2,M=mc({point(R,$){this.stream.point(R*B+T,$*B+S)}})):yi("Warning: the projection could not be fit to the specified domain; using the default scale.")}return M??(M=T===0&&S===0?W1():mc({point(C,k){this.stream.point(C+T,k+S)}})),{stream:C=>t.stream(M.stream(h(C)))}}function H1(t){switch(`${t}`.toLowerCase()){case"albers-usa":return We(p5,.7463,.4673);case"albers":return Ca(eg,.7463,.4673);case"azimuthal-equal-area":return We(m5,4,4);case"azimuthal-equidistant":return We(g5,Pn,Pn);case"conic-conformal":return Ca(v5,Pn,Pn);case"conic-equal-area":return Ca(ps,6.1702,2.9781);case"conic-equidistant":return Ca(x5,7.312,3.6282);case"equal-earth":return We(T5,5.4133,2.6347);case"equirectangular":return We(b5,Pn,U1);case"gnomonic":return We(L5,3.4641,3.4641);case"identity":return{type:W1};case"reflect-y":return{type:D7};case"mercator":return We(_5,Pn,Pn);case"orthographic":return We(S5,2,2);case"stereographic":return We(P5,2,2);case"transverse-mercator":return We(k5,Pn,Pn);default:throw new Error(`unknown projection type: ${t}`)}}function O7(t,e,n,i,o){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return B0(e,n,i,o);default:throw new Error(`unknown projection clip type: ${t}`)}}function We(t,e,n){return{type:({width:i,height:o,rotate:a,precision:u=.15,clip:c})=>{var h,d,m;const l=t();return u!=null&&((h=l.precision)==null||h.call(l,u)),a!=null&&((d=l.rotate)==null||d.call(l,a)),typeof c=="number"&&((m=l.clipAngle)==null||m.call(l,c)),l.scale(Math.min(i/e,o/n)),l.translate([i/2,o/2]),l},aspectRatio:n/e}}function Ca(t,e,n){const{type:i,aspectRatio:o}=We(t,e,n);return{type:a=>{const{parallels:u,domain:c,width:l,height:h}=a,d=i(a);return u!=null&&(d.parallels(u),c===void 0&&d.fitSize([l,h],{type:"Sphere"})),d},aspectRatio:o}}const W1=Vo({stream:t=>t}),D7=Vo(mc({point(t,e){this.stream.point(t,-e)}}));function B7(t,e,n,i){const o=n[t],a=n[e],u=o.length,c=n[t]=new Float64Array(u).fill(NaN),l=n[e]=new Float64Array(u).fill(NaN);let h;const d=i.stream({point(m,g){c[h]=m,l[h]=g}});for(h=0;h<u;++h)d.point(o[h],a[h])}function R7({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(ti(t)&&(t=t.type),t!=null)}function Z7(t){if(typeof(t==null?void 0:t.stream)=="function")return Sp;if(ti(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=H1(t);if(e)return e}return Sp}}function F7(t){const e=[],n=[],i={scale:"x",value:e},o={scale:"y",value:n},a={point(u,c){e.push(u),n.push(c)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const u of t.value)fi(u,a);return[i,o]}const q1=new Map([["accent",J8],["category10",K8],["dark2",Q8],["paired",t4],["pastel1",e4],["pastel2",n4],["set1",i4],["set2",r4],["set3",o4],["tableau10",a4]]);function U7(t){return t!=null&&q1.has(`${t}`.toLowerCase())}const Pp=new Map([...q1,["brbg",kn(Zg,Fg)],["prgn",kn(Ug,Hg)],["piyg",kn(Wg,qg)],["puor",kn(Vg,Yg)],["rdbu",kn(bc,ys)],["rdgy",kn(Gg,Xg)],["rdylbu",kn(wc,vs)],["rdylgn",kn(jg,Kg)],["spectral",kn(Jg,Qg)],["burd",kp(bc,ys)],["buylrd",kp(wc,vs)],["blues",Xt(T_,L_)],["greens",Xt(S_,P_)],["greys",Xt(k_,C_)],["oranges",Xt(N_,I_)],["purples",Xt(E_,A_)],["reds",Xt($_,z_)],["turbo",Cn(U_)],["viridis",Cn(H_)],["magma",Cn(W_)],["inferno",Cn(q_)],["plasma",Cn(V_)],["cividis",Cn(O_)],["cubehelix",Cn(D_)],["warm",Cn(B_)],["cool",Cn(R_)],["bugn",Xt(t_,e_)],["bupu",Xt(n_,i_)],["gnbu",Xt(r_,o_)],["orrd",Xt(a_,s_)],["pubu",Xt(c_,l_)],["pubugn",Xt(u_,f_)],["purd",Xt(h_,d_)],["rdpu",Xt(p_,m_)],["ylgn",Xt(y_,v_)],["ylgnbu",Xt(g_,__)],["ylorbr",Xt(b_,w_)],["ylorrd",Xt(x_,M_)],["rainbow",Cp(Z_)],["sinebow",Cp(F_)]]);function Xt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Ge(e,n):t[n])}function kn(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Ge(e,n):t[n])}function kp(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Ge(i=>e(1-i),n):t[n].slice().reverse())}function Cn(t){return({length:e})=>Ge(t,Math.max(2,Math.floor(e)))}function Cp(t){return({length:e})=>Ge(t,Math.floor(e)+1).slice(0,-1)}function V1(t){const e=`${t}`.toLowerCase();if(!Pp.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Pp.get(e)}function su(t,e){const n=V1(t),i=typeof n=="function"?n({length:e}):n;return i.length!==e?i.slice(0,e):i}function H7(t,e="greys"){const n=new Set,[i,o]=su(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(o);else if(a===!1)n.add(i);else return;return[...n]}const Ep=new Map([["brbg",Fg],["prgn",Hg],["piyg",qg],["puor",Yg],["rdbu",ys],["rdgy",Xg],["rdylbu",vs],["rdylgn",Kg],["spectral",Qg],["burd",t=>ys(1-t)],["buylrd",t=>vs(1-t)],["blues",L_],["greens",P_],["greys",C_],["purples",A_],["reds",z_],["oranges",I_],["turbo",U_],["viridis",H_],["magma",W_],["inferno",q_],["plasma",V_],["cividis",O_],["cubehelix",D_],["warm",B_],["cool",R_],["bugn",e_],["bupu",i_],["gnbu",o_],["orrd",s_],["pubugn",f_],["pubu",l_],["purd",d_],["rdpu",m_],["ylgnbu",__],["ylgn",v_],["ylorbr",w_],["ylorrd",M_],["rainbow",Z_],["sinebow",F_]]);function Ll(t){const e=`${t}`.toLowerCase();if(!Ep.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Ep.get(e)}const W7=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function q7(t){return t!=null&&W7.has(`${t}`.toLowerCase())}const Y1=t=>e=>t(1-e),vf=[0,1],Ap=new Map([["number",oe],["rgb",Li],["hsl",Jx],["hcl",e6],["lab",Qx]]);function G1(t){const e=`${t}`.toLowerCase();if(!Ap.has(e))throw new Error(`unknown interpolator: ${e}`);return Ap.get(e)}function Ko(t,e,n,{type:i,nice:o,clamp:a,zero:u,domain:c=j1(t,n),unknown:l,round:h,scheme:d,interval:m,range:g=Ut.get(t)===Go?nM(n,c):Ut.get(t)===Xo?iM(n,c):Ut.get(t)===jo?vf:void 0,interpolate:_=Ut.get(t)===Un?d==null&&g!==void 0?Li:Ll(d!==void 0?d:i==="cyclical"?"rainbow":"turbo"):h?Xc:oe,reverse:v}){if(m=Yo(m,i),(i==="cyclical"||i==="sequential")&&(i="linear"),typeof _!="function"&&(_=G1(_)),v=!!v,g!==void 0){const w=(c=ke(c)).length,x=(g=ke(g)).length;if(w!==x){if(_.length===1)throw new Error("invalid piecewise interpolator");_=Zs(_,g),g=void 0}}if(_.length===1?(v&&(_=Y1(_),v=!1),g===void 0&&(g=Float64Array.from(c,(w,x)=>x/(c.length-1)),g.length===2&&(g=vf)),e.interpolate((g===vf?Vo:Pl)(_))):e.interpolate(_),u){const[w,x]=Re(c);(w>0||x<0)&&(c=Po(c),br(c)!==Math.sign(w)?c[c.length-1]=0:c[0]=0)}return v&&(c=Xa(c)),e.domain(c).unknown(l),o&&(e.nice(V7(o,i)),c=e.domain()),g!==void 0&&e.range(g),a&&e.clamp(a),{type:i,domain:c,range:g,scale:e,interpolate:_,interval:m}}function V7(t,e){return t===!0?void 0:typeof t=="number"?t:R4(t,e)}function Y7(t,e,n){return Ko(t,Mo(),e,n)}function G7(t,e,n){return X1(t,e,{...n,exponent:.5})}function X1(t,e,{exponent:n=1,...i}){return Ko(t,bg().exponent(n),e,{...i,type:"pow"})}function X7(t,e,{base:n=10,domain:i=rM(e),...o}){return Ko(t,gg().base(n),e,{...o,domain:i})}function j7(t,e,{constant:n=1,...i}){return Ko(t,yg().constant(n),e,i)}function K7(t,e,{range:n,quantiles:i=n===void 0?5:(n=[...n]).length,n:o=i,scheme:a="rdylbu",domain:u=oM(e),unknown:c,interpolate:l,reverse:h}){return n===void 0&&(n=l!==void 0?Ge(l,o):Ut.get(t)===Un?su(a,o):void 0),u.length>0&&(u=wg(u,n===void 0?{length:o}:n).quantiles()),Sl(t,e,{domain:u,range:n,reverse:h,unknown:c})}function J7(t,e,{range:n,n:i=n===void 0?5:(n=[...n]).length,scheme:o="rdylbu",domain:a=j1(t,e),unknown:u,interpolate:c,reverse:l}){const[h,d]=Re(a);let m;return n===void 0?(m=_o(h,d,i),m[0]<=h&&m.splice(0,1),m[m.length-1]>=d&&m.pop(),i=m.length+1,n=c!==void 0?Ge(c,i):Ut.get(t)===Un?su(o,i):void 0):(m=Ge(oe(h,d),i+1).slice(1,-1),h instanceof Date&&(m=m.map(g=>new Date(g)))),br(ke(a))<0&&m.reverse(),Sl(t,e,{domain:m,range:n,reverse:l,unknown:u})}function Sl(t,e,{domain:n=[0],unknown:i,scheme:o="rdylbu",interpolate:a,range:u=a!==void 0?Ge(a,n.length+1):Ut.get(t)===Un?su(o,n.length+1):void 0,reverse:c}){n=ke(n);const l=br(n);if(!isNaN(l)&&!Q7(n,l))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(u=Xa(u)),{type:"threshold",scale:xg(l<0?Xa(n):n,u===void 0?[]:u).unknown(i),domain:n,range:u}}function Q7(t,e){for(let n=1,i=t.length,o=t[0];n<i;++n){const a=No(o,o=t[n]);if(a!==0&&a!==e)return!1}return!0}function tM(t){return{type:"identity",scale:K4(Ut.get(t))?dg():e=>e}}function Ao(t,e=f1){return t.length?[In(t,({value:n})=>n===void 0?n:In(n,e)),Ye(t,({value:n})=>n===void 0?n:Ye(n,e))]:[0,1]}function j1(t,e){const n=Ut.get(t);return(n===Go||n===jo||n===Xo?eM:Ao)(e)}function eM(t){return[0,t.length?Ye(t,({value:e})=>e===void 0?e:Ye(e,f1)):1]}function nM(t,e){const n=t.find(({radius:u})=>u!==void 0);if(n!==void 0)return[0,n.radius];const i=Ga(t,.5,({value:u})=>u===void 0?NaN:Ga(u,.25,ll)),o=e.map(u=>3*Math.sqrt(u/i)),a=30/Ye(o);return a<1?o.map(u=>u*a):o}function iM(t,e){const n=Of(t,({value:a})=>a===void 0?NaN:Of(a,Math.abs)),i=e.map(a=>12*a/n),o=60/Ye(i);return o<1?i.map(a=>a*o):i}function rM(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return Ao(t,ll);if(n<0)return Ao(t,c1)}return[1,10]}function oM(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const i of n)e.push(i);return e}function Pl(t){return(e,n)=>i=>t(e+i*(n-e))}function uu(t,e,n,i,{type:o,nice:a,clamp:u,domain:c=Ao(i),unknown:l,pivot:h=0,scheme:d,range:m,symmetric:g=!0,interpolate:_=Ut.get(t)===Un?d==null&&m!==void 0?Li:Ll(d!==void 0?d:"rdbu"):oe,reverse:v}){h=+h,c=ke(c);let[w,x]=c;if(c.length>2&&yi(`Warning: the diverging ${t} scale domain contains extra elements.`),No(w,x)<0&&([w,x]=[x,w],v=!v),w=Math.min(w,h),x=Math.max(x,h),typeof _!="function"&&(_=G1(_)),m!==void 0&&(_=_.length===1?Pl(_)(...m):Zs(_,m)),v&&(_=Y1(_)),g){const P=n.apply(h),T=P-n.apply(w),S=n.apply(x)-P;T<S?w=n.invert(P-S):T>S&&(x=n.invert(P+T))}return e.domain([w,h,x]).unknown(l).interpolator(_),u&&e.clamp(u),a&&e.nice(a),{type:o,domain:[w,x],pivot:h,interpolate:_,scale:e}}function aM(t,e,n){return uu(t,Og(),cM,e,n)}function sM(t,e,n){return K1(t,e,{...n,exponent:.5})}function K1(t,e,{exponent:n=1,...i}){return uu(t,Rg().exponent(n=+n),dM(n),e,{...i,type:"diverging-pow"})}function uM(t,e,{base:n=10,pivot:i=1,domain:o=Ao(e,i<0?c1:ll),...a}){return uu(t,Dg().base(n=+n),lM,e,{domain:o,pivot:i,...a})}function fM(t,e,{constant:n=1,...i}){return uu(t,Bg().constant(n=+n),pM(n),e,i)}const cM={apply(t){return t},invert(t){return t}},lM={apply:Math.log,invert:Math.exp},hM={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function dM(t){return t===.5?hM:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function pM(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function J1(t,e,n,i){return Ko(t,e,n,i)}function mM(t,e,n){return J1(t,X8(),e,n)}function gM(t,e,n){return J1(t,j8(),e,n)}const Jo=Symbol("ordinal");function Q1(t,e,n,{type:i,interval:o,domain:a,range:u,reverse:c,hint:l}){return o=Yo(o,i),a===void 0&&(a=ey(n,o,t)),(i==="categorical"||i===Jo)&&(i="ordinal"),c&&(a=Xa(a)),a=e.domain(a).domain(),u!==void 0&&(typeof u=="function"&&(u=u(a)),e.range(u)),{type:i,domain:a,range:u,scale:e,hint:l,interval:o}}function _M(t,e,{type:n,interval:i,domain:o,range:a,scheme:u,unknown:c,...l}){i=Yo(i,n),o===void 0&&(o=ey(e,i,t));let h;if(Ut.get(t)===ou)h=bM(e),a=a===void 0?wM(h):Jt(a,vl);else if(Ut.get(t)===Un&&(a===void 0&&(n==="ordinal"||n===Jo)&&(a=H7(o,u),a!==void 0&&(u=void 0)),u===void 0&&a===void 0&&(u=n==="ordinal"?"turbo":"tableau10"),u!==void 0))if(a!==void 0){const d=Ll(u),m=a[0],g=a[1]-a[0];a=({length:_})=>Ge(v=>d(m+g*v),_)}else a=V1(u);if(c===_c)throw new Error(`implicit unknown on ${t} scale is not supported`);return Q1(t,ol().unknown(c),e,{...l,type:n,domain:o,range:a,hint:h})}function yM(t,e,{align:n=.5,padding:i=.5,...o}){return ty(C5().align(n).padding(i),e,o,t)}function vM(t,e,{align:n=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=t==="fx"||t==="fy"?0:i,...u}){return ty(Vs().align(n).paddingInner(o).paddingOuter(a),e,u,t)}function ty(t,e,n,i){let{round:o}=n;return o!==void 0&&t.round(o=!!o),t=Q1(i,t,e,n),t.round=o,t}function ey(t,e,n){const i=new Is;for(const{value:o,domain:a}of t){if(a!==void 0)return a();if(o!==void 0)for(const u of o)i.add(u)}if(e!==void 0){const[o,a]=Re(i).map(e.floor,e);return e.range(o,e.offset(a))}if(i.size>1e4&&Ut.get(n)===hn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return go(i,Ke)}function $p(t,e){let n;for(const{hint:i}of t){const o=i==null?void 0:i[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}function bM(t){return{fill:$p(t,"fill"),stroke:$p(t,"stroke")}}function wM(t){return de(t.fill)?_4:g4}function Ec(t,{label:e,inset:n=0,insetTop:i=n,insetRight:o=n,insetBottom:a=n,insetLeft:u=n,round:c,nice:l,clamp:h,zero:d,align:m,padding:g,projection:_,facet:{label:v=e}={},...w}={}){const x={};for(const[P,T]of t){const S=w[P],M=LM(P,T,{round:Ut.get(P)===hn?c:void 0,nice:l,clamp:h,zero:d,align:m,padding:g,projection:_,...S});if(M){let{label:C=P==="fx"||P==="fy"?v:e,percent:k,transform:A,inset:N,insetTop:B=N!==void 0?N:P==="y"?i:0,insetRight:R=N!==void 0?N:P==="x"?o:0,insetBottom:$=N!==void 0?N:P==="y"?a:0,insetLeft:H=N!==void 0?N:P==="x"?u:0}=S||{};if(A==null)A=void 0;else if(typeof A!="function")throw new Error("invalid scale transform; not a function");M.percent=!!k,M.label=C===void 0?MM(T,M):C,M.transform=A,P==="x"||P==="fx"?(M.insetLeft=+H,M.insetRight=+R):(P==="y"||P==="fy")&&(M.insetTop=+B,M.insetBottom=+$),x[P]=M}}return x}function zp(t){const e={},n={scales:e};for(const[i,o]of Object.entries(t)){const{scale:a,type:u,interval:c,label:l}=o;e[i]=EM(o),n[i]=a,a.type=u,c!=null&&(a.interval=c),l!=null&&(a.label=l)}return n}function xM(t,e){const{x:n,y:i,fx:o,fy:a}=t,u=o||a?kl(e):e;o&&Np(o,u),a&&Ip(a,u);const c=o||a?ny(t,e):e;n&&Np(n,c),i&&Ip(i,c)}function MM(t=[],e){let n;for(const{label:i}of t)if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}if(n!==void 0)return!Ri(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function kl(t){const{marginTop:e,marginRight:n,marginBottom:i,marginLeft:o,width:a,height:u,facet:{marginTop:c,marginRight:l,marginBottom:h,marginLeft:d}}=t;return{marginTop:Math.max(e,c),marginRight:Math.max(n,l),marginBottom:Math.max(i,h),marginLeft:Math.max(o,d),width:a,height:u}}function ny({fx:t,fy:e},n){const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:c,height:l}=kl(n);return{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:t?t.scale.bandwidth()+u+o:c,height:e?e.scale.bandwidth()+i+a:l,facet:{width:c,height:l}}}function Np(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:i}=t,{width:o,marginLeft:a=0,marginRight:u=0}=e,c=a+n,l=o-u-i;t.range=[c,Math.max(c,l)],Ri(t)||(t.range=ry(t)),t.scale.range(t.range)}iy(t)}function Ip(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:i}=t,{height:o,marginTop:a=0,marginBottom:u=0}=e,c=a+n,l=o-u-i;t.range=[Math.max(c,l),c],Ri(t)?t.range.reverse():t.range=ry(t),t.scale.range(t.range)}iy(t)}function iy(t){t.round===void 0&&PM(t)&&TM(t)<=30&&t.scale.round(!0)}function TM({scale:t}){const e=t.domain().length,[n,i]=t.range(),o=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),u=e-o,c=Math.abs(i-n)/Math.max(1,u+a*2);return(c-Math.floor(c))*u}function ry(t){const e=t.scale.domain().length+oy(t);if(!(e>2))return t.range;const[n,i]=t.range;return Array.from({length:e},(o,a)=>n+a/(e-1)*(i-n))}function LM(t,e=[],n={}){const i=SM(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Ri({type:i})){const o=e.map(({value:a})=>a).filter(a=>a!==void 0);o.some(Fe)?yi(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${tr(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`):o.some(U4)?yi(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${tr(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`):o.some(H4)&&yi(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${tr(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`)}switch(n.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Ea(e,n,gp);break;case"identity":switch(Ut.get(t)){case hn:n=Ea(e,n,gp);break;case ou:n=Ea(e,n,kM);break}break;case"utc":case"time":n=Ea(e,n,E4);break}switch(i){case"diverging":return aM(t,e,n);case"diverging-sqrt":return sM(t,e,n);case"diverging-pow":return K1(t,e,n);case"diverging-log":return uM(t,e,n);case"diverging-symlog":return fM(t,e,n);case"categorical":case"ordinal":case Jo:return _M(t,e,n);case"cyclical":case"sequential":case"linear":return Y7(t,e,n);case"sqrt":return G7(t,e,n);case"threshold":return Sl(t,e,n);case"quantile":return K7(t,e,n);case"quantize":return J7(t,e,n);case"pow":return X1(t,e,n);case"log":return X7(t,e,n);case"symlog":return j7(t,e,n);case"utc":return gM(t,e,n);case"time":return mM(t,e,n);case"point":return yM(t,e,n);case"band":return vM(t,e,n);case"identity":return tM(t);case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}function tr(t){return typeof t=="symbol"?t.description:t}const Op={toString:()=>"projection"};function SM(t,e,{type:n,domain:i,range:o,scheme:a,pivot:u,projection:c}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&c!=null&&(n=Op);for(const{type:h}of e)if(h!==void 0){if(n===void 0)n=h;else if(n!==h)throw new Error(`scale incompatible with channel: ${n} !== ${h}`)}if(n===Op)return;if(n!==void 0)return n;if(i===void 0&&!e.some(({value:h})=>h!==void 0))return;const l=Ut.get(t);if(l===Go)return"sqrt";if(l===jo||l===Xo)return"linear";if(l===ou)return"ordinal";if((i||o||[]).length>2)return bf(l);if(i!==void 0){if(_p(i))return bf(l);if(Fe(i))return"utc"}else{const h=e.map(({value:d})=>d).filter(d=>d!==void 0);if(h.some(_p))return bf(l);if(h.some(Fe))return"utc"}if(l===Un){if(u!=null||q7(a))return"diverging";if(U7(a))return"categorical"}return"linear"}function bf(t){switch(t){case hn:return"point";case Un:return Jo;default:return"ordinal"}}function Ri({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Jo}function oy({type:t}){return t==="threshold"}function PM({type:t}){return t==="point"||t==="band"}function xr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let i=1,o=e.length;i<o;++i)if(t(e[i])-n)return!1;return!0}function Ea(t,{domain:e,...n},i){for(const o of t)o.value!==void 0&&(o.value=i(o.value));return{domain:e===void 0?e:i(e),...n}}function kM(t){return Jt(t,vl)}function CM(t){return e=>{if(!Ut.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function EM({scale:t,type:e,domain:n,range:i,interpolate:o,interval:a,transform:u,percent:c,pivot:l}){if(e==="identity")return{type:"identity",apply:d=>d,invert:d=>d};const h=t.unknown?t.unknown():void 0;return{type:e,domain:Po(n),...i!==void 0&&{range:Po(i)},...u!==void 0&&{transform:u},...c&&{percent:c},...h!==void 0&&{unknown:h},...a!==void 0&&{interval:a},...o!==void 0&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:d=>t(d),...t.invert&&{invert:d=>t.invert(d)}}}function AM(t,e,n={}){let i=.5-xe,o=.5+xe,a=.5+xe,u=.5-xe;for(const{marginTop:w,marginRight:x,marginBottom:P,marginLeft:T}of e)w>i&&(i=w),x>o&&(o=x),P>a&&(a=P),T>u&&(u=T);let{margin:c,marginTop:l=c!==void 0?c:i,marginRight:h=c!==void 0?c:o,marginBottom:d=c!==void 0?c:a,marginLeft:m=c!==void 0?c:u}=n;l=+l,h=+h,d=+d,m=+m;let{width:g=640,height:_=$M(t,n,{width:g,marginTopDefault:i,marginRightDefault:o,marginBottomDefault:a,marginLeftDefault:u})+Math.max(0,l-i+d-a)}=n;g=+g,_=+_;const v={width:g,height:_,marginTop:l,marginRight:h,marginBottom:d,marginLeft:m};if(t.fx||t.fy){let{margin:w,marginTop:x=w!==void 0?w:l,marginRight:P=w!==void 0?w:h,marginBottom:T=w!==void 0?w:d,marginLeft:S=w!==void 0?w:m}=n.facet??{};x=+x,P=+P,T=+T,S=+S,v.facet={marginTop:x,marginRight:P,marginBottom:T,marginLeft:S}}return v}function $M({x:t,y:e,fy:n,fx:i},{projection:o,aspectRatio:a},{width:u,marginTopDefault:c,marginRightDefault:l,marginBottomDefault:h,marginLeftDefault:d}){const m=n?n.scale.domain().length:1,g=Z7(o);if(g){const v=i?i.scale.domain().length:1,w=(1.1*m-.1)/(1.1*v-.1)*g,x=Math.max(.1,Math.min(10,w));return Math.round((u-d-l)*x+c+h)}const _=e?Ri(e)?e.scale.domain().length:Math.max(7,17/m):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const v=Dp("y",e)/(Dp("x",t)*a),w=i?i.scale.bandwidth():1,x=n?n.scale.bandwidth():1,P=w*(u-d-l)-t.insetLeft-t.insetRight;return(v*P+e.insetTop+e.insetBottom)/x+c+h}return!!(e||n)*Math.max(1,Math.min(60,_*m))*20+!!i*30+60}function Dp(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:i}=e;let o;switch(n){case"linear":case"utc":case"time":o=Number;break;case"pow":{const c=e.scale.exponent();o=l=>Math.pow(l,c);break}case"log":o=Math.log;break;case"point":case"band":return i.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,u]=Re(i);return Math.abs(o(u)-o(a))}function zM(t,e){const{fx:n,fy:i}=Ec(t,e),o=n==null?void 0:n.scale.domain(),a=i==null?void 0:i.scale.domain();return o&&a?fw(o,a).map(([u,c],l)=>({x:u,y:c,i:l})):o?o.map((u,c)=>({x:u,i:c})):a?a.map((u,c)=>({y:u,i:c})):void 0}function NM(t,{x:e,y:n}){return e&&(e=Ac(e)),n&&(n=Ac(n)),t.filter(e&&n?i=>e.has(i.x)&&n.has(i.y):e?i=>e.has(i.x):i=>n.has(i.y)).sort(e&&n?(i,o)=>e.get(i.x)-e.get(o.x)||n.get(i.y)-n.get(o.y):e?(i,o)=>e.get(i.x)-e.get(o.x):(i,o)=>n.get(i.y)-n.get(o.y))}function Cl(t,{fx:e,fy:n}){const i=Fn(t),o=e==null?void 0:e.value,a=n==null?void 0:n.value;return e&&n?ar(i,u=>(u.fx=o[u[0]],u.fy=a[u[0]],u),u=>o[u],u=>a[u]):e?ar(i,u=>(u.fx=o[u[0]],u),u=>o[u]):ar(i,u=>(u.fy=a[u[0]],u),u=>a[u])}function IM(t,e,{marginTop:n,marginLeft:i}){return t&&e?({x:o,y:a})=>`translate(${t(o)-i},${e(a)-n})`:t?({x:o})=>`translate(${t(o)-i},0)`:({y:o})=>`translate(0,${e(o)-n})`}function OM(t){const e=[],n=new Uint32Array(Xn(t,i=>i.length));for(const i of t){let o=0;for(const a of t)i!==a&&(n.set(a,o),o+=a.length);e.push(n.slice(0,o))}return e}const DM=new Map([["top",wf],["right",Tf],["bottom",xf],["left",Mf],["top-left",Aa(wf,Mf)],["top-right",Aa(wf,Tf)],["bottom-left",Aa(xf,Mf)],["bottom-right",Aa(xf,Tf)],["top-empty",ZM],["right-empty",HM],["bottom-empty",FM],["left-empty",UM],["empty",WM]]);function BM(t){if(t==null)return null;const e=DM.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Bp=new WeakMap;function Ac(t){let e=Bp.get(t);return e||Bp.set(t,e=new xi(Jt(t,(n,i)=>[n,i]))),e}function ei(t,e){return Ac(t).get(e)}function RM(t,e,n){return e=ka(e),n=ka(n),t.find(i=>Object.is(ka(i.x),e)&&Object.is(ka(i.y),n))}function fu(t,e,n){var i;return(i=RM(t,e,n))==null?void 0:i.empty}function wf(t,{y:e},{y:n}){return e?ei(e,n)===0:!0}function xf(t,{y:e},{y:n}){return e?ei(e,n)===e.length-1:!0}function Mf(t,{x:e},{x:n}){return e?ei(e,n)===0:!0}function Tf(t,{x:e},{x:n}){return e?ei(e,n)===e.length-1:!0}function ZM(t,{y:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ei(e,i);if(a>0)return fu(t,n,e[a-1])}function FM(t,{y:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ei(e,i);if(a<e.length-1)return fu(t,n,e[a+1])}function UM(t,{x:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ei(e,n);if(a>0)return fu(t,e[a-1],i)}function HM(t,{x:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ei(e,n);if(a<e.length-1)return fu(t,e[a+1],i)}function WM(t,e,{empty:n}){return n}function Aa(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Lf(t,{channels:{fx:e,fy:n},groups:i}){return e&&n?t.map(({x:o,y:a})=>{var u;return((u=i.get(o))==null?void 0:u.get(a))??[]}):e?t.map(({x:o})=>i.get(o)??[]):t.map(({y:o})=>i.get(o)??[])}class bn{constructor(e,n={},i={},o){const{facet:a="auto",facetAnchor:u,fx:c,fy:l,sort:h,dx:d=0,dy:m=0,margin:g=0,marginTop:_=g,marginRight:v=g,marginBottom:w=g,marginLeft:x=g,clip:P=o==null?void 0:o.clip,channels:T,tip:S,render:M}=i;if(this.data=e,this.sort=ko(h)?h:null,this.initializer=Ts(i).initializer,this.transform=this.initializer?i.transform:bl(i).transform,a===null||a===!1?this.facet=null:(this.facet=tn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===Fa&&typeof c=="string"?[c]:c,this.fy=e===Fa&&typeof l=="string"?[l]:l),this.facetAnchor=BM(u),n=S1(n),T!==void 0&&(n={...qM(T),...n}),o!==void 0&&(n={...k7(this,i,o),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([C,k])=>{if(ml(k.value)){const{value:A,label:N=k.label,scale:B=k.scale}=k.value;k={...k,label:N,scale:B,value:A}}if(e===Fa&&typeof k.value=="string"){const{value:A}=k;k={...k,value:[A]}}return[C,k]}).filter(([C,{value:k,optional:A}])=>{if(k!=null)return!0;if(A)return!1;throw new Error(`missing channel value: ${C}`)})),this.dx=+d,this.dy=+m,this.marginTop=+_,this.marginRight=+v,this.marginBottom=+w,this.marginLeft=+x,this.clip=F1(P),this.tip=VM(S),this.facet==="super"){if(c||l)throw new Error("super-faceting cannot use fx or fy");for(const C in this.channels){const{scale:k}=n[C];if(!(k!=="x"&&k!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=sy(M,this.render))}initialize(e,n,i){let o=ke(this.data);e===void 0&&o!=null&&(e=[Fn(o)]);const a=e;this.transform!=null&&({facets:e,data:o}=this.transform(o,e,i),o=ke(o)),e!==void 0&&(e.original=a);const u=m7(this.channels,o);return this.sort!=null&&_7(o,e,u,n,this.sort),{data:o,facets:e,channels:u}}filter(e,n,i){for(const o in n){const{filter:a=Ei}=n[o];if(a!==null){const u=i[o];e=e.filter(c=>a(u[c]))}}return e}project(e,n,i){for(const o in e)if(e[o].scale==="x"&&/^x|x$/.test(o)){const a=o.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&B7(o,a,n,i.projection)}}scale(e,n,i){const o=g7(e,n);return i.projection&&this.project(e,o,i),o}}function ay(...t){return t.plot=bn.prototype.plot,t}function sy(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,i,o,a,u,c){return t.call(this,n,i,o,a,u,(l,h,d,m,g)=>e.call(this,l,h,d,m,g,c))}}function qM(t){return Object.fromEntries(Object.entries(S1(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:iu(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function VM(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?tn(t,"tip",["x","y","xy"]):t}function El(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:ti(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const Rp=new WeakMap;function Al(t,e,{x:n,y:i,px:o,py:a,maxRadius:u=40,channels:c,render:l,...h}={}){return u=+u,o!=null&&(n??(n=null),c={...c,px:{value:o,scale:"x"}}),a!=null&&(i??(i=null),c={...c,py:{value:a,scale:"y"}}),{x:n,y:i,channels:c,...h,render:sy(function(d,m,g,_,v,w){v={...v,pointerSticky:!1};const x=v.ownerSVGElement,{data:P}=v.getMarkState(this);let T=Rp.get(x);T||Rp.set(x,T={sticky:!1,roots:[],renders:[]});let S=T.renders.push(K)-1;const{x:M,y:C,fx:k,fy:A}=m;let N=k?k(d.fx)-_.marginLeft:0,B=A?A(d.fy)-_.marginTop:0;M!=null&&M.bandwidth&&(N+=M.bandwidth()/2),C!=null&&C.bandwidth&&(B+=C.bandwidth()/2);const R=d.fi!=null;let $;if(R){let j=T.facetStates;j||(T.facetStates=j=new Map),$=j.get(this),$||j.set(this,$=new Map)}const[H,X]=au(this,_),{px:Y,py:I}=g,W=Y?j=>Y[j]:uy(g,H),Q=I?j=>I[j]:fy(g,X);let q,et,D,F;function G(j,st){if(R)if(F&&(F=cancelAnimationFrame(F)),j==null)$.delete(d.fi);else{$.set(d.fi,st),F=requestAnimationFrame(()=>{F=null;for(const[U,tt]of $)if(tt<st||tt===st&&U<d.fi){j=null;break}K(j)});return}K(j)}function K(j){if(q===j&&D===T.sticky)return;q=j,D=v.pointerSticky=T.sticky;const st=q==null?[]:[q];R&&(st.fx=d.fx,st.fy=d.fy,st.fi=d.fi);const U=w(st,m,g,_,v);if(et){if(R){const tt=et.parentNode,ot=et.getAttribute("transform"),Z=U.getAttribute("transform");ot?U.setAttribute("transform",ot):U.removeAttribute("transform"),Z?tt.setAttribute("transform",Z):tt.removeAttribute("transform"),U.removeAttribute("aria-label"),U.removeAttribute("aria-description"),U.removeAttribute("aria-hidden")}et.replaceWith(U)}return T.roots[S]=et=U,q==null&&($==null?void 0:$.size)>1||v.dispatchValue(q==null?null:P[q]),U}function at(j){if(T.sticky||j.pointerType==="mouse"&&j.buttons===1)return;let[st,U]=Zf(j);st-=N,U-=B;const tt=st<_.marginLeft||st>_.width-_.marginRight?1:t,ot=U<_.marginTop||U>_.height-_.marginBottom?1:e;let Z=null,_t=u*u;for(const ht of d){const Ct=tt*(W(ht)-st),Et=ot*(Q(ht)-U),ut=Ct*Ct+Et*Et;ut<=_t&&(Z=ht,_t=ut)}if(Z!=null&&(t!==1||e!==1)){const ht=W(Z)-st,Ct=Q(Z)-U;_t=ht*ht+Ct*Ct}G(Z,_t)}function nt(j){j.pointerType==="mouse"&&q!=null&&(T.sticky&&T.roots.some(st=>st==null?void 0:st.contains(j.target))||(T.sticky?(T.sticky=!1,T.renders.forEach(st=>st(null))):(T.sticky=!0,K(q)),j.stopImmediatePropagation()))}function J(j){j.pointerType==="mouse"&&(T.sticky||G(null))}return x.addEventListener("pointerenter",at),x.addEventListener("pointermove",at),x.addEventListener("pointerdown",nt),x.addEventListener("pointerleave",J),K(null)},l)}}function YM(t){return Al(1,1,t)}function GM(t){return Al(1,.01,t)}function XM(t){return Al(.01,1,t)}function uy({x1:t,x2:e,x:n=t},i){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>i}function fy({y1:t,y2:e,y:n=t},i){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>i}function cy(t){return Ri(t)&&t.interval===void 0?void 0:"tabular-nums"}function jM(t,e){let{label:n=t.label,tickSize:i=6,width:o=240,height:a=44+i,marginTop:u=18,marginRight:c=0,marginBottom:l=16+i,marginLeft:h=0,style:d,ticks:m=(o-h-c)/64,tickFormat:g,fontVariant:_=cy(t),round:v=!0,opacity:w,className:x}=e;const P=Tl(e);x=xl(x),w=we(w)[1],g===null&&(g=()=>null);const T=ye("svg",P).attr("class",`${x}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",o).attr("height",a).attr("viewBox",`0 0 ${o} ${a}`).call(H=>H.append("style").text(`.${x}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${x}-ramp text {
  white-space: pre;
}`)).call(Ml,d);let S=H=>H.selectAll(".tick line").attr("y1",u+l-a),M;const C=v?(H,X)=>H.rangeRound(X):(H,X)=>H.range(X),{type:k,domain:A,range:N,interpolate:B,scale:R,pivot:$}=t;if(B){const H=N===void 0?B:Zs(B.length===1?Pl(B):B,N);M=C(R.copy(),Ge(oe(h,o-c),Math.min(A.length+($!==void 0),N===void 0?1/0:N.length)));const X=256,Y=P.document.createElement("canvas");Y.width=X,Y.height=1;const I=Y.getContext("2d");for(let W=0,Q=X-1;W<X;++W)I.fillStyle=H(W/Q),I.fillRect(W,0,1,1);T.append("image").attr("opacity",w).attr("x",h).attr("y",u).attr("width",o-h-c).attr("height",a-u-l).attr("preserveAspectRatio","none").attr("xlink:href",Y.toDataURL())}else if(k==="threshold"){const H=A,X=g===void 0?Y=>Y:typeof g=="string"?Kn(g):g;M=C(Mo().domain([-1,N.length-1]),[h,o-c]),T.append("g").attr("fill-opacity",w).selectAll().data(N).enter().append("rect").attr("x",(Y,I)=>M(I-1)).attr("y",u).attr("width",(Y,I)=>M(I)-M(I-1)).attr("height",a-u-l).attr("fill",Y=>Y),m=Jt(H,(Y,I)=>I),g=Y=>X(H[Y],Y)}else M=C(Vs().domain(A),[h,o-c]),T.append("g").attr("fill-opacity",w).selectAll().data(A).enter().append("rect").attr("x",M).attr("y",u).attr("width",Math.max(0,M.bandwidth()-1)).attr("height",a-u-l).attr("fill",R),S=()=>{};return T.append("g").attr("transform",`translate(0,${a-l})`).call(Ym(M).ticks(Array.isArray(m)?null:m,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(i).tickValues(Array.isArray(m)?m:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ee(_,"normal")).call(S).call(H=>H.select(".domain").remove()),n!==void 0&&T.append("text").attr("x",h).attr("y",u-6).attr("fill","currentColor").attr("font-weight","bold").text(n),T.node()}const ly=Math.PI/180;function hy(t,{marker:e,markerStart:n=e,markerMid:i=e,markerEnd:o=e}={}){t.markerStart=Sf(n),t.markerMid=Sf(i),t.markerEnd=Sf(o)}function Sf(t){if(t==null||t===!1)return null;if(t===!0)return Fp;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Zp("auto");case"arrow-reverse":return Zp("auto-start-reverse");case"dot":return KM;case"circle":case"circle-fill":return Fp;case"circle-stroke":return JM}throw new Error(`invalid marker: ${t}`)}function Zp(t){return(e,n)=>ye("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(i=>i.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function KM(t,e){return ye("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Fp(t,e){return ye("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function JM(t,e){return ye("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let QM=0;function dy(t,e,{stroke:n},i){return t9(t,e,n&&(o=>n[o]),i)}function t9(t,{markerStart:e,markerMid:n,markerEnd:i,stroke:o},a=()=>o,u){const c=new Map;function l(h){return function(d){const m=a(d);let g=c.get(h);g||c.set(h,g=new Map);let _=g.get(m);if(!_){const v=this.parentNode.insertBefore(h(m,u),this),w=`plot-marker-${++QM}`;v.setAttribute("id",w),g.set(m,_=`url(#${w})`)}return _}}e&&t.attr("marker-start",l(e)),n&&t.attr("marker-mid",l(n)),i&&t.attr("marker-end",l(i))}function py({inset:t,insetLeft:e,insetRight:n,...i}={}){return[e,n]=gy(t,e,n),{inset:t,insetLeft:e,insetRight:n,...i}}function my({inset:t,insetTop:e,insetBottom:n,...i}={}){return[e,n]=gy(t,e,n),{inset:t,insetTop:e,insetBottom:n,...i}}function gy(t,e,n){return t===void 0&&e===void 0&&n===void 0?xe?[1,0]:[.5,.5]:[e,n]}function _y(t,{interval:e}){return t={...iu(t)},t.interval=_l(t.interval===void 0?e:t.interval),t}function yy(t,e,n,i){const{[t]:o,[`${t}1`]:a,[`${t}2`]:u}=n,{value:c,interval:l}=_y(o,n);if(c==null||l==null&&!i)return n;const h=kr(o);if(l==null){let _;const v={transform:w=>_||(_=jt(w,c)),label:h};return{...n,[t]:void 0,[`${t}1`]:a===void 0?v:a,[`${t}2`]:u===void 0?v:u}}let d,m;function g(_){return m!==void 0&&_===d?m:m=Jt(jt(d=_,c),v=>l.floor(v))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:g,label:h}:a,[`${t}2`]:u===void 0?{transform:_=>g(_).map(v=>l.offset(v)),label:h}:u})}function vy(t,e,n){const{[t]:i}=n,{value:o,interval:a}=_y(i,n);return o==null||a==null?n:e({...n,[t]:{label:kr(i),transform:u=>{const c=Jt(jt(u,o),h=>a.floor(h)),l=c.map(h=>a.offset(h));return c.map(Fe(c)?(h,d)=>h==null||isNaN(h=+h)||(d=l[d],d==null)||isNaN(d=+d)?void 0:new Date((h+d)/2):(h,d)=>h==null||(d=l[d],d==null)?NaN:(+h+ +d)/2)}}})}function by(t={}){return yy("x",py,t)}function e9(t={}){return yy("y",my,t)}function n9(t={}){return vy("x",py,t)}function i9(t={}){return vy("y",my,t)}const wy={ariaLabel:"rule",fill:null,stroke:"currentColor"};class r9 extends bn{constructor(e,n={}){const{x:i,y1:o,y2:a,inset:u=0,insetTop:c=u,insetBottom:l=u}=n;super(e,{x:{value:i,scale:"x",optional:!0},y1:{value:o,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},El(n,"x"),wy),this.insetTop=Zt(c),this.insetBottom=Zt(l),hy(this,n)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y1:h,y2:d}=i,{width:m,height:g,marginTop:_,marginRight:v,marginLeft:w,marginBottom:x}=o,{insetTop:P,insetBottom:T}=this;return ye("svg:g",a).call(Oi,this,o,a).call(Bi,this,{x:l&&u},xe,0).call(S=>S.selectAll().data(e).enter().append("line").call(Di,this).attr("x1",l?M=>l[M]:(w+m-v)/2).attr("x2",l?M=>l[M]:(w+m-v)/2).attr("y1",h&&!xr(c)?M=>h[M]+P:_+P).attr("y2",d&&!xr(c)?c.bandwidth?M=>d[M]+c.bandwidth()-T:M=>d[M]-T:g-x-T).call(Cr,this,i).call(dy,this,i,a)).node()}}class o9 extends bn{constructor(e,n={}){const{x1:i,x2:o,y:a,inset:u=0,insetRight:c=u,insetLeft:l=u}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:!0},x2:{value:o,scale:"x",optional:!0}},El(n,"y"),wy),this.insetRight=Zt(c),this.insetLeft=Zt(l),hy(this,n)}render(e,n,i,o,a){const{x:u,y:c}=n,{y:l,x1:h,x2:d}=i,{width:m,height:g,marginTop:_,marginRight:v,marginLeft:w,marginBottom:x}=o,{insetLeft:P,insetRight:T}=this;return ye("svg:g",a).call(Oi,this,o,a).call(Bi,this,{y:l&&c},0,xe).call(S=>S.selectAll().data(e).enter().append("line").call(Di,this).attr("x1",h&&!xr(u)?M=>h[M]+P:w+P).attr("x2",d&&!xr(u)?u.bandwidth?M=>d[M]+u.bandwidth()-T:M=>d[M]-T:m-v-T).attr("y1",l?M=>l[M]:(_+g-x)/2).attr("y2",l?M=>l[M]:(_+g-x)/2).call(Cr,this,i).call(dy,this,i,a)).node()}}function a9(t,e){let{x:n=_e,y:i,y1:o,y2:a,...u}=e9(e);return[o,a]=xy(i,o,a),new r9(t,{...u,x:n,y1:o,y2:a})}function s9(t,e){let{y:n=_e,x:i,x1:o,x2:a,...u}=by(e);return[o,a]=xy(i,o,a),new o9(t,{...u,y:n,x1:o,x2:a})}function xy(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function My(t,...e){let n=e.length;for(let i=0,o=!0;i<n;++i)typeof e[i]!="function"&&(o&&(t=t.slice(),o=!1),t.splice(i,2,t[i]+e[i]+t[i+1]),e.splice(i,1),--i,--n);return i=>{let o=t[0];for(let a=0;a<n;++a)o+=e[a](i)+t[a+1];return o}}const u9={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Ty="­";class $l extends bn{constructor(e,n={}){const{x:i,y:o,text:a=Ii(e)&&T1(e)?_e:v1,frameAnchor:u,textAnchor:c=/right$/i.test(u)?"end":/left$/i.test(u)?"start":"middle",lineAnchor:l=/^top/i.test(u)?"top":/^bottom/i.test(u)?"bottom":"middle",lineHeight:h=1,lineWidth:d=1/0,textOverflow:m,monospace:g,fontFamily:_=g?"ui-monospace, monospace":void 0,fontSize:v,fontStyle:w,fontVariant:x,fontWeight:P,rotate:T}=n,[S,M]=we(T,0),[C,k]=d9(v);if(super(e,{x:{value:i,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},fontSize:{value:C,optional:!0},rotate:{value:F4(S),optional:!0},text:{value:a,filter:u1,optional:!0}},n,u9),this.rotate=M,this.textAnchor=ee(c,"middle"),this.lineAnchor=tn(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+h,this.lineWidth=+d,this.textOverflow=Ly(m),this.monospace=!!g,this.fontFamily=fe(_),this.fontSize=k,this.fontStyle=fe(w),this.fontVariant=fe(x),this.fontWeight=fe(P),this.frameAnchor=yl(u),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${d}`);this.splitLines=Py(this),this.clipLine=ky(this)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y:h,rotate:d,text:m,title:g,fontSize:_}=i,{rotate:v}=this,[w,x]=au(this,o);return ye("svg:g",a).call(Oi,this,o,a).call(Sy,this,m,o).call(Bi,this,{x:l&&u,y:h&&c}).call(P=>P.selectAll().data(e).enter().append("text").call(Di,this).call(f9,this,m,g).attr("transform",My`translate(${l?T=>l[T]:w},${h?T=>h[T]:x})${d?T=>` rotate(${d[T]})`:v?` rotate(${v})`:""}`).call(Lt,"font-size",_&&(T=>_[T])).call(Cr,this,i)).node()}}function Ly(t){return t==null?null:tn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function f9(t,e,n,i){if(!n)return;const{lineAnchor:o,lineHeight:a,textOverflow:u,splitLines:c,clipLine:l}=e;t.each(function(h){const d=c(wr(n[h])??"").map(l),m=d.length,g=o==="top"?.71:o==="bottom"?1-m:(164-m*100)/200;if(m>1){let _=0;for(let v=0;v<m;++v){if(++_,!d[v])continue;const w=this.ownerDocument.createElementNS(lr.svg,"tspan");w.setAttribute("x",0),v===_-1?w.setAttribute("y",`${(g+v)*a}em`):w.setAttribute("dy",`${_*a}em`),w.textContent=d[v],this.appendChild(w),_=0}}else g&&this.setAttribute("y",`${g*a}em`),this.textContent=d[0];if(u&&!i&&d[0]!==n[h]){const _=this.ownerDocument.createElementNS(lr.svg,"title");_.textContent=n[h],this.appendChild(_)}})}function Ls(t,{x:e,y:n,...i}={}){return i.frameAnchor===void 0&&([e,n]=x1(e,n)),new $l(t,{...i,x:e,y:n})}function $c(t,{x:e=_e,...n}={}){return new $l(t,i9({...n,x:e}))}function c9(t,{y:e=_e,...n}={}){return new $l(t,n9({...n,y:e}))}function Sy(t,e,n){Lt(t,"text-anchor",e.textAnchor),Lt(t,"font-family",e.fontFamily),Lt(t,"font-size",e.fontSize),Lt(t,"font-style",e.fontStyle),Lt(t,"font-variant",e.fontVariant===void 0?l9(n):e.fontVariant),Lt(t,"font-weight",e.fontWeight)}function l9(t){return t&&(W4(t)||Fe(t))?"tabular-nums":void 0}const h9=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function d9(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),h9.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function p9(t,e,n){const i=[];let o,a=0;for(const[u,c,l]of m9(t)){if(o===void 0&&(o=u),a>o&&n(t,o,c)>e&&(i.push(t.slice(o,a)+(t[a-1]===Ty?"-":"")),o=u),l){i.push(t.slice(o,c)),o=void 0;continue}a=c}return i}function*m9(t){let e=0,n=0;const i=t.length;for(;n<i;){let o=1;switch(t[n]){case Ty:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++o;case`
`:yield[e,n,!0],n+=o,e=n;break;default:++n;break}}yield[e,n,!0]}const Up={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function zl(t,e=0,n=t.length){let i=0;for(let o=e;o<n;o=Er(t,o))i+=Up[t[o]]??(Ey(t,o)?120:Up.e);return i}function Nl(t,e=0,n=t.length){let i=0;for(let o=e;o<n;o=Er(t,o))i+=Ey(t,o)?200:100;return i}function Py({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const i=t?Nl:zl,o=e*100;return a=>p9(a,o,i)}function ky({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const i=t?Nl:zl,o=e*100;switch(n){case"clip-start":return a=>Wp(a,o,i,"");case"clip-end":return a=>Hp(a,o,i,"");case"ellipsis-start":return a=>Wp(a,o,i,fr);case"ellipsis-middle":return a=>g9(a,o,i,fr);case"ellipsis-end":return a=>Hp(a,o,i,fr)}}const fr="…";function Mr(t,e,n,i){const o=[];let a=0;for(let u=0,c=0,l=t.length;u<l;u=c){c=Er(t,u);const h=n(t,u,c);if(a+h>e){for(a+=i;a>e&&u>0;)c=u,u=o.pop(),a-=n(t,u,c);return[u,e-a]}a+=h,o.push(u)}return[-1,0]}function Hp(t,e,n,i){t=t.trim();const o=n(i),[a]=Mr(t,e,n,o);return a<0?t:t.slice(0,a).trimEnd()+i}function g9(t,e,n,i){t=t.trim();const o=n(t);if(o<=e)return t;const a=n(i)/2,[u,c]=Mr(t,e/2,n,a),[l]=Mr(t,o-e/2-c+a,n,-a);return l<0?i:t.slice(0,u).trimEnd()+i+t.slice(Er(t,l)).trimStart()}function Wp(t,e,n,i){t=t.trim();const o=n(t);if(o<=e)return t;const a=n(i),[u]=Mr(t,o-e+a,n,-a);return u<0?i:i+t.slice(Er(t,u)).trimStart()}const zc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,qp=/\p{Extended_Pictographic}/uy;function Er(t,e){return e+=_9(t,e)?2:1,v9(t,e)&&(e=zc.lastIndex),y9(t,e)?Er(t,e+1):e}function Cy(t,e){return t.charCodeAt(e)<128}function _9(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const i=t.charCodeAt(e+1);return i>=56320&&i<57344}return!1}function y9(t,e){return t.charCodeAt(e)===8205}function v9(t,e){return Cy(t,e)?!1:(zc.lastIndex=e,zc.test(t))}function Ey(t,e){return Cy(t,e)?!1:(qp.lastIndex=e,qp.test(t))}const b9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Ay=3.5,w9=Ay*5,$y={draw(t,e,n){const i=e*n/w9;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-i,i-e),t.lineTo(0,-e),t.lineTo(i,i-e)}},x9={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},M9=new Map([["arrow",$y],["spike",x9]]);function T9(t){return t&&typeof t.draw=="function"}function L9(t){if(T9(t))return t;const e=M9.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class zy extends bn{constructor(e,n={}){const{x:i,y:o,r:a=Ay,length:u,rotate:c,shape:l=$y,anchor:h="middle",frameAnchor:d}=n,[m,g]=we(u,12),[_,v]=we(c,0);super(e,{x:{value:i,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},length:{value:m,scale:"length",optional:!0},rotate:{value:_,optional:!0}},n,b9),this.r=+a,this.length=g,this.rotate=v,this.shape=L9(l),this.anchor=tn(h,"anchor",["start","middle","end"]),this.frameAnchor=yl(d)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y:h,length:d,rotate:m}=i,{length:g,rotate:_,anchor:v,shape:w,r:x}=this,[P,T]=au(this,o);return ye("svg:g",a).call(Oi,this,o,a).call(Bi,this,{x:l&&u,y:h&&c}).call(S=>S.selectAll().data(e).enter().append("path").call(Di,this).attr("transform",My`translate(${l?M=>l[M]:P},${h?M=>h[M]:T})${m?M=>` rotate(${m[M]})`:_?` rotate(${_})`:""}${v==="start"?"":v==="end"?d?M=>` translate(0,${d[M]})`:` translate(0,${g})`:d?M=>` translate(0,${d[M]/2})`:` translate(0,${g/2})`}`).attr("d",d?M=>{const C=tc();return w.draw(C,d[M],x),C}:(()=>{const M=tc();return w.draw(M,g,x),M})()).call(Cr,this,i)).node()}}function S9(t,e={}){const{x:n=_e,...i}=e;return new zy(t,{...i,x:n})}function P9(t,e={}){const{y:n=_e,...i}=e;return new zy(t,{...i,y:n})}function ni(t,e){return arguments.length<2&&!Ii(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function cu({anchor:t}={},e){return t===void 0?e[0]:tn(t,"anchor",e)}function Ny(t){return cu(t,["left","right"])}function Iy(t){return cu(t,["right","left"])}function Oy(t){return cu(t,["bottom","top"])}function Dy(t){return cu(t,["top","bottom"])}function By(){const[t,e]=ni(...arguments);return Zy("y",Ny(e),t,e)}function k9(){const[t,e]=ni(...arguments);return Zy("fy",Iy(e),t,e)}function Ry(){const[t,e]=ni(...arguments);return Fy("x",Oy(e),t,e)}function C9(){const[t,e]=ni(...arguments);return Fy("fx",Dy(e),t,e)}function Zy(t,e,n,{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:u=o,strokeWidth:c=1,fill:l=i,fillOpacity:h=o,textAnchor:d,textStroke:m,textStrokeOpacity:g,textStrokeWidth:_,tickSize:v=t==="y"?6:0,tickPadding:w,tickRotate:x,x:P,margin:T,marginTop:S=T===void 0?20:T,marginRight:M=T===void 0?e==="right"?40:0:T,marginBottom:C=T===void 0?20:T,marginLeft:k=T===void 0?e==="left"?40:0:T,label:A,labelAnchor:N,labelArrow:B,labelOffset:R,...$}){return v=Zt(v),w=Zt(w),x=Zt(x),N!==void 0&&(N=tn(N,"labelAnchor",["center","top","bottom"])),B=Xy(B),ay(v&&!de(a)?E9(t,e,n,{stroke:a,strokeOpacity:u,strokeWidth:c,tickSize:v,tickPadding:w,tickRotate:x,x:P,...$}):null,de(l)?null:$9(t,e,n,{fill:l,fillOpacity:h,stroke:m,strokeOpacity:g,strokeWidth:_,textAnchor:d,tickSize:v,tickPadding:w,tickRotate:x,x:P,marginTop:S,marginRight:M,marginBottom:C,marginLeft:k,...$}),!de(l)&&A!==null?Ls([],qy({fill:l,fillOpacity:h,...$},function(H,X,Y,I,W){const Q=I[t],{marginTop:q,marginRight:et,marginBottom:D,marginLeft:F}=t==="y"&&W.inset||W,G=N??(Q.bandwidth?"center":"top"),K=R??(e==="right"?et:F)-3;return G==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=G,this.frameAnchor=`${G}-${e}`,this.rotate=0),this.dy=G==="top"?3-q:G==="bottom"?D-3:0,this.dx=e==="right"?K:-K,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Gy(t,Q,{anchor:e,label:A,labelAnchor:G,labelArrow:B})]}}}})):null)}function Fy(t,e,n,{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:u=o,strokeWidth:c=1,fill:l=i,fillOpacity:h=o,textAnchor:d,textStroke:m,textStrokeOpacity:g,textStrokeWidth:_,tickSize:v=t==="x"?6:0,tickPadding:w,tickRotate:x,y:P,margin:T,marginTop:S=T===void 0?e==="top"?30:0:T,marginRight:M=T===void 0?20:T,marginBottom:C=T===void 0?e==="bottom"?30:0:T,marginLeft:k=T===void 0?20:T,label:A,labelAnchor:N,labelArrow:B,labelOffset:R,...$}){return v=Zt(v),w=Zt(w),x=Zt(x),N!==void 0&&(N=tn(N,"labelAnchor",["center","left","right"])),B=Xy(B),ay(v&&!de(a)?A9(t,e,n,{stroke:a,strokeOpacity:u,strokeWidth:c,tickSize:v,tickPadding:w,tickRotate:x,y:P,...$}):null,de(l)?null:z9(t,e,n,{fill:l,fillOpacity:h,stroke:m,strokeOpacity:g,strokeWidth:_,textAnchor:d,tickSize:v,tickPadding:w,tickRotate:x,y:P,marginTop:S,marginRight:M,marginBottom:C,marginLeft:k,...$}),!de(l)&&A!==null?Ls([],qy({fill:l,fillOpacity:h,...$},function(H,X,Y,I,W){const Q=I[t],{marginTop:q,marginRight:et,marginBottom:D,marginLeft:F}=t==="x"&&W.inset||W,G=N??(Q.bandwidth?"center":"right"),K=R??(e==="top"?q:D)-3;return G==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${G}`,this.textAnchor=G==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-K:K,this.dx=G==="right"?et-3:G==="left"?3-F:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[Gy(t,Q,{anchor:e,label:A,labelAnchor:G,labelArrow:B})]}}}})):null)}function E9(t,e,n,{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:u=e+(t==="y"?"-empty":""),frameAnchor:c=e,tickSize:l,inset:h=0,insetLeft:d=h,insetRight:m=h,dx:g=0,y:_=t==="y"?void 0:null,...v}){return Ar(P9,t,e,`${t}-axis tick`,n,{strokeWidth:i,strokeLinecap:o,strokeLinejoin:a,facetAnchor:u,frameAnchor:c,y:_,...v,dx:e==="left"?+g-xe+ +d:+g+xe-m,anchor:"start",length:l,shape:e==="left"?F9:U9})}function A9(t,e,n,{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:u=e+(t==="x"?"-empty":""),frameAnchor:c=e,tickSize:l,inset:h=0,insetTop:d=h,insetBottom:m=h,dy:g=0,x:_=t==="x"?void 0:null,...v}){return Ar(S9,t,e,`${t}-axis tick`,n,{strokeWidth:i,strokeLinejoin:a,strokeLinecap:o,facetAnchor:u,frameAnchor:c,x:_,...v,dy:e==="bottom"?+g-xe-m:+g+xe+ +d,anchor:"start",length:l,shape:e==="bottom"?R9:Z9})}function $9(t,e,n,{facetAnchor:i=e+(t==="y"?"-empty":""),frameAnchor:o=e,tickSize:a,tickRotate:u=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(u)>60?4*Math.cos(u*ly):0),text:l,textAnchor:h=Math.abs(u)>60?"middle":e==="left"?"end":"start",lineAnchor:d=u>60?"top":u<-60?"bottom":"middle",fontVariant:m,inset:g=0,insetLeft:_=g,insetRight:v=g,dx:w=0,y:x=t==="y"?void 0:null,...P}){return Ar(c9,t,e,`${t}-axis tick label`,n,{facetAnchor:i,frameAnchor:o,text:l,textAnchor:h,lineAnchor:d,fontVariant:m,rotate:u,y:x,...P,dx:e==="left"?+w-a-c+ +_:+w+ +a+ +c-v},function(T,S,M,C,k){m===void 0&&(this.fontVariant=Yy(T)),l===void 0&&(k.text=Vy(T,S,M,C,e))})}function z9(t,e,n,{facetAnchor:i=e+(t==="x"?"-empty":""),frameAnchor:o=e,tickSize:a,tickRotate:u=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(u)>=10?4*Math.cos(u*ly):0),text:l,textAnchor:h=Math.abs(u)>=10?u<0^e==="bottom"?"start":"end":"middle",lineAnchor:d=Math.abs(u)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:m,inset:g=0,insetTop:_=g,insetBottom:v=g,dy:w=0,x=t==="x"?void 0:null,...P}){return Ar($c,t,e,`${t}-axis tick label`,n,{facetAnchor:i,frameAnchor:o,text:l===void 0?null:l,textAnchor:h,lineAnchor:d,fontVariant:m,rotate:u,x,...P,dy:e==="bottom"?+w+ +a+ +c-v:+w-a-c+ +_},function(T,S,M,C,k){m===void 0&&(this.fontVariant=Yy(T)),l===void 0&&(k.text=Vy(T,S,M,C,e))})}function N9(){const[t,e]=ni(...arguments);return Uy("y",Ny(e),t,e)}function I9(){const[t,e]=ni(...arguments);return Uy("fy",Iy(e),t,e)}function O9(){const[t,e]=ni(...arguments);return Hy("x",Oy(e),t,e)}function D9(){const[t,e]=ni(...arguments);return Hy("fx",Dy(e),t,e)}function Uy(t,e,n,{y:i=t==="y"?void 0:null,x:o=null,x1:a=e==="left"?o:null,x2:u=e==="right"?o:null,...c}){return Ar(s9,t,e,`${t}-grid`,n,{y:i,x1:a,x2:u,...Wy(c)})}function Hy(t,e,n,{x:i=t==="x"?void 0:null,y:o=null,y1:a=e==="top"?o:null,y2:u=e==="bottom"?o:null,...c}){return Ar(a9,t,e,`${t}-grid`,n,{x:i,y1:a,y2:u,...Wy(c)})}function Wy({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:i=e,strokeWidth:o=1,...a}){return{stroke:n,strokeOpacity:i,strokeWidth:o,...a}}function qy({fill:t,fillOpacity:e,fontFamily:n,fontSize:i,fontStyle:o,fontVariant:a,fontWeight:u,monospace:c,pointerEvents:l,shapeRendering:h,clip:d=!1},m){return[,t]=Zn(t),[,e]=we(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:i,fontStyle:o,fontVariant:a,fontWeight:u,monospace:c,pointerEvents:l,shapeRendering:h,clip:d,initializer:m}}function Ar(t,e,n,i,o,a,u){let c;function l(m,g,_,v,w,x){const P=m==null&&(e==="fx"||e==="fy"),{[e]:T}=v;if(!T)throw new Error(`missing scale: ${e}`);const S=T.domain();let{interval:M,ticks:C,tickFormat:k,tickSpacing:A=e==="x"?80:35}=a;if(typeof C=="string"&&jy(T)&&(M=C,C=void 0),C===void 0&&(C=Yo(M,T.type)??B9(T,A)),m==null){if(Ii(C))m=ke(C);else if(Z4(C))m=Pf(C,...Re(S));else if(T.interval){let B=T.interval;if(T.ticks){const[R,$]=Re(S),H=($-R)/B[qo];B=hp(B,H/C)??B,m=Pf(B,R,$)}else{m=S;const R=m.length;B=hp(B,R/C)??B,B!==T.interval&&(m=Pf(B,...Re(m)))}if(B===T.interval){const R=Math.round(m.length/C);R>1&&(m=m.filter(($,H)=>H%R===0))}}else T.ticks?m=T.ticks(C):m=S;if(!T.ticks&&m.length&&m!==S){const B=new Is(S);m=m.filter(R=>B.has(R)),m.length||yi(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?g=[Fn(m)]:c[e]={scale:e,value:_e}}u==null||u.call(this,T,m,C,k,c);const N=Object.fromEntries(Object.entries(c).map(([B,R])=>[B,{...R,value:jt(m,R.value)}]));return P&&(g=x.filterFacets(m,N)),{data:m,facets:g,channels:N}}const h=Ts(a).initializer,d=t(o,Ts({...a,initializer:l},h));return o==null?(c=d.channels,d.channels={}):c={},d.ariaLabel=i,d.clip===void 0&&(d.clip=!1),d}function B9(t,e){const[n,i]=Re(t.range());return(i-n)/e}function Vy(t,e,n,i,o){return{value:Il(t,e,n,i,o)}}function Il(t,e,n,i,o){return typeof i=="function"?i:i===void 0&&e&&Fe(e)?M4(e,o)??wr:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,i):i===void 0?wr:typeof i=="string"?(Fe(t.domain())?Wo:Kn)(i):Vo(i)}function Pf(t,e,n){return t.range(e,t.offset(t.floor(n)))}const R9={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},Z9={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},F9={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},U9={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function Yy(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function H9(t){return Math.sign(br(t.domain()))*Math.sign(br(t.range()))}function Gy(t,e,{anchor:n,label:i=e.label,labelAnchor:o,labelArrow:a}={}){if(!(i==null||i.inferred&&jy(e)&&/^(date|time|year)$/i.test(i))){if(i=String(i),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(i)),!a)return i;if(a===!0){const u=H9(e);u&&(a=/x$/.test(t)||o==="center"?/x$/.test(t)===u<0?"left":"right":u<0?"up":"down")}switch(a){case"left":return`← ${i}`;case"right":return`${i} →`;case"up":return n==="right"?`${i} ↑`:`↑ ${i}`;case"down":return n==="right"?`${i} ↓`:`↓ ${i}`}return i}}function Xy(t="auto"){return de(t)?!1:typeof t=="boolean"?t:tn(t,"labelArrow",["auto","up","right","down","left"])}function jy(t){return Fe(t.domain())}function Vp(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function W9(t,{opacity:e,...n}={}){if(!Ri(t)&&!oy(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Ky(t,n,(i,o,a,u)=>i.append("svg").attr("width",a).attr("height",u).attr("fill",o.scale).attr("fill-opacity",we(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function q9(t,{fill:e=(h=>(h=t.hint)==null?void 0:h.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:i=(d=>(d=t.hint)==null?void 0:d.stroke)()!==void 0?t.hint.stroke:de(e)?"currentColor":"none",strokeOpacity:o=1,strokeWidth:a=1.5,r:u=4.5,...c}={},l){const[m,g]=Zn(e),[_,v]=Zn(i),w=Vp(l,m),x=Vp(l,_),P=u*u*Math.PI;return n=we(n)[1],o=we(o)[1],a=we(a)[1],Ky(t,c,(T,S,M,C)=>T.append("svg").attr("viewBox","-8 -8 16 16").attr("width",M).attr("height",C).attr("fill",m==="color"?k=>w.scale(k):g).attr("fill-opacity",n).attr("stroke",_==="color"?k=>x.scale(k):v).attr("stroke-opacity",o).attr("stroke-width",a).append("path").attr("d",k=>{const A=tc();return t.scale(k).draw(A,P),A}))}function Ky(t,e={},n){let{columns:i,tickFormat:o,fontVariant:a=cy(t),swatchSize:u=15,swatchWidth:c=u,swatchHeight:l=u,marginLeft:h=0,className:d,style:m,width:g}=e;const _=Tl(e);d=xl(d),o=Il(t.scale,t.domain,void 0,o);const v=ye("div",_).attr("class",`${d}-swatches ${d}-swatches-${i!=null?"columns":"wrap"}`);let w;return i!=null?(w=`.${d}-swatches-columns .${d}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${d}-swatches-columns .${d}-swatch::before {
  flex-shrink: 0;
}
.${d}-swatches-columns .${d}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,v.style("columns",i).selectAll().data(t.domain).enter().append("div").attr("class",`${d}-swatch`).call(n,t,c,l).call(x=>x.append("div").attr("class",`${d}-swatch-label`).attr("title",o).text(o))):(w=`.${d}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${d}-swatches-wrap .${d}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,v.selectAll().data(t.domain).enter().append("span").attr("class",`${d}-swatch`).call(n,t,c,l).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),v.call(x=>x.insert("style","*").text(`.${d}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${d}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${w}`)).style("margin-left",h?`${+h}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",ee(a,"normal")).call(Ml,m).node()}const Nc=new Map([["symbol",q9],["color",Qy],["opacity",Y9]]);function V9(t,e,n={}){return(i,o)=>{if(!Nc.has(i))throw new Error(`unknown legend type: ${i}`);if(i in t)return Nc.get(i)(t[i],Jy(e,n[i],o),a=>t[a])}}function Jy({className:t,...e},{label:n,ticks:i,tickFormat:o}={},a){return G4(a,{className:t,...e},{label:n,ticks:i,tickFormat:o})}function Qy(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return W9(t,n);case"ramp":return jM(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function Y9({type:t,interpolate:e,...n},{legend:i=!0,color:o=jn(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(i===!0&&(i="ramp"),`${i}`.toLowerCase()!=="ramp")throw new Error(`${i} opacity legends are not supported`);return Qy({type:t,...n,interpolate:G9(o)},{legend:i,...a})}function G9(t){const{r:e,g:n,b:i}=jn(t)||jn(0,0,0);return o=>`rgba(${e},${n},${i},${o})`}function X9(t,e,n){const i=[];for(const[o,a]of Nc){const u=n[o];if(u!=null&&u.legend&&o in t){const c=a(t[o],Jy(e,t[o],u),l=>t[l]);c!=null&&i.push(c)}}return i}const j9={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},K9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class J9 extends bn{constructor(e={}){const{anchor:n=null,inset:i=0,insetTop:o=i,insetRight:a=i,insetBottom:u=i,insetLeft:c=i,rx:l,ry:h}=e;super(Fa,void 0,e,n==null?j9:K9),this.anchor=b1(n,"anchor",["top","right","bottom","left"]),this.insetTop=Zt(o),this.insetRight=Zt(a),this.insetBottom=Zt(u),this.insetLeft=Zt(c),this.rx=Zt(l),this.ry=Zt(h)}render(e,n,i,o,a){const{marginTop:u,marginRight:c,marginBottom:l,marginLeft:h,width:d,height:m}=o,{anchor:g,insetTop:_,insetRight:v,insetBottom:w,insetLeft:x,rx:P,ry:T}=this,S=h+x,M=d-c-v,C=u+_,k=m-l-w;return ye(g?"svg:line":"svg:rect",a).datum(0).call(Oi,this,o,a).call(Di,this).call(Cr,this,i).call(Bi,this,{}).call(g==="left"?A=>A.attr("x1",S).attr("x2",S).attr("y1",C).attr("y2",k):g==="right"?A=>A.attr("x1",M).attr("x2",M).attr("y1",C).attr("y2",k):g==="top"?A=>A.attr("x1",S).attr("x2",M).attr("y1",C).attr("y2",C):g==="bottom"?A=>A.attr("x1",S).attr("x2",M).attr("y1",k).attr("y2",k):A=>A.attr("x",S).attr("y",C).attr("width",M-S).attr("height",k-C).attr("rx",P).attr("ry",T)).node()}}function Q9(t){return new J9(t)}const kf={ariaLabel:"tip",fill:"white",stroke:"currentColor"},tT=new Set(["geometry","href","src","ariaLabel","scales"]);class eT extends bn{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Ii(e)&&T1(e)&&(n={...n,title:_e});const{x:i,y:o,x1:a,x2:u,y1:c,y2:l,anchor:h,monospace:d,fontFamily:m=d?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:_,fontVariant:v,fontWeight:w,lineHeight:x=1,lineWidth:P=20,frameAnchor:T,format:S,textAnchor:M="start",textOverflow:C,textPadding:k=8,title:A,pointerSize:N=12,pathFilter:B="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&u!=null?null:i,scale:"x",optional:!0},y:{value:c!=null&&l!=null?null:o,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:u==null},y1:{value:c,scale:"y",optional:l==null},x2:{value:u,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:c==null},title:{value:A,optional:!0}},n,kf),this.anchor=L1(h,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=yl(T),this.textAnchor=ee(M,"middle"),this.textPadding=+k,this.pointerSize=+N,this.pathFilter=fe(B),this.lineHeight=+x,this.lineWidth=+P,this.textOverflow=Ly(C),this.monospace=!!d,this.fontFamily=fe(m),this.fontSize=Zt(g),this.fontStyle=fe(_),this.fontVariant=fe(v),this.fontWeight=fe(w);for(const R in kf)R in this.channels&&(this[R]=kf[R]);this.splitLines=Py(this),this.clipLine=ky(this),this.format={...S}}render(e,n,i,o,a){const u=this,{x:c,y:l,fx:h,fy:d}=n,{ownerSVGElement:m,document:g}=a,{anchor:_,monospace:v,lineHeight:w,lineWidth:x}=this,{textPadding:P,pointerSize:T,pathFilter:S}=this,{marginTop:M,marginLeft:C}=o,{x1:k,y1:A,x2:N,y2:B,x:R=k??N,y:$=A??B}=i,H=h?h(e.fx)-C:0,X=d?d(e.fy)-M:0,[Y,I]=au(this,o),W=uy(i,Y),Q=fy(i,I),q=v?Nl:zl,et=q(fr);let D,F;"title"in i?(D=i.channels,F=sT):(D=aT.call(this,i,n),F=uT);const G=ye("svg:g",a).call(Oi,this,o,a).call(Sy,this).call(Bi,this,{x:R&&c,y:$&&l}).call(nt=>nt.selectAll().data(e).enter().append("g").attr("transform",J=>`translate(${Math.round(W(J))},${Math.round(Q(J))})`).call(Di,this).call(J=>J.append("path").attr("filter",S)).call(J=>J.append("text").each(function(j){const st=be(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const U=F.call(u,j,e,D,n,i);if(typeof U=="string")for(const tt of u.splitLines(U))K(st,{value:u.clipLine(tt)});else{const tt=new Set;for(const ot of U){const{label:Z=""}=ot;Z&&tt.has(Z)||(tt.add(Z),K(st,ot))}}})));function K(nt,{label:J,value:j,color:st,opacity:U}){J??(J=""),j??(j="");const tt=st!=null||U!=null;let ot,Z=x*100;const[_t]=Mr(J,Z,q,et);if(_t>=0)J=J.slice(0,_t).trimEnd()+fr,ot=j.trim(),j="";else{(J||!j&&!tt)&&(j=" "+j);const[Ct]=Mr(j,Z-q(J),q,et);Ct>=0&&(j=j.slice(0,Ct).trimEnd()+fr,ot=j.trim())}const ht=nt.append("tspan").attr("x",0).attr("dy",`${w}em`).text("​");J&&ht.append("tspan").attr("font-weight","bold").text(J),j&&ht.append(()=>g.createTextNode(j)),tt&&ht.append("tspan").text(" ■").attr("fill",st).attr("fill-opacity",U).style("user-select","none"),ot&&ht.append("title").text(ot)}function at(){const{width:nt,height:J}=o.facet??o;G.selectChildren().each(function(j){let{x:st,width:U,height:tt}=this.getBBox();U=Math.round(U),tt=Math.round(tt);let ot=_;if(ot===void 0){ot=u.previousAnchor;const ht=W(j)+H,Ct=Q(j)+X,Et=ht+U+P*2<nt,ut=ht-U-P*2>0,Nt=Ct+tt+T+P*2+7<J,en=Ct-tt-T-P*2>0,ve=(/-left$/.test(ot)?Et||!ut:Et&&!ut)?"left":"right",$r=(/^top-/.test(ot)?Nt||!en:Nt&&!en)?"top":"bottom";ot=u.previousAnchor=`${$r}-${ve}`}const Z=this.firstChild,_t=this.lastChild;if(Z.setAttribute("d",oT(ot,T,P,U,tt)),st)for(const ht of _t.childNodes)ht.setAttribute("x",-st);_t.setAttribute("y",`${+iT(ot,_t.childNodes.length,w).toFixed(6)}em`),_t.setAttribute("transform",`translate(${rT(ot,T,P,U,tt)})`)}),G.attr("visibility",null)}return e.length&&(G.attr("visibility","hidden"),m.isConnected?Promise.resolve().then(at):typeof requestAnimationFrame<"u"&&requestAnimationFrame(at)),G.node()}}function nT(t,{x:e,y:n,...i}={}){return i.frameAnchor===void 0&&([e,n]=x1(e,n)),new eT(t,{...i,x:e,y:n})}function iT(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function rT(t,e,n,i,o){switch(t){case"middle":return[-i/2,o/2];case"top-left":return[n,e+n];case"top":return[-i/2,e/2+n];case"top-right":return[-i-n,e+n];case"right":return[-e/2-i-n,o/2];case"bottom-left":return[n,-e-n];case"bottom":return[-i/2,-e/2-n];case"bottom-right":return[-i-n,-e-n];case"left":return[n+e/2,o/2]}}function oT(t,e,n,i,o){const a=i+n*2,u=o+n*2;switch(t){case"middle":return`M${-a/2},${-u/2}h${a}v${u}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${u}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${u}h${-a}v${-u}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${u}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-u/2}h${-a}v${u}h${a}v${e/2-u/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-u}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-u}h${-a}v${u}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-u}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-u/2}h${a}v${u}h${-a}v${e/2-u/2}z`}}function aT({channels:t},e){var o,a;const n={};let i=this.format;i=Yp(i,t,"x"),i=Yp(i,t,"y"),this.format=i;for(const u in i){const c=i[u];if(!(c===null||c===!1))if(u==="fx"||u==="fy")n[u]=!0;else{const l=Tp(t,u);l&&(n[u]=l)}}for(const u in t){if(u in n||u in i||tT.has(u))continue;const c=Tp(t,u);c&&(n[u]=c)}this.facet&&(e.fx&&!("fx"in i)&&(n.fx=!0),e.fy&&!("fy"in i)&&(n.fy=!0));for(const u in n){const c=this.format[u];if(typeof c=="string"){const l=((o=n[u])==null?void 0:o.value)??((a=e[u])==null?void 0:a.domain())??[];this.format[u]=(Fe(l)?Wo:Kn)(c)}else if(c===void 0||c===!0){const l=e[u];this.format[u]=l!=null&&l.bandwidth?Il(l,l.domain()):wr}}return n}function Yp(t,e,n){if(!(n in t))return t;const i=`${n}1`,o=`${n}2`;if((i in t||!(i in e))&&(o in t||!(o in e)))return t;const a=Object.entries(t),u=t[n];return a.splice(a.findIndex(([c])=>c===n)+1,0,[i,u],[o,u]),Object.fromEntries(a)}function sT(t,e,{title:n}){return wr(n.value[t],t)}function*uT(t,e,n,i,o){for(const a in n){if(a==="fx"||a==="fy"){yield{label:Ss(i,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const u=n[a];if(a==="x2"&&"x1"in n)yield{label:Xp(i,n,"x"),value:Gp(this.format.x2,n.x1,u,t)};else if(a==="y2"&&"y1"in n)yield{label:Xp(i,n,"y"),value:Gp(this.format.y2,n.y1,u,t)};else{const c=u.value[t],l=u.scale;if(!Ei(c)&&l==null)continue;yield{label:Ss(i,n,a),value:this.format[a](c,t),color:l==="color"?o[a][t]:null,opacity:l==="opacity"?o[a][t]:null}}}}function Gp(t,e,n,i){var o;return(o=n.hint)!=null&&o.length?`${t(n.value[i]-e.value[i],i)}`:`${t(e.value[i],i)}–${t(n.value[i],i)}`}function Xp(t,e,n){const i=Ss(t,e,`${n}1`,n),o=Ss(t,e,`${n}2`,n);return i===o?i:`${i}–${o}`}function Ss(t,e,n,i=n){const o=e[n],a=t[(o==null?void 0:o.scale)??n];return String((a==null?void 0:a.label)??(o==null?void 0:o.label)??i)}function tv(t={}){var et;const{facet:e,style:n,title:i,subtitle:o,caption:a,ariaLabel:u,ariaDescription:c}=t,l=xl(t.className),h=t.marks===void 0?[]:Kp(t.marks);h.push(...gT(h));const d=pT(e,t),m=new Map;for(const D of h){const F=Jp(D,d,t);F&&m.set(D,F)}const g=new Map;d&&Jr(g,[d],t),Jr(g,m,t);const _=Kp(_T(h,g,t));for(const D of _){const F=Jp(D,d,t);F&&m.set(D,F)}h.unshift(..._);let v=zM(g,t);if(v!==void 0){const D=d?Lf(v,d):void 0;for(const G of h){if(G.facet===null||G.facet==="super")continue;const K=m.get(G);K!==void 0&&(K.facetsIndex=G.fx!=null||G.fy!=null?Lf(v,K):D)}const F=new Set;for(const{facetsIndex:G}of m.values())G==null||G.forEach((K,at)=>{(K==null?void 0:K.length)>0&&F.add(at)});v.forEach(0<F.size&&F.size<v.length?(G,K)=>G.empty=!F.has(K):G=>G.empty=!1);for(const G of h)if(G.facet==="exclude"){const K=m.get(G);K!==void 0&&(K.facetsIndex=OM(K.facetsIndex))}}for(const D of Ut.keys())Tc(t[D])&&D!=="fx"&&D!=="fy"&&g.set(D,[]);const w=new Map;for(const D of h){if(w.has(D))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:F,channels:G}=m.get(D)??{},{data:K,facets:at,channels:nt}=D.initialize(F,G,t);Ol(nt,t),w.set(D,{data:K,facets:at,channels:nt})}const x=Ec(Jr(g,w,t),t),P=AM(x,h,t);xM(x,P);const T=zp(x),{fx:S,fy:M}=T,C=S||M?ny(x,P):P,k=S||M?TT(T,P):P,A=Tl(t),N=A.document,B=Ds("svg").call(N.documentElement);let R=B;A.ownerSVGElement=B,A.className=l,A.projection=I7(t,C),A.filterFacets=(D,F)=>Lf(v,{channels:F,groups:Cl(D,F)}),A.getMarkState=D=>{const F=w.get(D),G=m.get(D);return{...F,channels:{...F.channels,...G==null?void 0:G.channels}}},A.dispatchValue=D=>{R.value!==D&&(R.value=D,R.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[D,F]of w)if(D.initializer!=null){const G=D.facet==="super"?k:C,K=D.initializer(F.data,F.facets,F.channels,T,G,A);if(K.data!==void 0&&(F.data=K.data),K.facets!==void 0&&(F.facets=K.facets),K.channels!==void 0){const{fx:at,fy:nt,...J}=K.channels;dT(J),Object.assign(F.channels,J);for(const j of Object.values(J)){const{scale:st}=j;st!=null&&!j4(Ut.get(st))&&(ev(j,t),$.add(st))}(at!=null||nt!=null)&&m.set(D,!0)}}if($.size){const D=new Map;Jr(D,w,t,at=>$.has(at)),Jr(g,w,t,at=>$.has(at));const F=MT(Ec(D,t),x),{scales:G,...K}=zp(F);Object.assign(x,F),Object.assign(T,K),Object.assign(T.scales,G)}let H,X;v!==void 0&&(H={x:S==null?void 0:S.domain(),y:M==null?void 0:M.domain()},v=NM(v,H),X=IM(S,M,P));for(const[D,F]of w)F.values=D.scale(F.channels,T,A);const{width:Y,height:I}=P;be(B).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",Y).attr("height",I).attr("viewBox",`0 0 ${Y} ${I}`).attr("aria-label",u).attr("aria-description",c).call(D=>D.append("style").text(`.${l} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${l} text,
.${l} tspan {
  white-space: pre;
}`)).call(Ml,n);for(const D of h){const{channels:F,values:G,facets:K}=w.get(D);if(v===void 0||D.facet==="super"){let at=null;if(K&&(at=K[0],at=D.filter(at,F,G),at.length===0))continue;const nt=D.render(at,T,G,k,A);if(nt==null)continue;B.appendChild(nt)}else{let at;for(const nt of v){if(!(((et=D.facetAnchor)==null?void 0:et.call(D,v,H,nt))??!nt.empty))continue;let J=null;if(K){const st=m.has(D);if(J=K[st?nt.i:0],J=D.filter(J,F,G),J.length===0)continue;!st&&J===K[0]&&(J=O4(J)),J.fx=nt.x,J.fy=nt.y,J.fi=nt.i}const j=D.render(J,T,G,C,A);if(j!=null){(at??(at=be(B).append("g"))).append(()=>j).datum(nt);for(const st of["aria-label","aria-description","aria-hidden","transform"])j.hasAttribute(st)&&(at.attr(st,j.getAttribute(st)),j.removeAttribute(st))}}at==null||at.selectChildren().attr("transform",X)}}const W=X9(x,A,t),{figure:Q=i!=null||o!=null||a!=null||W.length>0}=t;Q&&(R=N.createElement("figure"),R.className=`${l}-figure`,R.style.maxWidth="initial",i!=null&&R.append(jp(N,i,"h2")),o!=null&&R.append(jp(N,o,"h3")),R.append(...W,B),a!=null&&R.append(fT(N,a))),R.scale=CM(T.scales),R.legend=V9(x,A,t);const q=S7();return q>0&&be(B).append("text").attr("x",Y).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${q.toLocaleString("en-US")} warning${q===1?"":"s"}. Please check the console.`),R}function jp(t,e,n){if(e.ownerDocument)return e;const i=t.createElement(n);return i.append(e),i}function fT(t,e){const n=t.createElement("figcaption");return n.append(e),n}function cT({marks:t=[],...e}={}){return tv({...e,marks:[...t,this]})}bn.prototype.plot=cT;function Kp(t){return t.flat(1/0).filter(e=>e!=null).map(lT)}function lT(t){return typeof t.render=="function"?t:new hT(t)}class hT extends bn{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Ol(t,e){for(const n in t)ev(t[n],e);return t}function ev(t,e){const{scale:n,transform:i=!0}=t;if(n==null||!i)return;const{type:o,percent:a,interval:u,transform:c=a?l=>l*100:M1(u,o)}=e[n]??{};c!=null&&(t.value=Jt(t.value,c),t.transform=!1)}function dT(t){for(const e in t)B1(e,t[e])}function Jr(t,e,n,i=k4){var o,a;for(const{channels:u}of e.values())for(const c in u){const l=u[c],{scale:h}=l;if(h!=null&&i(h))if(h==="projection"){if(!R7(n)){const d=((o=n.x)==null?void 0:o.domain)===void 0,m=((a=n.y)==null?void 0:a.domain)===void 0;if(d||m){const[g,_]=F7(l);d&&Cf(t,"x",g),m&&Cf(t,"y",_)}}}else Cf(t,h,l)}return t}function Cf(t,e,n){const i=t.get(e);i!==void 0?i.push(n):t.set(e,[n])}function pT(t,e){if(t==null)return;const{x:n,y:i}=t;if(n==null&&i==null)return;const o=ke(t.data);if(o==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Eo(o,{value:n,scale:"fx"})),i!=null&&(a.fy=Eo(o,{value:i,scale:"fy"})),Ol(a,e);const u=Cl(o,a);return{channels:a,groups:u,data:t.data}}function Jp(t,e,n){var l;if(t.facet===null||t.facet==="super")return;const{fx:i,fy:o}=t;if(i!=null||o!=null){const h=ke(t.data??i??o);if(h===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(h===null)return;const d={};return i!=null&&(d.fx=Eo(h,{value:i,scale:"fx"})),o!=null&&(d.fy=Eo(h,{value:o,scale:"fy"})),Ol(d,n),{channels:d,groups:Cl(h,d)}}if(e===void 0)return;const{channels:a,groups:u,data:c}=e;if(t.facet!=="auto"||t.data===c)return{channels:a,groups:u};c.length>0&&(u.size>1||u.size===1&&a.fx&&a.fy&&[...u][0][1].size>1)&&((l=ke(t.data))==null?void 0:l.length)===c.length&&yi(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function mT(t,e={}){return Ts({...e,x:null,y:null},(n,i,o,a,u,c)=>c.getMarkState(t))}function gT(t){const e=[];for(const n of t){let i=n.tip;if(i){i===!0?i={}:typeof i=="string"&&(i={pointer:i});let{pointer:o}=i;o=/^x$/i.test(o)?GM:/^y$/i.test(o)?XM:YM,i=o(mT(n,i)),i.title=null;const a=nT(n.data,i);a.facet=n.facet,a.facetAnchor=n.facetAnchor,e.push(a)}}return e}function _T(t,e,n){let{projection:i,x:o={},y:a={},fx:u={},fy:c={},axis:l,grid:h,facet:d={},facet:{axis:m=l,grid:g}=d,x:{axis:_=l,grid:v=_===null?null:h}=o,y:{axis:w=l,grid:x=w===null?null:h}=a,fx:{axis:P=m,grid:T=P===null?null:g}=u,fy:{axis:S=m,grid:M=S===null?null:g}=c}=n;(i||!Tc(o)&&!Qp("x",t))&&(_=v=null),(i||!Tc(a)&&!Qp("y",t))&&(w=x=null),e.has("fx")||(P=T=null),e.has("fy")||(S=M=null),_===void 0&&(_=!Na(t,"x")),w===void 0&&(w=!Na(t,"y")),P===void 0&&(P=!Na(t,"fx")),S===void 0&&(S=!Na(t,"fy")),_===!0&&(_="bottom"),w===!0&&(w="left"),P===!0&&(P=_==="top"||_===null?"bottom":"top"),S===!0&&(S=w==="right"||w===null?"left":"right");const C=[];return za(C,M,I9,c),$a(C,S,k9,"right","left",d,c),za(C,T,D9,u),$a(C,P,C9,"top","bottom",d,u),za(C,x,N9,a),$a(C,w,By,"left","right",n,a),za(C,v,O9,o),$a(C,_,Ry,"bottom","top",n,o),C}function $a(t,e,n,i,o,a,u){if(!e)return;const c=yT(e);u=vT(c?i:e,a,u);const{line:l}=u;(n===By||n===Ry)&&l&&!Co(l)&&t.push(Q9(bT(u))),t.push(n(u)),c&&t.push(n({...u,anchor:o,label:null}))}function za(t,e,n,i){!e||Co(e)||t.push(n(wT(e,i)))}function yT(t){return/^\s*both\s*$/i.test(t)}function vT(t,e,{line:n=e.line,ticks:i,tickSize:o,tickSpacing:a,tickPadding:u,tickFormat:c,tickRotate:l,fontVariant:h,ariaLabel:d,ariaDescription:m,label:g=e.label,labelAnchor:_,labelArrow:v=e.labelArrow,labelOffset:w}){return{anchor:t,line:n,ticks:i,tickSize:o,tickSpacing:a,tickPadding:u,tickFormat:c,tickRotate:l,fontVariant:h,ariaLabel:d,ariaDescription:m,label:g,labelAnchor:_,labelArrow:v,labelOffset:w}}function bT(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function wT(t,{stroke:e=ru(t)?t:void 0,ticks:n=xT(t)?t:void 0,tickSpacing:i,ariaLabel:o,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:i,ariaLabel:o,ariaDescription:a}}function xT(t){switch(typeof t){case"number":return!0;case"string":return!ru(t)}return Ii(t)||typeof(t==null?void 0:t.range)=="function"}function Na(t,e){const n=`${e}-axis `;return t.some(i=>{var o;return(o=i.ariaLabel)==null?void 0:o.startsWith(n)})}function Qp(t,e){for(const n of e)for(const i in n.channels){const{scale:o}=n.channels[i];if(o===t||o==="projection")return!0}return!1}function MT(t,e){for(const n in t){const i=t[n],o=e[n];i.label===void 0&&o&&(i.label=o.label)}return t}function TT({fx:t,fy:e},n){const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:c,height:l}=kl(n),h=t&&tm(t),d=e&&tm(e);return{marginTop:e?d[0]:i,marginRight:t?c-h[1]:o,marginBottom:e?l-d[1]:a,marginLeft:t?h[0]:u,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:c,height:l}}function tm(t){const e=t.domain();let n=t(e[0]),i=t(e[e.length-1]);return i<n&&([n,i]=[i,n]),[n,i+t.bandwidth()]}function LT(t={}){return w1(t)?t:{...t,x:_e}}function ST(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,i=new Uint8Array(n);let o=0;for(const c of e)for(const l of c)i[l]&&++o,i[l]=1;if(o===0)return{data:t,facets:e};t=Po(t);const a=t[_1]=new Uint32Array(n+o);e=e.map(c=>Po(c,Uint32Array));let u=n;i.fill(0);for(const c of e)for(let l=0,h=c.length;l<h;++l){const d=c[l];i[d]?(c[l]=u,t[u]=t[d],a[u]=d,++u):a[d]=d,i[d]=1}return{data:t,facets:e}}function Ic(t={},e={}){arguments.length===1&&([t,e]=kT(t));const{y1:n,y:i=n,x:o,...a}=e,[u,c,l,h]=ET(i,o,"y","x",t,a);return{...u,y1:n,y:c,x1:l,x2:h,x:B4(l,h)}}function PT({x:t,x1:e,x2:n,...i}={}){return i=El(i,"y"),e===void 0&&n===void 0?Ic({x:t,...i}):([e,n]=N4(t,e,n),{...i,x1:e,x2:n})}function kT(t){const{offset:e,order:n,reverse:i,...o}=t;return[{offset:e,order:n,reverse:i},o]}const CT={length:!0};function ET(t,e=P4,n,i,{offset:o,order:a,reverse:u},c){if(e===null)throw new Error(`stack requires ${i}`);const l=I4(c),[h,d]=nr(t),[m,g]=Ms(e),[_,v]=Ms(e);return m.hint=_.hint=CT,o=AT(o),a=NT(a,o,i),[bl(c,(w,x,P)=>{({data:w,facets:x}=ST(w,x));const T=t==null?void 0:d(Lc(jt(w,t),P==null?void 0:P[n])),S=jt(w,e,Float64Array),M=jt(w,l),C=a&&a(w,T,S,M),k=w.length,A=g(new Float64Array(k)),N=v(new Float64Array(k)),B=[];for(const R of x){const $=T?Array.from(Rc(R,H=>T[H]).values()):[R];if(C)for(const H of $)H.sort(C);for(const H of $){let X=0,Y=0;u&&H.reverse();for(const I of H){const W=S[I];W<0?X=N[I]=(A[I]=X)+W:W>0?Y=N[I]=(A[I]=Y)+W:N[I]=A[I]=Y}}B.push($)}return o&&o(B,A,N,M),{data:w,facets:x}}),h,m,_]}function AT(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return $T;case"center":case"silhouette":return zT;case"wiggle":return iv}throw new Error(`unknown offset: ${t}`)}}function nv(t,e){let n=0,i=0;for(const o of t){const a=e[o];a<n&&(n=a),a>i&&(i=a)}return[n,i]}function $T(t,e,n){for(const i of t)for(const o of i){const[a,u]=nv(o,n);for(const c of o){const l=1/(u-a||1);e[c]=l*(e[c]-a),n[c]=l*(n[c]-a)}}}function zT(t,e,n){for(const i of t){for(const o of i){const[a,u]=nv(o,n);for(const c of o){const l=(u+a)/2;e[c]-=l,n[c]-=l}}rv(i,e,n)}ov(t,e,n)}function iv(t,e,n,i){for(const o of t){const a=new xi;let u=0;for(const c of o){let l=-1;const h=c.map(_=>Math.abs(n[_]-e[_])),d=c.map(_=>{l=i?i[_]:++l;const v=n[_]-e[_],w=a.has(l)?v-a.get(l):0;return a.set(l,v),w}),m=[0,...cw(d)];for(const _ of c)e[_]+=u,n[_]+=u;const g=Xn(h);g&&(u-=Xn(h,(_,v)=>(d[v]/2+m[v])*_)/g)}rv(o,e,n)}ov(t,e,n)}function rv(t,e,n){const i=In(t,o=>In(o,a=>e[a]));for(const o of t)for(const a of o)e[a]-=i,n[a]-=i}function ov(t,e,n){const i=t.length;if(i===1)return;const o=t.map(c=>c.flat()),a=o.map(c=>(In(c,l=>e[l])+Ye(c,l=>n[l]))/2),u=In(a);for(let c=0;c<i;c++){const l=u-a[c];for(const h of o[c])e[h]+=l,n[h]+=l}}function NT(t,e,n){if(t===void 0&&e===iv)return em(Ke);if(t!=null){if(typeof t=="string"){const i=t.startsWith("-"),o=i?xs:Ke;switch((i?t.slice(1):t).toLowerCase()){case"value":case n:return IT(o);case"z":return OT(o);case"sum":return DT(o);case"appearance":return BT(o);case"inside-out":return em(o)}return nm(y1(t))}if(typeof t=="function")return(t.length===1?nm:RT)(t);if(Array.isArray(t))return ZT(t);throw new Error(`invalid order: ${t}`)}}function IT(t){return(e,n,i)=>(o,a)=>t(i[o],i[a])}function OT(t){return(e,n,i,o)=>(a,u)=>t(o[a],o[u])}function DT(t){return lu(t,(e,n,i,o)=>Fc(Fn(e),a=>Xn(a,u=>i[u]),a=>o[a]))}function BT(t){return lu(t,(e,n,i,o)=>Fc(Fn(e),a=>n[Wm(a,u=>i[u])],a=>o[a]))}function em(t){return lu(t,(e,n,i,o)=>{const a=Fn(e),u=Fc(a,m=>n[Wm(m,g=>i[g])],m=>o[m]),c=ar(a,m=>Xn(m,g=>i[g]),m=>o[m]),l=[],h=[];let d=0;for(const m of u)d<0?(d+=c.get(m),l.push(m)):(d-=c.get(m),h.push(m));return h.reverse().concat(l)})}function nm(t){return e=>{const n=jt(e,t);return(i,o)=>Ke(n[i],n[o])}}function RT(t){return e=>(n,i)=>t(e[n],e[i])}function ZT(t){return lu(Ke,()=>t)}function lu(t,e){return(n,i,o,a)=>{if(!a)throw new Error("missing channel: z");const u=new xi(e(n,i,o,a).map((c,l)=>[c,l]));return(c,l)=>t(u.get(a[c]),u.get(a[l]))}}class FT extends bn{constructor(e,n,i={},o){super(e,n,i,o);const{inset:a=0,insetTop:u=a,insetRight:c=a,insetBottom:l=a,insetLeft:h=a,rx:d,ry:m}=i;this.insetTop=Zt(u),this.insetRight=Zt(c),this.insetBottom=Zt(l),this.insetLeft=Zt(h),this.rx=ee(d,"auto"),this.ry=ee(m,"auto")}render(e,n,i,o,a){const{rx:u,ry:c}=this;return ye("svg:g",a).call(Oi,this,o,a).call(this._transform,this,n).call(l=>l.selectAll().data(e).enter().append("rect").call(Di,this).attr("x",this._x(n,i,o)).attr("width",this._width(n,i,o)).attr("y",this._y(n,i,o)).attr("height",this._height(n,i,o)).call(Lt,"rx",u).call(Lt,"ry",c).call(Cr,this,i)).node()}_x(e,{x:n},{marginLeft:i}){const{insetLeft:o}=this;return n?a=>n[a]+o:i+o}_y(e,{y:n},{marginTop:i}){const{insetTop:o}=this;return n?a=>n[a]+o:i+o}_width({x:e},{x:n},{marginRight:i,marginLeft:o,width:a}){const{insetLeft:u,insetRight:c}=this,l=n&&e?e.bandwidth():a-i-o;return Math.max(0,l-u-c)}_height({y:e},{y:n},{marginTop:i,marginBottom:o,height:a}){const{insetTop:u,insetBottom:c}=this,l=n&&e?e.bandwidth():a-i-o;return Math.max(0,l-u-c)}}const UT={ariaLabel:"bar"};class HT extends FT{constructor(e,n={}){const{x1:i,x2:o,y:a}=n;super(e,{x1:{value:i,scale:"x"},x2:{value:o,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,UT)}_transform(e,n,{x:i}){e.call(Bi,n,{x:i},0,0)}_x({x:e},{x1:n,x2:i},{marginLeft:o}){const{insetLeft:a}=this;return xr(e)?o+a:u=>Math.min(n[u],i[u])+a}_width({x:e},{x1:n,x2:i},{marginRight:o,marginLeft:a,width:u}){const{insetLeft:c,insetRight:l}=this;return xr(e)?u-o-a-c-l:h=>Math.max(0,Math.abs(i[h]-n[h])-c-l)}}function im(t,e={}){return z4(e)||(e={...e,y:v1,x2:_e}),new HT(t,PT(by(LT(e))))}function rm(t){let e,n,i,o=[t[3]],a={};for(let u=0;u<o.length;u+=1)a=Ua(a,o[u]);return{c(){e=Pt("div"),Yh(e,a)},m(u,c){$t(u,e,c),n||(i=[As(e,"click",function(){$o(t[1])&&t[1].apply(this,arguments)}),$b(t[2].call(null,e))],n=!0)},p(u,c){t=u,Yh(e,a=Hb(o,[c&8&&t[3]]))},d(u){u&&kt(e),n=!1,Ai(i)}}}function WT(t){let e=t[0],n,i=rm(t);return{c(){i.c(),n=Gn()},m(o,a){i.m(o,a),$t(o,n,a)},p(o,[a]){a&1&&Je(e,e=o[0])?(i.d(1),i=rm(o),i.c(),i.m(n.parentNode,n)):i.p(o,a)},i:Me,o:Me,d(o){o&&kt(n),i.d(o)}}}function qT(t,e,n){const i=["options","handleClick"];let o=qh(e,i),{options:a}=e,{handleClick:u=l=>{}}=e;function c(l){l.appendChild(tv(a))}return t.$$set=l=>{e=Ua(Ua({},e),Ab(l)),n(3,o=qh(e,i)),"options"in l&&n(0,a=l.options),"handleClick"in l&&n(1,u=l.handleClick)},[a,u,c,o]}class VT extends _n{constructor(e){super(),gn(this,e,qT,WT,Je,{options:0,handleClick:1})}}function YT(t){let e,n,i;return n=new VT({props:{handleClick:t[1],options:{width:200,marginTop:10,color:{range:["rgb(104,175,252)","rgb(164 114 244)"]},marks:[im(t[0].features,vp({x:"count",ariaLabel:t[5],stroke:t[6],fillOpacity:t[7]},{y:om,fill:t[8]})),Ls([t[3]],{frameAnchor:"top",textAnchor:"start",fontSize:12,dx:-98,dy:-10}),$c(t[0].features,Ic(yp({x:"count",text:t[9],id:am,ariaLabel:sm},{z:t[10],inset:.5,textAnchor:"middle",id:t[11],ariaLabel:t[12]})))],marginBottom:0,x:{label:t[3],axis:null},y:{axis:null},height:55,style:{cursor:"pointer"}}}}),{c(){e=Pt("div"),pe(n.$$.fragment),lt(e,"class","mx-1")},m(o,a){$t(o,e,a),ce(n,e,null),i=!0},p(o,[a]){const u={};a&2&&(u.handleClick=o[1]),a&29&&(u.options={width:200,marginTop:10,color:{range:["rgb(104,175,252)","rgb(164 114 244)"]},marks:[im(o[0].features,vp({x:"count",ariaLabel:o[5],stroke:o[6],fillOpacity:o[7]},{y:om,fill:o[8]})),Ls([o[3]],{frameAnchor:"top",textAnchor:"start",fontSize:12,dx:-98,dy:-10}),$c(o[0].features,Ic(yp({x:"count",text:o[9],id:am,ariaLabel:sm},{z:o[10],inset:.5,textAnchor:"middle",id:o[11],ariaLabel:o[12]})))],marginBottom:0,x:{label:o[3],axis:null},y:{axis:null},height:55,style:{cursor:"pointer"}}),n.$set(u)},i(o){i||(ft(n.$$.fragment,o),i=!0)},o(o){pt(n.$$.fragment,o),i=!1},d(o){o&&kt(e),le(n)}}}const om=t=>1,am=t=>t[0].id,sm=t=>t[0];function GT(t,e,n){let{data:i}=e,{handleClick:o}=e,{selected:a}=e,{label:u}=e,{prop:c}=e;const l=x=>x[0].properties[c],h=x=>`${x[0].properties[c]}`===a?"black":"none",d=x=>a?`${x[0].properties[c]}`===a?1:.5:.8,m=x=>`${x.properties[c]}`,g=x=>x[0].properties[c],_=x=>x.properties[c],v=x=>x.properties[c],w=x=>x.properties[c];return t.$$set=x=>{"data"in x&&n(0,i=x.data),"handleClick"in x&&n(1,o=x.handleClick),"selected"in x&&n(2,a=x.selected),"label"in x&&n(3,u=x.label),"prop"in x&&n(4,c=x.prop)},[i,o,a,u,c,l,h,d,m,g,_,v,w]}class XT extends _n{constructor(e){super(),gn(this,e,GT,YT,Je,{data:0,handleClick:1,selected:2,label:3,prop:4})}}function um(t){let e;const n=t[3].default,i=Ps(n,t,t[2],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&4)&&Cs(i,n,o,o[2],e?ks(n,o[2],a,null):Es(o[2]),null)},i(o){e||(ft(i,o),e=!0)},o(o){pt(i,o),e=!1},d(o){i&&i.d(o)}}}function jT(t){let e,n,i=t[1]&&um(t);return{c(){e=Pt("div"),i&&i.c()},m(o,a){$t(o,e,a),i&&i.m(e,null),t[4](e),n=!0},p(o,[a]){o[1]?i?(i.p(o,a),a&2&&ft(i,1)):(i=um(o),i.c(),ft(i,1),i.m(e,null)):i&&(Te(),pt(i,1,1,()=>{i=null}),Le())},i(o){n||(ft(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[4](null)}}}function KT(t,e,n){let{$$slots:i={},$$scope:o}=e,a,u,c=!1;const{getLayer:l}=Bc("layer"),h=l();Tr(()=>{a=pi.popup().setContent(u),h&&(h.bindPopup(a),h.on("popupopen",()=>n(1,c=!0)),h.on("popupclose",()=>n(1,c=!1)))}),$s(()=>{h==null||h.unbindPopup(),a==null||a.remove(),a=void 0});function d(m){bi[m?"unshift":"push"](()=>{u=m,n(0,u)})}return t.$$set=m=>{"$$scope"in m&&n(2,o=m.$$scope)},[u,c,o,i,d]}class Dl extends _n{constructor(e){super(),gn(this,e,KT,jT,Je,{})}}function JT(t){let e;return{c(){e=Pt("div"),lt(e,"class","histogram mx-1 svelte-13skr5q")},m(n,i){$t(n,e,i),t[6](e)},p:Me,i:Me,o:Me,d(n){n&&kt(e),t[6](null)}}}function QT(t,e,n){let{data:i=Array.from({length:100},(d,m)=>m)}=e,{width:o=200}=e,{height:a=75}=e,{onUpdate:u=null}=e,{label:c="Value →"}=e,l;Tr(()=>{const d={top:15,right:0,bottom:19,left:20},m=be(l).append("svg").attr("width",o).attr("height",a),g=Mo().domain(Re(i)).range([d.left,o-d.right]).nice(),_=ww().domain(g.domain()).thresholds(g.ticks(20))(i),v=Math.max(..._.map(M=>M.length)),w=Mo().domain([0,v]).nice().range([a-d.bottom,d.top]),x=m.selectAll("rect").data(_).enter().append("rect").attr("x",M=>g(M.x0)+1).attr("width",M=>Math.max(0,g(M.x1)-g(M.x0)-1)).attr("y",M=>w(M.length)).attr("height",M=>w(0)-w(M.length)).attr("fill","rgb(104,175,252)").attr("fill-opacity",.8),P=w3().extent([[d.left,d.top],[o-d.right,a-d.bottom]]).on("brush",T).on("end",S);m.append("g").attr("class","brush").call(P),m.append("text").attr("x",2).attr("y",9).attr("text-anchor","start").attr("font-size","12px").style("font-family","system-ui, sans-serif").text(c),m.append("g").attr("transform",`translate(0,${a-d.bottom})`).call(Ym(g).ticks(2)),m.append("g").attr("transform",`translate(${d.left},0)`).call(Ow(w).ticks(1));function T(M){if(M.selection){const[C,k]=M.selection;x.attr("fill-opacity",A=>{const N=g(A.x0)+1;return N>=C&&N<=k?1:.3}),u&&u([g.invert(C),g.invert(k)])}}function S(M){M.selection||(x.attr("fill-opacity",1),u&&u(null))}});function h(d){bi[d?"unshift":"push"](()=>{l=d,n(0,l)})}return t.$$set=d=>{"data"in d&&n(1,i=d.data),"width"in d&&n(2,o=d.width),"height"in d&&n(3,a=d.height),"onUpdate"in d&&n(4,u=d.onUpdate),"label"in d&&n(5,c=d.label)},[l,i,o,a,u,c,h]}class tL extends _n{constructor(e){super(),gn(this,e,QT,JT,Je,{data:1,width:2,height:3,onUpdate:4,label:5})}}function fm(t){let e;const n=t[4].default,i=Ps(n,t,t[3],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&8)&&Cs(i,n,o,o[3],e?ks(n,o[3],a,null):Es(o[3]),null)},i(o){e||(ft(i,o),e=!0)},o(o){pt(i,o),e=!1},d(o){i&&i.d(o)}}}function eL(t){let e,n,i=t[0]&&fm(t);return{c(){e=Pt("div"),i&&i.c()},m(o,a){$t(o,e,a),i&&i.m(e,null),t[5](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ft(i,1)):(i=fm(o),i.c(),ft(i,1),i.m(e,null)):i&&(Te(),pt(i,1,1,()=>{i=null}),Le())},i(o){n||(ft(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[5](null)}}}function nL(t,e,n){let{$$slots:i={},$$scope:o}=e,{latLngs:a}=e,u,c;const{getMap:l}=Bc("map"),h=l();Dc("layer",{getLayer:()=>u}),Tr(()=>{h&&n(0,u=pi.polyline(a,{color:"black",weight:2,opacity:.8}).addTo(h))}),$s(()=>{u==null||u.remove(),n(0,u=void 0)});function d(m){bi[m?"unshift":"push"](()=>{c=m,n(1,c)})}return t.$$set=m=>{"latLngs"in m&&n(2,a=m.latLngs),"$$scope"in m&&n(3,o=m.$$scope)},[u,c,a,o,i,d]}class iL extends _n{constructor(e){super(),gn(this,e,nL,eL,Je,{latLngs:2})}}function rL(t){let e,n,i,o;return{c(){e=Pt("button"),lt(e,"class",n=Vh(`mx-2 my-1 p-1 hover:border-black border-solid border-1 border-black ${t[0]?"opacity-100":"opacity-30 hover:opacity-50"}`)+" svelte-10lm8cb"),po(e,"background-image","url("+t[2]+")")},m(a,u){$t(a,e,u),i||(o=As(e,"click",zb(function(){$o(t[1])&&t[1].apply(this,arguments)})),i=!0)},p(a,[u]){t=a,u&1&&n!==(n=Vh(`mx-2 my-1 p-1 hover:border-black border-solid border-1 border-black ${t[0]?"opacity-100":"opacity-30 hover:opacity-50"}`)+" svelte-10lm8cb")&&lt(e,"class",n),u&4&&po(e,"background-image","url("+t[2]+")")},i:Me,o:Me,d(a){a&&kt(e),i=!1,o()}}}function oL(t,e,n){let{checked:i=!0}=e,{onClick:o=()=>{}}=e,{imageUrl:a="./ttc.svg"}=e;return t.$$set=u=>{"checked"in u&&n(0,i=u.checked),"onClick"in u&&n(1,o=u.onClick),"imageUrl"in u&&n(2,a=u.imageUrl)},[i,o,a]}class Ef extends _n{constructor(e){super(),gn(this,e,oL,rL,Je,{checked:0,onClick:1,imageUrl:2})}}function cm(t,e,n){const i=t.slice();return i[7]=e[n],i}function lm(t,e,n){const i=t.slice();return i[10]=e[n],i}function hm(t,e,n){const i=t.slice();return i[13]=e[n],i}function dm(t){let e,n,i,o,a=[],u=new Map,c,l,h=Ne(Object.keys(t[2][0]));const d=_=>_[13];for(let _=0;_<h.length;_+=1){let v=hm(t,h,_),w=d(v);u.set(w,a[_]=pm(w,v))}let m=Ne(t[2]),g=[];for(let _=0;_<m.length;_+=1)g[_]=gm(cm(t,m,_));return{c(){e=Pt("div"),n=Pt("table"),i=Pt("thead"),o=Pt("tr");for(let _=0;_<a.length;_+=1)a[_].c();c=ne(),l=Pt("tbody");for(let _=0;_<g.length;_+=1)g[_].c();lt(i,"class","sticky top-0 bg-white"),lt(n,"class","min-w-full"),lt(e,"class","border-gray mt-1 overflow-x-auto"),po(e,"max-height",cL)},m(_,v){$t(_,e,v),yt(e,n),yt(n,i),yt(i,o);for(let w=0;w<a.length;w+=1)a[w]&&a[w].m(o,null);yt(n,c),yt(n,l);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(l,null)},p(_,v){if(v&15&&(h=Ne(Object.keys(_[2][0])),a=Im(a,v,d,1,_,h,u,o,Fb,pm,null,hm)),v&4){m=Ne(_[2]);let w;for(w=0;w<m.length;w+=1){const x=cm(_,m,w);g[w]?g[w].p(x,v):(g[w]=gm(x),g[w].c(),g[w].m(l,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=m.length}},d(_){_&&kt(e);for(let v=0;v<a.length;v+=1)a[v].d();Ha(g,_)}}}function aL(t){let e,n;return{c(){e=vi("svg"),n=vi("path"),lt(n,"stroke-linecap","round"),lt(n,"stroke-linejoin","round"),lt(n,"stroke-width","2"),lt(n,"d","M4 8h16M4 16h16"),lt(e,"class","w-4 h-4 ml-1 text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity"),lt(e,"fill","none"),lt(e,"stroke","currentColor"),lt(e,"viewBox","0 0 24 24"),lt(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){$t(i,e,o),yt(e,n)},d(i){i&&kt(e)}}}function sL(t){let e,n;return{c(){e=vi("svg"),n=vi("path"),lt(n,"stroke-linecap","round"),lt(n,"stroke-linejoin","round"),lt(n,"stroke-width","2"),lt(n,"d","M19 9l-7 7-7-7"),lt(e,"class","w-4 h-4 ml-1 text-gray-600"),lt(e,"fill","none"),lt(e,"stroke","currentColor"),lt(e,"viewBox","0 0 24 24"),lt(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){$t(i,e,o),yt(e,n)},d(i){i&&kt(e)}}}function uL(t){let e,n;return{c(){e=vi("svg"),n=vi("path"),lt(n,"stroke-linecap","round"),lt(n,"stroke-linejoin","round"),lt(n,"stroke-width","2"),lt(n,"d","M5 15l7-7 7 7"),lt(e,"class","w-4 h-4 ml-1 text-gray-600"),lt(e,"fill","none"),lt(e,"stroke","currentColor"),lt(e,"viewBox","0 0 24 24"),lt(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){$t(i,e,o),yt(e,n)},d(i){i&&kt(e)}}}function pm(t,e){let n,i,o,a=e[13]+"",u,c,l,h;function d(v,w){return v[13]===v[0]&&v[1]===1?uL:v[13]===v[0]&&v[1]===-1?sL:aL}let m=d(e),g=m(e);function _(){return e[6](e[13])}return{key:t,first:null,c(){n=Pt("th"),i=Pt("div"),g.c(),o=ne(),u=un(a),c=ne(),lt(i,"class","flex items-center "),lt(n,"class","cursor-pointer px-1 py-1 border truncate select-none svelte-16512im"),this.first=n},m(v,w){$t(v,n,w),yt(n,i),g.m(i,null),yt(i,o),yt(i,u),yt(n,c),l||(h=As(n,"click",_),l=!0)},p(v,w){e=v,m!==(m=d(e))&&(g.d(1),g=m(e),g&&(g.c(),g.m(i,o))),w&4&&a!==(a=e[13]+"")&&Wa(u,a)},d(v){v&&kt(n),g.d(),l=!1,h()}}}function mm(t){let e,n=t[10]+"",i;return{c(){e=Pt("td"),i=un(n),lt(e,"class","border px-1 py-1 truncate"),po(e,"max-width","240px")},m(o,a){$t(o,e,a),yt(e,i)},p(o,a){a&4&&n!==(n=o[10]+"")&&Wa(i,n)},d(o){o&&kt(e)}}}function gm(t){let e,n,i=Ne(Object.values(t[7])),o=[];for(let a=0;a<i.length;a+=1)o[a]=mm(lm(t,i,a));return{c(){e=Pt("tr");for(let a=0;a<o.length;a+=1)o[a].c();n=ne()},m(a,u){$t(a,e,u);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(e,null);yt(e,n)},p(a,u){if(u&4){i=Ne(Object.values(a[7]));let c;for(c=0;c<i.length;c+=1){const l=lm(a,i,c);o[c]?o[c].p(l,u):(o[c]=mm(l),o[c].c(),o[c].m(e,n))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(a){a&&kt(e),Ha(o,a)}}}function fL(t){let e,n,i,o,a,u=t[2].length+"",c,l,h,d,m,g,_,v,w,x,P,T,S=t[2]&&t[2].length>0&&dm(t);return{c(){e=Pt("div"),n=Pt("div"),i=Pt("div"),o=un("The table below shows each NORC, filtered by the controls above (currently "),a=Pt("strong"),c=un(u),l=un(" rows"),h=un(`). Click column headers to sort (currently
      `),d=Pt("em"),m=un(t[0]),g=un(")."),_=ne(),v=Pt("div"),w=Pt("button"),w.textContent="Download Table",x=ne(),S&&S.c(),lt(w,"type","button"),lt(w,"class","py-2.5 px-5 me-2 mb-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 whitespace-nowrap"),lt(n,"class","border-t mt-2 py-2 flex justify-between text-start"),lt(e,"class","mb-10")},m(M,C){$t(M,e,C),yt(e,n),yt(n,i),yt(i,o),yt(i,a),yt(a,c),yt(a,l),yt(i,h),yt(i,d),yt(d,m),yt(i,g),yt(n,_),yt(n,v),yt(v,w),yt(e,x),S&&S.m(e,null),P||(T=As(w,"click",t[4]),P=!0)},p(M,[C]){C&4&&u!==(u=M[2].length+"")&&Wa(c,u),C&1&&Wa(m,M[0]),M[2]&&M[2].length>0?S?S.p(M,C):(S=dm(M),S.c(),S.m(e,null)):S&&(S.d(1),S=null)},i:Me,o:Me,d(M){M&&kt(e),S&&S.d(),P=!1,T()}}}let cL="400px";function lL(t,e,n){let i,o,{items:a=[]}=e,{sortBy:u=""}=e;const c=d=>{u===d?n(1,i*=-1):n(0,u=d)};function l(){const m=Object.keys(o[0]).join(",")+`
`+o.map(w=>Object.values(w).join(",")).join(`
`),g=new Blob([m],{type:"text/csv"}),_=window.URL.createObjectURL(g),v=document.createElement("a");v.href=_,v.setAttribute("download","data.csv"),document.body.appendChild(v),v.click(),document.body.removeChild(v),window.URL.revokeObjectURL(_)}const h=d=>c(d);return t.$$set=d=>{"items"in d&&n(5,a=d.items),"sortBy"in d&&n(0,u=d.sortBy)},t.$$.update=()=>{t.$$.dirty&35&&n(2,o=[...a].sort((d,m)=>d[u]>m[u]?i:d[u]<m[u]?-i:0))},n(1,i=-1),[u,i,o,c,l,a,h]}class hL extends _n{constructor(e){super(),gn(this,e,lL,fL,Je,{items:5,sortBy:0})}}function _m(t,e,n){const i=t.slice();return i[19]=e[n],i}function ym(t,e,n){const i=t.slice();return i[22]=e[n],i}function vm(t,e,n){const i=t.slice();return i[22]=e[n],i}function bm(t){let e,n,i,o,a=Ne(t[7]),u=[];for(let m=0;m<a.length;m+=1)u[m]=wm(vm(t,a,m));const c=m=>pt(u[m],1,1,()=>{u[m]=null});let l=Ne(t[8]),h=[];for(let m=0;m<l.length;m+=1)h[m]=xm(ym(t,l,m));const d=m=>pt(h[m],1,1,()=>{h[m]=null});return{c(){e=Pt("div");for(let m=0;m<u.length;m+=1)u[m].c();n=ne(),i=Pt("div");for(let m=0;m<h.length;m+=1)h[m].c();lt(e,"class","flex flex-wrap mt-3"),lt(i,"class","flex flex-wrap mt-3")},m(m,g){$t(m,e,g);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(e,null);$t(m,n,g),$t(m,i,g);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(i,null);o=!0},p(m,g){if(g&4227){a=Ne(m[7]);let _;for(_=0;_<a.length;_+=1){const v=vm(m,a,_);u[_]?(u[_].p(v,g),ft(u[_],1)):(u[_]=wm(v),u[_].c(),ft(u[_],1),u[_].m(e,null))}for(Te(),_=a.length;_<u.length;_+=1)c(_);Le()}if(g&4353){l=Ne(m[8]);let _;for(_=0;_<l.length;_+=1){const v=ym(m,l,_);h[_]?(h[_].p(v,g),ft(h[_],1)):(h[_]=xm(v),h[_].c(),ft(h[_],1),h[_].m(i,null))}for(Te(),_=l.length;_<h.length;_+=1)d(_);Le()}},i(m){if(!o){for(let g=0;g<a.length;g+=1)ft(u[g]);for(let g=0;g<l.length;g+=1)ft(h[g]);o=!0}},o(m){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)pt(u[g]);h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)pt(h[g]);o=!1},d(m){m&&(kt(e),kt(n),kt(i)),Ha(u,m),Ha(h,m)}}}function wm(t){var a;let e,n;function i(...u){return t[14](t[22],...u)}function o(...u){return t[15](t[22],...u)}return e=new XT({props:{prop:t[22].prop,label:t[22].label,selected:(a=t[1].find(i))==null?void 0:a.value,data:t[0],handleClick:o}}),{c(){pe(e.$$.fragment)},m(u,c){ce(e,u,c),n=!0},p(u,c){var h;t=u;const l={};c&2&&(l.selected=(h=t[1].find(i))==null?void 0:h.value),c&1&&(l.data=t[0]),e.$set(l)},i(u){n||(ft(e.$$.fragment,u),n=!0)},o(u){pt(e.$$.fragment,u),n=!1},d(u){le(e,u)}}}function xm(t){let e,n;function i(...a){return t[16](t[22],...a)}function o(...a){return t[17](t[22],...a)}return e=new tL({props:{data:t[0].features.map(i),label:`${t[22].label} →`,onUpdate:o}}),{c(){pe(e.$$.fragment)},m(a,u){ce(e,a,u),n=!0},p(a,u){t=a;const c={};u&1&&(c.data=t[0].features.map(i)),e.$set(c)},i(a){n||(ft(e.$$.fragment,a),n=!0)},o(a){pt(e.$$.fragment,a),n=!1},d(a){le(e,a)}}}function Mm(t){let e=[],n=new Map,i,o,a=Ne(t[5]);const u=c=>c[19].properties.id;for(let c=0;c<a.length;c+=1){let l=_m(t,a,c),h=u(l);n.set(h,e[c]=Pm(h,l))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();i=Gn()},m(c,l){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(c,l);$t(c,i,l),o=!0},p(c,l){l&8252&&(a=Ne(c[5]),Te(),e=Im(e,l,u,1,c,a,n,i.parentNode,Ub,Pm,i,_m),Le())},i(c){if(!o){for(let l=0;l<a.length;l+=1)ft(e[l]);o=!0}},o(c){for(let l=0;l<e.length;l+=1)pt(e[l]);o=!1},d(c){c&&kt(i);for(let l=0;l<e.length;l+=1)e[l].d(c)}}}function Tm(t){let e,n;return e=new Om({props:{latLng:[+t[19].properties.latitude,+t[19].properties.longitude],radius:4,fillColor:"black",$$slots:{default:[pL]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,o){ce(e,i,o),n=!0},p(i,o){const a={};o&32&&(a.latLng=[+i[19].properties.latitude,+i[19].properties.longitude]),o&134217760&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ft(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function dL(t){let e,n=t[13](t[19])+"",i;return{c(){e=new Oc(!1),i=Gn(),e.a=i},m(o,a){e.m(n,o,a),$t(o,i,a)},p(o,a){a&32&&n!==(n=o[13](o[19])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function pL(t){let e,n;return e=new Dl({props:{$$slots:{default:[dL]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,o){ce(e,i,o),n=!0},p(i,o){const a={};o&134217760&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ft(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function Lm(t){let e,n;return e=new Om({props:{latLng:[+t[19].properties.stop_lat,+t[19].properties.stop_lon],radius:4,fillColor:"red",$$slots:{default:[gL]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,o){ce(e,i,o),n=!0},p(i,o){const a={};o&32&&(a.latLng=[+i[19].properties.stop_lat,+i[19].properties.stop_lon]),o&134217760&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ft(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function mL(t){let e,n=t[13](t[19])+"",i;return{c(){e=new Oc(!1),i=Gn(),e.a=i},m(o,a){e.m(n,o,a),$t(o,i,a)},p(o,a){a&32&&n!==(n=o[13](o[19])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function gL(t){let e,n;return e=new Dl({props:{$$slots:{default:[mL]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,o){ce(e,i,o),n=!0},p(i,o){const a={};o&134217760&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ft(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function Sm(t){let e,n;return e=new iL({props:{latLngs:t[19].geometry.coordinates.map(Cm),$$slots:{default:[yL]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment)},m(i,o){ce(e,i,o),n=!0},p(i,o){const a={};o&32&&(a.latLngs=i[19].geometry.coordinates.map(Cm)),o&134217760&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ft(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function _L(t){let e,n=t[13](t[19])+"",i;return{c(){e=new Oc(!1),i=Gn(),e.a=i},m(o,a){e.m(n,o,a),$t(o,i,a)},p(o,a){a&32&&n!==(n=o[13](o[19])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function yL(t){let e,n,i;return e=new Dl({props:{$$slots:{default:[_L]},$$scope:{ctx:t}}}),{c(){pe(e.$$.fragment),n=ne()},m(o,a){ce(e,o,a),$t(o,n,a),i=!0},p(o,a){const u={};a&134217760&&(u.$$scope={dirty:a,ctx:o}),e.$set(u)},i(o){i||(ft(e.$$.fragment,o),i=!0)},o(o){pt(e.$$.fragment,o),i=!1},d(o){o&&kt(n),le(e,o)}}}function Pm(t,e){let n,i,o,a,u,c=e[4]&&Tm(e),l=e[2]&&Lm(e),h=e[3]&&Sm(e);return{key:t,first:null,c(){n=Gn(),c&&c.c(),i=ne(),l&&l.c(),o=ne(),h&&h.c(),a=Gn(),this.first=n},m(d,m){$t(d,n,m),c&&c.m(d,m),$t(d,i,m),l&&l.m(d,m),$t(d,o,m),h&&h.m(d,m),$t(d,a,m),u=!0},p(d,m){e=d,e[4]?c?(c.p(e,m),m&16&&ft(c,1)):(c=Tm(e),c.c(),ft(c,1),c.m(i.parentNode,i)):c&&(Te(),pt(c,1,1,()=>{c=null}),Le()),e[2]?l?(l.p(e,m),m&4&&ft(l,1)):(l=Lm(e),l.c(),ft(l,1),l.m(o.parentNode,o)):l&&(Te(),pt(l,1,1,()=>{l=null}),Le()),e[3]?h?(h.p(e,m),m&8&&ft(h,1)):(h=Sm(e),h.c(),ft(h,1),h.m(a.parentNode,a)):h&&(Te(),pt(h,1,1,()=>{h=null}),Le())},i(d){u||(ft(c),ft(l),ft(h),u=!0)},o(d){pt(c),pt(l),pt(h),u=!1},d(d){d&&(kt(n),kt(i),kt(o),kt(a)),c&&c.d(d),l&&l.d(d),h&&h.d(d)}}}function vL(t){let e,n,i=t[5]&&Mm(t);return{c(){i&&i.c(),e=Gn()},m(o,a){i&&i.m(o,a),$t(o,e,a),n=!0},p(o,a){o[5]?i?(i.p(o,a),a&32&&ft(i,1)):(i=Mm(o),i.c(),ft(i,1),i.m(e.parentNode,e)):i&&(Te(),pt(i,1,1,()=>{i=null}),Le())},i(o){n||(ft(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(o)}}}function km(t){let e,n;return e=new hL({props:{items:t[5].map(t[18]),sortBy:"Distance"}}),{c(){pe(e.$$.fragment)},m(i,o){ce(e,i,o),n=!0},p(i,o){const a={};o&32&&(a.items=i[5].map(i[18])),e.$set(a)},i(i){n||(ft(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){le(e,i)}}}function bL(t){let e,n,i,o,a,u,c,l,h,d,m,g,_,v,w,x,P,T,S,M=t[0]&&bm(t);d=new Ef({props:{imageUrl:"ttc.svg",checked:t[2],onClick:t[9]}}),g=new Ef({props:{imageUrl:"apartment.svg",checked:t[4],onClick:t[11]}}),v=new Ef({props:{imageUrl:"route.svg",checked:t[3],onClick:t[10]}}),P=new Kb({props:{view:t[6],zoom:11,$$slots:{default:[vL]},$$scope:{ctx:t}}});let C=t[5]&&km(t);return{c(){e=Pt("div"),n=Pt("h1"),n.textContent="Naturally Occuring Retirement Communities",i=ne(),o=Pt("p"),o.innerHTML="<em>Use the controls below to explore the data in the map and table.</em>",a=ne(),M&&M.c(),u=ne(),c=Pt("div"),l=Pt("div"),h=Pt("form"),pe(d.$$.fragment),m=ne(),pe(g.$$.fragment),_=ne(),pe(v.$$.fragment),w=ne(),x=Pt("div"),pe(P.$$.fragment),T=ne(),C&&C.c(),lt(n,"class","flex pb-0 text-2xl"),lt(o,"class","text-start border-b"),lt(h,"class","flex flex-wrap"),po(l,"width","80px"),lt(x,"class","w-[calc(100%-80px)] h-[calc(50vh)]"),lt(c,"class","flex"),lt(e,"class","w-full")},m(k,A){$t(k,e,A),yt(e,n),yt(e,i),yt(e,o),yt(e,a),M&&M.m(e,null),yt(e,u),yt(e,c),yt(c,l),yt(l,h),ce(d,h,null),yt(h,m),ce(g,h,null),yt(h,_),ce(v,h,null),yt(c,w),yt(c,x),ce(P,x,null),yt(e,T),C&&C.m(e,null),S=!0},p(k,[A]){k[0]?M?(M.p(k,A),A&1&&ft(M,1)):(M=bm(k),M.c(),ft(M,1),M.m(e,u)):M&&(Te(),pt(M,1,1,()=>{M=null}),Le());const N={};A&4&&(N.checked=k[2]),d.$set(N);const B={};A&16&&(B.checked=k[4]),g.$set(B);const R={};A&8&&(R.checked=k[3]),v.$set(R);const $={};A&134217788&&($.$$scope={dirty:A,ctx:k}),P.$set($),k[5]?C?(C.p(k,A),A&32&&ft(C,1)):(C=km(k),C.c(),ft(C,1),C.m(e,null)):C&&(Te(),pt(C,1,1,()=>{C=null}),Le())},i(k){S||(ft(M),ft(d.$$.fragment,k),ft(g.$$.fragment,k),ft(v.$$.fragment,k),ft(P.$$.fragment,k),ft(C),S=!0)},o(k){pt(M),pt(d.$$.fragment,k),pt(g.$$.fragment,k),pt(v.$$.fragment,k),pt(P.$$.fragment,k),pt(C),S=!1},d(k){k&&kt(e),M&&M.d(),le(d),le(g),le(v),le(P),C&&C.d()}}}const Cm=t=>[+t[1],+t[0]];function wL(t,e,n){let i;const o=[43.70107,-79.397015];let a=!0,u=!0,c=!0,l,h=[];const d=[{prop:"wheelchair_boarding",label:"Wheelchair boarding"},{prop:"has_shelter",label:"Has shelter"},{prop:"has_shelter_with_bench",label:"Has shelter with bench"},{prop:"has_bench",label:"Has bench"}],m=[{prop:"distance",label:"Distance"},{prop:"Age 65+ Total",label:"Num. Seniors"},{prop:"% of Seniors",label:"Pct. Seniors"}];Tr(async()=>{n(0,l=await fetch("./output_paths_with_data.geojson").then(k=>k.json()))});function g(){n(2,a=!a)}function _(){n(3,u=!u)}function v(){n(4,c=!c)}function w(k,A){h.find(N=>N.prop===k&&(N.value===A||A===null))?n(1,h=h.filter(N=>N.prop!==k)):n(1,h=[...h.filter(N=>N.prop!==k),{prop:k,value:A}])}function x(k){return`
      <em>Building: </em>${k.properties.Address}<br/>      
      <em>Pct. Seniors: </em>${Kn(".1%")(k.properties["% of Seniors"])}<br/>      
      <em>Stop</em>: ${k.properties.stop_name}<br/>
      <em>Distance</em>: ${k.properties.distance}m
    `}const P=(k,A)=>A.prop===k.prop,T=(k,A)=>A.target.ariaLabel?w(k.prop,A.target.ariaLabel):null,S=(k,A)=>A.properties[k.prop],M=(k,A)=>w(k.prop,A),C=k=>({Address:k.properties.Address,"Nearest Stop":k.properties.stop_name,Distance:+k.properties.distance,"# Seniors":k.properties["Age 65+ Total"],"# People":k.properties.All_Persons,"% seniors":Kn(".1%")(k.properties["% of Seniors"]),"Wheelchair Boarding":k.properties.wheelchair_boarding,"Has Shelter":k.properties.has_shelter,"Shelter + Bench":k.properties.has_shelter_with_bench,"Has Bench":k.properties.has_bench});return t.$$.update=()=>{t.$$.dirty&3&&n(5,i=l==null?void 0:l.features.filter(k=>h.every(A=>typeof A.value=="string"?`${k.properties[A.prop]}`==A.value:Array.isArray(A.value)?k.properties[A.prop]>=A.value[0]&&k.properties[A.prop]<=A.value[1]:!1)))},[l,h,a,u,c,i,o,d,m,g,_,v,w,x,P,T,S,M,C]}class xL extends _n{constructor(e){super(),gn(this,e,wL,bL,Je,{})}}new xL({target:document.getElementById("app")});
