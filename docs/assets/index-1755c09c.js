var Ob=Object.defineProperty;var Ib=(t,e,n)=>e in t?Ob(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vn=(t,e,n)=>(Ib(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Me(){}function Wa(t,e){for(const n in e)t[n]=e[n];return t}function Im(t){return t()}function Vh(){return Object.create(null)}function Jn(t){t.forEach(Im)}function No(t){return typeof t=="function"}function tn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Db(t){return Object.keys(t).length===0}function Es(t,e,n,i){if(t){const o=Dm(t,e,n,i);return t[0](o)}}function Dm(t,e,n,i){return t[1]&&i?Wa(n.ctx.slice(),t[1](i(e))):n.ctx}function $s(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const a=[],u=Math.max(e.dirty.length,o.length);for(let c=0;c<u;c+=1)a[c]=e.dirty[c]|o[c];return a}return e.dirty|o}return e.dirty}function zs(t,e,n,i,o,a){if(o){const u=Dm(e,n,i,a);t.p(u,o)}}function Ns(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Bb(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Yh(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Gh(t){return t??""}function Rb(t){return t&&No(t.destroy)?t.destroy:Me}function ht(t,e){t.appendChild(e)}function $t(t,e,n){t.insertBefore(e,n||null)}function kt(t){t.parentNode&&t.parentNode.removeChild(t)}function qa(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function vt(t){return document.createElement(t)}function bi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ve(t){return document.createTextNode(t)}function Rt(){return Ve(" ")}function Xn(){return Ve("")}function cr(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function Zb(t){return function(e){return e.preventDefault(),t.call(this,e)}}function at(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Fb=["width","height"];function Xh(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Fb.indexOf(i)===-1?t[i]=e[i]:at(t,i,e[i])}function Ub(t){return Array.from(t.childNodes)}function Va(t,e){e=""+e,t.data!==e&&(t.data=e)}function mo(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Hb(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Bc{constructor(e=!1){Vn(this,"is_svg",!1);Vn(this,"e");Vn(this,"n");Vn(this,"t");Vn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=bi(n.nodeName):this.e=vt(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)$t(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(kt)}}let go;function fo(t){go=t}function Oo(){if(!go)throw new Error("Function called outside component initialization");return go}function Lr(t){Oo().$$.on_mount.push(t)}function Os(t){Oo().$$.on_destroy.push(t)}function Wb(){const t=Oo();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const a=Hb(e,n,{cancelable:i});return o.slice().forEach(u=>{u.call(t,a)}),!a.defaultPrevented}return!0}}function Rc(t,e){return Oo().$$.context.set(t,e),e}function Zc(t){return Oo().$$.context.get(t)}const er=[],wi=[];let or=[];const jh=[],Bm=Promise.resolve();let Nf=!1;function Rm(){Nf||(Nf=!0,Bm.then(Zm))}function qb(){return Rm(),Bm}function Of(t){or.push(t)}const Wu=new Set;let Xi=0;function Zm(){if(Xi!==0)return;const t=go;do{try{for(;Xi<er.length;){const e=er[Xi];Xi++,fo(e),Vb(e.$$)}}catch(e){throw er.length=0,Xi=0,e}for(fo(null),er.length=0,Xi=0;wi.length;)wi.pop()();for(let e=0;e<or.length;e+=1){const n=or[e];Wu.has(n)||(Wu.add(n),n())}or.length=0}while(er.length);for(;jh.length;)jh.pop()();Nf=!1,Wu.clear(),fo(t)}function Vb(t){if(t.fragment!==null){t.update(),Jn(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Of)}}function Yb(t){const e=[],n=[];or.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),or=e}const Da=new Set;let li;function Te(){li={r:0,c:[],p:li}}function Le(){li.r||Jn(li.c),li=li.p}function ct(t,e){t&&t.i&&(Da.delete(t),t.i(e))}function mt(t,e,n,i){if(t&&t.o){if(Da.has(t))return;Da.add(t),li.c.push(()=>{Da.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Oe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Gb(t,e){t.d(1),e.delete(t.key)}function Xb(t,e){mt(t,1,1,()=>{e.delete(t.key)})}function Fm(t,e,n,i,o,a,u,c,l,h,p,m){let g=t.length,_=a.length,v=g;const b={};for(;v--;)b[t[v].key]=v;const w=[],S=new Map,M=new Map,P=[];for(v=_;v--;){const z=m(o,a,v),D=n(z);let O=u.get(D);O?i&&P.push(()=>O.p(z,e)):(O=h(D,z),O.c()),S.set(D,w[v]=O),D in b&&M.set(D,Math.abs(v-b[D]))}const T=new Set,k=new Set;function E(z){ct(z,1),z.m(c,p),u.set(z.key,z),p=z.first,_--}for(;g&&_;){const z=w[_-1],D=t[g-1],O=z.key,$=D.key;z===D?(p=z.first,g--,_--):S.has($)?!u.has(O)||T.has(O)?E(z):k.has($)?g--:M.get(O)>M.get($)?(k.add(O),E(z)):(T.add($),g--):(l(D,u),g--)}for(;g--;){const z=t[g];S.has(z.key)||l(z,u)}for(;_;)E(w[_-1]);return Jn(P),w}function jb(t,e){const n={},i={},o={$$scope:1};let a=t.length;for(;a--;){const u=t[a],c=e[a];if(c){for(const l in u)l in c||(i[l]=1);for(const l in c)o[l]||(n[l]=c[l],o[l]=1);t[a]=c}else for(const l in u)o[l]=1}for(const u in i)u in n||(n[u]=void 0);return n}function he(t){t&&t.c()}function ae(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Of(()=>{const a=t.$$.on_mount.map(Im).filter(No);t.$$.on_destroy?t.$$.on_destroy.push(...a):Jn(a),t.$$.on_mount=[]}),o.forEach(Of)}function se(t,e){const n=t.$$;n.fragment!==null&&(Yb(n.after_update),Jn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Kb(t,e){t.$$.dirty[0]===-1&&(er.push(t),Rm(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function _n(t,e,n,i,o,a,u=null,c=[-1]){const l=go;fo(t);const h=t.$$={fragment:null,ctx:[],props:a,update:Me,not_equal:o,bound:Vh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Vh(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};u&&u(h.root);let p=!1;if(h.ctx=n?n(t,e.props||{},(m,g,..._)=>{const v=_.length?_[0]:g;return h.ctx&&o(h.ctx[m],h.ctx[m]=v)&&(!h.skip_bound&&h.bound[m]&&h.bound[m](v),p&&Kb(t,m)),g}):[],h.update(),p=!0,Jn(h.before_update),h.fragment=i?i(h.ctx):!1,e.target){if(e.hydrate){const m=Ub(e.target);h.fragment&&h.fragment.l(m),m.forEach(kt)}else h.fragment&&h.fragment.c();e.intro&&ct(t.$$.fragment),ae(t,e.target,e.anchor),Zm()}fo(l)}class yn{constructor(){Vn(this,"$$");Vn(this,"$$set")}$destroy(){se(this,1),this.$destroy=Me}$on(e,n){if(!No(n))return Me;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Db(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Jb="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jb);var Qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var If={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(Qb,function(n){var i="1.9.4";function o(r){var s,f,d,y;for(f=1,d=arguments.length;f<d;f++){y=arguments[f];for(s in y)r[s]=y[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var d=f.call(arguments,2);return function(){return r.apply(s,d.length?d.concat(f.call(arguments)):arguments)}}var c=0;function l(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function h(r,s,f){var d,y,x,C;return C=function(){d=!1,y&&(x.apply(f,y),y=!1)},x=function(){d?y=arguments:(r.apply(f,arguments),setTimeout(C,s),d=!0)},x}function p(r,s,f){var d=s[1],y=s[0],x=d-y;return r===d&&f?r:((r-y)%x+x)%x+y}function m(){return!1}function g(r,s){if(s===!1)return r;var f=Math.pow(10,s===void 0?6:s);return Math.round(r*f)/f}function _(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function v(r){return _(r).split(/\s+/)}function b(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var f in s)r.options[f]=s[f];return r.options}function w(r,s,f){var d=[];for(var y in r)d.push(encodeURIComponent(f?y.toUpperCase():y)+"="+encodeURIComponent(r[y]));return(!s||s.indexOf("?")===-1?"?":"&")+d.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function M(r,s){return r.replace(S,function(f,d){var y=s[d];if(y===void 0)throw new Error("No value provided for variable "+f);return typeof y=="function"&&(y=y(s)),y})}var P=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function T(r,s){for(var f=0;f<r.length;f++)if(r[f]===s)return f;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function D(r){var s=+new Date,f=Math.max(0,16-(s-z));return z=s+f,window.setTimeout(r,f)}var O=window.requestAnimationFrame||E("RequestAnimationFrame")||D,$=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function A(r,s,f){if(f&&O===D)r.call(s);else return O.call(window,u(r,s))}function I(r){r&&$.call(window,r)}var U={__proto__:null,extend:o,create:a,bind:u,get lastId(){return c},stamp:l,throttle:h,wrapNum:p,falseFn:m,formatNum:g,trim:_,splitWords:v,setOptions:b,getParamString:w,template:M,isArray:P,indexOf:T,emptyImageUrl:k,requestFn:O,cancelFn:$,requestAnimFrame:A,cancelAnimFrame:I};function H(){}H.extend=function(r){var s=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,d=a(f);d.constructor=s,s.prototype=d;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(s[y]=this[y]);return r.statics&&o(s,r.statics),r.includes&&(B(r.includes),o.apply(null,[d].concat(r.includes))),o(d,r),delete d.statics,delete d.includes,d.options&&(d.options=f.options?a(f.options):{},o(d.options,r.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,C=d._initHooks.length;x<C;x++)d._initHooks[x].call(this)}},s},H.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},H.mergeOptions=function(r){return o(this.prototype.options,r),this},H.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function B(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=P(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var V={on:function(r,s,f){if(typeof r=="object")for(var d in r)this._on(d,r[d],s);else{r=v(r);for(var y=0,x=r.length;y<x;y++)this._on(r[y],s,f)}return this},off:function(r,s,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var d in r)this._off(d,r[d],s);else{r=v(r);for(var y=arguments.length===1,x=0,C=r.length;x<C;x++)y?this._off(r[x]):this._off(r[x],s,f)}return this},_on:function(r,s,f,d){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,f)===!1){f===this&&(f=void 0);var y={fn:s,ctx:f};d&&(y.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(y)}},_off:function(r,s,f){var d,y,x;if(this._events&&(d=this._events[r],!!d)){if(arguments.length===1){if(this._firingCount)for(y=0,x=d.length;y<x;y++)d[y].fn=m;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var C=this._listens(r,s,f);if(C!==!1){var N=d[C];this._firingCount&&(N.fn=m,this._events[r]=d=d.slice()),d.splice(C,1)}}},fire:function(r,s,f){if(!this.listens(r,f))return this;var d=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var y=this._events[r];if(y){this._firingCount=this._firingCount+1||1;for(var x=0,C=y.length;x<C;x++){var N=y[x],R=N.fn;N.once&&this.off(r,R,N.ctx),R.call(N.ctx||this,d)}this._firingCount--}}return f&&this._propagateEvent(d),this},listens:function(r,s,f,d){typeof r!="string"&&console.warn('"string" type argument expected');var y=s;typeof s!="function"&&(d=!!s,y=void 0,f=void 0);var x=this._events&&this._events[r];if(x&&x.length&&this._listens(r,y,f)!==!1)return!0;if(d){for(var C in this._eventParents)if(this._eventParents[C].listens(r,s,f,d))return!0}return!1},_listens:function(r,s,f){if(!this._events)return!1;var d=this._events[r]||[];if(!s)return!!d.length;f===this&&(f=void 0);for(var y=0,x=d.length;y<x;y++)if(d[y].fn===s&&d[y].ctx===f)return y;return!1},once:function(r,s,f){if(typeof r=="object")for(var d in r)this._on(d,r[d],s,!0);else{r=v(r);for(var y=0,x=r.length;y<x;y++)this._on(r[y],s,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[l(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[l(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};V.addEventListener=V.on,V.removeEventListener=V.clearAllEventListeners=V.off,V.addOneTimeEventListener=V.once,V.fireEvent=V.fire,V.hasEventListeners=V.listens;var Q=H.extend(V);function Y(r,s,f){this.x=f?Math.round(r):r,this.y=f?Math.round(s):s}var et=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};Y.prototype={clone:function(){return new Y(this.x,this.y)},add:function(r){return this.clone()._add(Z(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(Z(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new Y(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new Y(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=et(this.x),this.y=et(this.y),this},distanceTo:function(r){r=Z(r);var s=r.x-this.x,f=r.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(r){return r=Z(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=Z(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Z(r,s,f){return r instanceof Y?r:P(r)?new Y(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new Y(r.x,r.y):new Y(r,s,f)}function W(r,s){if(r)for(var f=s?[r,s]:r,d=0,y=f.length;d<y;d++)this.extend(f[d])}W.prototype={extend:function(r){var s,f;if(!r)return this;if(r instanceof Y||typeof r[0]=="number"||"x"in r)s=f=Z(r);else if(r=X(r),s=r.min,f=r.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,f;return typeof r[0]=="number"||r instanceof Y?r=Z(r):r=X(r),r instanceof W?(s=r.min,f=r.max):s=f=r,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=X(r);var s=this.min,f=this.max,d=r.min,y=r.max,x=y.x>=s.x&&d.x<=f.x,C=y.y>=s.y&&d.y<=f.y;return x&&C},overlaps:function(r){r=X(r);var s=this.min,f=this.max,d=r.min,y=r.max,x=y.x>s.x&&d.x<f.x,C=y.y>s.y&&d.y<f.y;return x&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,f=this.max,d=Math.abs(s.x-f.x)*r,y=Math.abs(s.y-f.y)*r;return X(Z(s.x-d,s.y-y),Z(f.x+d,f.y+y))},equals:function(r){return r?(r=X(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function X(r,s){return!r||r instanceof W?r:new W(r,s)}function K(r,s){if(r)for(var f=s?[r,s]:r,d=0,y=f.length;d<y;d++)this.extend(f[d])}K.prototype={extend:function(r){var s=this._southWest,f=this._northEast,d,y;if(r instanceof nt)d=r,y=r;else if(r instanceof K){if(d=r._southWest,y=r._northEast,!d||!y)return this}else return r?this.extend(J(r)||st(r)):this;return!s&&!f?(this._southWest=new nt(d.lat,d.lng),this._northEast=new nt(y.lat,y.lng)):(s.lat=Math.min(d.lat,s.lat),s.lng=Math.min(d.lng,s.lng),f.lat=Math.max(y.lat,f.lat),f.lng=Math.max(y.lng,f.lng)),this},pad:function(r){var s=this._southWest,f=this._northEast,d=Math.abs(s.lat-f.lat)*r,y=Math.abs(s.lng-f.lng)*r;return new K(new nt(s.lat-d,s.lng-y),new nt(f.lat+d,f.lng+y))},getCenter:function(){return new nt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new nt(this.getNorth(),this.getWest())},getSouthEast:function(){return new nt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof nt||"lat"in r?r=J(r):r=st(r);var s=this._southWest,f=this._northEast,d,y;return r instanceof K?(d=r.getSouthWest(),y=r.getNorthEast()):d=y=r,d.lat>=s.lat&&y.lat<=f.lat&&d.lng>=s.lng&&y.lng<=f.lng},intersects:function(r){r=st(r);var s=this._southWest,f=this._northEast,d=r.getSouthWest(),y=r.getNorthEast(),x=y.lat>=s.lat&&d.lat<=f.lat,C=y.lng>=s.lng&&d.lng<=f.lng;return x&&C},overlaps:function(r){r=st(r);var s=this._southWest,f=this._northEast,d=r.getSouthWest(),y=r.getNorthEast(),x=y.lat>s.lat&&d.lat<f.lat,C=y.lng>s.lng&&d.lng<f.lng;return x&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=st(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function st(r,s){return r instanceof K?r:new K(r,s)}function nt(r,s,f){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,f!==void 0&&(this.alt=+f)}nt.prototype={equals:function(r,s){if(!r)return!1;r=J(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+g(this.lat,r)+", "+g(this.lng,r)+")"},distanceTo:function(r){return ut.distance(this,J(r))},wrap:function(){return ut.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,f=s/Math.cos(Math.PI/180*this.lat);return st([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new nt(this.lat,this.lng,this.alt)}};function J(r,s,f){return r instanceof nt?r:P(r)&&typeof r[0]!="object"?r.length===3?new nt(r[0],r[1],r[2]):r.length===2?new nt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new nt(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new nt(r,s,f)}var j={latLngToPoint:function(r,s){var f=this.projection.project(r),d=this.scale(s);return this.transformation._transform(f,d)},pointToLatLng:function(r,s){var f=this.scale(s),d=this.transformation.untransform(r,f);return this.projection.unproject(d)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(r),d=this.transformation.transform(s.min,f),y=this.transformation.transform(s.max,f);return new W(d,y)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?p(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?p(r.lat,this.wrapLat,!0):r.lat,d=r.alt;return new nt(f,s,d)},wrapLatLngBounds:function(r){var s=r.getCenter(),f=this.wrapLatLng(s),d=s.lat-f.lat,y=s.lng-f.lng;if(d===0&&y===0)return r;var x=r.getSouthWest(),C=r.getNorthEast(),N=new nt(x.lat-d,x.lng-y),R=new nt(C.lat-d,C.lng-y);return new K(N,R)}},ut=o({},j,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var f=Math.PI/180,d=r.lat*f,y=s.lat*f,x=Math.sin((s.lat-r.lat)*f/2),C=Math.sin((s.lng-r.lng)*f/2),N=x*x+Math.cos(d)*Math.cos(y)*C*C,R=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*R}}),q=6378137,tt={R:q,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,f=this.MAX_LATITUDE,d=Math.max(Math.min(f,r.lat),-f),y=Math.sin(d*s);return new Y(this.R*r.lng*s,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var s=180/Math.PI;return new nt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=q*Math.PI;return new W([-r,-r],[r,r])}()};function ot(r,s,f,d){if(P(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=f,this._d=d}ot.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new Y((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function F(r,s,f,d){return new ot(r,s,f,d)}var yt=o({},ut,{code:"EPSG:3857",projection:tt,transformation:function(){var r=.5/(Math.PI*tt.R);return F(r,.5,-r,.5)}()}),dt=o({},yt,{code:"EPSG:900913"});function Ct(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function At(r,s){var f="",d,y,x,C,N,R;for(d=0,x=r.length;d<x;d++){for(N=r[d],y=0,C=N.length;y<C;y++)R=N[y],f+=(y?"L":"M")+R.x+" "+R.y;f+=s?lt.svg?"z":"x":""}return f||"M0 0"}var ft=document.documentElement.style,Nt="ActiveXObject"in window,rn=Nt&&!document.addEventListener,ve="msLaunchUri"in navigator&&!("documentMode"in document),zr=on("webkit"),Zl=on("android"),Fl=on("android 2")||on("android 3"),dv=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),pv=Zl&&on("Google")&&dv<537&&!("AudioNode"in window),mu=!!window.opera,Ul=!ve&&on("chrome"),Hl=on("gecko")&&!zr&&!mu&&!Nt,mv=!Ul&&on("safari"),Wl=on("phantom"),ql="OTransition"in ft,gv=navigator.platform.indexOf("Win")===0,Vl=Nt&&"transition"in ft,gu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Fl,Yl="MozPerspective"in ft,_v=!window.L_DISABLE_3D&&(Vl||gu||Yl)&&!ql&&!Wl,Nr=typeof orientation<"u"||on("mobile"),yv=Nr&&zr,vv=Nr&&gu,Gl=!window.PointerEvent&&window.MSPointerEvent,Xl=!!(window.PointerEvent||Gl),jl="ontouchstart"in window||!!window.TouchEvent,bv=!window.L_NO_TOUCH&&(jl||Xl),wv=Nr&&mu,xv=Nr&&Hl,Mv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tv=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",m,s),window.removeEventListener("testPassiveEventSupport",m,s)}catch{}return r}(),Lv=function(){return!!document.createElement("canvas").getContext}(),_u=!!(document.createElementNS&&Ct("svg").createSVGRect),Sv=!!_u&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Pv=!_u&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),kv=navigator.platform.indexOf("Mac")===0,Cv=navigator.platform.indexOf("Linux")===0;function on(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var lt={ie:Nt,ielt9:rn,edge:ve,webkit:zr,android:Zl,android23:Fl,androidStock:pv,opera:mu,chrome:Ul,gecko:Hl,safari:mv,phantom:Wl,opera12:ql,win:gv,ie3d:Vl,webkit3d:gu,gecko3d:Yl,any3d:_v,mobile:Nr,mobileWebkit:yv,mobileWebkit3d:vv,msPointer:Gl,pointer:Xl,touch:bv,touchNative:jl,mobileOpera:wv,mobileGecko:xv,retina:Mv,passiveEvents:Tv,canvas:Lv,svg:_u,vml:Pv,inlineSvg:Sv,mac:kv,linux:Cv},Kl=lt.msPointer?"MSPointerDown":"pointerdown",Jl=lt.msPointer?"MSPointerMove":"pointermove",Ql=lt.msPointer?"MSPointerUp":"pointerup",th=lt.msPointer?"MSPointerCancel":"pointercancel",yu={touchstart:Kl,touchmove:Jl,touchend:Ql,touchcancel:th},eh={touchstart:Ov,touchmove:ea,touchend:ea,touchcancel:ea},Zi={},nh=!1;function Av(r,s,f){return s==="touchstart"&&Nv(),eh[s]?(f=eh[s].bind(this,f),r.addEventListener(yu[s],f,!1),f):(console.warn("wrong event specified:",s),m)}function Ev(r,s,f){if(!yu[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(yu[s],f,!1)}function $v(r){Zi[r.pointerId]=r}function zv(r){Zi[r.pointerId]&&(Zi[r.pointerId]=r)}function ih(r){delete Zi[r.pointerId]}function Nv(){nh||(document.addEventListener(Kl,$v,!0),document.addEventListener(Jl,zv,!0),document.addEventListener(Ql,ih,!0),document.addEventListener(th,ih,!0),nh=!0)}function ea(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in Zi)s.touches.push(Zi[f]);s.changedTouches=[s],r(s)}}function Ov(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ee(s),ea(r,s)}function Iv(r){var s={},f,d;for(d in r)f=r[d],s[d]=f&&f.bind?f.bind(r):f;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Dv=200;function Bv(r,s){r.addEventListener("dblclick",s);var f=0,d;function y(x){if(x.detail!==1){d=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var C=uh(x);if(!(C.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!C.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var N=Date.now();N-f<=Dv?(d++,d===2&&s(Iv(x))):d=1,f=N}}}return r.addEventListener("click",y),{dblclick:s,simDblclick:y}}function Rv(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var vu=ra(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Or=ra(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rh=Or==="webkitTransition"||Or==="OTransition"?Or+"End":"transitionend";function oh(r){return typeof r=="string"?document.getElementById(r):r}function Ir(r,s){var f=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(r,null);f=d?d[s]:null}return f==="auto"?null:f}function Et(r,s,f){var d=document.createElement(r);return d.className=s||"",f&&f.appendChild(d),d}function Bt(r){var s=r.parentNode;s&&s.removeChild(r)}function na(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Fi(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function Ui(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function bu(r,s){if(r.classList!==void 0)return r.classList.contains(s);var f=ia(r);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function xt(r,s){if(r.classList!==void 0)for(var f=v(s),d=0,y=f.length;d<y;d++)r.classList.add(f[d]);else if(!bu(r,s)){var x=ia(r);wu(r,(x?x+" ":"")+s)}}function Wt(r,s){r.classList!==void 0?r.classList.remove(s):wu(r,_((" "+ia(r)+" ").replace(" "+s+" "," ")))}function wu(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function ia(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ce(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&Zv(r,s)}function Zv(r,s){var f=!1,d="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(d)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):r.style.filter+=" progid:"+d+"(opacity="+s+")"}function ra(r){for(var s=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in s)return r[f];return!1}function ri(r,s,f){var d=s||new Y(0,0);r.style[vu]=(lt.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(f?" scale("+f+")":"")}function qt(r,s){r._leaflet_pos=s,lt.any3d?ri(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function oi(r){return r._leaflet_pos||new Y(0,0)}var Dr,Br,xu;if("onselectstart"in document)Dr=function(){gt(window,"selectstart",ee)},Br=function(){Dt(window,"selectstart",ee)};else{var Rr=ra(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dr=function(){if(Rr){var r=document.documentElement.style;xu=r[Rr],r[Rr]="none"}},Br=function(){Rr&&(document.documentElement.style[Rr]=xu,xu=void 0)}}function Mu(){gt(window,"dragstart",ee)}function Tu(){Dt(window,"dragstart",ee)}var oa,Lu;function Su(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(aa(),oa=r,Lu=r.style.outlineStyle,r.style.outlineStyle="none",gt(window,"keydown",aa))}function aa(){oa&&(oa.style.outlineStyle=Lu,oa=void 0,Lu=void 0,Dt(window,"keydown",aa))}function ah(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Pu(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Fv={__proto__:null,TRANSFORM:vu,TRANSITION:Or,TRANSITION_END:rh,get:oh,getStyle:Ir,create:Et,remove:Bt,empty:na,toFront:Fi,toBack:Ui,hasClass:bu,addClass:xt,removeClass:Wt,setClass:wu,getClass:ia,setOpacity:Ce,testProp:ra,setTransform:ri,setPosition:qt,getPosition:oi,get disableTextSelection(){return Dr},get enableTextSelection(){return Br},disableImageDrag:Mu,enableImageDrag:Tu,preventOutline:Su,restoreOutline:aa,getSizedParentNode:ah,getScale:Pu};function gt(r,s,f,d){if(s&&typeof s=="object")for(var y in s)Cu(r,y,s[y],f);else{s=v(s);for(var x=0,C=s.length;x<C;x++)Cu(r,s[x],f,d)}return this}var an="_leaflet_events";function Dt(r,s,f,d){if(arguments.length===1)sh(r),delete r[an];else if(s&&typeof s=="object")for(var y in s)Au(r,y,s[y],f);else if(s=v(s),arguments.length===2)sh(r,function(N){return T(s,N)!==-1});else for(var x=0,C=s.length;x<C;x++)Au(r,s[x],f,d);return this}function sh(r,s){for(var f in r[an]){var d=f.split(/\d/)[0];(!s||s(d))&&Au(r,d,null,null,f)}}var ku={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Cu(r,s,f,d){var y=s+l(f)+(d?"_"+l(d):"");if(r[an]&&r[an][y])return this;var x=function(N){return f.call(d||r,N||window.event)},C=x;!lt.touchNative&&lt.pointer&&s.indexOf("touch")===0?x=Av(r,s,x):lt.touch&&s==="dblclick"?x=Bv(r,x):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(ku[s]||s,x,lt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(x=function(N){N=N||window.event,$u(r,N)&&C(N)},r.addEventListener(ku[s],x,!1)):r.addEventListener(s,C,!1):r.attachEvent("on"+s,x),r[an]=r[an]||{},r[an][y]=x}function Au(r,s,f,d,y){y=y||s+l(f)+(d?"_"+l(d):"");var x=r[an]&&r[an][y];if(!x)return this;!lt.touchNative&&lt.pointer&&s.indexOf("touch")===0?Ev(r,s,x):lt.touch&&s==="dblclick"?Rv(r,x):"removeEventListener"in r?r.removeEventListener(ku[s]||s,x,!1):r.detachEvent("on"+s,x),r[an][y]=null}function ai(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Eu(r){return Cu(r,"wheel",ai),this}function Zr(r){return gt(r,"mousedown touchstart dblclick contextmenu",ai),r._leaflet_disable_click=!0,this}function ee(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function si(r){return ee(r),ai(r),this}function uh(r){if(r.composedPath)return r.composedPath();for(var s=[],f=r.target;f;)s.push(f),f=f.parentNode;return s}function fh(r,s){if(!s)return new Y(r.clientX,r.clientY);var f=Pu(s),d=f.boundingClientRect;return new Y((r.clientX-d.left)/f.x-s.clientLeft,(r.clientY-d.top)/f.y-s.clientTop)}var Uv=lt.linux&&lt.chrome?window.devicePixelRatio:lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ch(r){return lt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Uv:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function $u(r,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Hv={__proto__:null,on:gt,off:Dt,stopPropagation:ai,disableScrollPropagation:Eu,disableClickPropagation:Zr,preventDefault:ee,stop:si,getPropagationPath:uh,getMousePosition:fh,getWheelDelta:ch,isExternalTarget:$u,addListener:gt,removeListener:Dt},lh=Q.extend({run:function(r,s,f,d){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=oi(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=A(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var f=this._startPos.add(this._offset.multiplyBy(r));s&&f._round(),qt(this._el,f),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Pt=Q.extend({options:{crs:yt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=b(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(J(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Or&&lt.any3d&&!lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,rh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(J(r),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=o({animate:f.animate},f.zoom),f.pan=o({animate:f.animate,duration:f.duration},f.pan));var d=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,f.zoom):this._tryAnimatedPan(r,f.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,f){var d=this.getZoomScale(s),y=this.getSize().divideBy(2),x=r instanceof Y?r:this.latLngToContainerPoint(r),C=x.subtract(y).multiplyBy(1-1/d),N=this.containerPointToLatLng(y.add(C));return this.setView(N,s,{zoom:f})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():st(r);var f=Z(s.paddingTopLeft||s.padding||[0,0]),d=Z(s.paddingBottomRight||s.padding||[0,0]),y=this.getBoundsZoom(r,!1,f.add(d));if(y=typeof s.maxZoom=="number"?Math.min(s.maxZoom,y):y,y===1/0)return{center:r.getCenter(),zoom:y};var x=d.subtract(f).divideBy(2),C=this.project(r.getSouthWest(),y),N=this.project(r.getNorthEast(),y),R=this.unproject(C.add(N).divideBy(2).add(x),y);return{center:R,zoom:y}},fitBounds:function(r,s){if(r=st(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=Z(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,f){if(f=f||{},f.animate===!1||!lt.any3d)return this.setView(r,s,f);this._stop();var d=this.project(this.getCenter()),y=this.project(r),x=this.getSize(),C=this._zoom;r=J(r),s=s===void 0?C:s;var N=Math.max(x.x,x.y),R=N*this.getZoomScale(C,s),G=y.distanceTo(d)||1,rt=1.42,pt=rt*rt;function Tt(Vt){var ya=Vt?-1:1,Eb=Vt?R:N,$b=R*R-N*N+ya*pt*pt*G*G,zb=2*Eb*pt*G,Hu=$b/zb,qh=Math.sqrt(Hu*Hu+1)-Hu,Nb=qh<1e-9?-18:Math.log(qh);return Nb}function fe(Vt){return(Math.exp(Vt)-Math.exp(-Vt))/2}function Xt(Vt){return(Math.exp(Vt)+Math.exp(-Vt))/2}function Ee(Vt){return fe(Vt)/Xt(Vt)}var de=Tt(0);function Gi(Vt){return N*(Xt(de)/Xt(de+rt*Vt))}function Pb(Vt){return N*(Xt(de)*Ee(de+rt*Vt)-fe(de))/pt}function kb(Vt){return 1-Math.pow(1-Vt,1.5)}var Cb=Date.now(),Hh=(Tt(1)-de)/rt,Ab=f.duration?1e3*f.duration:1e3*Hh*.8;function Wh(){var Vt=(Date.now()-Cb)/Ab,ya=kb(Vt)*Hh;Vt<=1?(this._flyToFrame=A(Wh,this),this._move(this.unproject(d.add(y.subtract(d).multiplyBy(Pb(ya)/G)),C),this.getScaleZoom(N/Gi(ya),C),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Wh.call(this),this},flyToBounds:function(r,s){var f=this._getBoundsCenterZoom(r,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(r){return r=st(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var f=this.getCenter(),d=this._limitCenter(f,this._zoom,st(r));return f.equals(d)||this.panTo(d,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var f=Z(s.paddingTopLeft||s.padding||[0,0]),d=Z(s.paddingBottomRight||s.padding||[0,0]),y=this.project(this.getCenter()),x=this.project(r),C=this.getPixelBounds(),N=X([C.min.add(f),C.max.subtract(d)]),R=N.getSize();if(!N.contains(x)){this._enforcingBounds=!0;var G=x.subtract(N.getCenter()),rt=N.extend(x).getSize().subtract(R);y.x+=G.x<0?-rt.x:rt.x,y.y+=G.y<0?-rt.y:rt.y,this.panTo(this.unproject(y),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),d=s.divideBy(2).round(),y=f.divideBy(2).round(),x=d.subtract(y);return!x.x&&!x.y?this:(r.animate&&r.pan?this.panBy(x):(r.pan&&this._rawPanBy(x),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),f=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,r):navigator.geolocation.getCurrentPosition(s,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,f=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,f=r.coords.longitude,d=new nt(s,f),y=d.toBounds(r.coords.accuracy*2),x=this._locateOptions;if(x.setView){var C=this.getBoundsZoom(y);this.setView(d,x.maxZoom?Math.min(C,x.maxZoom):C)}var N={latlng:d,bounds:y,timestamp:r.timestamp};for(var R in r.coords)typeof r.coords[R]=="number"&&(N[R]=r.coords[R]);this.fire("locationfound",N)}},addHandler:function(r,s){if(!s)return this;var f=this[r]=new s(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Bt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Bt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),d=Et("div",f,s||this._mapPane);return r&&(this._panes[r]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new K(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,f){r=st(r),f=Z(f||[0,0]);var d=this.getZoom()||0,y=this.getMinZoom(),x=this.getMaxZoom(),C=r.getNorthWest(),N=r.getSouthEast(),R=this.getSize().subtract(f),G=X(this.project(N,d),this.project(C,d)).getSize(),rt=lt.any3d?this.options.zoomSnap:1,pt=R.x/G.x,Tt=R.y/G.y,fe=s?Math.max(pt,Tt):Math.min(pt,Tt);return d=this.getScaleZoom(fe,d),rt&&(d=Math.round(d/(rt/100))*(rt/100),d=s?Math.ceil(d/rt)*rt:Math.floor(d/rt)*rt),Math.max(y,Math.min(x,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Y(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var f=this._getTopLeftPoint(r,s);return new W(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(r)/f.scale(s)},getScaleZoom:function(r,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var d=f.zoom(r*f.scale(s));return isNaN(d)?1/0:d},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(J(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Z(r),s)},layerPointToLatLng:function(r){var s=Z(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(J(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(J(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(st(r))},distance:function(r,s){return this.options.crs.distance(J(r),J(s))},containerPointToLayerPoint:function(r){return Z(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return Z(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(Z(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(r)))},mouseEventToContainerPoint:function(r){return fh(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=oh(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gt(s,"scroll",this._onScroll,this),this._containerId=l(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&lt.any3d,xt(r,"leaflet-container"+(lt.touch?" leaflet-touch":"")+(lt.retina?" leaflet-retina":"")+(lt.ielt9?" leaflet-oldie":"")+(lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ir(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new Y(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(r.markerPane,"leaflet-zoom-hide"),xt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,f){qt(this._mapPane,new Y(0,0));var d=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var y=this._zoom!==s;this._moveStart(y,f)._move(r,s)._moveEnd(y),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,f,d){s===void 0&&(s=this._zoom);var y=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),d?f&&f.pinch&&this.fire("zoom",f):((y||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){qt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[l(this._container)]=this;var s=r?Dt:gt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),lt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=A(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var f=[],d,y=s==="mouseout"||s==="mouseover",x=r.target||r.srcElement,C=!1;x;){if(d=this._targets[l(x)],d&&(s==="click"||s==="preclick")&&this._draggableMoved(d)){C=!0;break}if(d&&d.listens(s,!0)&&(y&&!$u(x,r)||(f.push(d),y))||x===this._container)break;x=x.parentNode}return!f.length&&!C&&!y&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var f=r.type;f==="mousedown"&&Su(s),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,f){if(r.type==="click"){var d=o({},r);d.type="preclick",this._fireDOMEvent(d,d.type,f)}var y=this._findEventTargets(r,s);if(f){for(var x=[],C=0;C<f.length;C++)f[C].listens(s,!0)&&x.push(f[C]);y=x.concat(y)}if(y.length){s==="contextmenu"&&ee(r);var N=y[0],R={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var G=N.getLatLng&&(!N._radius||N._radius<=10);R.containerPoint=G?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(r),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=G?N.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(C=0;C<y.length;C++)if(y[C].fire(s,R,!0),R.originalEvent._stopped||y[C].options.bubblingMouseEvents===!1&&T(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return oi(this._mapPane)||new Y(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var f=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var f=this.getSize()._divideBy(2);return this.project(r,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,f){var d=this._getNewPixelOrigin(f,s);return this.project(r,s)._subtract(d)},_latLngBoundsToNewLayerBounds:function(r,s,f){var d=this._getNewPixelOrigin(f,s);return X([this.project(r.getSouthWest(),s)._subtract(d),this.project(r.getNorthWest(),s)._subtract(d),this.project(r.getSouthEast(),s)._subtract(d),this.project(r.getNorthEast(),s)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,f){if(!f)return r;var d=this.project(r,s),y=this.getSize().divideBy(2),x=new W(d.subtract(y),d.add(y)),C=this._getBoundsOffset(x,f,s);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?r:this.unproject(d.add(C),s)},_limitOffset:function(r,s){if(!s)return r;var f=this.getPixelBounds(),d=new W(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(d,s))},_getBoundsOffset:function(r,s,f){var d=X(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),y=d.min.subtract(r.min),x=d.max.subtract(r.max),C=this._rebound(y.x,-x.x),N=this._rebound(y.y,-x.y);return new Y(C,N)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),f=this.getMaxZoom(),d=lt.any3d?this.options.zoomSnap:1;return d&&(r=Math.round(r/d)*d),Math.max(s,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var f=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var r=this._proxy=Et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var f=vu,d=this._proxy.style[f];ri(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),d===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Bt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();ri(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(s),y=this._getCenterOffset(r)._divideBy(1-1/d);return f.animate!==!0&&!this.getSize().contains(y)?!1:(A(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,f,d){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Wv(r,s){return new Pt(r,s)}var He=H.extend({options:{position:"topright"},initialize:function(r){b(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),f=this.getPosition(),d=r._controlCorners[f];return xt(s,"leaflet-control"),f.indexOf("bottom")!==-1?d.insertBefore(s,d.firstChild):d.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Bt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Fr=function(r){return new He(r)};Pt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",f=this._controlContainer=Et("div",s+"control-container",this._container);function d(y,x){var C=s+y+" "+s+x;r[y+x]=Et("div",C,f)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Bt(this._controlCorners[r]);Bt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var hh=He.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,f,d){return f<d?-1:d<f?1:0}},initialize:function(r,s,f){b(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in r)this._addLayer(r[d],d);for(d in s)this._addLayer(s[d],d,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return He.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(l(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=Et("div",r),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Zr(s),Eu(s);var d=this._section=Et("section",r+"-list");f&&(this._map.on("click",this.collapse,this),gt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Et("a",r+"-toggle",s);y.href="#",y.title="Layers",y.setAttribute("role","button"),gt(y,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){ee(x),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=Et("div",r+"-base",d),this._separator=Et("div",r+"-separator",d),this._overlaysList=Et("div",r+"-overlays",d),s.appendChild(d)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&l(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(u(function(d,y){return this.options.sortFunction(d.layer,y.layer,d.name,y.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;na(this._baseLayersList),na(this._overlaysList),this._layerControlInputs=[];var r,s,f,d,y=0;for(f=0;f<this._layers.length;f++)d=this._layers[f],this._addItem(d),s=s||d.overlay,r=r||!d.overlay,y+=d.overlay?0:1;return this.options.hideSingleBase&&(r=r&&y>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(l(r.target)),f=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(r,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=f,d.firstChild},_addItem:function(r){var s=document.createElement("label"),f=this._map.hasLayer(r.layer),d;r.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=f):d=this._createRadioElement("leaflet-base-layers_"+l(this),f),this._layerControlInputs.push(d),d.layerId=l(r.layer),gt(d,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+r.name;var x=document.createElement("span");s.appendChild(x),x.appendChild(d),x.appendChild(y);var C=r.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,f,d=[],y=[];this._handlingClick=!0;for(var x=r.length-1;x>=0;x--)s=r[x],f=this._getLayer(s.layerId).layer,s.checked?d.push(f):s.checked||y.push(f);for(x=0;x<y.length;x++)this._map.hasLayer(y[x])&&this._map.removeLayer(y[x]);for(x=0;x<d.length;x++)this._map.hasLayer(d[x])||this._map.addLayer(d[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,f,d=this._map.getZoom(),y=r.length-1;y>=0;y--)s=r[y],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&d<f.options.minZoom||f.options.maxZoom!==void 0&&d>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,gt(r,"click",ee),this.expand();var s=this;setTimeout(function(){Dt(r,"click",ee),s._preventClick=!1})}}),qv=function(r,s,f){return new hh(r,s,f)},zu=He.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",f=Et("div",s+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,f,d,y){var x=Et("a",f,d);return x.innerHTML=r,x.href="#",x.title=s,x.setAttribute("role","button"),x.setAttribute("aria-label",s),Zr(x),gt(x,"click",si),gt(x,"click",y,this),gt(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Wt(this._zoomInButton,s),Wt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(xt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(xt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pt.mergeOptions({zoomControl:!0}),Pt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zu,this.addControl(this.zoomControl))});var Vv=function(r){return new zu(r)},dh=He.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",f=Et("div",s),d=this.options;return this._addScales(d,s+"-line",f),r.on(d.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,f){r.metric&&(this._mScale=Et("div",s,f)),r.imperial&&(this._iScale=Et("div",s,f))},_update:function(){var r=this._map,s=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/r)},_updateImperial:function(r){var s=r*3.2808399,f,d,y;s>5280?(f=s/5280,d=this._getRoundNum(f),this._updateScale(this._iScale,d+" mi",d/f)):(y=this._getRoundNum(s),this._updateScale(this._iScale,y+" ft",y/s))},_updateScale:function(r,s,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),f=r/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),Yv=function(r){return new dh(r)},Gv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nu=He.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(lt.inlineSvg?Gv+" ":"")+"Leaflet</a>"},initialize:function(r){b(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Et("div","leaflet-control-attribution"),Zr(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Pt.mergeOptions({attributionControl:!0}),Pt.addInitHook(function(){this.options.attributionControl&&new Nu().addTo(this)});var Xv=function(r){return new Nu(r)};He.Layers=hh,He.Zoom=zu,He.Scale=dh,He.Attribution=Nu,Fr.layers=qv,Fr.zoom=Vv,Fr.scale=Yv,Fr.attribution=Xv;var sn=H.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});sn.addTo=function(r,s){return r.addHandler(s,this),this};var jv={Events:V},ph=lt.touch?"touchstart mousedown":"mousedown",Wn=Q.extend({options:{clickTolerance:3},initialize:function(r,s,f,d){b(this,d),this._element=r,this._dragStartTarget=s||r,this._preventOutline=f},enable:function(){this._enabled||(gt(this._dragStartTarget,ph,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wn._dragging===this&&this.finishDrag(!0),Dt(this._dragStartTarget,ph,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!bu(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Wn._dragging===this&&this.finishDrag();return}if(!(Wn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Wn._dragging=this,this._preventOutline&&Su(this._element),Mu(),Dr(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,f=ah(this._element);this._startPoint=new Y(s.clientX,s.clientY),this._startPos=oi(this._element),this._parentScale=Pu(f);var d=r.type==="mousedown";gt(document,d?"mousemove":"touchmove",this._onMove,this),gt(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,f=new Y(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,ee(r),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),qt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dt(document,"mousemove touchmove",this._onMove,this),Dt(document,"mouseup touchend touchcancel",this._onUp,this),Tu(),Br();var s=this._moved&&this._moving;this._moving=!1,Wn._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function mh(r,s,f){var d,y=[1,4,2,8],x,C,N,R,G,rt,pt,Tt;for(x=0,rt=r.length;x<rt;x++)r[x]._code=ui(r[x],s);for(N=0;N<4;N++){for(pt=y[N],d=[],x=0,rt=r.length,C=rt-1;x<rt;C=x++)R=r[x],G=r[C],R._code&pt?G._code&pt||(Tt=sa(G,R,pt,s,f),Tt._code=ui(Tt,s),d.push(Tt)):(G._code&pt&&(Tt=sa(G,R,pt,s,f),Tt._code=ui(Tt,s),d.push(Tt)),d.push(R));r=d}return r}function gh(r,s){var f,d,y,x,C,N,R,G,rt;if(!r||r.length===0)throw new Error("latlngs not passed");Ae(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var pt=J([0,0]),Tt=st(r),fe=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());fe<1700&&(pt=Ou(r));var Xt=r.length,Ee=[];for(f=0;f<Xt;f++){var de=J(r[f]);Ee.push(s.project(J([de.lat-pt.lat,de.lng-pt.lng])))}for(N=R=G=0,f=0,d=Xt-1;f<Xt;d=f++)y=Ee[f],x=Ee[d],C=y.y*x.x-x.y*y.x,R+=(y.x+x.x)*C,G+=(y.y+x.y)*C,N+=C*3;N===0?rt=Ee[0]:rt=[R/N,G/N];var Gi=s.unproject(Z(rt));return J([Gi.lat+pt.lat,Gi.lng+pt.lng])}function Ou(r){for(var s=0,f=0,d=0,y=0;y<r.length;y++){var x=J(r[y]);s+=x.lat,f+=x.lng,d++}return J([s/d,f/d])}var Kv={__proto__:null,clipPolygon:mh,polygonCenter:gh,centroid:Ou};function _h(r,s){if(!s||!r.length)return r.slice();var f=s*s;return r=tb(r,f),r=Qv(r,f),r}function yh(r,s,f){return Math.sqrt(Ur(r,s,f,!0))}function Jv(r,s,f){return Ur(r,s,f)}function Qv(r,s){var f=r.length,d=typeof Uint8Array!=void 0+""?Uint8Array:Array,y=new d(f);y[0]=y[f-1]=1,Iu(r,y,s,0,f-1);var x,C=[];for(x=0;x<f;x++)y[x]&&C.push(r[x]);return C}function Iu(r,s,f,d,y){var x=0,C,N,R;for(N=d+1;N<=y-1;N++)R=Ur(r[N],r[d],r[y],!0),R>x&&(C=N,x=R);x>f&&(s[C]=1,Iu(r,s,f,d,C),Iu(r,s,f,C,y))}function tb(r,s){for(var f=[r[0]],d=1,y=0,x=r.length;d<x;d++)eb(r[d],r[y])>s&&(f.push(r[d]),y=d);return y<x-1&&f.push(r[x-1]),f}var vh;function bh(r,s,f,d,y){var x=d?vh:ui(r,f),C=ui(s,f),N,R,G;for(vh=C;;){if(!(x|C))return[r,s];if(x&C)return!1;N=x||C,R=sa(r,s,N,f,y),G=ui(R,f),N===x?(r=R,x=G):(s=R,C=G)}}function sa(r,s,f,d,y){var x=s.x-r.x,C=s.y-r.y,N=d.min,R=d.max,G,rt;return f&8?(G=r.x+x*(R.y-r.y)/C,rt=R.y):f&4?(G=r.x+x*(N.y-r.y)/C,rt=N.y):f&2?(G=R.x,rt=r.y+C*(R.x-r.x)/x):f&1&&(G=N.x,rt=r.y+C*(N.x-r.x)/x),new Y(G,rt,y)}function ui(r,s){var f=0;return r.x<s.min.x?f|=1:r.x>s.max.x&&(f|=2),r.y<s.min.y?f|=4:r.y>s.max.y&&(f|=8),f}function eb(r,s){var f=s.x-r.x,d=s.y-r.y;return f*f+d*d}function Ur(r,s,f,d){var y=s.x,x=s.y,C=f.x-y,N=f.y-x,R=C*C+N*N,G;return R>0&&(G=((r.x-y)*C+(r.y-x)*N)/R,G>1?(y=f.x,x=f.y):G>0&&(y+=C*G,x+=N*G)),C=r.x-y,N=r.y-x,d?C*C+N*N:new Y(y,x)}function Ae(r){return!P(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function wh(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ae(r)}function xh(r,s){var f,d,y,x,C,N,R,G;if(!r||r.length===0)throw new Error("latlngs not passed");Ae(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var rt=J([0,0]),pt=st(r),Tt=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());Tt<1700&&(rt=Ou(r));var fe=r.length,Xt=[];for(f=0;f<fe;f++){var Ee=J(r[f]);Xt.push(s.project(J([Ee.lat-rt.lat,Ee.lng-rt.lng])))}for(f=0,d=0;f<fe-1;f++)d+=Xt[f].distanceTo(Xt[f+1])/2;if(d===0)G=Xt[0];else for(f=0,x=0;f<fe-1;f++)if(C=Xt[f],N=Xt[f+1],y=C.distanceTo(N),x+=y,x>d){R=(x-d)/y,G=[N.x-R*(N.x-C.x),N.y-R*(N.y-C.y)];break}var de=s.unproject(Z(G));return J([de.lat+rt.lat,de.lng+rt.lng])}var nb={__proto__:null,simplify:_h,pointToSegmentDistance:yh,closestPointOnSegment:Jv,clipSegment:bh,_getEdgeIntersection:sa,_getBitCode:ui,_sqClosestPointOnSegment:Ur,isFlat:Ae,_flat:wh,polylineCenter:xh},Du={project:function(r){return new Y(r.lng,r.lat)},unproject:function(r){return new nt(r.y,r.x)},bounds:new W([-180,-90],[180,90])},Bu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,f=this.R,d=r.lat*s,y=this.R_MINOR/f,x=Math.sqrt(1-y*y),C=x*Math.sin(d),N=Math.tan(Math.PI/4-d/2)/Math.pow((1-C)/(1+C),x/2);return d=-f*Math.log(Math.max(N,1e-10)),new Y(r.lng*s*f,d)},unproject:function(r){for(var s=180/Math.PI,f=this.R,d=this.R_MINOR/f,y=Math.sqrt(1-d*d),x=Math.exp(-r.y/f),C=Math.PI/2-2*Math.atan(x),N=0,R=.1,G;N<15&&Math.abs(R)>1e-7;N++)G=y*Math.sin(C),G=Math.pow((1-G)/(1+G),y/2),R=Math.PI/2-2*Math.atan(x*G)-C,C+=R;return new nt(C*s,r.x*s/f)}},ib={__proto__:null,LonLat:Du,Mercator:Bu,SphericalMercator:tt},rb=o({},ut,{code:"EPSG:3395",projection:Bu,transformation:function(){var r=.5/(Math.PI*Bu.R);return F(r,.5,-r,.5)}()}),Mh=o({},ut,{code:"EPSG:4326",projection:Du,transformation:F(1/180,1,-1/180,.5)}),ob=o({},j,{projection:Du,transformation:F(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var f=s.lng-r.lng,d=s.lat-r.lat;return Math.sqrt(f*f+d*d)},infinite:!0});j.Earth=ut,j.EPSG3395=rb,j.EPSG3857=yt,j.EPSG900913=dt,j.EPSG4326=Mh,j.Simple=ob;var We=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[l(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[l(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Pt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=l(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=l(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return l(r)in this._layers},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},_addLayers:function(r){r=r?P(r)?r:[r]:[];for(var s=0,f=r.length;s<f;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[l(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=l(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,f=this._getZoomSpan();for(var d in this._zoomBoundLayers){var y=this._zoomBoundLayers[d].options;r=y.minZoom===void 0?r:Math.min(r,y.minZoom),s=y.maxZoom===void 0?s:Math.max(s,y.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hi=We.extend({initialize:function(r,s){b(this,s),this._layers={};var f,d;if(r)for(f=0,d=r.length;f<d;f++)this.addLayer(r[f])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),f,d;for(f in this._layers)d=this._layers[f],d[r]&&d[r].apply(d,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return l(r)}}),ab=function(r,s){return new Hi(r,s)},xn=Hi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Hi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Hi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new K;for(var s in this._layers){var f=this._layers[s];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),sb=function(r,s){return new xn(r,s)},Wi=H.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){b(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(d,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(r,s){var f=this.options,d=f[s+"Size"];typeof d=="number"&&(d=[d,d]);var y=Z(d),x=Z(s==="shadow"&&f.shadowAnchor||f.iconAnchor||y&&y.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(f.className||""),x&&(r.style.marginLeft=-x.x+"px",r.style.marginTop=-x.y+"px"),y&&(r.style.width=y.x+"px",r.style.height=y.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return lt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function ub(r){return new Wi(r)}var Hr=Wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Hr.imagePath!="string"&&(Hr.imagePath=this._detectIconPath()),(this.options.imagePath||Hr.imagePath)+Wi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(f,d,y){var x=d.exec(f);return x&&x[y]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Et("div","leaflet-default-icon-path",document.body),s=Ir(r,"background-image")||Ir(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Th=sn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Wn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,f=s._map,d=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,x=oi(s._icon),C=f.getPixelBounds(),N=f.getPixelOrigin(),R=X(C.min._subtract(N).add(y),C.max._subtract(N).subtract(y));if(!R.contains(x)){var G=Z((Math.max(R.max.x,x.x)-R.max.x)/(C.max.x-R.max.x)-(Math.min(R.min.x,x.x)-R.min.x)/(C.min.x-R.min.x),(Math.max(R.max.y,x.y)-R.max.y)/(C.max.y-R.max.y)-(Math.min(R.min.y,x.y)-R.min.y)/(C.min.y-R.min.y)).multiplyBy(d);f.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),qt(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=A(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=A(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,f=s._shadow,d=oi(s._icon),y=s._map.layerPointToLatLng(d);f&&qt(f,d),s._latlng=y,r.latlng=y,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ua=We.extend({options:{icon:new Hr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){b(this,s),this._latlng=J(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=J(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),d=!1;f!==this._icon&&(this._icon&&this._removeIcon(),d=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),xt(f,s),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gt(f,"focus",this._panOnFocus,this);var y=r.icon.createShadow(this._shadow),x=!1;y!==this._shadow&&(this._removeShadow(),x=!0),y&&(xt(y,s),y.alt=""),this._shadow=y,r.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&x&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(this._icon,"focus",this._panOnFocus,this),Bt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Bt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&qt(this._icon,r),this._shadow&&qt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Th)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Th(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ce(this._icon,r),this._shadow&&Ce(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,f=s.iconSize?Z(s.iconSize):Z(0,0),d=s.iconAnchor?Z(s.iconAnchor):Z(0,0);r.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:f.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fb(r,s){return new ua(r,s)}var qn=We.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return b(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),fa=qn.extend({options:{fill:!0,radius:10},initialize:function(r,s){b(this,s),this._latlng=J(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=J(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return qn.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,f=this._clickTolerance(),d=[r+f,s+f];this._pxBounds=new W(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function cb(r,s){return new fa(r,s)}var Ru=fa.extend({initialize:function(r,s,f){if(typeof s=="number"&&(s=o({},f,{radius:s})),b(this,s),this._latlng=J(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:qn.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,f=this._map,d=f.options.crs;if(d.distance===ut.distance){var y=Math.PI/180,x=this._mRadius/ut.R/y,C=f.project([s+x,r]),N=f.project([s-x,r]),R=C.add(N).divideBy(2),G=f.unproject(R).lat,rt=Math.acos((Math.cos(x*y)-Math.sin(s*y)*Math.sin(G*y))/(Math.cos(s*y)*Math.cos(G*y)))/y;(isNaN(rt)||rt===0)&&(rt=x/Math.cos(Math.PI/180*s)),this._point=R.subtract(f.getPixelOrigin()),this._radius=isNaN(rt)?0:R.x-f.project([G,r-rt]).x,this._radiusY=R.y-C.y}else{var pt=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(pt).x}this._updateBounds()}});function lb(r,s,f){return new Ru(r,s,f)}var Mn=qn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){b(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,f=null,d=Ur,y,x,C=0,N=this._parts.length;C<N;C++)for(var R=this._parts[C],G=1,rt=R.length;G<rt;G++){y=R[G-1],x=R[G];var pt=d(r,y,x,!0);pt<s&&(s=pt,f=d(r,y,x))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=J(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new K,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ae(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],f=Ae(r),d=0,y=r.length;d<y;d++)f?(s[d]=J(r[d]),this._bounds.extend(s[d])):s[d]=this._convertLatLngs(r[d]);return s},_project:function(){var r=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new Y(r,r);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,f){var d=r[0]instanceof nt,y=r.length,x,C;if(d){for(C=[],x=0;x<y;x++)C[x]=this._map.latLngToLayerPoint(r[x]),f.extend(C[x]);s.push(C)}else for(x=0;x<y;x++)this._projectLatlngs(r[x],s,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,d,y,x,C,N,R;for(f=0,y=0,x=this._rings.length;f<x;f++)for(R=this._rings[f],d=0,C=R.length;d<C-1;d++)N=bh(R[d],R[d+1],r,d,!0),N&&(s[y]=s[y]||[],s[y].push(N[0]),(N[1]!==R[d+1]||d===C-2)&&(s[y].push(N[1]),y++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,f=0,d=r.length;f<d;f++)r[f]=_h(r[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var f,d,y,x,C,N,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,x=this._parts.length;f<x;f++)for(N=this._parts[f],d=0,C=N.length,y=C-1;d<C;y=d++)if(!(!s&&d===0)&&yh(r,N[y],N[d])<=R)return!0;return!1}});function hb(r,s){return new Mn(r,s)}Mn._flat=wh;var qi=Mn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=Mn.prototype._convertLatLngs.call(this,r),f=s.length;return f>=2&&s[0]instanceof nt&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(r){Mn.prototype._setLatLngs.call(this,r),Ae(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ae(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,f=new Y(s,s);if(r=new W(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,y=this._rings.length,x;d<y;d++)x=mh(this._rings[d],r,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,f,d,y,x,C,N,R,G;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(x=0,R=this._parts.length;x<R;x++)for(f=this._parts[x],C=0,G=f.length,N=G-1;C<G;N=C++)d=f[C],y=f[N],d.y>r.y!=y.y>r.y&&r.x<(y.x-d.x)*(r.y-d.y)/(y.y-d.y)+d.x&&(s=!s);return s||Mn.prototype._containsPoint.call(this,r,!0)}});function db(r,s){return new qi(r,s)}var Tn=xn.extend({initialize:function(r,s){b(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=P(r)?r:r.features,f,d,y;if(s){for(f=0,d=s.length;f<d;f++)y=s[f],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var x=this.options;if(x.filter&&!x.filter(r))return this;var C=ca(r,x);return C?(C.feature=da(r),C.defaultOptions=C.options,this.resetStyle(C),x.onEachFeature&&x.onEachFeature(r,C),this.addLayer(C)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function ca(r,s){var f=r.type==="Feature"?r.geometry:r,d=f?f.coordinates:null,y=[],x=s&&s.pointToLayer,C=s&&s.coordsToLatLng||Zu,N,R,G,rt;if(!d&&!f)return null;switch(f.type){case"Point":return N=C(d),Lh(x,r,N,s);case"MultiPoint":for(G=0,rt=d.length;G<rt;G++)N=C(d[G]),y.push(Lh(x,r,N,s));return new xn(y);case"LineString":case"MultiLineString":return R=la(d,f.type==="LineString"?0:1,C),new Mn(R,s);case"Polygon":case"MultiPolygon":return R=la(d,f.type==="Polygon"?1:2,C),new qi(R,s);case"GeometryCollection":for(G=0,rt=f.geometries.length;G<rt;G++){var pt=ca({geometry:f.geometries[G],type:"Feature",properties:r.properties},s);pt&&y.push(pt)}return new xn(y);case"FeatureCollection":for(G=0,rt=f.features.length;G<rt;G++){var Tt=ca(f.features[G],s);Tt&&y.push(Tt)}return new xn(y);default:throw new Error("Invalid GeoJSON object.")}}function Lh(r,s,f,d){return r?r(s,f):new ua(f,d&&d.markersInheritOptions&&d)}function Zu(r){return new nt(r[1],r[0],r[2])}function la(r,s,f){for(var d=[],y=0,x=r.length,C;y<x;y++)C=s?la(r[y],s-1,f):(f||Zu)(r[y]),d.push(C);return d}function Fu(r,s){return r=J(r),r.alt!==void 0?[g(r.lng,s),g(r.lat,s),g(r.alt,s)]:[g(r.lng,s),g(r.lat,s)]}function ha(r,s,f,d){for(var y=[],x=0,C=r.length;x<C;x++)y.push(s?ha(r[x],Ae(r[x])?0:s-1,f,d):Fu(r[x],d));return!s&&f&&y.length>0&&y.push(y[0].slice()),y}function Vi(r,s){return r.feature?o({},r.feature,{geometry:s}):da(s)}function da(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Uu={toGeoJSON:function(r){return Vi(this,{type:"Point",coordinates:Fu(this.getLatLng(),r)})}};ua.include(Uu),Ru.include(Uu),fa.include(Uu),Mn.include({toGeoJSON:function(r){var s=!Ae(this._latlngs),f=ha(this._latlngs,s?1:0,!1,r);return Vi(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),qi.include({toGeoJSON:function(r){var s=!Ae(this._latlngs),f=s&&!Ae(this._latlngs[0]),d=ha(this._latlngs,f?2:s?1:0,!0,r);return s||(d=[d]),Vi(this,{type:(f?"Multi":"")+"Polygon",coordinates:d})}}),Hi.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(r).geometry.coordinates)}),Vi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var f=s==="GeometryCollection",d=[];return this.eachLayer(function(y){if(y.toGeoJSON){var x=y.toGeoJSON(r);if(f)d.push(x.geometry);else{var C=da(x);C.type==="FeatureCollection"?d.push.apply(d,C.features):d.push(C)}}}),f?Vi(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function Sh(r,s){return new Tn(r,s)}var pb=Sh,pa=We.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,f){this._url=r,this._bounds=st(s),b(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Bt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Fi(this._image),this},bringToBack:function(){return this._map&&Ui(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=st(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:Et("img");if(xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ri(this._image,f,s)},_reset:function(){var r=this._image,s=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();qt(r,s.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),mb=function(r,s,f){return new pa(r,s,f)},Ph=pa.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:Et("video");if(xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onloadeddata=u(this.fire,this,"load"),r){for(var f=s.getElementsByTagName("source"),d=[],y=0;y<f.length;y++)d.push(f[y].src);this._url=f.length>0?d:[s.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var C=Et("source");C.src=this._url[x],s.appendChild(C)}}});function gb(r,s,f){return new Ph(r,s,f)}var kh=pa.extend({_initImage:function(){var r=this._image=this._url;xt(r,"leaflet-image-layer"),this._zoomAnimated&&xt(r,"leaflet-zoom-animated"),this.options.className&&xt(r,this.options.className),r.onselectstart=m,r.onmousemove=m}});function _b(r,s,f){return new kh(r,s,f)}var un=We.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof nt||P(r))?(this._latlng=J(r),b(this,s)):(b(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(u(Bt,void 0,this._container),200)):Bt(this._container),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=J(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fi(this._container),this},bringToBack:function(){return this._map&&Ui(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof xn){s=null;var f=this._source._layers;for(var d in f)if(f[d]._map){s=f[d];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=Z(this.options.offset),f=this._getAnchor();this._zoomAnimated?qt(this._container,r.add(f)):s=s.add(r).add(f);var d=this._containerBottom=-s.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=d+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Pt.include({_initOverlay:function(r,s,f,d){var y=s;return y instanceof r||(y=new r(d).setContent(s)),f&&y.setLatLng(f),y}}),We.include({_initOverlay:function(r,s,f,d){var y=f;return y instanceof r?(b(y,d),y._source=this):(y=s&&!d?s:new r(d,this),y.setContent(f)),y}});var ma=un.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,un.prototype.openOn.call(this,r)},onAdd:function(r){un.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof qn||this._source.on("preclick",ai))},onRemove:function(r){un.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof qn||this._source.off("preclick",ai))},getEvents:function(){var r=un.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=Et("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=Et("div",r+"-content-wrapper",s);if(this._contentNode=Et("div",r+"-content",f),Zr(s),Eu(this._contentNode),gt(s,"contextmenu",ai),this._tipContainer=Et("div",r+"-tip-container",s),this._tip=Et("div",r+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=Et("a",r+"-close-button",s);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',gt(d,"click",function(y){ee(y),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var d=r.offsetHeight,y=this.options.maxHeight,x="leaflet-popup-scrolled";y&&d>y?(s.height=y+"px",xt(r,x)):Wt(r,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();qt(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(Ir(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,d=this._containerWidth,y=new Y(this._containerLeft,-f-this._containerBottom);y._add(oi(this._container));var x=r.layerPointToContainerPoint(y),C=Z(this.options.autoPanPadding),N=Z(this.options.autoPanPaddingTopLeft||C),R=Z(this.options.autoPanPaddingBottomRight||C),G=r.getSize(),rt=0,pt=0;x.x+d+R.x>G.x&&(rt=x.x+d-G.x+R.x),x.x-rt-N.x<0&&(rt=x.x-N.x),x.y+f+R.y>G.y&&(pt=x.y+f-G.y+R.y),x.y-pt-N.y<0&&(pt=x.y-N.y),(rt||pt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([rt,pt]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),yb=function(r,s){return new ma(r,s)};Pt.mergeOptions({closePopupOnClick:!0}),Pt.include({openPopup:function(r,s,f){return this._initOverlay(ma,r,s,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),We.include({bindPopup:function(r,s){return this._popup=this._initOverlay(ma,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof xn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){si(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof qn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ga=un.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){un.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){un.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=un.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Et("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,f,d=this._map,y=this._container,x=d.latLngToContainerPoint(d.getCenter()),C=d.layerPointToContainerPoint(r),N=this.options.direction,R=y.offsetWidth,G=y.offsetHeight,rt=Z(this.options.offset),pt=this._getAnchor();N==="top"?(s=R/2,f=G):N==="bottom"?(s=R/2,f=0):N==="center"?(s=R/2,f=G/2):N==="right"?(s=0,f=G/2):N==="left"?(s=R,f=G/2):C.x<x.x?(N="right",s=0,f=G/2):(N="left",s=R+(rt.x+pt.x)*2,f=G/2),r=r.subtract(Z(s,f,!0)).add(rt).add(pt),Wt(y,"leaflet-tooltip-right"),Wt(y,"leaflet-tooltip-left"),Wt(y,"leaflet-tooltip-top"),Wt(y,"leaflet-tooltip-bottom"),xt(y,"leaflet-tooltip-"+N),qt(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ce(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vb=function(r,s){return new ga(r,s)};Pt.include({openTooltip:function(r,s,f){return this._initOverlay(ga,r,s,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),We.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ga,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof xn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(gt(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),gt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,f,d;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),d=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(s)}});var Ch=Wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(na(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var d=Z(f.bgPos);s.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function bb(r){return new Ch(r)}Wi.Default=Hr;var Wr=We.extend({options:{tileSize:256,opacity:1,updateWhenIdle:lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){b(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Bt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof Y?r:new Y(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,f=-r(-1/0,1/0),d=0,y=s.length,x;d<y;d++)x=s[d].style.zIndex,s[d]!==this._container&&x&&(f=r(f,+x));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!lt.ielt9){Ce(this._container,this.options.opacity);var r=+new Date,s=!1,f=!1;for(var d in this._tiles){var y=this._tiles[d];if(!(!y.current||!y.loaded)){var x=Math.min(1,(r-y.loaded)/200);Ce(y.el,x),x<1?s=!0:(y.active?f=!0:this._onOpaqueTile(y),y.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(I(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=s-Math.abs(r-f),this._onUpdateLevel(f)):(Bt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var d=this._levels[r],y=this._map;return d||(d=this._levels[r]={},d.el=Et("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=s,d.origin=y.project(y.unproject(y.getPixelOrigin()),r).round(),d.zoom=r,this._setZoomTransform(d,y.getCenter(),y.getZoom()),m(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var r,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var d=s.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Bt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,f,d){var y=Math.floor(r/2),x=Math.floor(s/2),C=f-1,N=new Y(+y,+x);N.z=+C;var R=this._tileCoordsToKey(N),G=this._tiles[R];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),C>d?this._retainParent(y,x,C,d):!1)},_retainChildren:function(r,s,f,d){for(var y=2*r;y<2*r+2;y++)for(var x=2*s;x<2*s+2;x++){var C=new Y(y,x);C.z=f+1;var N=this._tileCoordsToKey(C),R=this._tiles[N];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);f+1<d&&this._retainChildren(y,x,f+1,d)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,f,d){var y=Math.round(s);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var x=this.options.updateWhenZooming&&y!==this._tileZoom;(!d||x)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,s)},_setZoomTransform:function(r,s,f){var d=this._map.getZoomScale(f,r.zoom),y=r.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(s,f)).round();lt.any3d?ri(r.el,y,d):qt(r.el,y)},_resetGrid:function(){var r=this._map,s=r.options.crs,f=this._tileSize=this.getTileSize(),d=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],d).x/f.x),Math.ceil(r.project([0,s.wrapLng[1]],d).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],d).y/f.x),Math.ceil(r.project([s.wrapLat[1],0],d).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),d=s.getZoomScale(f,this._tileZoom),y=s.project(r,this._tileZoom).floor(),x=s.getSize().divideBy(d*2);return new W(y.subtract(x),y.add(x))},_update:function(r){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(r),y=this._pxBoundsToTileRange(d),x=y.getCenter(),C=[],N=this.options.keepBuffer,R=new W(y.getBottomLeft().subtract([N,-N]),y.getTopRight().add([N,-N]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var rt=this._tiles[G].coords;(rt.z!==this._tileZoom||!R.contains(new Y(rt.x,rt.y)))&&(this._tiles[G].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var pt=y.min.y;pt<=y.max.y;pt++)for(var Tt=y.min.x;Tt<=y.max.x;Tt++){var fe=new Y(Tt,pt);if(fe.z=this._tileZoom,!!this._isValidTile(fe)){var Xt=this._tiles[this._tileCoordsToKey(fe)];Xt?Xt.current=!0:C.push(fe)}}if(C.sort(function(de,Gi){return de.distanceTo(x)-Gi.distanceTo(x)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ee=document.createDocumentFragment();for(Tt=0;Tt<C.length;Tt++)this._addTile(C[Tt],Ee);this._level.el.appendChild(Ee)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!s.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(r);return st(this.options.bounds).overlaps(d)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,f=this.getTileSize(),d=r.scaleBy(f),y=d.add(f),x=s.unproject(d,r.z),C=s.unproject(y,r.z);return[x,C]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),f=new K(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),f=new Y(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(r){var s=this._tiles[r];s&&(Bt(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){xt(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=m,r.onmousemove=m,lt.ielt9&&this.options.opacity<1&&Ce(r,this.options.opacity)},_addTile:function(r,s){var f=this._getTilePos(r),d=this._tileCoordsToKey(r),y=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(y),this.createTile.length<2&&A(u(this._tileReady,this,r,null,y)),qt(y,f),this._tiles[d]={el:y,coords:r,current:!0},s.appendChild(y),this.fire("tileloadstart",{tile:y,coords:r})},_tileReady:function(r,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:r});var d=this._tileCoordsToKey(r);f=this._tiles[d],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Ce(f.el,0),I(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(xt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),lt.ielt9||!this._map._fadeAnimated?A(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new Y(this._wrapX?p(r.x,this._wrapX):r.x,this._wrapY?p(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new W(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function wb(r){return new Wr(r)}var Yi=Wr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=b(this,s),s.detectRetina&&lt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var f=document.createElement("img");return gt(f,"load",u(this._tileOnLoad,this,s,f)),gt(f,"error",u(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var s={r:lt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=f),s["-y"]=f}return M(this._url,o(s,this.options))},_tileOnLoad:function(r,s){lt.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,f){var d=this.options.errorTileUrl;d&&s.getAttribute("src")!==d&&(s.src=d),r(f,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,d=this.options.zoomOffset;return f&&(r=s-r),r+d},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=m,s.onerror=m,!s.complete)){s.src=k;var f=this._tiles[r].coords;Bt(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",k),Wr.prototype._removeTile.call(this,r)},_tileReady:function(r,s,f){if(!(!this._map||f&&f.getAttribute("src")===k))return Wr.prototype._tileReady.call(this,r,s,f)}});function Ah(r,s){return new Yi(r,s)}var Eh=Yi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var f=o({},this.defaultWmsParams);for(var d in s)d in this.options||(f[d]=s[d]);s=b(this,s);var y=s.detectRetina&&lt.retina?2:1,x=this.getTileSize();f.width=x.x*y,f.height=x.y*y,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Yi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),f=this._crs,d=X(f.project(s[0]),f.project(s[1])),y=d.min,x=d.max,C=(this._wmsVersion>=1.3&&this._crs===Mh?[y.y,y.x,x.y,x.x]:[y.x,y.y,x.x,x.y]).join(","),N=Yi.prototype.getTileUrl.call(this,r);return N+w(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function xb(r,s){return new Eh(r,s)}Yi.WMS=Eh,Ah.wms=xb;var Ln=We.extend({options:{padding:.1},initialize:function(r){b(this,r),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var f=this._map.getZoomScale(s,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,s),x=d.multiplyBy(-f).add(y).subtract(this._map._getNewPixelOrigin(r,s));lt.any3d?ri(this._container,x,f):qt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new W(f,f.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),$h=Ln.extend({options:{tolerance:0},getEvents:function(){var r=Ln.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");gt(r,"mousemove",this._onMouseMove,this),gt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,Bt(this._container),Dt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var r=this._bounds,s=this._container,f=r.getSize(),d=lt.retina?2:1;qt(s,r.min),s.width=d*f.x,s.height=d*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[l(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,f=s.next,d=s.prev;f?f.prev=d:this._drawLast=d,d?d.next=f:this._drawFirst=f,delete r._order,delete this._layers[l(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),f=[],d,y;for(y=0;y<s.length;y++){if(d=Number(s[y]),isNaN(d))return;f.push(d)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||A(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)r=d.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var f,d,y,x,C=r._parts,N=C.length,R=this._ctx;if(N){for(R.beginPath(),f=0;f<N;f++){for(d=0,y=C[f].length;d<y;d++)x=C[f][d],R[d?"lineTo":"moveTo"](x.x,x.y);s&&R.closePath()}this._fillStroke(R,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,f=this._ctx,d=Math.max(Math.round(r._radius),1),y=(Math.max(Math.round(r._radiusY),1)||d)/d;y!==1&&(f.save(),f.scale(1,y)),f.beginPath(),f.arc(s.x,s.y/y,d,0,Math.PI*2,!1),y!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,s){var f=s.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),f,d,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(d=f);this._fireEvent(d?[d]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var f,d,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(s)&&(d=f);d!==this._hoveredLayer&&(this._handleMouseOut(r),d&&(xt(this._container,"leaflet-interactive"),this._fireEvent([d],r,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,f){this._map._fireDOMEvent(s,f||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var f=s.next,d=s.prev;if(f)f.prev=d;else return;d?d.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var f=s.next,d=s.prev;if(d)d.next=f;else return;f?f.prev=d:d&&(this._drawLast=d),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function zh(r){return lt.canvas?new $h(r):null}var qr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Mb={_initContainer:function(){this._container=Et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ln.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=qr("shape");xt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=qr("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[l(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Bt(s),r.removeInteractiveTarget(s),delete this._layers[l(r)]},_updateStyle:function(r){var s=r._stroke,f=r._fill,d=r.options,y=r._container;y.stroked=!!d.stroke,y.filled=!!d.fill,d.stroke?(s||(s=r._stroke=qr("stroke")),y.appendChild(s),s.weight=d.weight+"px",s.color=d.color,s.opacity=d.opacity,d.dashArray?s.dashStyle=P(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=d.lineCap.replace("butt","flat"),s.joinstyle=d.lineJoin):s&&(y.removeChild(s),r._stroke=null),d.fill?(f||(f=r._fill=qr("fill")),y.appendChild(f),f.color=d.fillColor||d.color,f.opacity=d.fillOpacity):f&&(y.removeChild(f),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),f=Math.round(r._radius),d=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+d+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){Fi(r._container)},_bringToBack:function(r){Ui(r._container)}},_a=lt.vml?qr:Ct,Vr=Ln.extend({_initContainer:function(){this._container=_a("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_a("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Bt(this._container),Dt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var r=this._bounds,s=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),qt(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=_a("path");r.options.className&&xt(s,r.options.className),r.options.interactive&&xt(s,"leaflet-interactive"),this._updateStyle(r),this._layers[l(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Bt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[l(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,f=r.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,At(r._parts,s))},_updateCircle:function(r){var s=r._point,f=Math.max(Math.round(r._radius),1),d=Math.max(Math.round(r._radiusY),1)||f,y="a"+f+","+d+" 0 1,0 ",x=r._empty()?"M0 0":"M"+(s.x-f)+","+s.y+y+f*2+",0 "+y+-f*2+",0 ";this._setPath(r,x)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){Fi(r._path)},_bringToBack:function(r){Ui(r._path)}});lt.vml&&Vr.include(Mb);function Nh(r){return lt.svg||lt.vml?new Vr(r):null}Pt.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&zh(r)||Nh(r)}});var Oh=qi.extend({initialize:function(r,s){qi.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=st(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Tb(r,s){return new Oh(r,s)}Vr.create=_a,Vr.pointsToPath=At,Tn.geometryToLayer=ca,Tn.coordsToLatLng=Zu,Tn.coordsToLatLngs=la,Tn.latLngToCoords=Fu,Tn.latLngsToCoords=ha,Tn.getFeature=Vi,Tn.asFeature=da,Pt.mergeOptions({boxZoom:!0});var Ih=sn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Bt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dr(),Mu(),this._startPoint=this._map.mouseEventToContainerPoint(r),gt(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Et("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new W(this._point,this._startPoint),f=s.getSize();qt(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Bt(this._box),Wt(this._container,"leaflet-crosshair")),Br(),Tu(),Dt(document,{contextmenu:si,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pt.addInitHook("addHandler","boxZoom",Ih),Pt.mergeOptions({doubleClickZoom:!0});var Dh=sn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,f=s.getZoom(),d=s.options.zoomDelta,y=r.originalEvent.shiftKey?f-d:f+d;s.options.doubleClickZoom==="center"?s.setZoom(y):s.setZoomAround(r.containerPoint,y)}});Pt.addInitHook("addHandler","doubleClickZoom",Dh),Pt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Bh=sn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Wn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=st(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),f=this._initialWorldOffset,d=this._draggable._newPos.x,y=(d-s+f)%r+s-f,x=(d+s+f)%r-s-f,C=Math.abs(y+f)<Math.abs(x+f)?y:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(r){var s=this._map,f=s.options,d=!f.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),d)s.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,C=f.easeLinearity,N=y.multiplyBy(C/x),R=N.distanceTo([0,0]),G=Math.min(f.inertiaMaxSpeed,R),rt=N.multiplyBy(G/R),pt=G/(f.inertiaDeceleration*C),Tt=rt.multiplyBy(-pt/2).round();!Tt.x&&!Tt.y?s.fire("moveend"):(Tt=s._limitOffset(Tt,s.options.maxBounds),A(function(){s.panBy(Tt,{duration:pt,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Pt.addInitHook("addHandler","dragging",Bh),Pt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rh=sn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),gt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,f=r.scrollTop||s.scrollTop,d=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(d,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},f=this.keyCodes,d,y;for(d=0,y=f.left.length;d<y;d++)s[f.left[d]]=[-1*r,0];for(d=0,y=f.right.length;d<y;d++)s[f.right[d]]=[r,0];for(d=0,y=f.down.length;d<y;d++)s[f.down[d]]=[0,r];for(d=0,y=f.up.length;d<y;d++)s[f.up[d]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},f=this.keyCodes,d,y;for(d=0,y=f.zoomIn.length;d<y;d++)s[f.zoomIn[d]]=r;for(d=0,y=f.zoomOut.length;d<y;d++)s[f.zoomOut[d]]=-r},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,f=this._map,d;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(d=this._panKeys[s],r.shiftKey&&(d=Z(d).multiplyBy(3)),f.options.maxBounds&&(d=f._limitOffset(Z(d),f.options.maxBounds)),f.options.worldCopyJump){var y=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(d)));f.panTo(y)}else f.panBy(d)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;si(r)}}});Pt.addInitHook("addHandler","keyboard",Rh),Pt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zh=sn.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=ch(r),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var d=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),d),si(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,x=f?Math.ceil(y/f)*f:y,C=r._limitZoom(s+(this._delta>0?x:-x))-s;this._delta=0,this._startTime=null,C&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+C):r.setZoomAround(this._lastMousePos,s+C))}});Pt.addInitHook("addHandler","scrollWheelZoom",Zh);var Lb=600;Pt.mergeOptions({tapHold:lt.touchNative&&lt.safari&&lt.mobile,tapTolerance:15});var Fh=sn.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new Y(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(gt(document,"touchend",ee),gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Lb),gt(document,"touchend touchcancel contextmenu",this._cancel,this),gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Dt(document,"touchend",ee),Dt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new Y(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});Pt.addInitHook("addHandler","tapHold",Fh),Pt.mergeOptions({touchZoom:lt.touch,bounceAtZoomLimits:!0});var Uh=sn.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(r.touches[0]),d=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(d)._divideBy(2))),this._startDist=f.distanceTo(d),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend touchcancel",this._onTouchEnd,this),ee(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(r.touches[0]),d=s.mouseEventToContainerPoint(r.touches[1]),y=f.distanceTo(d)/this._startDist;if(this._zoom=s.getScaleZoom(y,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&y<1||this._zoom>s.getMaxZoom()&&y>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var x=f._add(d)._divideBy(2)._subtract(this._centerPoint);if(y===1&&x.x===0&&x.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var C=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=A(C,this,!0),ee(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,I(this._animRequest),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pt.addInitHook("addHandler","touchZoom",Uh),Pt.BoxZoom=Ih,Pt.DoubleClickZoom=Dh,Pt.Drag=Bh,Pt.Keyboard=Rh,Pt.ScrollWheelZoom=Zh,Pt.TapHold=Fh,Pt.TouchZoom=Uh,n.Bounds=W,n.Browser=lt,n.CRS=j,n.Canvas=$h,n.Circle=Ru,n.CircleMarker=fa,n.Class=H,n.Control=He,n.DivIcon=Ch,n.DivOverlay=un,n.DomEvent=Hv,n.DomUtil=Fv,n.Draggable=Wn,n.Evented=Q,n.FeatureGroup=xn,n.GeoJSON=Tn,n.GridLayer=Wr,n.Handler=sn,n.Icon=Wi,n.ImageOverlay=pa,n.LatLng=nt,n.LatLngBounds=K,n.Layer=We,n.LayerGroup=Hi,n.LineUtil=nb,n.Map=Pt,n.Marker=ua,n.Mixin=jv,n.Path=qn,n.Point=Y,n.PolyUtil=Kv,n.Polygon=qi,n.Polyline=Mn,n.Popup=ma,n.PosAnimation=lh,n.Projection=ib,n.Rectangle=Oh,n.Renderer=Ln,n.SVG=Vr,n.SVGOverlay=kh,n.TileLayer=Yi,n.Tooltip=ga,n.Transformation=ot,n.Util=U,n.VideoOverlay=Ph,n.bind=u,n.bounds=X,n.canvas=zh,n.circle=lb,n.circleMarker=cb,n.control=Fr,n.divIcon=bb,n.extend=o,n.featureGroup=sb,n.geoJSON=Sh,n.geoJson=pb,n.gridLayer=wb,n.icon=ub,n.imageOverlay=mb,n.latLng=J,n.latLngBounds=st,n.layerGroup=ab,n.map=Wv,n.marker=fb,n.point=Z,n.polygon=db,n.polyline=hb,n.popup=yb,n.rectangle=Tb,n.setOptions=b,n.stamp=l,n.svg=Nh,n.svgOverlay=_b,n.tileLayer=Ah,n.tooltip=vb,n.transformation=F,n.version=i,n.videoOverlay=gb;var Sb=window.L;n.noConflict=function(){return window.L=Sb,this},window.L=n})})(If,If.exports);var ew=If.exports;const mi=tw(ew);function Kh(t){let e;const n=t[6].default,i=Es(n,t,t[5],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&32)&&zs(i,n,o,o[5],e?$s(n,o[5],a,null):Ns(o[5]),null)},i(o){e||(ct(i,o),e=!0)},o(o){mt(i,o),e=!1},d(o){i&&i.d(o)}}}function nw(t){let e,n,i=t[0]&&Kh(t);return{c(){e=vt("div"),i&&i.c(),at(e,"class","w-full h-full")},m(o,a){$t(o,e,a),i&&i.m(e,null),t[7](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ct(i,1)):(i=Kh(o),i.c(),ct(i,1),i.m(e,null)):i&&(Te(),mt(i,1,1,()=>{i=null}),Le())},i(o){n||(ct(i),n=!0)},o(o){mt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[7](null)}}}function iw(t,e,n){let{$$slots:i={},$$scope:o}=e,{bounds:a=void 0}=e,{view:u=void 0}=e,{zoom:c=void 0}=e;const l=Wb();let h,p;Lr(()=>{if(!a&&(!u||!c))throw new Error("Must set either bounds, or view and zoom.");n(0,h=mi.map(p).on("zoom",g=>l("zoom",g)).on("popupopen",async g=>{await qb(),g.popup.update()})),mi.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,&copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>'}).addTo(h)}),Os(()=>{h==null||h.remove(),n(0,h=void 0)}),Rc("map",{getMap:()=>h});function m(g){wi[g?"unshift":"push"](()=>{p=g,n(1,p)})}return t.$$set=g=>{"bounds"in g&&n(2,a=g.bounds),"view"in g&&n(3,u=g.view),"zoom"in g&&n(4,c=g.zoom),"$$scope"in g&&n(5,o=g.$$scope)},t.$$.update=()=>{t.$$.dirty&29&&h&&(a?h.fitBounds(a):u&&c&&h.setView(u,c,{animate:!0}))},[h,p,a,u,c,o,i,m]}class rw extends yn{constructor(e){super(),_n(this,e,iw,nw,tn,{bounds:2,view:3,zoom:4})}}function Jh(t){let e;const n=t[8].default,i=Es(n,t,t[7],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&128)&&zs(i,n,o,o[7],e?$s(n,o[7],a,null):Ns(o[7]),null)},i(o){e||(ct(i,o),e=!0)},o(o){mt(i,o),e=!1},d(o){i&&i.d(o)}}}function ow(t){let e,n,i=t[0]&&Jh(t);return{c(){e=vt("div"),i&&i.c()},m(o,a){$t(o,e,a),i&&i.m(e,null),t[9](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ct(i,1)):(i=Jh(o),i.c(),ct(i,1),i.m(e,null)):i&&(Te(),mt(i,1,1,()=>{i=null}),Le())},i(o){n||(ct(i),n=!0)},o(o){mt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[9](null)}}}function aw(t,e,n){let{$$slots:i={},$$scope:o}=e,{latLng:a}=e,{iconUrl:u}=e,{iconSize:c=[50,50]}=e,{radius:l=4}=e,{fillColor:h="blue"}=e,p,m;const{getMap:g}=Zc("map"),_=g();Rc("layer",{getLayer:()=>p});function v(){n(0,p=_?u?mi.marker(a,{icon:mi.icon({iconUrl:u,iconSize:c})}).addTo(_):mi.circleMarker(a,{radius:l,fillColor:h,stroke:!1,fillOpacity:.6}).addTo(_):void 0)}Lr(()=>{_&&v()}),Os(()=>{p==null||p.remove(),n(0,p=void 0)});function b(w){wi[w?"unshift":"push"](()=>{m=w,n(1,m)})}return t.$$set=w=>{"latLng"in w&&n(2,a=w.latLng),"iconUrl"in w&&n(3,u=w.iconUrl),"iconSize"in w&&n(4,c=w.iconSize),"radius"in w&&n(5,l=w.radius),"fillColor"in w&&n(6,h=w.fillColor),"$$scope"in w&&n(7,o=w.$$scope)},[p,m,a,u,c,l,h,o,i,b]}class Um extends yn{constructor(e){super(),_n(this,e,aw,ow,tn,{latLng:2,iconUrl:3,iconSize:4,radius:5,fillColor:6})}}function me(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Io(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Is(t){let e,n,i;t.length!==2?(e=me,n=(c,l)=>me(t(c),l),i=(c,l)=>t(c)-l):(e=t===me||t===Io?t:sw,n=t,i=t);function o(c,l,h=0,p=c.length){if(h<p){if(e(l,l)!==0)return p;do{const m=h+p>>>1;n(c[m],l)<0?h=m+1:p=m}while(h<p)}return h}function a(c,l,h=0,p=c.length){if(h<p){if(e(l,l)!==0)return p;do{const m=h+p>>>1;n(c[m],l)<=0?h=m+1:p=m}while(h<p)}return h}function u(c,l,h=0,p=c.length){const m=o(c,l,h,p-1);return m>h&&i(c[m-1],l)>-i(c[m],l)?m-1:m}return{left:o,center:u,right:a}}function sw(){return 0}function Hm(t){return t===null?NaN:+t}function*uw(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(yield i)}}const fw=Is(me),cw=fw.right;Is(Hm).center;const Ds=cw;function lw(t,e){let n=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&++n;else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&++n}return n}function hw(t){return t.length|0}function dw(t){return!(t>0)}function pw(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function mw(t){return e=>t(...e)}function gw(...t){const e=typeof t[t.length-1]=="function"&&mw(t.pop());t=t.map(pw);const n=t.map(hw),i=t.length-1,o=new Array(i+1).fill(0),a=[];if(i<0||n.some(dw))return a;for(;;){a.push(o.map((c,l)=>t[l][c]));let u=i;for(;++o[u]===n[u];){if(u===0)return e?a.map(e):a;o[u--]=0}}}function _w(t,e){var n=0,i=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,i++,t)||0)}function Wm(t,e){let n=0,i,o=0,a=0;if(e===void 0)for(let u of t)u!=null&&(u=+u)>=u&&(i=u-o,o+=i/++n,a+=i*(u-o));else{let u=-1;for(let c of t)(c=e(c,++u,t))!=null&&(c=+c)>=c&&(i=c-o,o+=i/++n,a+=i*(c-o))}if(n>1)return a/(n-1)}function yw(t,e){const n=Wm(t,e);return n&&Math.sqrt(n)}function Ze(t,e){let n,i;if(e===void 0)for(const o of t)o!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)));else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(n===void 0?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}class xi{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const a=n[o],u=e+a,c=Math.abs(e)<Math.abs(a)?e-(u-a):a-(u-e);c&&(n[i++]=c),e=u}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,o,a,u=0;if(n>0){for(u=e[--n];n>0&&(i=u,o=e[--n],u=i+o,a=o-(u-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(o=a*2,i=u+o,o==i-u&&(u=i))}return u}}class Mi extends Map{constructor(e,n=Ym){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(Df(this,e))}has(e){return super.has(Df(this,e))}set(e,n){return super.set(qm(this,e),n)}delete(e){return super.delete(Vm(this,e))}}class Bs extends Set{constructor(e,n=Ym){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(Df(this,e))}add(e){return super.add(qm(this,e))}delete(e){return super.delete(Vm(this,e))}}function Df({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function qm({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function Vm({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function Ym(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ya(t){return t}function Fc(t,...e){return Uc(t,Ya,Ya,e)}function ar(t,e,...n){return Uc(t,Ya,e,n)}function vw(t,e,...n){return Uc(t,Array.from,e,n)}function Uc(t,e,n,i){return function o(a,u){if(u>=i.length)return n(a);const c=new Mi,l=i[u++];let h=-1;for(const p of a){const m=l(p,++h,a),g=c.get(m);g?g.push(p):c.set(m,[p])}for(const[p,m]of c)c.set(p,o(m,u));return e(c)}(t,0)}function bw(t,e){return Array.from(e,n=>t[n])}function _o(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const i=Uint32Array.from(t,(o,a)=>a);return e.length>1?(e=e.map(o=>t.map(o)),i.sort((o,a)=>{for(const u of e){const c=Ga(u[o],u[a]);if(c)return c}})):(n=t.map(n),i.sort((o,a)=>Ga(n[o],n[a]))),bw(t,i)}return t.sort(Gm(n))}function Gm(t=me){if(t===me)return Ga;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function Ga(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Hc(t,e,n){return(e.length!==2?_o(ar(t,e,n),([i,o],[a,u])=>me(o,u)||me(i,a)):_o(Fc(t,n),([i,o],[a,u])=>e(o,u)||me(i,a))).map(([i])=>i)}var ww=Array.prototype,xw=ww.slice;function qu(t){return()=>t}const Mw=Math.sqrt(50),Tw=Math.sqrt(10),Lw=Math.sqrt(2);function Xa(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),u=a>=Mw?10:a>=Tw?5:a>=Lw?2:1;let c,l,h;return o<0?(h=Math.pow(10,-o)/u,c=Math.round(t*h),l=Math.round(e*h),c/h<t&&++c,l/h>e&&--l,h=-h):(h=Math.pow(10,o)*u,c=Math.round(t/h),l=Math.round(e/h),c*h<t&&++c,l*h>e&&--l),l<c&&.5<=n&&n<2?Xa(t,e,n*2):[c,l,h]}function yo(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,a,u]=i?Xa(e,t,n):Xa(t,e,n);if(!(a>=o))return[];const c=a-o+1,l=new Array(c);if(i)if(u<0)for(let h=0;h<c;++h)l[h]=(a-h)/-u;else for(let h=0;h<c;++h)l[h]=(a-h)*u;else if(u<0)for(let h=0;h<c;++h)l[h]=(o+h)/-u;else for(let h=0;h<c;++h)l[h]=(o+h)*u;return l}function lr(t,e,n){return e=+e,t=+t,n=+n,Xa(t,e,n)[2]}function Bf(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?lr(e,t,n):lr(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function Sw(t,e,n){let i;for(;;){const o=lr(t,e,n);if(o===i||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),i=o}}function Pw(t){return Math.max(1,Math.ceil(Math.log(lw(t))/Math.LN2)+1)}function kw(){var t=Ya,e=Ze,n=Pw;function i(o){Array.isArray(o)||(o=Array.from(o));var a,u=o.length,c,l,h=new Array(u);for(a=0;a<u;++a)h[a]=t(o[a],a,o);var p=e(h),m=p[0],g=p[1],_=n(h,m,g);if(!Array.isArray(_)){const P=g,T=+_;if(e===Ze&&([m,g]=Sw(m,g,T)),_=yo(m,g,T),_[0]<=m&&(l=lr(m,g,T)),_[_.length-1]>=g)if(P>=g&&e===Ze){const k=lr(m,g,T);isFinite(k)&&(k>0?g=(Math.floor(g/k)+1)*k:k<0&&(g=(Math.ceil(g*-k)+1)/-k))}else _.pop()}for(var v=_.length,b=0,w=v;_[b]<=m;)++b;for(;_[w-1]>g;)--w;(b||w<v)&&(_=_.slice(b,w),v=w-b);var S=new Array(v+1),M;for(a=0;a<=v;++a)M=S[a]=[],M.x0=a>0?_[a-1]:m,M.x1=a<v?_[a]:g;if(isFinite(l)){if(l>0)for(a=0;a<u;++a)(c=h[a])!=null&&m<=c&&c<=g&&S[Math.min(v,Math.floor((c-m)/l))].push(o[a]);else if(l<0){for(a=0;a<u;++a)if((c=h[a])!=null&&m<=c&&c<=g){const P=Math.floor((m-c)*l);S[Math.min(v,P+(_[P]<=c))].push(o[a])}}}else for(a=0;a<u;++a)(c=h[a])!=null&&m<=c&&c<=g&&S[Ds(_,c,0,v)].push(o[a]);return S}return i.value=function(o){return arguments.length?(t=typeof o=="function"?o:qu(o),i):t},i.domain=function(o){return arguments.length?(e=typeof o=="function"?o:qu([o[0],o[1]]),i):e},i.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:qu(Array.isArray(o)?xw.call(o):o),i):n},i}function Xe(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Cw(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);return i}function In(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Aw(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);return i}function Xm(t,e,n=0,i=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(o=o===void 0?Ga:Gm(o);i>n;){if(i-n>600){const l=i-n+1,h=e-n+1,p=Math.log(l),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(l-m)/l)*(h-l/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/l+g)),v=Math.min(i,Math.floor(e+(l-h)*m/l+g));Xm(t,e,_,v,o)}const a=t[e];let u=n,c=i;for(Yr(t,n,e),o(t[i],a)>0&&Yr(t,n,i);u<c;){for(Yr(t,u,c),++u,--c;o(t[u],a)<0;)++u;for(;o(t[c],a)>0;)--c}o(t[n],a)===0?Yr(t,n,c):(++c,Yr(t,c,i)),c<=e&&(n=c+1),e<=c&&(i=c-1)}return t}function Yr(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function jm(t,e=me){let n,i=!1;if(e.length===1){let o;for(const a of t){const u=e(a);(i?me(u,o)>0:me(u,u)===0)&&(n=a,o=u,i=!0)}}else for(const o of t)(i?e(o,n)>0:e(o,o)===0)&&(n=o,i=!0);return n}function ja(t,e,n){if(t=Float64Array.from(uw(t,n)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return In(t);if(e>=1)return Xe(t);var i,o=(i-1)*e,a=Math.floor(o),u=Xe(Xm(t,a).subarray(0,a+1)),c=In(t.subarray(a+1));return u+(c-u)*(o-a)}}function Ew(t,e,n=Hm){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),u=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return u+(c-u)*(o-a)}}function $w(t,e){let n=0,i=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,i+=o);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}function Rf(t,e){return ja(t,.5,e)}function*zw(t){for(const e of t)yield*e}function Km(t){return Array.from(zw(t))}function Nw(t,e){const n=new Mi;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let u of t)(u=e(u,++a,t))!=null&&u>=u&&n.set(u,(n.get(u)||0)+1)}let i,o=0;for(const[a,u]of n)u>o&&(o=u,i=a);return i}function Ow(t,e=Iw){const n=[];let i,o=!1;for(const a of t)o&&n.push(e(i,a)),i=a,o=!0;return n}function Iw(t,e){return[t,e]}function Zf(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(o);++i<o;)a[i]=t+i*n;return a}function jn(t,e){let n=0;if(e===void 0)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let o of t)(o=+e(o,++i,t))&&(n+=o)}return n}function Ka(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Dw(t){return t}var Vu=1,Yu=2,Ff=3,to=4,Qh=1e-6;function Bw(t){return"translate("+t+",0)"}function Rw(t){return"translate(0,"+t+")"}function Zw(t){return e=>+t(e)}function Fw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Uw(){return!this.__axis}function Jm(t,e){var n=[],i=null,o=null,a=6,u=6,c=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=t===Vu||t===to?-1:1,p=t===to||t===Yu?"x":"y",m=t===Vu||t===Ff?Bw:Rw;function g(_){var v=i??(e.ticks?e.ticks.apply(e,n):e.domain()),b=o??(e.tickFormat?e.tickFormat.apply(e,n):Dw),w=Math.max(a,0)+c,S=e.range(),M=+S[0]+l,P=+S[S.length-1]+l,T=(e.bandwidth?Fw:Zw)(e.copy(),l),k=_.selection?_.selection():_,E=k.selectAll(".domain").data([null]),z=k.selectAll(".tick").data(v,e).order(),D=z.exit(),O=z.enter().append("g").attr("class","tick"),$=z.select("line"),A=z.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(O),$=$.merge(O.append("line").attr("stroke","currentColor").attr(p+"2",h*a)),A=A.merge(O.append("text").attr("fill","currentColor").attr(p,h*w).attr("dy",t===Vu?"0em":t===Ff?"0.71em":"0.32em")),_!==k&&(E=E.transition(_),z=z.transition(_),$=$.transition(_),A=A.transition(_),D=D.transition(_).attr("opacity",Qh).attr("transform",function(I){return isFinite(I=T(I))?m(I+l):this.getAttribute("transform")}),O.attr("opacity",Qh).attr("transform",function(I){var U=this.parentNode.__axis;return m((U&&isFinite(U=U(I))?U:T(I))+l)})),D.remove(),E.attr("d",t===to||t===Yu?u?"M"+h*u+","+M+"H"+l+"V"+P+"H"+h*u:"M"+l+","+M+"V"+P:u?"M"+M+","+h*u+"V"+l+"H"+P+"V"+h*u:"M"+M+","+l+"H"+P),z.attr("opacity",1).attr("transform",function(I){return m(T(I)+l)}),$.attr(p+"2",h*a),A.attr(p,h*w).text(b),k.filter(Uw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Yu?"start":t===to?"end":"middle"),k.each(function(){this.__axis=T})}return g.scale=function(_){return arguments.length?(e=_,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(_){return arguments.length?(n=_==null?[]:Array.from(_),g):n.slice()},g.tickValues=function(_){return arguments.length?(i=_==null?null:Array.from(_),g):i&&i.slice()},g.tickFormat=function(_){return arguments.length?(o=_,g):o},g.tickSize=function(_){return arguments.length?(a=u=+_,g):a},g.tickSizeInner=function(_){return arguments.length?(a=+_,g):a},g.tickSizeOuter=function(_){return arguments.length?(u=+_,g):u},g.tickPadding=function(_){return arguments.length?(c=+_,g):c},g.offset=function(_){return arguments.length?(l=+_,g):l},g}function Qm(t){return Jm(Ff,t)}function Hw(t){return Jm(to,t)}var Ww={value:()=>{}};function Wc(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ba(n)}function Ba(t){this._=t}function qw(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ba.prototype=Wc.prototype={constructor:Ba,on:function(t,e){var n=this._,i=qw(t+"",n),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(t=i[a]).type)&&(o=Vw(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(o=(t=i[a]).type)n[o]=td(n[o],t.name,e);else if(e==null)for(o in n)n[o]=td(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ba(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,o=a.length;i<o;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,n)}};function Vw(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function td(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Ww,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Uf="http://www.w3.org/1999/xhtml";const hr={svg:"http://www.w3.org/2000/svg",xhtml:Uf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rs(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),hr.hasOwnProperty(e)?{space:hr[e],local:t}:t}function Yw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Uf&&e.documentElement.namespaceURI===Uf?e.createElement(t):e.createElementNS(n,t)}}function Gw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zs(t){var e=Rs(t);return(e.local?Gw:Yw)(e)}function Xw(){}function qc(t){return t==null?Xw:function(){return this.querySelector(t)}}function jw(t){typeof t!="function"&&(t=qc(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=new Array(u),l,h,p=0;p<u;++p)(l=a[p])&&(h=t.call(l,l.__data__,p,a))&&("__data__"in l&&(h.__data__=l.__data__),c[p]=h);return new Se(i,this._parents)}function Kw(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Jw(){return[]}function t0(t){return t==null?Jw:function(){return this.querySelectorAll(t)}}function Qw(t){return function(){return Kw(t.apply(this,arguments))}}function t2(t){typeof t=="function"?t=Qw(t):t=t0(t);for(var e=this._groups,n=e.length,i=[],o=[],a=0;a<n;++a)for(var u=e[a],c=u.length,l,h=0;h<c;++h)(l=u[h])&&(i.push(t.call(l,l.__data__,h,u)),o.push(l));return new Se(i,o)}function e0(t){return function(){return this.matches(t)}}function n0(t){return function(e){return e.matches(t)}}var e2=Array.prototype.find;function n2(t){return function(){return e2.call(this.children,t)}}function i2(){return this.firstElementChild}function r2(t){return this.select(t==null?i2:n2(typeof t=="function"?t:n0(t)))}var o2=Array.prototype.filter;function a2(){return Array.from(this.children)}function s2(t){return function(){return o2.call(this.children,t)}}function u2(t){return this.selectAll(t==null?a2:s2(typeof t=="function"?t:n0(t)))}function f2(t){typeof t!="function"&&(t=e0(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=[],l,h=0;h<u;++h)(l=a[h])&&t.call(l,l.__data__,h,a)&&c.push(l);return new Se(i,this._parents)}function i0(t){return new Array(t.length)}function c2(){return new Se(this._enter||this._groups.map(i0),this._parents)}function Ja(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ja.prototype={constructor:Ja,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function l2(t){return function(){return t}}function h2(t,e,n,i,o,a){for(var u=0,c,l=e.length,h=a.length;u<h;++u)(c=e[u])?(c.__data__=a[u],i[u]=c):n[u]=new Ja(t,a[u]);for(;u<l;++u)(c=e[u])&&(o[u]=c)}function d2(t,e,n,i,o,a,u){var c,l,h=new Map,p=e.length,m=a.length,g=new Array(p),_;for(c=0;c<p;++c)(l=e[c])&&(g[c]=_=u.call(l,l.__data__,c,e)+"",h.has(_)?o[c]=l:h.set(_,l));for(c=0;c<m;++c)_=u.call(t,a[c],c,a)+"",(l=h.get(_))?(i[c]=l,l.__data__=a[c],h.delete(_)):n[c]=new Ja(t,a[c]);for(c=0;c<p;++c)(l=e[c])&&h.get(g[c])===l&&(o[c]=l)}function p2(t){return t.__data__}function m2(t,e){if(!arguments.length)return Array.from(this,p2);var n=e?d2:h2,i=this._parents,o=this._groups;typeof t!="function"&&(t=l2(t));for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),h=0;h<a;++h){var p=i[h],m=o[h],g=m.length,_=g2(t.call(p,p&&p.__data__,h,i)),v=_.length,b=c[h]=new Array(v),w=u[h]=new Array(v),S=l[h]=new Array(g);n(p,m,b,w,S,_,e);for(var M=0,P=0,T,k;M<v;++M)if(T=b[M]){for(M>=P&&(P=M+1);!(k=w[P])&&++P<v;);T._next=k||null}}return u=new Se(u,i),u._enter=c,u._exit=l,u}function g2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function _2(){return new Se(this._exit||this._groups.map(i0),this._parents)}function y2(t,e,n){var i=this.enter(),o=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function v2(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,a=i.length,u=Math.min(o,a),c=new Array(o),l=0;l<u;++l)for(var h=n[l],p=i[l],m=h.length,g=c[l]=new Array(m),_,v=0;v<m;++v)(_=h[v]||p[v])&&(g[v]=_);for(;l<o;++l)c[l]=n[l];return new Se(c,this._parents)}function b2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function w2(t){t||(t=x2);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var u=n[a],c=u.length,l=o[a]=new Array(c),h,p=0;p<c;++p)(h=u[p])&&(l[p]=h);l.sort(e)}return new Se(o,this._parents).order()}function x2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function M2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function T2(){return Array.from(this)}function L2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function S2(){let t=0;for(const e of this)++t;return t}function P2(){return!this.node()}function k2(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],a=0,u=o.length,c;a<u;++a)(c=o[a])&&t.call(c,c.__data__,a,o);return this}function C2(t){return function(){this.removeAttribute(t)}}function A2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function E2(t,e){return function(){this.setAttribute(t,e)}}function $2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function z2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function N2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function O2(t,e){var n=Rs(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?A2:C2:typeof e=="function"?n.local?N2:z2:n.local?$2:E2)(n,e))}function r0(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function I2(t){return function(){this.style.removeProperty(t)}}function D2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function B2(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function R2(t,e,n){return arguments.length>1?this.each((e==null?I2:typeof e=="function"?B2:D2)(t,e,n??"")):dr(this.node(),t)}function dr(t,e){return t.style.getPropertyValue(e)||r0(t).getComputedStyle(t,null).getPropertyValue(e)}function Z2(t){return function(){delete this[t]}}function F2(t,e){return function(){this[t]=e}}function U2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function H2(t,e){return arguments.length>1?this.each((e==null?Z2:typeof e=="function"?U2:F2)(t,e)):this.node()[t]}function o0(t){return t.trim().split(/^|\s+/)}function Vc(t){return t.classList||new a0(t)}function a0(t){this._node=t,this._names=o0(t.getAttribute("class")||"")}a0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function s0(t,e){for(var n=Vc(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function u0(t,e){for(var n=Vc(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function W2(t){return function(){s0(this,t)}}function q2(t){return function(){u0(this,t)}}function V2(t,e){return function(){(e.apply(this,arguments)?s0:u0)(this,t)}}function Y2(t,e){var n=o0(t+"");if(arguments.length<2){for(var i=Vc(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?V2:e?W2:q2)(n,e))}function G2(){this.textContent=""}function X2(t){return function(){this.textContent=t}}function j2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function K2(t){return arguments.length?this.each(t==null?G2:(typeof t=="function"?j2:X2)(t)):this.node().textContent}function J2(){this.innerHTML=""}function Q2(t){return function(){this.innerHTML=t}}function tx(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ex(t){return arguments.length?this.each(t==null?J2:(typeof t=="function"?tx:Q2)(t)):this.node().innerHTML}function nx(){this.nextSibling&&this.parentNode.appendChild(this)}function ix(){return this.each(nx)}function rx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ox(){return this.each(rx)}function ax(t){var e=typeof t=="function"?t:Zs(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sx(){return null}function ux(t,e){var n=typeof t=="function"?t:Zs(t),i=e==null?sx:typeof e=="function"?e:qc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function fx(){var t=this.parentNode;t&&t.removeChild(this)}function cx(){return this.each(fx)}function lx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hx(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dx(t){return this.select(t?hx:lx)}function px(t){return arguments.length?this.property("__data__",t):this.node().__data__}function mx(t){return function(e){t.call(this,e,this.__data__)}}function gx(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function _x(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,a;n<o;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function yx(t,e,n){return function(){var i=this.__on,o,a=mx(e);if(i){for(var u=0,c=i.length;u<c;++u)if((o=i[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=e;return}}this.addEventListener(t.type,a,n),o={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(o):this.__on=[o]}}function vx(t,e,n){var i=gx(t+""),o,a=i.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var l=0,h=c.length,p;l<h;++l)for(o=0,p=c[l];o<a;++o)if((u=i[o]).type===p.type&&u.name===p.name)return p.value}return}for(c=e?yx:_x,o=0;o<a;++o)this.each(c(i[o],e,n));return this}function f0(t,e,n){var i=r0(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function bx(t,e){return function(){return f0(this,t,e)}}function wx(t,e){return function(){return f0(this,t,e.apply(this,arguments))}}function xx(t,e){return this.each((typeof e=="function"?wx:bx)(t,e))}function*Mx(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var c0=[null];function Se(t,e){this._groups=t,this._parents=e}function Do(){return new Se([[document.documentElement]],c0)}function Tx(){return this}Se.prototype=Do.prototype={constructor:Se,select:jw,selectAll:t2,selectChild:r2,selectChildren:u2,filter:f2,data:m2,enter:c2,exit:_2,join:y2,merge:v2,selection:Tx,order:b2,sort:w2,call:M2,nodes:T2,node:L2,size:S2,empty:P2,each:k2,attr:O2,style:R2,property:H2,classed:Y2,text:K2,html:ex,raise:ix,lower:ox,append:ax,insert:ux,remove:cx,clone:dx,datum:px,on:vx,dispatch:xx,[Symbol.iterator]:Mx};function be(t){return typeof t=="string"?new Se([[document.querySelector(t)]],[document.documentElement]):new Se([[t]],c0)}function Lx(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Hf(t,e){if(t=Lx(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Wf={capture:!0,passive:!1};function qf(t){t.preventDefault(),t.stopImmediatePropagation()}function Sx(t){var e=t.document.documentElement,n=be(t).on("dragstart.drag",qf,Wf);"onselectstart"in e?n.on("selectstart.drag",qf,Wf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Px(t,e){var n=t.document.documentElement,i=be(t).on("dragstart.drag",null);e&&(i.on("click.drag",qf,Wf),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Sr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Bo(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Qn(){}var Ti=.7,pr=1/Ti,sr="\\s*([+-]?\\d+)\\s*",vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",kx=/^#([0-9a-f]{3,8})$/,Cx=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),Ax=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),Ex=new RegExp(`^rgba\\(${sr},${sr},${sr},${vo}\\)$`),$x=new RegExp(`^rgba\\(${pn},${pn},${pn},${vo}\\)$`),zx=new RegExp(`^hsl\\(${vo},${pn},${pn}\\)$`),Nx=new RegExp(`^hsla\\(${vo},${pn},${pn},${vo}\\)$`),ed={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sr(Qn,Li,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nd,formatHex:nd,formatHex8:Ox,formatHsl:Ix,formatRgb:id,toString:id});function nd(){return this.rgb().formatHex()}function Ox(){return this.rgb().formatHex8()}function Ix(){return l0(this).formatHsl()}function id(){return this.rgb().formatRgb()}function Li(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=kx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rd(e):n===3?new Jt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?va(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?va(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cx.exec(t))?new Jt(e[1],e[2],e[3],1):(e=Ax.exec(t))?new Jt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ex.exec(t))?va(e[1],e[2],e[3],e[4]):(e=$x.exec(t))?va(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zx.exec(t))?sd(e[1],e[2]/100,e[3]/100,1):(e=Nx.exec(t))?sd(e[1],e[2]/100,e[3]/100,e[4]):ed.hasOwnProperty(t)?rd(ed[t]):t==="transparent"?new Jt(NaN,NaN,NaN,0):null}function rd(t){return new Jt(t>>16&255,t>>8&255,t&255,1)}function va(t,e,n,i){return i<=0&&(t=e=n=NaN),new Jt(t,e,n,i)}function Yc(t){return t instanceof Qn||(t=Li(t)),t?(t=t.rgb(),new Jt(t.r,t.g,t.b,t.opacity)):new Jt}function Kn(t,e,n,i){return arguments.length===1?Yc(t):new Jt(t,e,n,i??1)}function Jt(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Sr(Jt,Kn,Bo(Qn,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new Jt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ti:Math.pow(Ti,t),new Jt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Jt(gi(this.r),gi(this.g),gi(this.b),Qa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:od,formatHex:od,formatHex8:Dx,formatRgb:ad,toString:ad}));function od(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}`}function Dx(){return`#${hi(this.r)}${hi(this.g)}${hi(this.b)}${hi((isNaN(this.opacity)?1:this.opacity)*255)}`}function ad(){const t=Qa(this.opacity);return`${t===1?"rgb(":"rgba("}${gi(this.r)}, ${gi(this.g)}, ${gi(this.b)}${t===1?")":`, ${t})`}`}function Qa(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function hi(t){return t=gi(t),(t<16?"0":"")+t.toString(16)}function sd(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ye(t,e,n,i)}function l0(t){if(t instanceof Ye)return new Ye(t.h,t.s,t.l,t.opacity);if(t instanceof Qn||(t=Li(t)),!t)return new Ye;if(t instanceof Ye)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),u=NaN,c=a-o,l=(a+o)/2;return c?(e===a?u=(n-i)/c+(n<i)*6:n===a?u=(i-e)/c+2:u=(e-n)/c+4,c/=l<.5?a+o:2-a-o,u*=60):c=l>0&&l<1?0:u,new Ye(u,c,l,t.opacity)}function Vf(t,e,n,i){return arguments.length===1?l0(t):new Ye(t,e,n,i??1)}function Ye(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Sr(Ye,Vf,Bo(Qn,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new Ye(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ti:Math.pow(Ti,t),new Ye(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new Jt(Gu(t>=240?t-240:t+120,o,i),Gu(t,o,i),Gu(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Ye(ud(this.h),ba(this.s),ba(this.l),Qa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Qa(this.opacity);return`${t===1?"hsl(":"hsla("}${ud(this.h)}, ${ba(this.s)*100}%, ${ba(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ud(t){return t=(t||0)%360,t<0?t+360:t}function ba(t){return Math.max(0,Math.min(1,t||0))}function Gu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const h0=Math.PI/180,d0=180/Math.PI,ts=18,p0=.96422,m0=1,g0=.82521,_0=4/29,ur=6/29,y0=3*ur*ur,Bx=ur*ur*ur;function v0(t){if(t instanceof mn)return new mn(t.l,t.a,t.b,t.opacity);if(t instanceof zn)return b0(t);t instanceof Jt||(t=Yc(t));var e=Ju(t.r),n=Ju(t.g),i=Ju(t.b),o=Xu((.2225045*e+.7168786*n+.0606169*i)/m0),a,u;return e===n&&n===i?a=u=o:(a=Xu((.4360747*e+.3850649*n+.1430804*i)/p0),u=Xu((.0139322*e+.0971045*n+.7141733*i)/g0)),new mn(116*o-16,500*(a-o),200*(o-u),t.opacity)}function Yf(t,e,n,i){return arguments.length===1?v0(t):new mn(t,e,n,i??1)}function mn(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}Sr(mn,Yf,Bo(Qn,{brighter(t){return new mn(this.l+ts*(t??1),this.a,this.b,this.opacity)},darker(t){return new mn(this.l-ts*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=p0*ju(e),t=m0*ju(t),n=g0*ju(n),new Jt(Ku(3.1338561*e-1.6168667*t-.4906146*n),Ku(-.9787684*e+1.9161415*t+.033454*n),Ku(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Xu(t){return t>Bx?Math.pow(t,1/3):t/y0+_0}function ju(t){return t>ur?t*t*t:y0*(t-_0)}function Ku(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ju(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Rx(t){if(t instanceof zn)return new zn(t.h,t.c,t.l,t.opacity);if(t instanceof mn||(t=v0(t)),t.a===0&&t.b===0)return new zn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*d0;return new zn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Gf(t,e,n,i){return arguments.length===1?Rx(t):new zn(t,e,n,i??1)}function zn(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function b0(t){if(isNaN(t.h))return new mn(t.l,0,0,t.opacity);var e=t.h*h0;return new mn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Sr(zn,Gf,Bo(Qn,{brighter(t){return new zn(this.h,this.c,this.l+ts*(t??1),this.opacity)},darker(t){return new zn(this.h,this.c,this.l-ts*(t??1),this.opacity)},rgb(){return b0(this).rgb()}}));var w0=-.14861,Gc=1.78277,Xc=-.29227,Fs=-.90649,bo=1.97294,fd=bo*Fs,cd=bo*Gc,ld=Gc*Xc-Fs*w0;function Zx(t){if(t instanceof _i)return new _i(t.h,t.s,t.l,t.opacity);t instanceof Jt||(t=Yc(t));var e=t.r/255,n=t.g/255,i=t.b/255,o=(ld*i+fd*e-cd*n)/(ld+fd-cd),a=i-o,u=(bo*(n-o)-Xc*a)/Fs,c=Math.sqrt(u*u+a*a)/(bo*o*(1-o)),l=c?Math.atan2(u,a)*d0-120:NaN;return new _i(l<0?l+360:l,c,o,t.opacity)}function gn(t,e,n,i){return arguments.length===1?Zx(t):new _i(t,e,n,i??1)}function _i(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Sr(_i,gn,Bo(Qn,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new _i(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ti:Math.pow(Ti,t),new _i(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*h0,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),o=Math.sin(t);return new Jt(255*(e+n*(w0*i+Gc*o)),255*(e+n*(Xc*i+Fs*o)),255*(e+n*(bo*i)),this.opacity)}}));function Fx(t,e,n,i,o){var a=t*t,u=a*t;return((1-3*t+3*a-u)*e+(4-6*a+3*u)*n+(1+3*t+3*a-3*u)*i+u*o)/6}function Ux(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,c=i<e-1?t[i+2]:2*a-o;return Fx((n-i/e)*e,u,o,a,c)}}const Us=t=>()=>t;function x0(t,e){return function(n){return t+n*e}}function Hx(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function jc(t,e){var n=e-t;return n?x0(t,n>180||n<-180?n-360*Math.round(n/360):n):Us(isNaN(t)?e:t)}function Wx(t){return(t=+t)==1?ue:function(e,n){return n-e?Hx(e,n,t):Us(isNaN(e)?n:e)}}function ue(t,e){var n=e-t;return n?x0(t,n):Us(isNaN(t)?e:t)}const Si=function t(e){var n=Wx(e);function i(o,a){var u=n((o=Kn(o)).r,(a=Kn(a)).r),c=n(o.g,a.g),l=n(o.b,a.b),h=ue(o.opacity,a.opacity);return function(p){return o.r=u(p),o.g=c(p),o.b=l(p),o.opacity=h(p),o+""}}return i.gamma=t,i}(1);function qx(t){return function(e){var n=e.length,i=new Array(n),o=new Array(n),a=new Array(n),u,c;for(u=0;u<n;++u)c=Kn(e[u]),i[u]=c.r||0,o[u]=c.g||0,a[u]=c.b||0;return i=t(i),o=t(o),a=t(a),c.opacity=1,function(l){return c.r=i(l),c.g=o(l),c.b=a(l),c+""}}}var Vx=qx(Ux);function Yx(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<n;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function Gx(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xx(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n),u;for(u=0;u<i;++u)o[u]=Pr(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(c){for(u=0;u<i;++u)a[u]=o[u](c);return a}}function jx(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function oe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Kx(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Pr(t[o],e[o]):i[o]=e[o];return function(a){for(o in n)i[o]=n[o](a);return i}}var Xf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qu=new RegExp(Xf.source,"g");function Jx(t){return function(){return t}}function Qx(t){return function(e){return t(e)+""}}function M0(t,e){var n=Xf.lastIndex=Qu.lastIndex=0,i,o,a,u=-1,c=[],l=[];for(t=t+"",e=e+"";(i=Xf.exec(t))&&(o=Qu.exec(e));)(a=o.index)>n&&(a=e.slice(n,a),c[u]?c[u]+=a:c[++u]=a),(i=i[0])===(o=o[0])?c[u]?c[u]+=o:c[++u]=o:(c[++u]=null,l.push({i:u,x:oe(i,o)})),n=Qu.lastIndex;return n<e.length&&(a=e.slice(n),c[u]?c[u]+=a:c[++u]=a),c.length<2?l[0]?Qx(l[0].x):Jx(e):(e=l.length,function(h){for(var p=0,m;p<e;++p)c[(m=l[p]).i]=m.x(h);return c.join("")})}function Pr(t,e){var n=typeof e,i;return e==null||n==="boolean"?Us(e):(n==="number"?oe:n==="string"?(i=Li(e))?(e=i,Si):M0:e instanceof Li?Si:e instanceof Date?jx:Gx(e)?Yx:Array.isArray(e)?Xx:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Kx:oe)(t,e)}function Kc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var hd=180/Math.PI,jf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function T0(t,e,n,i,o,a){var u,c,l;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,l/=c),t*i<e*n&&(t=-t,e=-e,l=-l,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*hd,skewX:Math.atan(l)*hd,scaleX:u,scaleY:c}}var wa;function t6(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?jf:T0(e.a,e.b,e.c,e.d,e.e,e.f)}function e6(t){return t==null||(wa||(wa=document.createElementNS("http://www.w3.org/2000/svg","g")),wa.setAttribute("transform",t),!(t=wa.transform.baseVal.consolidate()))?jf:(t=t.matrix,T0(t.a,t.b,t.c,t.d,t.e,t.f))}function L0(t,e,n,i){function o(h){return h.length?h.pop()+" ":""}function a(h,p,m,g,_,v){if(h!==m||p!==g){var b=_.push("translate(",null,e,null,n);v.push({i:b-4,x:oe(h,m)},{i:b-2,x:oe(p,g)})}else(m||g)&&_.push("translate("+m+e+g+n)}function u(h,p,m,g){h!==p?(h-p>180?p+=360:p-h>180&&(h+=360),g.push({i:m.push(o(m)+"rotate(",null,i)-2,x:oe(h,p)})):p&&m.push(o(m)+"rotate("+p+i)}function c(h,p,m,g){h!==p?g.push({i:m.push(o(m)+"skewX(",null,i)-2,x:oe(h,p)}):p&&m.push(o(m)+"skewX("+p+i)}function l(h,p,m,g,_,v){if(h!==m||p!==g){var b=_.push(o(_)+"scale(",null,",",null,")");v.push({i:b-4,x:oe(h,m)},{i:b-2,x:oe(p,g)})}else(m!==1||g!==1)&&_.push(o(_)+"scale("+m+","+g+")")}return function(h,p){var m=[],g=[];return h=t(h),p=t(p),a(h.translateX,h.translateY,p.translateX,p.translateY,m,g),u(h.rotate,p.rotate,m,g),c(h.skewX,p.skewX,m,g),l(h.scaleX,h.scaleY,p.scaleX,p.scaleY,m,g),h=p=null,function(_){for(var v=-1,b=g.length,w;++v<b;)m[(w=g[v]).i]=w.x(_);return m.join("")}}}var n6=L0(t6,"px, ","px)","deg)"),i6=L0(e6,", ",")",")");function r6(t){return function(e,n){var i=t((e=Vf(e)).h,(n=Vf(n)).h),o=ue(e.s,n.s),a=ue(e.l,n.l),u=ue(e.opacity,n.opacity);return function(c){return e.h=i(c),e.s=o(c),e.l=a(c),e.opacity=u(c),e+""}}}const o6=r6(jc);function a6(t,e){var n=ue((t=Yf(t)).l,(e=Yf(e)).l),i=ue(t.a,e.a),o=ue(t.b,e.b),a=ue(t.opacity,e.opacity);return function(u){return t.l=n(u),t.a=i(u),t.b=o(u),t.opacity=a(u),t+""}}function s6(t){return function(e,n){var i=t((e=Gf(e)).h,(n=Gf(n)).h),o=ue(e.c,n.c),a=ue(e.l,n.l),u=ue(e.opacity,n.opacity);return function(c){return e.h=i(c),e.c=o(c),e.l=a(c),e.opacity=u(c),e+""}}}const u6=s6(jc);function S0(t){return function e(n){n=+n;function i(o,a){var u=t((o=gn(o)).h,(a=gn(a)).h),c=ue(o.s,a.s),l=ue(o.l,a.l),h=ue(o.opacity,a.opacity);return function(p){return o.h=u(p),o.s=c(p),o.l=l(Math.pow(p,n)),o.opacity=h(p),o+""}}return i.gamma=e,i}(1)}S0(jc);var Jc=S0(ue);function Hs(t,e){e===void 0&&(e=t,t=Pr);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return function(u){var c=Math.max(0,Math.min(i-1,Math.floor(u*=i)));return a[c](u-c)}}function je(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}var mr=0,eo=0,Gr=0,P0=1e3,es,no,ns=0,Pi=0,Ws=0,wo=typeof performance=="object"&&performance.now?performance:Date,k0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Qc(){return Pi||(k0(f6),Pi=wo.now()+Ws)}function f6(){Pi=0}function is(){this._call=this._time=this._next=null}is.prototype=C0.prototype={constructor:is,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Qc():+n)+(e==null?0:+e),!this._next&&no!==this&&(no?no._next=this:es=this,no=this),this._call=t,this._time=n,Kf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kf())}};function C0(t,e,n){var i=new is;return i.restart(t,e,n),i}function c6(){Qc(),++mr;for(var t=es,e;t;)(e=Pi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mr}function dd(){Pi=(ns=wo.now())+Ws,mr=eo=0;try{c6()}finally{mr=0,h6(),Pi=0}}function l6(){var t=wo.now(),e=t-ns;e>P0&&(Ws-=e,ns=t)}function h6(){for(var t,e=es,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:es=n);no=t,Kf(i)}function Kf(t){if(!mr){eo&&(eo=clearTimeout(eo));var e=t-Pi;e>24?(t<1/0&&(eo=setTimeout(dd,t-wo.now()-Ws)),Gr&&(Gr=clearInterval(Gr))):(Gr||(ns=wo.now(),Gr=setInterval(l6,P0)),mr=1,k0(dd))}}function pd(t,e,n){var i=new is;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var d6=Wc("start","end","cancel","interrupt"),p6=[],A0=0,md=1,Jf=2,Ra=3,gd=4,Qf=5,Za=6;function qs(t,e,n,i,o,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;m6(t,n,{name:e,index:i,group:o,on:d6,tween:p6,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:A0})}function tl(t,e){var n=en(t,e);if(n.state>A0)throw new Error("too late; already scheduled");return n}function vn(t,e){var n=en(t,e);if(n.state>Ra)throw new Error("too late; already running");return n}function en(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function m6(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=C0(a,0,n.time);function a(h){n.state=md,n.timer.restart(u,n.delay,n.time),n.delay<=h&&u(h-n.delay)}function u(h){var p,m,g,_;if(n.state!==md)return l();for(p in i)if(_=i[p],_.name===n.name){if(_.state===Ra)return pd(u);_.state===gd?(_.state=Za,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[p]):+p<e&&(_.state=Za,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[p])}if(pd(function(){n.state===Ra&&(n.state=gd,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=Jf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Jf){for(n.state=Ra,o=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(_=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(o[++m]=_);o.length=m+1}}function c(h){for(var p=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(l),n.state=Qf,1),m=-1,g=o.length;++m<g;)o[m].call(t,p);n.state===Qf&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Za,n.timer.stop(),delete i[e];for(var h in i)return;delete t.__transition}}function tc(t,e){var n=t.__transition,i,o,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){a=!1;continue}o=i.state>Jf&&i.state<Qf,i.state=Za,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}a&&delete t.__transition}}function g6(t){return this.each(function(){tc(this,t)})}function _6(t,e){var n,i;return function(){var o=vn(this,t),a=o.tween;if(a!==n){i=n=a;for(var u=0,c=i.length;u<c;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function y6(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=vn(this,t),u=a.tween;if(u!==i){o=(i=u).slice();for(var c={name:e,value:n},l=0,h=o.length;l<h;++l)if(o[l].name===e){o[l]=c;break}l===h&&o.push(c)}a.tween=o}}function v6(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=en(this.node(),n).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===t)return u.value;return null}return this.each((e==null?_6:y6)(n,t,e))}function el(t,e,n){var i=t._id;return t.each(function(){var o=vn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return en(o,i).value[e]}}function E0(t,e){var n;return(typeof e=="number"?oe:e instanceof Li?Si:(n=Li(e))?(e=n,Si):M0)(t,e)}function b6(t){return function(){this.removeAttribute(t)}}function w6(t){return function(){this.removeAttributeNS(t.space,t.local)}}function x6(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttribute(t);return u===o?null:u===i?a:a=e(i=u,n)}}function M6(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===i?a:a=e(i=u,n)}}function T6(t,e,n){var i,o,a;return function(){var u,c=n(this),l;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),l=c+"",u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c)))}}function L6(t,e,n){var i,o,a;return function(){var u,c=n(this),l;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),l=c+"",u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c)))}}function S6(t,e){var n=Rs(t),i=n==="transform"?i6:E0;return this.attrTween(t,typeof e=="function"?(n.local?L6:T6)(n,i,el(this,"attr."+t,e)):e==null?(n.local?w6:b6)(n):(n.local?M6:x6)(n,i,e))}function P6(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function k6(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function C6(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&k6(t,a)),n}return o._value=e,o}function A6(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&P6(t,a)),n}return o._value=e,o}function E6(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Rs(t);return this.tween(n,(i.local?C6:A6)(i,e))}function $6(t,e){return function(){tl(this,t).delay=+e.apply(this,arguments)}}function z6(t,e){return e=+e,function(){tl(this,t).delay=e}}function N6(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$6:z6)(e,t)):en(this.node(),e).delay}function O6(t,e){return function(){vn(this,t).duration=+e.apply(this,arguments)}}function I6(t,e){return e=+e,function(){vn(this,t).duration=e}}function D6(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?O6:I6)(e,t)):en(this.node(),e).duration}function B6(t,e){if(typeof e!="function")throw new Error;return function(){vn(this,t).ease=e}}function R6(t){var e=this._id;return arguments.length?this.each(B6(e,t)):en(this.node(),e).ease}function Z6(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vn(this,t).ease=n}}function F6(t){if(typeof t!="function")throw new Error;return this.each(Z6(this._id,t))}function U6(t){typeof t!="function"&&(t=e0(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=[],l,h=0;h<u;++h)(l=a[h])&&t.call(l,l.__data__,h,a)&&c.push(l);return new Dn(i,this._parents,this._name,this._id)}function H6(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var l=e[c],h=n[c],p=l.length,m=u[c]=new Array(p),g,_=0;_<p;++_)(g=l[_]||h[_])&&(m[_]=g);for(;c<i;++c)u[c]=e[c];return new Dn(u,this._parents,this._name,this._id)}function W6(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function q6(t,e,n){var i,o,a=W6(e)?tl:vn;return function(){var u=a(this,t),c=u.on;c!==i&&(o=(i=c).copy()).on(e,n),u.on=o}}function V6(t,e){var n=this._id;return arguments.length<2?en(this.node(),n).on.on(t):this.each(q6(n,t,e))}function Y6(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function G6(){return this.on("end.remove",Y6(this._id))}function X6(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qc(t));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var c=i[u],l=c.length,h=a[u]=new Array(l),p,m,g=0;g<l;++g)(p=c[g])&&(m=t.call(p,p.__data__,g,c))&&("__data__"in p&&(m.__data__=p.__data__),h[g]=m,qs(h[g],e,n,g,h,en(p,n)));return new Dn(a,this._parents,e,n)}function j6(t){var e=this._name,n=this._id;typeof t!="function"&&(t=t0(t));for(var i=this._groups,o=i.length,a=[],u=[],c=0;c<o;++c)for(var l=i[c],h=l.length,p,m=0;m<h;++m)if(p=l[m]){for(var g=t.call(p,p.__data__,m,l),_,v=en(p,n),b=0,w=g.length;b<w;++b)(_=g[b])&&qs(_,e,n,b,g,v);a.push(g),u.push(p)}return new Dn(a,u,e,n)}var K6=Do.prototype.constructor;function J6(){return new K6(this._groups,this._parents)}function Q6(t,e){var n,i,o;return function(){var a=dr(this,t),u=(this.style.removeProperty(t),dr(this,t));return a===u?null:a===n&&u===i?o:o=e(n=a,i=u)}}function $0(t){return function(){this.style.removeProperty(t)}}function t5(t,e,n){var i,o=n+"",a;return function(){var u=dr(this,t);return u===o?null:u===i?a:a=e(i=u,n)}}function e5(t,e,n){var i,o,a;return function(){var u=dr(this,t),c=n(this),l=c+"";return c==null&&(l=c=(this.style.removeProperty(t),dr(this,t))),u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c))}}function n5(t,e){var n,i,o,a="style."+e,u="end."+a,c;return function(){var l=vn(this,t),h=l.on,p=l.value[a]==null?c||(c=$0(e)):void 0;(h!==n||o!==p)&&(i=(n=h).copy()).on(u,o=p),l.on=i}}function i5(t,e,n){var i=(t+="")=="transform"?n6:E0;return e==null?this.styleTween(t,Q6(t,i)).on("end.style."+t,$0(t)):typeof e=="function"?this.styleTween(t,e5(t,i,el(this,"style."+t,e))).each(n5(this._id,t)):this.styleTween(t,t5(t,i,e),n).on("end.style."+t,null)}function r5(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function o5(t,e,n){var i,o;function a(){var u=e.apply(this,arguments);return u!==o&&(i=(o=u)&&r5(t,u,n)),i}return a._value=e,a}function a5(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,o5(t,e,n??""))}function s5(t){return function(){this.textContent=t}}function u5(t){return function(){var e=t(this);this.textContent=e??""}}function f5(t){return this.tween("text",typeof t=="function"?u5(el(this,"text",t)):s5(t==null?"":t+""))}function c5(t){return function(e){this.textContent=t.call(this,e)}}function l5(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&c5(o)),e}return i._value=t,i}function h5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,l5(t))}function d5(){for(var t=this._name,e=this._id,n=z0(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],c=u.length,l,h=0;h<c;++h)if(l=u[h]){var p=en(l,e);qs(l,t,n,h,u,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Dn(i,this._parents,t,n)}function p5(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(a,u){var c={value:u},l={value:function(){--o===0&&a()}};n.each(function(){var h=vn(this,i),p=h.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(l)),h.on=e}),o===0&&a()})}var m5=0;function Dn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function z0(){return++m5}var Sn=Do.prototype;Dn.prototype={constructor:Dn,select:X6,selectAll:j6,selectChild:Sn.selectChild,selectChildren:Sn.selectChildren,filter:U6,merge:H6,selection:J6,transition:d5,call:Sn.call,nodes:Sn.nodes,node:Sn.node,size:Sn.size,empty:Sn.empty,each:Sn.each,on:V6,attr:S6,attrTween:E6,style:i5,styleTween:a5,text:f5,textTween:h5,remove:G6,tween:v6,delay:N6,duration:D6,ease:R6,easeVarying:F6,end:p5,[Symbol.iterator]:Sn[Symbol.iterator]};function g5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var _5={time:null,delay:0,duration:250,ease:g5};function y5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function v5(t){var e,n;t instanceof Dn?(e=t._id,t=t._name):(e=z0(),(n=_5).time=Qc(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],c=u.length,l,h=0;h<c;++h)(l=u[h])&&qs(l,t,e,h,u,n||y5(l,e));return new Dn(i,this._parents,t,e)}Do.prototype.interrupt=g6;Do.prototype.transition=v5;const tf=t=>()=>t;function b5(t,{sourceEvent:e,target:n,selection:i,mode:o,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function w5(t){t.stopImmediatePropagation()}function ef(t){t.preventDefault(),t.stopImmediatePropagation()}var _d={name:"drag"},nf={name:"space"},ji={name:"handle"},Ki={name:"center"};const{abs:yd,max:ie,min:re}=Math;function vd(t){return[+t[0],+t[1]]}function bd(t){return[vd(t[0]),vd(t[1])]}var Fa={name:"x",handles:["w","e"].map(rs),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},rf={name:"y",handles:["n","s"].map(rs),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Pn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},xd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},x5={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},M5={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function rs(t){return{type:t}}function T5(t){return!t.ctrlKey&&!t.button}function L5(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function S5(){return navigator.maxTouchPoints||"ontouchstart"in this}function of(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function P5(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function k5(){return C5(Fa)}function C5(t){var e=L5,n=T5,i=S5,o=!0,a=Wc("start","brush","end"),u=6,c;function l(w){var S=w.property("__brush",b).selectAll(".overlay").data([rs("overlay")]);S.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Pn.overlay).merge(S).each(function(){var P=of(this).extent;be(this).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1])}),w.selectAll(".selection").data([rs("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Pn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var M=w.selectAll(".handle").data(t.handles,function(P){return P.type});M.exit().remove(),M.enter().append("rect").attr("class",function(P){return"handle handle--"+P.type}).attr("cursor",function(P){return Pn[P.type]}),w.each(h).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(i).on("touchstart.brush",g).on("touchmove.brush",_).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(w,S,M){w.tween?w.on("start.brush",function(P){p(this,arguments).beforestart().start(P)}).on("interrupt.brush end.brush",function(P){p(this,arguments).end(P)}).tween("brush",function(){var P=this,T=P.__brush,k=p(P,arguments),E=T.selection,z=t.input(typeof S=="function"?S.apply(this,arguments):S,T.extent),D=Pr(E,z);function O($){T.selection=$===1&&z===null?null:D($),h.call(P),k.brush()}return E!==null&&z!==null?O:O(1)}):w.each(function(){var P=this,T=arguments,k=P.__brush,E=t.input(typeof S=="function"?S.apply(P,T):S,k.extent),z=p(P,T).beforestart();tc(P),k.selection=E===null?null:E,h.call(P),z.start(M).brush(M).end(M)})},l.clear=function(w,S){l.move(w,null,S)};function h(){var w=be(this),S=of(this).selection;S?(w.selectAll(".selection").style("display",null).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1]),w.selectAll(".handle").style("display",null).attr("x",function(M){return M.type[M.type.length-1]==="e"?S[1][0]-u/2:S[0][0]-u/2}).attr("y",function(M){return M.type[0]==="s"?S[1][1]-u/2:S[0][1]-u/2}).attr("width",function(M){return M.type==="n"||M.type==="s"?S[1][0]-S[0][0]+u:u}).attr("height",function(M){return M.type==="e"||M.type==="w"?S[1][1]-S[0][1]+u:u})):w.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function p(w,S,M){var P=w.__brush.emitter;return P&&(!M||!P.clean)?P:new m(w,S,M)}function m(w,S,M){this.that=w,this.args=S,this.state=w.__brush,this.active=0,this.clean=M}m.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(w,S){return this.starting?(this.starting=!1,this.emit("start",w,S)):this.emit("brush",w),this},brush:function(w,S){return this.emit("brush",w,S),this},end:function(w,S){return--this.active===0&&(delete this.state.emitter,this.emit("end",w,S)),this},emit:function(w,S,M){var P=be(this.that).datum();a.call(w,this.that,new b5(w,{sourceEvent:S,target:l,selection:t.output(this.state.selection),mode:M,dispatch:a}),P)}};function g(w){if(c&&!w.touches||!n.apply(this,arguments))return;var S=this,M=w.target.__data__.type,P=(o&&w.metaKey?M="overlay":M)==="selection"?_d:o&&w.altKey?Ki:ji,T=t===rf?null:x5[M],k=t===Fa?null:M5[M],E=of(S),z=E.extent,D=E.selection,O=z[0][0],$,A,I=z[0][1],U,H,B=z[1][0],V,Q,Y=z[1][1],et,Z,W=0,X=0,K,st=T&&k&&o&&w.shiftKey,nt,J,j=Array.from(w.touches||[w],ft=>{const Nt=ft.identifier;return ft=Hf(ft,S),ft.point0=ft.slice(),ft.identifier=Nt,ft});tc(S);var ut=p(S,arguments,!0).beforestart();if(M==="overlay"){D&&(K=!0);const ft=[j[0],j[1]||j[0]];E.selection=D=[[$=t===rf?O:re(ft[0][0],ft[1][0]),U=t===Fa?I:re(ft[0][1],ft[1][1])],[V=t===rf?B:ie(ft[0][0],ft[1][0]),et=t===Fa?Y:ie(ft[0][1],ft[1][1])]],j.length>1&&yt(w)}else $=D[0][0],U=D[0][1],V=D[1][0],et=D[1][1];A=$,H=U,Q=V,Z=et;var q=be(S).attr("pointer-events","none"),tt=q.selectAll(".overlay").attr("cursor",Pn[M]);if(w.touches)ut.moved=F,ut.ended=dt;else{var ot=be(w.view).on("mousemove.brush",F,!0).on("mouseup.brush",dt,!0);o&&ot.on("keydown.brush",Ct,!0).on("keyup.brush",At,!0),Sx(w.view)}h.call(S),ut.start(w,P.name);function F(ft){for(const Nt of ft.changedTouches||[ft])for(const rn of j)rn.identifier===Nt.identifier&&(rn.cur=Hf(Nt,S));if(st&&!nt&&!J&&j.length===1){const Nt=j[0];yd(Nt.cur[0]-Nt[0])>yd(Nt.cur[1]-Nt[1])?J=!0:nt=!0}for(const Nt of j)Nt.cur&&(Nt[0]=Nt.cur[0],Nt[1]=Nt.cur[1]);K=!0,ef(ft),yt(ft)}function yt(ft){const Nt=j[0],rn=Nt.point0;var ve;switch(W=Nt[0]-rn[0],X=Nt[1]-rn[1],P){case nf:case _d:{T&&(W=ie(O-$,re(B-V,W)),A=$+W,Q=V+W),k&&(X=ie(I-U,re(Y-et,X)),H=U+X,Z=et+X);break}case ji:{j[1]?(T&&(A=ie(O,re(B,j[0][0])),Q=ie(O,re(B,j[1][0])),T=1),k&&(H=ie(I,re(Y,j[0][1])),Z=ie(I,re(Y,j[1][1])),k=1)):(T<0?(W=ie(O-$,re(B-$,W)),A=$+W,Q=V):T>0&&(W=ie(O-V,re(B-V,W)),A=$,Q=V+W),k<0?(X=ie(I-U,re(Y-U,X)),H=U+X,Z=et):k>0&&(X=ie(I-et,re(Y-et,X)),H=U,Z=et+X));break}case Ki:{T&&(A=ie(O,re(B,$-W*T)),Q=ie(O,re(B,V+W*T))),k&&(H=ie(I,re(Y,U-X*k)),Z=ie(I,re(Y,et+X*k)));break}}Q<A&&(T*=-1,ve=$,$=V,V=ve,ve=A,A=Q,Q=ve,M in wd&&tt.attr("cursor",Pn[M=wd[M]])),Z<H&&(k*=-1,ve=U,U=et,et=ve,ve=H,H=Z,Z=ve,M in xd&&tt.attr("cursor",Pn[M=xd[M]])),E.selection&&(D=E.selection),nt&&(A=D[0][0],Q=D[1][0]),J&&(H=D[0][1],Z=D[1][1]),(D[0][0]!==A||D[0][1]!==H||D[1][0]!==Q||D[1][1]!==Z)&&(E.selection=[[A,H],[Q,Z]],h.call(S),ut.brush(ft,P.name))}function dt(ft){if(w5(ft),ft.touches){if(ft.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500)}else Px(ft.view,K),ot.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);q.attr("pointer-events","all"),tt.attr("cursor",Pn.overlay),E.selection&&(D=E.selection),P5(D)&&(E.selection=null,h.call(S)),ut.end(ft,P.name)}function Ct(ft){switch(ft.keyCode){case 16:{st=T&&k;break}case 18:{P===ji&&(T&&(V=Q-W*T,$=A+W*T),k&&(et=Z-X*k,U=H+X*k),P=Ki,yt(ft));break}case 32:{(P===ji||P===Ki)&&(T<0?V=Q-W:T>0&&($=A-W),k<0?et=Z-X:k>0&&(U=H-X),P=nf,tt.attr("cursor",Pn.selection),yt(ft));break}default:return}ef(ft)}function At(ft){switch(ft.keyCode){case 16:{st&&(nt=J=st=!1,yt(ft));break}case 18:{P===Ki&&(T<0?V=Q:T>0&&($=A),k<0?et=Z:k>0&&(U=H),P=ji,yt(ft));break}case 32:{P===nf&&(ft.altKey?(T&&(V=Q-W*T,$=A+W*T),k&&(et=Z-X*k,U=H+X*k),P=Ki):(T<0?V=Q:T>0&&($=A),k<0?et=Z:k>0&&(U=H),P=ji),tt.attr("cursor",Pn[M]),yt(ft));break}default:return}ef(ft)}}function _(w){p(this,arguments).moved(w)}function v(w){p(this,arguments).ended(w)}function b(){var w=this.__brush||{selection:null};return w.extent=bd(e.apply(this,arguments)),w.dim=t,w}return l.extent=function(w){return arguments.length?(e=typeof w=="function"?w:tf(bd(w)),l):e},l.filter=function(w){return arguments.length?(n=typeof w=="function"?w:tf(!!w),l):n},l.touchable=function(w){return arguments.length?(i=typeof w=="function"?w:tf(!!w),l):i},l.handleSize=function(w){return arguments.length?(u=+w,l):u},l.keyModifiers=function(w){return arguments.length?(o=!!w,l):o},l.on=function(){var w=a.on.apply(a,arguments);return w===a?l:w},l}const ec=Math.PI,nc=2*ec,fi=1e-6,A5=nc-fi;function N0(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function E5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return N0;const n=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class $5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?N0:E5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,a,u){this._append`C${+e},${+n},${+i},${+o},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,i,o,a){if(e=+e,n=+n,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,c=this._y1,l=i-e,h=o-n,p=u-e,m=c-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>fi)if(!(Math.abs(m*l-h*p)>fi)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=i-u,v=o-c,b=l*l+h*h,w=_*_+v*v,S=Math.sqrt(b),M=Math.sqrt(g),P=a*Math.tan((ec-Math.acos((b+g-w)/(2*S*M)))/2),T=P/M,k=P/S;Math.abs(T-1)>fi&&this._append`L${e+T*p},${n+T*m}`,this._append`A${a},${a},0,0,${+(m*_>p*v)},${this._x1=e+k*l},${this._y1=n+k*h}`}}arc(e,n,i,o,a,u){if(e=+e,n=+n,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(o),l=i*Math.sin(o),h=e+c,p=n+l,m=1^u,g=u?o-a:a-o;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>fi||Math.abs(this._y1-p)>fi)&&this._append`L${h},${p}`,i&&(g<0&&(g=g%nc+nc),g>A5?this._append`A${i},${i},0,1,${m},${e-c},${n-l}A${i},${i},0,1,${m},${this._x1=h},${this._y1=p}`:g>fi&&this._append`A${i},${i},0,${+(g>=ec)},${m},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function ic(t=3){return new $5(+t)}function z5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function os(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function gr(t){return t=os(Math.abs(t)),t?t[1]:NaN}function N5(t,e){return function(n,i){for(var o=n.length,a=[],u=0,c=t[0],l=0;o>0&&c>0&&(l+c+1>i&&(c=Math.max(1,i-l)),a.push(n.substring(o-=c,o+c)),!((l+=c+1)>i));)c=t[u=(u+1)%t.length];return a.reverse().join(e)}}function O5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var I5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xo(t){if(!(e=I5.exec(t)))throw new Error("invalid format: "+t);var e;return new nl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xo.prototype=nl.prototype;function nl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function D5(t){t:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var O0;function B5(t,e){var n=os(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(O0=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+os(t,Math.max(0,e+a-1))[0]}function Md(t,e){var n=os(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const Td={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:z5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Md(t*100,e),r:Md,s:B5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ld(t){return t}var Sd=Array.prototype.map,Pd=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function R5(t){var e=t.grouping===void 0||t.thousands===void 0?Ld:N5(Sd.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Ld:O5(Sd.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function h(m){m=xo(m);var g=m.fill,_=m.align,v=m.sign,b=m.symbol,w=m.zero,S=m.width,M=m.comma,P=m.precision,T=m.trim,k=m.type;k==="n"?(M=!0,k="g"):Td[k]||(P===void 0&&(P=12),T=!0,k="g"),(w||g==="0"&&_==="=")&&(w=!0,g="0",_="=");var E=b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",z=b==="$"?i:/[%p]/.test(k)?u:"",D=Td[k],O=/[defgprs%]/.test(k);P=P===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(A){var I=E,U=z,H,B,V;if(k==="c")U=D(A)+U,A="";else{A=+A;var Q=A<0||1/A<0;if(A=isNaN(A)?l:D(Math.abs(A),P),T&&(A=D5(A)),Q&&+A==0&&v!=="+"&&(Q=!1),I=(Q?v==="("?v:c:v==="-"||v==="("?"":v)+I,U=(k==="s"?Pd[8+O0/3]:"")+U+(Q&&v==="("?")":""),O){for(H=-1,B=A.length;++H<B;)if(V=A.charCodeAt(H),48>V||V>57){U=(V===46?o+A.slice(H+1):A.slice(H))+U,A=A.slice(0,H);break}}}M&&!w&&(A=e(A,1/0));var Y=I.length+A.length+U.length,et=Y<S?new Array(S-Y+1).join(g):"";switch(M&&w&&(A=e(et+A,et.length?S-U.length:1/0),et=""),_){case"<":A=I+A+U+et;break;case"=":A=I+et+A+U;break;case"^":A=et.slice(0,Y=et.length>>1)+I+A+U+et.slice(Y);break;default:A=et+I+A+U;break}return a(A)}return $.toString=function(){return m+""},$}function p(m,g){var _=h((m=xo(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(gr(g)/3)))*3,b=Math.pow(10,-v),w=Pd[8+v/3];return function(S){return _(b*S)+w}}return{format:h,formatPrefix:p}}var xa,Ne,I0;Z5({thousands:",",grouping:[3],currency:["$",""]});function Z5(t){return xa=R5(t),Ne=xa.format,I0=xa.formatPrefix,xa}function F5(t){return Math.max(0,-gr(Math.abs(t)))}function U5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gr(e)/3)))*3-gr(Math.abs(t)))}function H5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gr(e)-gr(t))+1}var bt=1e-6,D0=1e-12,Lt=Math.PI,Ut=Lt/2,kd=Lt/4,Pe=Lt*2,ce=180/Lt,Zt=Lt/180,Ot=Math.abs,kr=Math.atan,Bn=Math.atan2,Mt=Math.cos,B0=Math.exp,as=Math.log,af=Math.pow,_t=Math.sin,Ie=Math.sign||function(t){return t>0?1:t<0?-1:0},ge=Math.sqrt,il=Math.tan;function R0(t){return t>1?0:t<-1?Lt:Math.acos(t)}function Fe(t){return t>1?Ut:t<-1?-Ut:Math.asin(t)}function De(){}function ss(t,e){t&&Ad.hasOwnProperty(t.type)&&Ad[t.type](t,e)}var Cd={Feature:function(t,e){ss(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)ss(n[i].geometry,e)}},Ad={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){rc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)rc(n[i],e,0)},Polygon:function(t,e){Ed(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Ed(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)ss(n[i],e)}};function rc(t,e,n){var i=-1,o=t.length-n,a;for(e.lineStart();++i<o;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function Ed(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)rc(t[n],e,1);e.polygonEnd()}function ci(t,e){t&&Cd.hasOwnProperty(t.type)?Cd[t.type](t,e):ss(t,e)}function oc(t){return[Bn(t[1],t[0]),Fe(t[2])]}function _r(t){var e=t[0],n=t[1],i=Mt(n);return[i*Mt(e),i*_t(e),_t(n)]}function Ma(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function us(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function sf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ta(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ac(t){var e=ge(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function sc(t,e){function n(i,o){return i=t(i,o),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,o){return i=e.invert(i,o),i&&t.invert(i[0],i[1])}),n}function uc(t,e){return Ot(t)>Lt&&(t-=Math.round(t/Pe)*Pe),[t,e]}uc.invert=uc;function Z0(t,e,n){return(t%=Pe)?e||n?sc(zd(t),Nd(e,n)):zd(t):e||n?Nd(e,n):uc}function $d(t){return function(e,n){return e+=t,Ot(e)>Lt&&(e-=Math.round(e/Pe)*Pe),[e,n]}}function zd(t){var e=$d(t);return e.invert=$d(-t),e}function Nd(t,e){var n=Mt(t),i=_t(t),o=Mt(e),a=_t(e);function u(c,l){var h=Mt(l),p=Mt(c)*h,m=_t(c)*h,g=_t(l),_=g*n+p*i;return[Bn(m*o-_*a,p*n-g*i),Fe(_*o+m*a)]}return u.invert=function(c,l){var h=Mt(l),p=Mt(c)*h,m=_t(c)*h,g=_t(l),_=g*o-m*a;return[Bn(m*o+g*a,p*n+_*i),Fe(_*n-p*i)]},u}function W5(t){t=Z0(t[0]*Zt,t[1]*Zt,t.length>2?t[2]*Zt:0);function e(n){return n=t(n[0]*Zt,n[1]*Zt),n[0]*=ce,n[1]*=ce,n}return e.invert=function(n){return n=t.invert(n[0]*Zt,n[1]*Zt),n[0]*=ce,n[1]*=ce,n},e}function q5(t,e,n,i,o,a){if(n){var u=Mt(e),c=_t(e),l=i*n;o==null?(o=e+i*Pe,a=e-l/2):(o=Od(u,o),a=Od(u,a),(i>0?o<a:o>a)&&(o+=i*Pe));for(var h,p=o;i>0?p>a:p<a;p-=l)h=oc([u,-c*Mt(p),-c*_t(p)]),t.point(h[0],h[1])}}function Od(t,e){e=_r(e),e[0]-=t,ac(e);var n=R0(-e[1]);return((-e[2]<0?-n:n)+Pe-bt)%Pe}function F0(){var t=[],e;return{point:function(n,i,o){e.push([n,i,o])},lineStart:function(){t.push(e=[])},lineEnd:De,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ua(t,e){return Ot(t[0]-e[0])<bt&&Ot(t[1]-e[1])<bt}function La(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function U0(t,e,n,i,o){var a=[],u=[],c,l;if(t.forEach(function(v){if(!((b=v.length-1)<=0)){var b,w=v[0],S=v[b],M;if(Ua(w,S)){if(!w[2]&&!S[2]){for(o.lineStart(),c=0;c<b;++c)o.point((w=v[c])[0],w[1]);o.lineEnd();return}S[0]+=2*bt}a.push(M=new La(w,v,null,!0)),u.push(M.o=new La(w,null,M,!1)),a.push(M=new La(S,v,null,!1)),u.push(M.o=new La(S,null,M,!0))}}),!!a.length){for(u.sort(e),Id(a),Id(u),c=0,l=u.length;c<l;++c)u[c].e=n=!n;for(var h=a[0],p,m;;){for(var g=h,_=!0;g.v;)if((g=g.n)===h)return;p=g.z,o.lineStart();do{if(g.v=g.o.v=!0,g.e){if(_)for(c=0,l=p.length;c<l;++c)o.point((m=p[c])[0],m[1]);else i(g.x,g.n.x,1,o);g=g.n}else{if(_)for(p=g.p.z,c=p.length-1;c>=0;--c)o.point((m=p[c])[0],m[1]);else i(g.x,g.p.x,-1,o);g=g.p}g=g.o,p=g.z,_=!_}while(!g.v);o.lineEnd()}}}function Id(t){if(e=t.length){for(var e,n=0,i=t[0],o;++n<e;)i.n=o=t[n],o.p=i,i=o;i.n=o=t[0],o.p=i}}function uf(t){return Ot(t[0])<=Lt?t[0]:Ie(t[0])*((Ot(t[0])+Lt)%Pe-Lt)}function V5(t,e){var n=uf(e),i=e[1],o=_t(i),a=[_t(n),-Mt(n),0],u=0,c=0,l=new xi;o===1?i=Ut+bt:o===-1&&(i=-Ut-bt);for(var h=0,p=t.length;h<p;++h)if(g=(m=t[h]).length)for(var m,g,_=m[g-1],v=uf(_),b=_[1]/2+kd,w=_t(b),S=Mt(b),M=0;M<g;++M,v=T,w=E,S=z,_=P){var P=m[M],T=uf(P),k=P[1]/2+kd,E=_t(k),z=Mt(k),D=T-v,O=D>=0?1:-1,$=O*D,A=$>Lt,I=w*E;if(l.add(Bn(I*O*_t($),S*z+I*Mt($))),u+=A?D+O*Pe:D,A^v>=n^T>=n){var U=us(_r(_),_r(P));ac(U);var H=us(a,U);ac(H);var B=(A^D>=0?-1:1)*Fe(H[2]);(i>B||i===B&&(U[0]||U[1]))&&(c+=A^D>=0?1:-1)}}return(u<-bt||u<bt&&l<-D0)^c&1}function H0(t,e,n,i){return function(o){var a=e(o),u=F0(),c=e(u),l=!1,h,p,m,g={point:_,lineStart:b,lineEnd:w,polygonStart:function(){g.point=S,g.lineStart=M,g.lineEnd=P,p=[],h=[]},polygonEnd:function(){g.point=_,g.lineStart=b,g.lineEnd=w,p=Km(p);var T=V5(h,i);p.length?(l||(o.polygonStart(),l=!0),U0(p,G5,T,n,o)):T&&(l||(o.polygonStart(),l=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),l&&(o.polygonEnd(),l=!1),p=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function _(T,k){t(T,k)&&o.point(T,k)}function v(T,k){a.point(T,k)}function b(){g.point=v,a.lineStart()}function w(){g.point=_,a.lineEnd()}function S(T,k){m.push([T,k]),c.point(T,k)}function M(){c.lineStart(),m=[]}function P(){S(m[0][0],m[0][1]),c.lineEnd();var T=c.clean(),k=u.result(),E,z=k.length,D,O,$;if(m.pop(),h.push(m),m=null,!!z){if(T&1){if(O=k[0],(D=O.length-1)>0){for(l||(o.polygonStart(),l=!0),o.lineStart(),E=0;E<D;++E)o.point(($=O[E])[0],$[1]);o.lineEnd()}return}z>1&&T&2&&k.push(k.pop().concat(k.shift())),p.push(k.filter(Y5))}}return g}}function Y5(t){return t.length>1}function G5(t,e){return((t=t.x)[0]<0?t[1]-Ut-bt:Ut-t[1])-((e=e.x)[0]<0?e[1]-Ut-bt:Ut-e[1])}const Dd=H0(function(){return!0},X5,K5,[-Lt,-Ut]);function X5(t){var e=NaN,n=NaN,i=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(a,u){var c=a>0?Lt:-Lt,l=Ot(a-e);Ot(l-Lt)<bt?(t.point(e,n=(n+u)/2>0?Ut:-Ut),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(c,n),t.point(a,n),o=0):i!==c&&l>=Lt&&(Ot(e-i)<bt&&(e-=i*bt),Ot(a-c)<bt&&(a-=c*bt),n=j5(e,n,a,u),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(c,n),o=0),t.point(e=a,n=u),i=c},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function j5(t,e,n,i){var o,a,u=_t(t-n);return Ot(u)>bt?kr((_t(e)*(a=Mt(i))*_t(n)-_t(i)*(o=Mt(e))*_t(t))/(o*a*u)):(e+i)/2}function K5(t,e,n,i){var o;if(t==null)o=n*Ut,i.point(-Lt,o),i.point(0,o),i.point(Lt,o),i.point(Lt,0),i.point(Lt,-o),i.point(0,-o),i.point(-Lt,-o),i.point(-Lt,0),i.point(-Lt,o);else if(Ot(t[0]-e[0])>bt){var a=t[0]<e[0]?Lt:-Lt;o=n*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(e[0],e[1])}function J5(t){var e=Mt(t),n=6*Zt,i=e>0,o=Ot(e)>bt;function a(p,m,g,_){q5(_,t,n,g,p,m)}function u(p,m){return Mt(p)*Mt(m)>e}function c(p){var m,g,_,v,b;return{lineStart:function(){v=_=!1,b=1},point:function(w,S){var M=[w,S],P,T=u(w,S),k=i?T?0:h(w,S):T?h(w+(w<0?Lt:-Lt),S):0;if(!m&&(v=_=T)&&p.lineStart(),T!==_&&(P=l(m,M),(!P||Ua(m,P)||Ua(M,P))&&(M[2]=1)),T!==_)b=0,T?(p.lineStart(),P=l(M,m),p.point(P[0],P[1])):(P=l(m,M),p.point(P[0],P[1],2),p.lineEnd()),m=P;else if(o&&m&&i^T){var E;!(k&g)&&(E=l(M,m,!0))&&(b=0,i?(p.lineStart(),p.point(E[0][0],E[0][1]),p.point(E[1][0],E[1][1]),p.lineEnd()):(p.point(E[1][0],E[1][1]),p.lineEnd(),p.lineStart(),p.point(E[0][0],E[0][1],3)))}T&&(!m||!Ua(m,M))&&p.point(M[0],M[1]),m=M,_=T,g=k},lineEnd:function(){_&&p.lineEnd(),m=null},clean:function(){return b|(v&&_)<<1}}}function l(p,m,g){var _=_r(p),v=_r(m),b=[1,0,0],w=us(_,v),S=Ma(w,w),M=w[0],P=S-M*M;if(!P)return!g&&p;var T=e*S/P,k=-e*M/P,E=us(b,w),z=Ta(b,T),D=Ta(w,k);sf(z,D);var O=E,$=Ma(z,O),A=Ma(O,O),I=$*$-A*(Ma(z,z)-1);if(!(I<0)){var U=ge(I),H=Ta(O,(-$-U)/A);if(sf(H,z),H=oc(H),!g)return H;var B=p[0],V=m[0],Q=p[1],Y=m[1],et;V<B&&(et=B,B=V,V=et);var Z=V-B,W=Ot(Z-Lt)<bt,X=W||Z<bt;if(!W&&Y<Q&&(et=Q,Q=Y,Y=et),X?W?Q+Y>0^H[1]<(Ot(H[0]-B)<bt?Q:Y):Q<=H[1]&&H[1]<=Y:Z>Lt^(B<=H[0]&&H[0]<=V)){var K=Ta(O,(-$+U)/A);return sf(K,z),[H,oc(K)]}}}function h(p,m){var g=i?t:Lt-t,_=0;return p<-g?_|=1:p>g&&(_|=2),m<-g?_|=4:m>g&&(_|=8),_}return H0(u,c,a,i?[0,-t]:[-Lt,t-Lt])}function Q5(t,e,n,i,o,a){var u=t[0],c=t[1],l=e[0],h=e[1],p=0,m=1,g=l-u,_=h-c,v;if(v=n-u,!(!g&&v>0)){if(v/=g,g<0){if(v<p)return;v<m&&(m=v)}else if(g>0){if(v>m)return;v>p&&(p=v)}if(v=o-u,!(!g&&v<0)){if(v/=g,g<0){if(v>m)return;v>p&&(p=v)}else if(g>0){if(v<p)return;v<m&&(m=v)}if(v=i-c,!(!_&&v>0)){if(v/=_,_<0){if(v<p)return;v<m&&(m=v)}else if(_>0){if(v>m)return;v>p&&(p=v)}if(v=a-c,!(!_&&v<0)){if(v/=_,_<0){if(v>m)return;v>p&&(p=v)}else if(_>0){if(v<p)return;v<m&&(m=v)}return p>0&&(t[0]=u+p*g,t[1]=c+p*_),m<1&&(e[0]=u+m*g,e[1]=c+m*_),!0}}}}}var io=1e9,Sa=-io;function W0(t,e,n,i){function o(h,p){return t<=h&&h<=n&&e<=p&&p<=i}function a(h,p,m,g){var _=0,v=0;if(h==null||(_=u(h,m))!==(v=u(p,m))||l(h,p)<0^m>0)do g.point(_===0||_===3?t:n,_>1?i:e);while((_=(_+m+4)%4)!==v);else g.point(p[0],p[1])}function u(h,p){return Ot(h[0]-t)<bt?p>0?0:3:Ot(h[0]-n)<bt?p>0?2:1:Ot(h[1]-e)<bt?p>0?1:0:p>0?3:2}function c(h,p){return l(h.x,p.x)}function l(h,p){var m=u(h,1),g=u(p,1);return m!==g?m-g:m===0?p[1]-h[1]:m===1?h[0]-p[0]:m===2?h[1]-p[1]:p[0]-h[0]}return function(h){var p=h,m=F0(),g,_,v,b,w,S,M,P,T,k,E,z={point:D,lineStart:I,lineEnd:U,polygonStart:$,polygonEnd:A};function D(B,V){o(B,V)&&p.point(B,V)}function O(){for(var B=0,V=0,Q=_.length;V<Q;++V)for(var Y=_[V],et=1,Z=Y.length,W=Y[0],X,K,st=W[0],nt=W[1];et<Z;++et)X=st,K=nt,W=Y[et],st=W[0],nt=W[1],K<=i?nt>i&&(st-X)*(i-K)>(nt-K)*(t-X)&&++B:nt<=i&&(st-X)*(i-K)<(nt-K)*(t-X)&&--B;return B}function $(){p=m,g=[],_=[],E=!0}function A(){var B=O(),V=E&&B,Q=(g=Km(g)).length;(V||Q)&&(h.polygonStart(),V&&(h.lineStart(),a(null,null,1,h),h.lineEnd()),Q&&U0(g,c,B,a,h),h.polygonEnd()),p=h,g=_=v=null}function I(){z.point=H,_&&_.push(v=[]),k=!0,T=!1,M=P=NaN}function U(){g&&(H(b,w),S&&T&&m.rejoin(),g.push(m.result())),z.point=D,T&&p.lineEnd()}function H(B,V){var Q=o(B,V);if(_&&v.push([B,V]),k)b=B,w=V,S=Q,k=!1,Q&&(p.lineStart(),p.point(B,V));else if(Q&&T)p.point(B,V);else{var Y=[M=Math.max(Sa,Math.min(io,M)),P=Math.max(Sa,Math.min(io,P))],et=[B=Math.max(Sa,Math.min(io,B)),V=Math.max(Sa,Math.min(io,V))];Q5(Y,et,t,e,n,i)?(T||(p.lineStart(),p.point(Y[0],Y[1])),p.point(et[0],et[1]),Q||p.lineEnd(),E=!1):Q&&(p.lineStart(),p.point(B,V),E=!1)}M=B,P=V,T=Q}return z}}const fc=t=>t;var ff=new xi,cc=new xi,q0,V0,lc,hc,Gn={point:De,lineStart:De,lineEnd:De,polygonStart:function(){Gn.lineStart=t3,Gn.lineEnd=n3},polygonEnd:function(){Gn.lineStart=Gn.lineEnd=Gn.point=De,ff.add(Ot(cc)),cc=new xi},result:function(){var t=ff/2;return ff=new xi,t}};function t3(){Gn.point=e3}function e3(t,e){Gn.point=Y0,q0=lc=t,V0=hc=e}function Y0(t,e){cc.add(hc*t-lc*e),lc=t,hc=e}function n3(){Y0(q0,V0)}const Bd=Gn;var yr=1/0,fs=yr,Mo=-yr,cs=Mo,i3={point:r3,lineStart:De,lineEnd:De,polygonStart:De,polygonEnd:De,result:function(){var t=[[yr,fs],[Mo,cs]];return Mo=cs=-(fs=yr=1/0),t}};function r3(t,e){t<yr&&(yr=t),t>Mo&&(Mo=t),e<fs&&(fs=e),e>cs&&(cs=e)}const ls=i3;var dc=0,pc=0,ro=0,hs=0,ds=0,ir=0,mc=0,gc=0,oo=0,G0,X0,cn,ln,Ge={point:ki,lineStart:Rd,lineEnd:Zd,polygonStart:function(){Ge.lineStart=s3,Ge.lineEnd=u3},polygonEnd:function(){Ge.point=ki,Ge.lineStart=Rd,Ge.lineEnd=Zd},result:function(){var t=oo?[mc/oo,gc/oo]:ir?[hs/ir,ds/ir]:ro?[dc/ro,pc/ro]:[NaN,NaN];return dc=pc=ro=hs=ds=ir=mc=gc=oo=0,t}};function ki(t,e){dc+=t,pc+=e,++ro}function Rd(){Ge.point=o3}function o3(t,e){Ge.point=a3,ki(cn=t,ln=e)}function a3(t,e){var n=t-cn,i=e-ln,o=ge(n*n+i*i);hs+=o*(cn+t)/2,ds+=o*(ln+e)/2,ir+=o,ki(cn=t,ln=e)}function Zd(){Ge.point=ki}function s3(){Ge.point=f3}function u3(){j0(G0,X0)}function f3(t,e){Ge.point=j0,ki(G0=cn=t,X0=ln=e)}function j0(t,e){var n=t-cn,i=e-ln,o=ge(n*n+i*i);hs+=o*(cn+t)/2,ds+=o*(ln+e)/2,ir+=o,o=ln*t-cn*e,mc+=o*(cn+t),gc+=o*(ln+e),oo+=o*3,ki(cn=t,ln=e)}const Fd=Ge;function K0(t){this._context=t}K0.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pe);break}}},result:De};var _c=new xi,cf,J0,Q0,ao,so,ps={point:De,lineStart:function(){ps.point=c3},lineEnd:function(){cf&&tg(J0,Q0),ps.point=De},polygonStart:function(){cf=!0},polygonEnd:function(){cf=null},result:function(){var t=+_c;return _c=new xi,t}};function c3(t,e){ps.point=tg,J0=ao=t,Q0=so=e}function tg(t,e){ao-=t,so-=e,_c.add(ge(ao*ao+so*so)),ao=t,so=e}const Ud=ps;let Hd,ms,Wd,qd;class Vd{constructor(e){this._append=e==null?eg:l3(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Wd||this._append!==ms){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Wd=i,ms=this._append,qd=this._,this._=o}this._+=qd;break}}}result(){const e=this._;return this._="",e.length?e:null}}function eg(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function l3(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return eg;if(e!==Hd){const n=10**e;Hd=e,ms=function(o){let a=1;this._+=o[0];for(const u=o.length;a<u;++a)this._+=Math.round(arguments[a]*n)/n+o[a]}}return ms}function ng(t,e){let n=3,i=4.5,o,a;function u(c){return c&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),ci(c,o(a))),a.result()}return u.area=function(c){return ci(c,o(Bd)),Bd.result()},u.measure=function(c){return ci(c,o(Ud)),Ud.result()},u.bounds=function(c){return ci(c,o(ls)),ls.result()},u.centroid=function(c){return ci(c,o(Fd)),Fd.result()},u.projection=function(c){return arguments.length?(o=c==null?(t=null,fc):(t=c).stream,u):t},u.context=function(c){return arguments.length?(a=c==null?(e=null,new Vd(n)):new K0(e=c),typeof i!="function"&&a.pointRadius(i),u):e},u.pointRadius=function(c){return arguments.length?(i=typeof c=="function"?c:(a.pointRadius(+c),+c),u):i},u.digits=function(c){if(!arguments.length)return n;if(c==null)n=null;else{const l=Math.floor(c);if(!(l>=0))throw new RangeError(`invalid digits: ${c}`);n=l}return e===null&&(a=new Vd(n)),u},u.projection(t).digits(n).context(e)}function yc(t){return{stream:Vs(t)}}function Vs(t){return function(e){var n=new vc;for(var i in t)n[i]=t[i];return n.stream=e,n}}function vc(){}vc.prototype={constructor:vc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function rl(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),ci(n,t.stream(ls)),e(ls.result()),i!=null&&t.clipExtent(i),t}function ol(t,e,n){return rl(t,function(i){var o=e[1][0]-e[0][0],a=e[1][1]-e[0][1],u=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),c=+e[0][0]+(o-u*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(a-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([c,l])},n)}function ig(t,e,n){return ol(t,[[0,0],e],n)}function rg(t,e,n){return rl(t,function(i){var o=+e,a=o/(i[1][0]-i[0][0]),u=(o-a*(i[1][0]+i[0][0]))/2,c=-a*i[0][1];t.scale(150*a).translate([u,c])},n)}function og(t,e,n){return rl(t,function(i){var o=+e,a=o/(i[1][1]-i[0][1]),u=-a*i[0][0],c=(o-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([u,c])},n)}var Yd=16,h3=Mt(30*Zt);function Gd(t,e){return+e?p3(t,e):d3(t)}function d3(t){return Vs({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function p3(t,e){function n(i,o,a,u,c,l,h,p,m,g,_,v,b,w){var S=h-i,M=p-o,P=S*S+M*M;if(P>4*e&&b--){var T=u+g,k=c+_,E=l+v,z=ge(T*T+k*k+E*E),D=Fe(E/=z),O=Ot(Ot(E)-1)<bt||Ot(a-m)<bt?(a+m)/2:Bn(k,T),$=t(O,D),A=$[0],I=$[1],U=A-i,H=I-o,B=M*U-S*H;(B*B/P>e||Ot((S*U+M*H)/P-.5)>.3||u*g+c*_+l*v<h3)&&(n(i,o,a,u,c,l,A,I,O,T/=z,k/=z,E,b,w),w.point(A,I),n(A,I,O,T,k,E,h,p,m,g,_,v,b,w))}}return function(i){var o,a,u,c,l,h,p,m,g,_,v,b,w={point:S,lineStart:M,lineEnd:T,polygonStart:function(){i.polygonStart(),w.lineStart=k},polygonEnd:function(){i.polygonEnd(),w.lineStart=M}};function S(D,O){D=t(D,O),i.point(D[0],D[1])}function M(){m=NaN,w.point=P,i.lineStart()}function P(D,O){var $=_r([D,O]),A=t(D,O);n(m,g,p,_,v,b,m=A[0],g=A[1],p=D,_=$[0],v=$[1],b=$[2],Yd,i),i.point(m,g)}function T(){w.point=S,i.lineEnd()}function k(){M(),w.point=E,w.lineEnd=z}function E(D,O){P(o=D,O),a=m,u=g,c=_,l=v,h=b,w.point=P}function z(){n(m,g,p,_,v,b,a,u,o,c,l,h,Yd,i),w.lineEnd=T,T()}return w}}var m3=Vs({point:function(t,e){this.stream.point(t*Zt,e*Zt)}});function g3(t){return Vs({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function _3(t,e,n,i,o){function a(u,c){return u*=i,c*=o,[e+t*u,n-t*c]}return a.invert=function(u,c){return[(u-e)/t*i,(n-c)/t*o]},a}function Xd(t,e,n,i,o,a){if(!a)return _3(t,e,n,i,o);var u=Mt(a),c=_t(a),l=u*t,h=c*t,p=u/t,m=c/t,g=(c*n-u*e)/t,_=(c*e+u*n)/t;function v(b,w){return b*=i,w*=o,[l*b-h*w+e,n-h*b-l*w]}return v.invert=function(b,w){return[i*(p*b-m*w+g),o*(_-m*b-p*w)]},v}function ti(t){return ag(function(){return t})()}function ag(t){var e,n=150,i=480,o=250,a=0,u=0,c=0,l=0,h=0,p,m=0,g=1,_=1,v=null,b=Dd,w=null,S,M,P,T=fc,k=.5,E,z,D,O,$;function A(B){return D(B[0]*Zt,B[1]*Zt)}function I(B){return B=D.invert(B[0],B[1]),B&&[B[0]*ce,B[1]*ce]}A.stream=function(B){return O&&$===B?O:O=m3(g3(p)(b(E(T($=B)))))},A.preclip=function(B){return arguments.length?(b=B,v=void 0,H()):b},A.postclip=function(B){return arguments.length?(T=B,w=S=M=P=null,H()):T},A.clipAngle=function(B){return arguments.length?(b=+B?J5(v=B*Zt):(v=null,Dd),H()):v*ce},A.clipExtent=function(B){return arguments.length?(T=B==null?(w=S=M=P=null,fc):W0(w=+B[0][0],S=+B[0][1],M=+B[1][0],P=+B[1][1]),H()):w==null?null:[[w,S],[M,P]]},A.scale=function(B){return arguments.length?(n=+B,U()):n},A.translate=function(B){return arguments.length?(i=+B[0],o=+B[1],U()):[i,o]},A.center=function(B){return arguments.length?(a=B[0]%360*Zt,u=B[1]%360*Zt,U()):[a*ce,u*ce]},A.rotate=function(B){return arguments.length?(c=B[0]%360*Zt,l=B[1]%360*Zt,h=B.length>2?B[2]%360*Zt:0,U()):[c*ce,l*ce,h*ce]},A.angle=function(B){return arguments.length?(m=B%360*Zt,U()):m*ce},A.reflectX=function(B){return arguments.length?(g=B?-1:1,U()):g<0},A.reflectY=function(B){return arguments.length?(_=B?-1:1,U()):_<0},A.precision=function(B){return arguments.length?(E=Gd(z,k=B*B),H()):ge(k)},A.fitExtent=function(B,V){return ol(A,B,V)},A.fitSize=function(B,V){return ig(A,B,V)},A.fitWidth=function(B,V){return rg(A,B,V)},A.fitHeight=function(B,V){return og(A,B,V)};function U(){var B=Xd(n,0,0,g,_,m).apply(null,e(a,u)),V=Xd(n,i-B[0],o-B[1],g,_,m);return p=Z0(c,l,h),z=sc(e,V),D=sc(p,z),E=Gd(z,k),H()}function H(){return O=$=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&I,U()}}function al(t){var e=0,n=Lt/3,i=ag(t),o=i(e,n);return o.parallels=function(a){return arguments.length?i(e=a[0]*Zt,n=a[1]*Zt):[e*ce,n*ce]},o}function y3(t){var e=Mt(t);function n(i,o){return[i*e,_t(o)/e]}return n.invert=function(i,o){return[i/e,Fe(o*e)]},n}function v3(t,e){var n=_t(t),i=(n+_t(e))/2;if(Ot(i)<bt)return y3(t);var o=1+n*(2*i-n),a=ge(o)/i;function u(c,l){var h=ge(o-2*i*_t(l))/i;return[h*_t(c*=i),a-h*Mt(c)]}return u.invert=function(c,l){var h=a-l,p=Bn(c,Ot(h))*Ie(h);return h*i<0&&(p-=Lt*Ie(c)*Ie(h)),[p/i,Fe((o-(c*c+h*h)*i*i)/(2*i))]},u}function gs(){return al(v3).scale(155.424).center([0,33.6442])}function sg(){return gs().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function b3(t){var e=t.length;return{point:function(n,i){for(var o=-1;++o<e;)t[o].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function w3(){var t,e,n=sg(),i,o=gs().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,u=gs().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,l,h={point:function(g,_){l=[g,_]}};function p(g){var _=g[0],v=g[1];return l=null,i.point(_,v),l||(a.point(_,v),l)||(c.point(_,v),l)}p.invert=function(g){var _=n.scale(),v=n.translate(),b=(g[0]-v[0])/_,w=(g[1]-v[1])/_;return(w>=.12&&w<.234&&b>=-.425&&b<-.214?o:w>=.166&&w<.234&&b>=-.214&&b<-.115?u:n).invert(g)},p.stream=function(g){return t&&e===g?t:t=b3([n.stream(e=g),o.stream(g),u.stream(g)])},p.precision=function(g){return arguments.length?(n.precision(g),o.precision(g),u.precision(g),m()):n.precision()},p.scale=function(g){return arguments.length?(n.scale(g),o.scale(g*.35),u.scale(g),p.translate(n.translate())):n.scale()},p.translate=function(g){if(!arguments.length)return n.translate();var _=n.scale(),v=+g[0],b=+g[1];return i=n.translate(g).clipExtent([[v-.455*_,b-.238*_],[v+.455*_,b+.238*_]]).stream(h),a=o.translate([v-.307*_,b+.201*_]).clipExtent([[v-.425*_+bt,b+.12*_+bt],[v-.214*_-bt,b+.234*_-bt]]).stream(h),c=u.translate([v-.205*_,b+.212*_]).clipExtent([[v-.214*_+bt,b+.166*_+bt],[v-.115*_-bt,b+.234*_-bt]]).stream(h),m()},p.fitExtent=function(g,_){return ol(p,g,_)},p.fitSize=function(g,_){return ig(p,g,_)},p.fitWidth=function(g,_){return rg(p,g,_)},p.fitHeight=function(g,_){return og(p,g,_)};function m(){return t=e=null,p}return p.scale(1070)}function ug(t){return function(e,n){var i=Mt(e),o=Mt(n),a=t(i*o);return a===1/0?[2,0]:[a*o*_t(e),a*_t(n)]}}function Ro(t){return function(e,n){var i=ge(e*e+n*n),o=t(i),a=_t(o),u=Mt(o);return[Bn(e*a,i*u),Fe(i&&n*a/i)]}}var fg=ug(function(t){return ge(2/(1+t))});fg.invert=Ro(function(t){return 2*Fe(t/2)});function x3(){return ti(fg).scale(124.75).clipAngle(180-.001)}var cg=ug(function(t){return(t=R0(t))&&t/_t(t)});cg.invert=Ro(function(t){return t});function M3(){return ti(cg).scale(79.4188).clipAngle(180-.001)}function Ys(t,e){return[t,as(il((Ut+e)/2))]}Ys.invert=function(t,e){return[t,2*kr(B0(e))-Ut]};function T3(){return lg(Ys).scale(961/Pe)}function lg(t){var e=ti(t),n=e.center,i=e.scale,o=e.translate,a=e.clipExtent,u=null,c,l,h;e.scale=function(m){return arguments.length?(i(m),p()):i()},e.translate=function(m){return arguments.length?(o(m),p()):o()},e.center=function(m){return arguments.length?(n(m),p()):n()},e.clipExtent=function(m){return arguments.length?(m==null?u=c=l=h=null:(u=+m[0][0],c=+m[0][1],l=+m[1][0],h=+m[1][1]),p()):u==null?null:[[u,c],[l,h]]};function p(){var m=Lt*i(),g=e(W5(e.rotate()).invert([0,0]));return a(u==null?[[g[0]-m,g[1]-m],[g[0]+m,g[1]+m]]:t===Ys?[[Math.max(g[0]-m,u),c],[Math.min(g[0]+m,l),h]]:[[u,Math.max(g[1]-m,c)],[l,Math.min(g[1]+m,h)]])}return p()}function Pa(t){return il((Ut+t)/2)}function L3(t,e){var n=Mt(t),i=t===e?_t(t):as(n/Mt(e))/as(Pa(e)/Pa(t)),o=n*af(Pa(t),i)/i;if(!i)return Ys;function a(u,c){o>0?c<-Ut+bt&&(c=-Ut+bt):c>Ut-bt&&(c=Ut-bt);var l=o/af(Pa(c),i);return[l*_t(i*u),o-l*Mt(i*u)]}return a.invert=function(u,c){var l=o-c,h=Ie(i)*ge(u*u+l*l),p=Bn(u,Ot(l))*Ie(l);return l*i<0&&(p-=Lt*Ie(u)*Ie(l)),[p/i,2*kr(af(o/h,1/i))-Ut]},a}function S3(){return al(L3).scale(109.5).parallels([30,30])}function _s(t,e){return[t,e]}_s.invert=_s;function P3(){return ti(_s).scale(152.63)}function k3(t,e){var n=Mt(t),i=t===e?_t(t):(n-Mt(e))/(e-t),o=n/i+t;if(Ot(i)<bt)return _s;function a(u,c){var l=o-c,h=i*u;return[l*_t(h),o-l*Mt(h)]}return a.invert=function(u,c){var l=o-c,h=Bn(u,Ot(l))*Ie(l);return l*i<0&&(h-=Lt*Ie(u)*Ie(l)),[h/i,o-Ie(i)*ge(u*u+l*l)]},a}function C3(){return al(k3).scale(131.154).center([0,13.9389])}var co=1.340264,lo=-.081106,ho=893e-6,po=.003796,ys=ge(3)/2,A3=12;function hg(t,e){var n=Fe(ys*_t(e)),i=n*n,o=i*i*i;return[t*Mt(n)/(ys*(co+3*lo*i+o*(7*ho+9*po*i))),n*(co+lo*i+o*(ho+po*i))]}hg.invert=function(t,e){for(var n=e,i=n*n,o=i*i*i,a=0,u,c,l;a<A3&&(c=n*(co+lo*i+o*(ho+po*i))-e,l=co+3*lo*i+o*(7*ho+9*po*i),n-=u=c/l,i=n*n,o=i*i*i,!(Ot(u)<D0));++a);return[ys*t*(co+3*lo*i+o*(7*ho+9*po*i))/Mt(n),Fe(_t(n)/ys)]};function E3(){return ti(hg).scale(177.158)}function dg(t,e){var n=Mt(e),i=Mt(t)*n;return[n*_t(t)/i,_t(e)/i]}dg.invert=Ro(kr);function $3(){return ti(dg).scale(144.049).clipAngle(60)}function pg(t,e){return[Mt(e)*_t(t),_t(e)]}pg.invert=Ro(Fe);function z3(){return ti(pg).scale(249.5).clipAngle(90+bt)}function mg(t,e){var n=Mt(e),i=1+Mt(t)*n;return[n*_t(t)/i,_t(e)/i]}mg.invert=Ro(function(t){return 2*kr(t)});function N3(){return ti(mg).scale(250).clipAngle(142)}function gg(t,e){return[as(il((Ut+e)/2)),-t]}gg.invert=function(t,e){return[-e,2*kr(B0(t))-Ut]};function O3(){var t=lg(gg),e=t.center,n=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function bn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Gs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const bc=Symbol("implicit");function sl(){var t=new Mi,e=[],n=[],i=bc;function o(a){let u=t.get(a);if(u===void 0){if(i!==bc)return i;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Mi;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return sl(e,n).unknown(i)},bn.apply(o,arguments),o}function Xs(){var t=sl().unknown(void 0),e=t.domain,n=t.range,i=0,o=1,a,u,c=!1,l=0,h=0,p=.5;delete t.unknown;function m(){var g=e().length,_=o<i,v=_?o:i,b=_?i:o;a=(b-v)/Math.max(1,g-l+h*2),c&&(a=Math.floor(a)),v+=(b-v-a*(g-l))*p,u=a*(1-l),c&&(v=Math.round(v),u=Math.round(u));var w=Zf(g).map(function(S){return v+a*S});return n(_?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([i,o]=g,i=+i,o=+o,m()):[i,o]},t.rangeRound=function(g){return[i,o]=g,i=+i,o=+o,c=!0,m()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(g){return arguments.length?(c=!!g,m()):c},t.padding=function(g){return arguments.length?(l=Math.min(1,h=+g),m()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),m()):l},t.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},t.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},t.copy=function(){return Xs(e(),[i,o]).round(c).paddingInner(l).paddingOuter(h).align(p)},bn.apply(m(),arguments)}function _g(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _g(e())},t}function I3(){return _g(Xs.apply(null,arguments).paddingInner(1))}function D3(t){return function(){return t}}function wc(t){return+t}var jd=[0,1];function Be(t){return t}function xc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:D3(isNaN(e)?NaN:.5)}function B3(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function R3(t,e,n){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=xc(o,i),a=n(u,a)):(i=xc(i,o),a=n(a,u)),function(c){return a(i(c))}}function Z3(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=xc(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(c){var l=Ds(t,c,1,i)-1;return a[l](o[l](c))}}function Zo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function js(){var t=jd,e=jd,n=Pr,i,o,a,u=Be,c,l,h;function p(){var g=Math.min(t.length,e.length);return u!==Be&&(u=B3(t[0],t[g-1])),c=g>2?Z3:R3,l=h=null,m}function m(g){return g==null||isNaN(g=+g)?a:(l||(l=c(t.map(i),e,n)))(i(u(g)))}return m.invert=function(g){return u(o((h||(h=c(e,t.map(i),oe)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,wc),p()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),p()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=Kc,p()},m.clamp=function(g){return arguments.length?(u=g?!0:Be,p()):u!==Be},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,_){return i=g,o=_,p()}}function yg(){return js()(Be,Be)}function F3(t,e,n,i){var o=Bf(t,e,n),a;switch(i=xo(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=U5(o,u))&&(i.precision=a),I0(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=H5(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=F5(o))&&(i.precision=a-(i.type==="%")*2);break}}return Ne(i)}function Fo(t){var e=t.domain;return t.ticks=function(n){var i=e();return yo(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return F3(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,a=i.length-1,u=i[o],c=i[a],l,h,p=10;for(c<u&&(h=u,u=c,c=h,h=o,o=a,a=h);p-- >0;){if(h=lr(u,c,n),h===l)return i[o]=u,i[a]=c,e(i);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;l=h}return t},t}function To(){var t=yg();return t.copy=function(){return Zo(t,To())},bn.apply(t,arguments),Fo(t)}function vg(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,wc),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return vg(t).unknown(e)},t=arguments.length?Array.from(t,wc):[0,1],Fo(n)}function bg(t,e){t=t.slice();var n=0,i=t.length-1,o=t[n],a=t[i],u;return a<o&&(u=n,n=i,i=u,u=o,o=a,a=u),t[n]=e.floor(o),t[i]=e.ceil(a),t}function Kd(t){return Math.log(t)}function Jd(t){return Math.exp(t)}function U3(t){return-Math.log(-t)}function H3(t){return-Math.exp(-t)}function W3(t){return isFinite(t)?+("1e"+t):t<0?0:t}function q3(t){return t===10?W3:t===Math.E?Math.exp:e=>Math.pow(t,e)}function V3(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Qd(t){return(e,n)=>-t(-e,n)}function wg(t){const e=t(Kd,Jd),n=e.domain;let i=10,o,a;function u(){return o=V3(i),a=q3(i),n()[0]<0?(o=Qd(o),a=Qd(a),t(U3,H3)):t(Kd,Jd),e}return e.base=function(c){return arguments.length?(i=+c,u()):i},e.domain=function(c){return arguments.length?(n(c),u()):n()},e.ticks=c=>{const l=n();let h=l[0],p=l[l.length-1];const m=p<h;m&&([h,p]=[p,h]);let g=o(h),_=o(p),v,b;const w=c==null?10:+c;let S=[];if(!(i%1)&&_-g<w){if(g=Math.floor(g),_=Math.ceil(_),h>0){for(;g<=_;++g)for(v=1;v<i;++v)if(b=g<0?v/a(-g):v*a(g),!(b<h)){if(b>p)break;S.push(b)}}else for(;g<=_;++g)for(v=i-1;v>=1;--v)if(b=g>0?v/a(-g):v*a(g),!(b<h)){if(b>p)break;S.push(b)}S.length*2<w&&(S=yo(h,p,w))}else S=yo(g,_,Math.min(_-g,w)).map(a);return m?S.reverse():S},e.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=xo(l)).precision==null&&(l.trim=!0),l=Ne(l)),c===1/0)return l;const h=Math.max(1,i*c/e.ticks().length);return p=>{let m=p/a(Math.round(o(p)));return m*i<i-.5&&(m*=i),m<=h?l(p):""}},e.nice=()=>n(bg(n(),{floor:c=>a(Math.floor(o(c))),ceil:c=>a(Math.ceil(o(c)))})),e}function xg(){const t=wg(js()).domain([1,10]);return t.copy=()=>Zo(t,xg()).base(t.base()),bn.apply(t,arguments),t}function tp(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ep(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Mg(t){var e=1,n=t(tp(e),ep(e));return n.constant=function(i){return arguments.length?t(tp(e=+i),ep(e)):e},Fo(n)}function Tg(){var t=Mg(js());return t.copy=function(){return Zo(t,Tg()).constant(t.constant())},bn.apply(t,arguments)}function np(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Y3(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function G3(t){return t<0?-t*t:t*t}function Lg(t){var e=t(Be,Be),n=1;function i(){return n===1?t(Be,Be):n===.5?t(Y3,G3):t(np(n),np(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,i()):n},Fo(e)}function Sg(){var t=Lg(js());return t.copy=function(){return Zo(t,Sg()).exponent(t.exponent())},bn.apply(t,arguments),t}function Pg(){var t=[],e=[],n=[],i;function o(){var u=0,c=Math.max(1,e.length);for(n=new Array(c-1);++u<c;)n[u-1]=Ew(t,u/c);return a}function a(u){return u==null||isNaN(u=+u)?i:e[Ds(n,u)]}return a.invertExtent=function(u){var c=e.indexOf(u);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let c of u)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(me),o()},a.range=function(u){return arguments.length?(e=Array.from(u),o()):e.slice()},a.unknown=function(u){return arguments.length?(i=u,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return Pg().domain(t).range(e).unknown(i)},bn.apply(a,arguments)}function kg(){var t=[.5],e=[0,1],n,i=1;function o(a){return a!=null&&a<=a?e[Ds(t,a,0,i)]:n}return o.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return kg().domain(t).range(e).unknown(n)},bn.apply(o,arguments)}const lf=new Date,hf=new Date;function Yt(t,e,n,i){function o(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(t(a=new Date(+a)),a),o.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),o.round=a=>{const u=o(a),c=o.ceil(a);return a-u<c-a?u:c},o.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),o.range=(a,u,c)=>{const l=[];if(a=o.ceil(a),c=c==null?1:Math.floor(c),!(a<u)||!(c>0))return l;let h;do l.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<u);return l},o.filter=a=>Yt(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;e(u,-1),!a(u););else for(;--c>=0;)for(;e(u,1),!a(u););}),n&&(o.count=(a,u)=>(lf.setTime(+a),hf.setTime(+u),t(lf),t(hf),Math.floor(n(lf,hf))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(i?u=>i(u)%a===0:u=>o.count(0,u)%a===0):o)),o}const vs=Yt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);vs.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):vs);vs.range;const Nn=1e3,Re=Nn*60,On=Re*60,Rn=On*24,ul=Rn*7,ip=Rn*30,df=Rn*365,hn=Yt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Nn)},(t,e)=>(e-t)/Nn,t=>t.getUTCSeconds());hn.range;const Ks=Yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nn)},(t,e)=>{t.setTime(+t+e*Re)},(t,e)=>(e-t)/Re,t=>t.getMinutes());Ks.range;const Uo=Yt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Re)},(t,e)=>(e-t)/Re,t=>t.getUTCMinutes());Uo.range;const Js=Yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nn-t.getMinutes()*Re)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getHours());Js.range;const Ho=Yt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCHours());Ho.range;const $i=Yt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Re)/Rn,t=>t.getDate()-1);$i.range;const Qs=Yt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rn,t=>t.getUTCDate()-1);Qs.range;const tu=Yt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Rn,t=>Math.floor(t/Rn));tu.range;function zi(t){return Yt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Re)/ul)}const vr=zi(0),Lo=zi(1),Cg=zi(2),Ag=zi(3),Ci=zi(4),Eg=zi(5),$g=zi(6);vr.range;Lo.range;Cg.range;Ag.range;Ci.range;Eg.range;$g.range;function Ni(t){return Yt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ul)}const br=Ni(0),So=Ni(1),zg=Ni(2),Ng=Ni(3),Ai=Ni(4),Og=Ni(5),Ig=Ni(6);br.range;So.range;zg.range;Ng.range;Ai.range;Og.range;Ig.range;const Wo=Yt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Wo.range;const qo=Yt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());qo.range;const Ke=Yt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ke.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ke.range;const Je=Yt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Je.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Je.range;function Dg(t,e,n,i,o,a){const u=[[hn,1,Nn],[hn,5,5*Nn],[hn,15,15*Nn],[hn,30,30*Nn],[a,1,Re],[a,5,5*Re],[a,15,15*Re],[a,30,30*Re],[o,1,On],[o,3,3*On],[o,6,6*On],[o,12,12*On],[i,1,Rn],[i,2,2*Rn],[n,1,ul],[e,1,ip],[e,3,3*ip],[t,1,df]];function c(h,p,m){const g=p<h;g&&([h,p]=[p,h]);const _=m&&typeof m.range=="function"?m:l(h,p,m),v=_?_.range(h,+p+1):[];return g?v.reverse():v}function l(h,p,m){const g=Math.abs(p-h)/m,_=Is(([,,w])=>w).right(u,g);if(_===u.length)return t.every(Bf(h/df,p/df,m));if(_===0)return vs.every(Math.max(Bf(h,p,m),1));const[v,b]=u[g/u[_-1][2]<u[_][2]/g?_-1:_];return v.every(b)}return[c,l]}const[X3,j3]=Dg(Je,qo,br,tu,Ho,Uo),[K3,J3]=Dg(Ke,Wo,vr,$i,Js,Ks);function pf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Q3(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,a=t.days,u=t.shortDays,c=t.months,l=t.shortMonths,h=jr(o),p=Kr(o),m=jr(a),g=Kr(a),_=jr(u),v=Kr(u),b=jr(c),w=Kr(c),S=jr(l),M=Kr(l),P={a:Q,A:Y,b:et,B:Z,c:null,d:fp,e:fp,f:x8,g:$8,G:N8,H:v8,I:b8,j:w8,L:Bg,m:M8,M:T8,p:W,q:X,Q:hp,s:dp,S:L8,u:S8,U:P8,V:k8,w:C8,W:A8,x:null,X:null,y:E8,Y:z8,Z:O8,"%":lp},T={a:K,A:st,b:nt,B:J,c:null,d:cp,e:cp,f:R8,g:X8,G:K8,H:I8,I:D8,j:B8,L:Zg,m:Z8,M:F8,p:j,q:ut,Q:hp,s:dp,S:U8,u:H8,U:W8,V:q8,w:V8,W:Y8,x:null,X:null,y:G8,Y:j8,Z:J8,"%":lp},k={a:$,A,b:I,B:U,c:H,d:sp,e:sp,f:m8,g:ap,G:op,H:up,I:up,j:l8,L:p8,m:c8,M:h8,p:O,q:f8,Q:_8,s:y8,S:d8,u:r8,U:o8,V:a8,w:i8,W:s8,x:B,X:V,y:ap,Y:op,Z:u8,"%":g8};P.x=E(n,P),P.X=E(i,P),P.c=E(e,P),T.x=E(n,T),T.X=E(i,T),T.c=E(e,T);function E(q,tt){return function(ot){var F=[],yt=-1,dt=0,Ct=q.length,At,ft,Nt;for(ot instanceof Date||(ot=new Date(+ot));++yt<Ct;)q.charCodeAt(yt)===37&&(F.push(q.slice(dt,yt)),(ft=rp[At=q.charAt(++yt)])!=null?At=q.charAt(++yt):ft=At==="e"?" ":"0",(Nt=tt[At])&&(At=Nt(ot,ft)),F.push(At),dt=yt+1);return F.push(q.slice(dt,yt)),F.join("")}}function z(q,tt){return function(ot){var F=Xr(1900,void 0,1),yt=D(F,q,ot+="",0),dt,Ct;if(yt!=ot.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(tt&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(dt=mf(Xr(F.y,0,1)),Ct=dt.getUTCDay(),dt=Ct>4||Ct===0?So.ceil(dt):So(dt),dt=Qs.offset(dt,(F.V-1)*7),F.y=dt.getUTCFullYear(),F.m=dt.getUTCMonth(),F.d=dt.getUTCDate()+(F.w+6)%7):(dt=pf(Xr(F.y,0,1)),Ct=dt.getDay(),dt=Ct>4||Ct===0?Lo.ceil(dt):Lo(dt),dt=$i.offset(dt,(F.V-1)*7),F.y=dt.getFullYear(),F.m=dt.getMonth(),F.d=dt.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),Ct="Z"in F?mf(Xr(F.y,0,1)).getUTCDay():pf(Xr(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(Ct+5)%7:F.w+F.U*7-(Ct+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,mf(F)):pf(F)}}function D(q,tt,ot,F){for(var yt=0,dt=tt.length,Ct=ot.length,At,ft;yt<dt;){if(F>=Ct)return-1;if(At=tt.charCodeAt(yt++),At===37){if(At=tt.charAt(yt++),ft=k[At in rp?tt.charAt(yt++):At],!ft||(F=ft(q,ot,F))<0)return-1}else if(At!=ot.charCodeAt(F++))return-1}return F}function O(q,tt,ot){var F=h.exec(tt.slice(ot));return F?(q.p=p.get(F[0].toLowerCase()),ot+F[0].length):-1}function $(q,tt,ot){var F=_.exec(tt.slice(ot));return F?(q.w=v.get(F[0].toLowerCase()),ot+F[0].length):-1}function A(q,tt,ot){var F=m.exec(tt.slice(ot));return F?(q.w=g.get(F[0].toLowerCase()),ot+F[0].length):-1}function I(q,tt,ot){var F=S.exec(tt.slice(ot));return F?(q.m=M.get(F[0].toLowerCase()),ot+F[0].length):-1}function U(q,tt,ot){var F=b.exec(tt.slice(ot));return F?(q.m=w.get(F[0].toLowerCase()),ot+F[0].length):-1}function H(q,tt,ot){return D(q,e,tt,ot)}function B(q,tt,ot){return D(q,n,tt,ot)}function V(q,tt,ot){return D(q,i,tt,ot)}function Q(q){return u[q.getDay()]}function Y(q){return a[q.getDay()]}function et(q){return l[q.getMonth()]}function Z(q){return c[q.getMonth()]}function W(q){return o[+(q.getHours()>=12)]}function X(q){return 1+~~(q.getMonth()/3)}function K(q){return u[q.getUTCDay()]}function st(q){return a[q.getUTCDay()]}function nt(q){return l[q.getUTCMonth()]}function J(q){return c[q.getUTCMonth()]}function j(q){return o[+(q.getUTCHours()>=12)]}function ut(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var tt=E(q+="",P);return tt.toString=function(){return q},tt},parse:function(q){var tt=z(q+="",!1);return tt.toString=function(){return q},tt},utcFormat:function(q){var tt=E(q+="",T);return tt.toString=function(){return q},tt},utcParse:function(q){var tt=z(q+="",!0);return tt.toString=function(){return q},tt}}}var rp={"-":"",_:" ",0:"0"},te=/^\s*\d+/,t8=/^%/,e8=/[\\^$*+?|[\]().{}]/g;function zt(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",a=o.length;return i+(a<n?new Array(n-a+1).join(e)+o:o)}function n8(t){return t.replace(e8,"\\$&")}function jr(t){return new RegExp("^(?:"+t.map(n8).join("|")+")","i")}function Kr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function i8(t,e,n){var i=te.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function r8(t,e,n){var i=te.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function o8(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function a8(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function s8(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function op(t,e,n){var i=te.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function ap(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function u8(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function f8(t,e,n){var i=te.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function c8(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function sp(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function l8(t,e,n){var i=te.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function up(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function h8(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function d8(t,e,n){var i=te.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function p8(t,e,n){var i=te.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function m8(t,e,n){var i=te.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function g8(t,e,n){var i=t8.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function _8(t,e,n){var i=te.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function y8(t,e,n){var i=te.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function fp(t,e){return zt(t.getDate(),e,2)}function v8(t,e){return zt(t.getHours(),e,2)}function b8(t,e){return zt(t.getHours()%12||12,e,2)}function w8(t,e){return zt(1+$i.count(Ke(t),t),e,3)}function Bg(t,e){return zt(t.getMilliseconds(),e,3)}function x8(t,e){return Bg(t,e)+"000"}function M8(t,e){return zt(t.getMonth()+1,e,2)}function T8(t,e){return zt(t.getMinutes(),e,2)}function L8(t,e){return zt(t.getSeconds(),e,2)}function S8(t){var e=t.getDay();return e===0?7:e}function P8(t,e){return zt(vr.count(Ke(t)-1,t),e,2)}function Rg(t){var e=t.getDay();return e>=4||e===0?Ci(t):Ci.ceil(t)}function k8(t,e){return t=Rg(t),zt(Ci.count(Ke(t),t)+(Ke(t).getDay()===4),e,2)}function C8(t){return t.getDay()}function A8(t,e){return zt(Lo.count(Ke(t)-1,t),e,2)}function E8(t,e){return zt(t.getFullYear()%100,e,2)}function $8(t,e){return t=Rg(t),zt(t.getFullYear()%100,e,2)}function z8(t,e){return zt(t.getFullYear()%1e4,e,4)}function N8(t,e){var n=t.getDay();return t=n>=4||n===0?Ci(t):Ci.ceil(t),zt(t.getFullYear()%1e4,e,4)}function O8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function cp(t,e){return zt(t.getUTCDate(),e,2)}function I8(t,e){return zt(t.getUTCHours(),e,2)}function D8(t,e){return zt(t.getUTCHours()%12||12,e,2)}function B8(t,e){return zt(1+Qs.count(Je(t),t),e,3)}function Zg(t,e){return zt(t.getUTCMilliseconds(),e,3)}function R8(t,e){return Zg(t,e)+"000"}function Z8(t,e){return zt(t.getUTCMonth()+1,e,2)}function F8(t,e){return zt(t.getUTCMinutes(),e,2)}function U8(t,e){return zt(t.getUTCSeconds(),e,2)}function H8(t){var e=t.getUTCDay();return e===0?7:e}function W8(t,e){return zt(br.count(Je(t)-1,t),e,2)}function Fg(t){var e=t.getUTCDay();return e>=4||e===0?Ai(t):Ai.ceil(t)}function q8(t,e){return t=Fg(t),zt(Ai.count(Je(t),t)+(Je(t).getUTCDay()===4),e,2)}function V8(t){return t.getUTCDay()}function Y8(t,e){return zt(So.count(Je(t)-1,t),e,2)}function G8(t,e){return zt(t.getUTCFullYear()%100,e,2)}function X8(t,e){return t=Fg(t),zt(t.getUTCFullYear()%100,e,2)}function j8(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function K8(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ai(t):Ai.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function J8(){return"+0000"}function lp(){return"%"}function hp(t){return+t}function dp(t){return Math.floor(+t/1e3)}var Ji,fl,Vo;Q8({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Q8(t){return Ji=Q3(t),fl=Ji.format,Ji.parse,Vo=Ji.utcFormat,Ji.utcParse,Ji}function t4(t){return new Date(t)}function e4(t){return t instanceof Date?+t:+new Date(+t)}function cl(t,e,n,i,o,a,u,c,l,h){var p=yg(),m=p.invert,g=p.domain,_=h(".%L"),v=h(":%S"),b=h("%I:%M"),w=h("%I %p"),S=h("%a %d"),M=h("%b %d"),P=h("%B"),T=h("%Y");function k(E){return(l(E)<E?_:c(E)<E?v:u(E)<E?b:a(E)<E?w:i(E)<E?o(E)<E?S:M:n(E)<E?P:T)(E)}return p.invert=function(E){return new Date(m(E))},p.domain=function(E){return arguments.length?g(Array.from(E,e4)):g().map(t4)},p.ticks=function(E){var z=g();return t(z[0],z[z.length-1],E??10)},p.tickFormat=function(E,z){return z==null?k:h(z)},p.nice=function(E){var z=g();return(!E||typeof E.range!="function")&&(E=e(z[0],z[z.length-1],E??10)),E?g(bg(z,E)):p},p.copy=function(){return Zo(p,cl(t,e,n,i,o,a,u,c,l,h))},p}function n4(){return bn.apply(cl(K3,J3,Ke,Wo,vr,$i,Js,Ks,hn,fl).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function i4(){return bn.apply(cl(X3,j3,Je,qo,br,Qs,Ho,Uo,hn,Vo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nu(){var t=0,e=.5,n=1,i=1,o,a,u,c,l,h=Be,p,m=!1,g;function _(b){return isNaN(b=+b)?g:(b=.5+((b=+p(b))-a)*(i*b<i*a?c:l),h(m?Math.max(0,Math.min(1,b)):b))}_.domain=function(b){return arguments.length?([t,e,n]=b,o=p(t=+t),a=p(e=+e),u=p(n=+n),c=o===a?0:.5/(a-o),l=a===u?0:.5/(u-a),i=a<o?-1:1,_):[t,e,n]},_.clamp=function(b){return arguments.length?(m=!!b,_):m},_.interpolator=function(b){return arguments.length?(h=b,_):h};function v(b){return function(w){var S,M,P;return arguments.length?([S,M,P]=w,h=Hs(b,[S,M,P]),_):[h(0),h(.5),h(1)]}}return _.range=v(Pr),_.rangeRound=v(Kc),_.unknown=function(b){return arguments.length?(g=b,_):g},function(b){return p=b,o=b(t),a=b(e),u=b(n),c=o===a?0:.5/(a-o),l=a===u?0:.5/(u-a),i=a<o?-1:1,_}}function Ug(){var t=Fo(nu()(Be));return t.copy=function(){return eu(t,Ug())},Gs.apply(t,arguments)}function Hg(){var t=wg(nu()).domain([.1,1,10]);return t.copy=function(){return eu(t,Hg()).base(t.base())},Gs.apply(t,arguments)}function Wg(){var t=Mg(nu());return t.copy=function(){return eu(t,Wg()).constant(t.constant())},Gs.apply(t,arguments)}function qg(){var t=Lg(nu());return t.copy=function(){return eu(t,qg()).exponent(t.exponent())},Gs.apply(t,arguments)}function wt(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}const r4=wt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),o4=wt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a4=wt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),s4=wt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),u4=wt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),f4=wt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),c4=wt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),l4=wt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),h4=wt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),d4=wt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),It=t=>Vx(t[t.length-1]);var Vg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(wt);const Yg=It(Vg);var Gg=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(wt);const Xg=It(Gg);var jg=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(wt);const Kg=It(jg);var Jg=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(wt);const Qg=It(Jg);var Mc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(wt);const bs=It(Mc);var t_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(wt);const e_=It(t_);var Tc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(wt);const ws=It(Tc);var n_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(wt);const i_=It(n_);var r_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(wt);const o_=It(r_);var a_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(wt);const s_=It(a_);var u_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(wt);const f_=It(u_);var c_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(wt);const l_=It(c_);var h_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(wt);const d_=It(h_);var p_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(wt);const m_=It(p_);var g_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(wt);const __=It(g_);var y_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(wt);const v_=It(y_);var b_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(wt);const w_=It(b_);var x_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(wt);const M_=It(x_);var T_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(wt);const L_=It(T_);var S_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(wt);const P_=It(S_);var k_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(wt);const C_=It(k_);var A_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(wt);const E_=It(A_);var $_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(wt);const z_=It($_);var N_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(wt);const O_=It(N_);var I_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(wt);const D_=It(I_);var B_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(wt);const R_=It(B_);var Z_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(wt);const F_=It(Z_);function U_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const H_=Jc(gn(300,.5,0),gn(-240,.5,1));var W_=Jc(gn(-100,.75,.35),gn(80,1.5,.8)),q_=Jc(gn(260,.75,.35),gn(80,1.5,.8)),ka=gn();function V_(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ka.h=360*t-100,ka.s=1.5-1.5*e,ka.l=.8-.9*e,ka+""}var Ca=Kn(),p4=Math.PI/3,m4=Math.PI*2/3;function Y_(t){var e;return t=(.5-t)*Math.PI,Ca.r=255*(e=Math.sin(t))*e,Ca.g=255*(e=Math.sin(t+p4))*e,Ca.b=255*(e=Math.sin(t+m4))*e,Ca+""}function G_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function iu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const X_=iu(wt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var j_=iu(wt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),K_=iu(wt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),J_=iu(wt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const Q_=Math.cos,ll=Math.min,xs=Math.sin,Gt=Math.sqrt,Ms=Math.PI,ru=2*Ms,g4=Gt(3),t1={draw(t,e){const n=Gt(e+ll(e/28,.75))*.59436,i=n/2,o=i*g4;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-i),t.lineTo(o,i),t.moveTo(-o,i),t.lineTo(o,-i)}},hl={draw(t,e){const n=Gt(e/Ms);t.moveTo(n,0),t.arc(0,0,n,0,ru)}},e1={draw(t,e){const n=Gt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},n1=Gt(1/3),_4=n1*2,i1={draw(t,e){const n=Gt(e/_4),i=n*n1;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},r1={draw(t,e){const n=Gt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},o1={draw(t,e){const n=Gt(e-ll(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},a1={draw(t,e){const n=Gt(e),i=-n/2;t.rect(i,i,n,n)}},s1={draw(t,e){const n=Gt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},y4=.8908130915292852,u1=xs(Ms/10)/xs(7*Ms/10),v4=xs(ru/10)*u1,b4=-Q_(ru/10)*u1,f1={draw(t,e){const n=Gt(e*y4),i=v4*n,o=b4*n;t.moveTo(0,-n),t.lineTo(i,o);for(let a=1;a<5;++a){const u=ru*a/5,c=Q_(u),l=xs(u);t.lineTo(l*n,-c*n),t.lineTo(c*i-l*o,l*i+c*o)}t.closePath()}},gf=Gt(3),c1={draw(t,e){const n=-Gt(e/(gf*3));t.moveTo(0,n*2),t.lineTo(-gf*n,-n),t.lineTo(gf*n,-n),t.closePath()}},w4=Gt(3),l1={draw(t,e){const n=Gt(e)*.6824,i=n/2,o=n*w4/2;t.moveTo(0,-n),t.lineTo(o,i),t.lineTo(-o,i),t.closePath()}},$e=-.5,ze=Gt(3)/2,Lc=1/Gt(12),x4=(Lc/2+1)*3,h1={draw(t,e){const n=Gt(e/x4),i=n/2,o=n*Lc,a=i,u=n*Lc+n,c=-a,l=u;t.moveTo(i,o),t.lineTo(a,u),t.lineTo(c,l),t.lineTo($e*i-ze*o,ze*i+$e*o),t.lineTo($e*a-ze*u,ze*a+$e*u),t.lineTo($e*c-ze*l,ze*c+$e*l),t.lineTo($e*i+ze*o,$e*o-ze*i),t.lineTo($e*a+ze*u,$e*u-ze*a),t.lineTo($e*c+ze*l,$e*l-ze*c),t.closePath()}},d1={draw(t,e){const n=Gt(e-ll(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},M4=[hl,e1,i1,a1,f1,c1,h1],T4=[hl,o1,d1,l1,t1,s1,r1];function uo(t,e,n){this.k=t,this.x=e,this.y=n}uo.prototype={constructor:uo,scale:function(t){return t===1?this:new uo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new uo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};uo.prototype;function Ei(t){return t!=null&&!Number.isNaN(t)}function Qe(t,e){return+Ei(e)-+Ei(t)||me(t,e)}function Ts(t,e){return+Ei(e)-+Ei(t)||Io(t,e)}function p1(t){return t!=null&&`${t}`!=""}function m1(t){return isFinite(t)?t:NaN}function dl(t){return t>0&&isFinite(t)?t:NaN}function g1(t){return t<0&&isFinite(t)?t:NaN}function L4(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),i=t.getUTCMinutes(),o=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${S4(t.getUTCFullYear())}-${$n(t.getUTCMonth()+1,2)}-${$n(t.getUTCDate(),2)}${n||i||o||a?`T${$n(n,2)}:${$n(i,2)}${o||a?`:${$n(o,2)}${a?`.${$n(a,3)}`:""}`:""}Z`:""}`}function S4(t){return t<0?`-${$n(-t,6)}`:t>9999?`+${$n(t,6)}`:$n(t,4)}function $n(t,e){return`${t}`.padStart(e,"0")}const P4=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function _1(t,e){return P4.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const rr=1e3,di=rr*60,pi=di*60,Zn=pi*24,fn=Zn*7,yi=Zn*30,Yn=Zn*365,_f=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",rr],["5 seconds",5*rr],["15 seconds",15*rr],["30 seconds",30*rr],["minute",di],["5 minutes",5*di],["15 minutes",15*di],["30 minutes",30*di],["hour",pi],["3 hours",3*pi],["6 hours",6*pi],["12 hours",12*pi],["day",Zn],["2 days",2*Zn],["week",fn],["2 weeks",2*fn],["month",yi],["3 months",3*yi],["6 months",6*yi],["year",Yn],["2 years",2*Yn],["5 years",5*Yn],["10 years",10*Yn],["20 years",20*Yn],["50 years",50*Yn],["100 years",100*Yn]],pl=new Map([["second",rr],["minute",di],["hour",pi],["day",Zn],["monday",fn],["tuesday",fn],["wednesday",fn],["thursday",fn],["friday",fn],["saturday",fn],["sunday",fn],["week",fn],["month",yi],["year",Yn]]),y1=new Map([["second",hn],["minute",Ks],["hour",Js],["day",$i],["monday",Lo],["tuesday",Cg],["wednesday",Ag],["thursday",Ci],["friday",Eg],["saturday",$g],["sunday",vr],["week",vr],["month",Wo],["year",Ke]]),v1=new Map([["second",hn],["minute",Uo],["hour",Ho],["day",tu],["monday",So],["tuesday",zg],["wednesday",Ng],["thursday",Ai],["friday",Og],["saturday",Ig],["sunday",br],["week",br],["month",qo],["year",Je]]),Yo=Symbol("intervalDuration"),ou=Symbol("intervalType");for(const[t,e]of y1)e[Yo]=pl.get(t),e[ou]="time";for(const[t,e]of v1)e[Yo]=pl.get(t),e[ou]="utc";const k4=[["year",Je,"utc"],["year",Ke,"time"],["month",qo,"utc"],["month",Wo,"time"],["day",tu,"utc",6*yi],["day",$i,"time",6*yi],["hour",Ho,"utc",3*Zn],["minute",Uo,"utc",6*pi],["second",hn,"utc",30*di]];function b1(t,e,n){let i=`${t}`.toLowerCase();i.endsWith("s")&&(i=i.slice(0,-1));let o=1;const a=/^(?:(\d+)\s+)/.exec(i);switch(a&&(i=i.slice(a[0].length),o=+a[1]),i){case"quarter":i="month",o*=3;break;case"half":i="month",o*=6;break}let u=e.get(i);if(!u)throw new Error(`unknown interval: ${t}`);if(o>1){if(!u.every)throw new Error(`non-periodic interval: ${i}`);u=u.every(o),u[Yo]=pl.get(i)*o,u[ou]=n}return u}function w1(t){return b1(t,y1,"time")}function x1(t){return b1(t,v1,"utc")}function pp(t,e){if(!(e>1))return;const n=t[Yo];if(!_f.some(([,o])=>o===n)||n%Zn===0&&Zn<n&&n<yi)return;const[i]=_f[Is(([,o])=>Math.log(o)).center(_f,Math.log(n*e))];return(t[ou]==="time"?w1:x1)(i)}function mp(t,e,n){const i=e==="time"?fl:Vo;if(n==null)return i(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const o=C4(n);switch(t){case"millisecond":return Qi(i(".%L"),i(":%M:%S"),o);case"second":return Qi(i(":%S"),i("%-I:%M"),o);case"minute":return Qi(i("%-I:%M"),i("%p"),o);case"hour":return Qi(i("%-I %p"),i("%b %-d"),o);case"day":return Qi(i("%-d"),i("%b"),o);case"month":return Qi(i("%b"),i("%Y"),o);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function C4(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function A4(t,e){const n=Xe(Ow(t,(i,o)=>Math.abs(o-i)));if(n<1e3)return mp("millisecond","utc",e);for(const[i,o,a,u]of k4){if(n>u||i==="hour"&&!n)break;if(t.every(c=>o.floor(c)>=c))return mp(i,a,e)}}function Qi(t,e,n){return(i,o,a)=>{const u=t(i,o),c=e(i,o),l=o-wr(a);return o!==l&&a[l]!==void 0&&c===e(a[l],l)?u:n(u,c)}}const Po=Object.getPrototypeOf(Uint8Array),E4=Object.prototype.toString,M1=Symbol("reindex");function Kt(t,e,n){const i=typeof e;return i==="string"?gp(t,T1(e),n):i==="function"?gp(t,e,n):i==="number"||e instanceof Date||i==="boolean"?Qt(t,Go(e),n):typeof(e==null?void 0:e.transform)=="function"?_p(e.transform(t),n):$4(_p(e,n),t==null?void 0:t[M1])}function $4(t,e){return e?yl(t,e):t}function gp(t,e,n){return Qt(t,(n==null?void 0:n.prototype)instanceof Po?z4(e):e,n)}function _p(t,e){return e===void 0?ke(t):t instanceof e?t:e.prototype instanceof Po&&!(t instanceof Po)?e.from(t,gl):e.from(t)}function z4(t){return(e,n)=>gl(t(e,n))}const Ha=[null],T1=t=>e=>e[t],L1={transform:Un},_e={transform:t=>t},N4=()=>1,O4=()=>!0,le=t=>t==null?t:`${t}`,Ft=t=>t==null?t:+t,ml=t=>t?t[0]:void 0,Sc=t=>t?t[1]:void 0,Go=t=>()=>t;function I4(t){const e=+`${t}`.slice(1)/100;return(n,i)=>ja(n,e,i)}function yp(t){return t instanceof Po?t:Qt(t,gl,Float64Array)}function gl(t){return t==null?NaN:Number(t)}function D4(t){return Qt(t,B4)}function B4(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?_1(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Fn(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:su(t)?[void 0,t]:[t,void 0]}function we(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function S1(t,e,n){if(t!=null)return nn(t,e,n)}function nn(t,e,n){const i=`${t}`.toLowerCase();if(!n.includes(i))throw new Error(`invalid ${e}: ${t}`);return i}function ke(t){return t==null||t instanceof Array||t instanceof Po?t:Array.from(t)}function Qt(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function ko(t,e=Array){return t instanceof e?t.slice():e.from(t)}function P1({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function R4({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function Z4(t){return P1(t)||R4(t)||t.interval!==void 0}function ei(t){return(t==null?void 0:t.toString)===E4}function Pc(t){return ei(t)&&(t.type!==void 0||t.domain!==void 0)}function _l(t){return ei(t)&&typeof t.transform!="function"}function Co(t){return _l(t)&&t.value===void 0&&t.channel===void 0}function F4(t,e,n,i=_e){return e===void 0&&n===void 0?(e=0,n=t===void 0?i:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function k1(t,e){return t===void 0&&e===void 0?[ml,Sc]:[t,e]}function U4({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Fn(e)),t===void 0&&([t]=Fn(n)),t}function Un(t){const e=t.length,n=new Uint32Array(e);for(let i=0;i<e;++i)n[i]=i;return n}function yl(t,e){return Qt(e,n=>t[n],t.constructor)}function H4(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Aa(t){return t!==null&&typeof t=="object"?t.valueOf():t}function W4(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Ls(t){let e;return[{transform:()=>e,label:Cr(t)},n=>e=n]}function nr(t){return t==null?[t]:Ls(t)}function Cr(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function q4(t,e){return{transform(n){const i=t.transform(n),o=e.transform(n);return Ue(i)||Ue(o)?Qt(i,(a,u)=>new Date((+i[u]+ +o[u])/2)):Qt(i,(a,u)=>(+i[u]+ +o[u])/2,Float64Array)},label:t.label}}function kc(t,e){const n=C1(e==null?void 0:e.interval,e==null?void 0:e.type);return n?Qt(t,n):t}function C1(t,e){const n=vl(t,e);return n&&(i=>Ei(i)?n.floor(i):i)}function vl(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:i=>Math.floor(i*n)/n,offset:i=>(i*n+1)/n,range:(i,o)=>Zf(Math.ceil(i*n),o*n).map(a=>a/n)}:{floor:i=>Math.floor(i/n)*n,offset:i=>i+n,range:(i,o)=>Zf(Math.ceil(i/n),o/n).map(a=>a*n)}}if(typeof t=="string")return(e==="time"?w1:x1)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Xo(t,e){if(t=vl(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function V4(t,e){if(t=Xo(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Y4(t){return typeof(t==null?void 0:t.range)=="function"}function au(t){return t===void 0||_l(t)?t:{value:t}}function G4(t){return t==null?null:{transform:e=>Kt(e,t,Float64Array),label:Cr(t)}}function Oi(t){return t&&typeof t[Symbol.iterator]=="function"}function A1(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function vp(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Ue(t){for(const e of t)if(e!=null)return e instanceof Date}function X4(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&_1(e)}function j4(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function K4(t){for(const e of t)if(e!=null)return typeof e=="number"}function yf(t,e){let n;for(const i of t)if(i!=null){if(!e(i))return!1;n=!0}return n}const J4=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function su(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||J4.has(t))}function Q4(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function pe(t){return t==null||Ao(t)}function Ao(t){return/^\s*none\s*$/i.test(t)}function t7(t){return/^\s*round\s*$/i.test(t)}function E1(t,e){return S1(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function bl(t="middle"){return E1(t,"frameAnchor")}function wr(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Io(e,n)}function e7(t={},...e){let n=t;for(const i of e)for(const o in i)if(n[o]===void 0){const a=i[o];n===t?n={...n,[o]:a}:n[o]=a}return n}function n7(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:i}=n;if(i==null)throw new Error("missing name");const o=`${i}`;if(o==="__proto__")throw new Error(`illegal name: ${o}`);if(e.has(o))throw new Error(`duplicate name: ${o}`);return e.add(o),[i,n]}))}function $1(t){return Oi(t)?n7(t):t}const dn=Symbol("position"),Hn=Symbol("color"),jo=Symbol("radius"),Ko=Symbol("length"),Jo=Symbol("opacity"),uu=Symbol("symbol"),z1=Symbol("projection"),Ht=new Map([["x",dn],["y",dn],["fx",dn],["fy",dn],["r",jo],["color",Hn],["opacity",Jo],["symbol",uu],["length",Ko],["projection",z1]]);function i7(t){return t===dn||t===z1}function r7(t){return t===dn||t===jo||t===Ko||t===Jo}const o7=Math.sqrt(3),a7=2/o7,s7={draw(t,e){const n=Math.sqrt(e/Math.PI),i=n*a7,o=i/2;t.moveTo(0,i),t.lineTo(n,o),t.lineTo(n,-o),t.lineTo(0,-i),t.lineTo(-n,-o),t.lineTo(-n,o),t.closePath()}},N1=new Map([["asterisk",t1],["circle",hl],["cross",e1],["diamond",i1],["diamond2",r1],["hexagon",s7],["plus",o1],["square",a1],["square2",s1],["star",f1],["times",d1],["triangle",c1],["triangle2",l1],["wye",h1]]);function O1(t){return t&&typeof t.draw=="function"}function u7(t){return O1(t)?!0:typeof t!="string"?!1:N1.has(t.toLowerCase())}function wl(t){if(t==null||O1(t))return t;const e=N1.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function xl({filter:t,sort:e,reverse:n,transform:i,initializer:o,...a}={},u){if(i===void 0&&(t!=null&&(i=I1(t)),e!=null&&!Co(e)&&(i=vf(i,B1(e))),n&&(i=vf(i,D1))),u!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||Co(e))&&{sort:e},transform:vf(i,u)}}function Ss({filter:t,sort:e,reverse:n,initializer:i,...o}={},a){return i===void 0&&(t!=null&&(i=I1(t)),e!=null&&!Co(e)&&(i=bf(i,B1(e))),n&&(i=bf(i,D1))),{...o,...(e===null||Co(e))&&{sort:e},initializer:bf(i,a)}}function vf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,i,o){return{data:n,facets:i}=t.call(this,n,i,o),e.call(this,ke(n),i,o)}}function bf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,i,o,...a){let u,c,l,h,p,m;return{data:c=n,facets:l=i,channels:u}=t.call(this,n,i,o,...a),{data:p=c,facets:m=l,channels:h}=e.call(this,c,l,{...o,...u},...a),{data:p,facets:m,channels:{...u,...h}}}}function I1(t){return(e,n)=>{const i=Kt(e,t);return{data:e,facets:n.map(o=>o.filter(a=>i[a]))}}}function D1(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function B1(t){return(typeof t=="function"&&t.length!==1?f7:c7)(t)}function f7(t){return(e,n)=>{const i=(o,a)=>t(e[o],e[a]);return{data:e,facets:n.map(o=>o.slice().sort(i))}}}function c7(t){let e,n;({channel:e,value:t,order:n}={...au(t)});const i=e==null?void 0:e.startsWith("-");if(i&&(e=e.slice(1)),n===void 0&&(n=i?Ts:Qe),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Qe;break;case"descending":n=Ts;break;default:throw new Error(`invalid order: ${n}`)}return(o,a,u)=>{let c;if(e===void 0)c=Kt(o,t);else{if(u===void 0)throw new Error("channel sort requires an initializer");if(c=u[e],!c)return{};c=c.value}const l=(h,p)=>n(c[h],c[p]);return{data:o,facets:a.map(h=>h.slice().sort(l))}}}function bp(t,e){return R1(null,null,t,e)}function Ps(t={x:"count"},e={}){const{y:n=_e}=e;if(n==null)throw new Error("missing channel: y");return R1(null,n,t,e)}function R1(t,e,{data:n=U1,filter:i,sort:o,reverse:a,...u}={},c={}){u=l7(u,c),n=Ml(n,_e),o=o==null?void 0:Z1("sort",o,c),i=i==null?void 0:F1("filter",i,c);const[l,h]=nr(t),[p,m]=nr(e),{z:g,fill:_,stroke:v,x1:b,x2:w,y1:S,y2:M,...P}=c,[T,k]=nr(g),[E]=Fn(_),[z]=Fn(v),[D,O]=nr(E),[$,A]=nr(z);return{..."z"in c&&{z:T||g},..."fill"in c&&{fill:D||_},..."stroke"in c&&{stroke:$||v},...xl(P,(I,U,H)=>{const B=kc(Kt(I,t),H==null?void 0:H.x),V=kc(Kt(I,e),H==null?void 0:H.y),Q=Kt(I,g),Y=Kt(I,E),et=Kt(I,z),Z=p7(u,{z:Q,fill:Y,stroke:et}),W=[],X=[],K=B&&h([]),st=V&&m([]),nt=Q&&k([]),J=Y&&O([]),j=et&&A([]);let ut=0;for(const q of u)q.initialize(I);o&&o.initialize(I),i&&i.initialize(I);for(const q of U){const tt=[];for(const ot of u)ot.scope("facet",q);o&&o.scope("facet",q),i&&i.scope("facet",q);for(const[ot,F]of wf(q,Z))for(const[yt,dt]of wf(F,V))for(const[Ct,At]of wf(dt,B))if(!(i&&!i.reduce(At))){tt.push(ut++),X.push(n.reduceIndex(At,I)),B&&K.push(Ct),V&&st.push(yt),Q&&nt.push(Z===Q?ot:Q[At[0]]),Y&&J.push(Z===Y?ot:Y[At[0]]),et&&j.push(Z===et?ot:et[At[0]]);for(const ft of u)ft.reduce(At);o&&o.reduce(At)}W.push(tt)}return m7(W,o,a),{data:X,facets:W}}),...!wp(u,"x")&&(l?{x:l}:{x1:b,x2:w}),...!wp(u,"y")&&(p?{y:p}:{y1:S,y2:M}),...Object.fromEntries(u.map(({name:I,output:U})=>[I,U]))}}function wp(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function l7(t,e,n=Z1){const i=Object.entries(t);return e.title!=null&&t.title===void 0&&i.push(["title",y7]),e.href!=null&&t.href===void 0&&i.push(["href",H1]),i.filter(([,o])=>o!==void 0).map(([o,a])=>a===null?h7(o):n(o,a,e))}function Z1(t,e,n,i=F1){let o;ei(e)&&"reduce"in e&&(o=e.scale,e=e.reduce);const a=i(t,e,n),[u,c]=Ls(a.label);let l;return{name:t,output:o===void 0?u:{value:u,scale:o},initialize(h){a.initialize(h),l=c([])},scope(h,p){a.scope(h,p)},reduce(h,p){l.push(a.reduce(h,p))}}}function h7(t){return{name:t,initialize(){},scope(){},reduce(){}}}function F1(t,e,n,i=Ml){const o=W4(t,n),a=i(e,o);let u,c;return{label:Cr(a===Cc?null:o,a.label),initialize(l){u=o===void 0?l:Kt(l,o),a.scope==="data"&&(c=a.reduceIndex(Un(l),u))},scope(l,h){a.scope===l&&(c=a.reduceIndex(h,u))},reduce(l,h){return a.scope==null?a.reduceIndex(l,u,h):a.reduceIndex(l,u,c,h)}}}function wf(t,e){return e?_o(Fc(t,n=>e[n]),ml):[[,t]]}function Ml(t,e,n=d7){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&ei(t))return g7(t);if(typeof t=="function")return _7(t);if(/^p\d{2}$/i.test(t))return En(I4(t));switch(`${t}`.toLowerCase()){case"first":return H1;case"last":return v7;case"identity":return U1;case"count":return Cc;case"distinct":return b7;case"sum":return e==null?Cc:w7;case"proportion":return Mp(e,"data");case"proportion-facet":return Mp(e,"facet");case"deviation":return En(yw);case"min":return En(In);case"min-index":return En(Aw);case"max":return En(Xe);case"max-index":return En(Cw);case"mean":return xp($w);case"median":return xp(Rf);case"variance":return En(Wm);case"mode":return En(Nw)}return n(t)}function d7(t){throw new Error(`invalid reduce: ${t}`)}function p7(t,e){for(const n in e){const i=e[n];if(i!==void 0&&!t.some(o=>o.name===n))return i}}function m7(t,e,n){if(e){const i=e.output.transform(),o=(a,u)=>Qe(i[a],i[u]);t.forEach(a=>a.sort(o))}n&&t.forEach(i=>i.reverse())}function g7(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function _7(t){return{reduceIndex(e,n,i){return t(yl(n,e),i)}}}function En(t){return{reduceIndex(e,n){return t(e,i=>n[i])}}}function xp(t){return{reduceIndex(e,n){const i=t(e,o=>n[o]);return Ue(n)?new Date(i):i}}}const U1={reduceIndex(t,e){return yl(e,t)}},H1={reduceIndex(t,e){return e[t[0]]}},y7={reduceIndex(t,e){const i=_o(ar(t,a=>a.length,a=>e[a]),Sc),o=i.slice(-5).reverse();if(o.length<i.length){const a=i.slice(0,-4);o[5-1]=[`… ${a.length.toLocaleString("en-US")} more`,jn(a,Sc)]}return o.map(([a,u])=>`${a} (${u.toLocaleString("en-US")})`).join(`
`)}},v7={reduceIndex(t,e){return e[t[t.length-1]]}},Cc={label:"Frequency",reduceIndex(t){return t.length}},b7={label:"Distinct",reduceIndex(t,e){const n=new Bs;for(const i of t)n.add(e[i]);return n.size}},w7=En(jn);function Mp(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,i,o=1)=>n.length/o}:{scope:e,reduceIndex:(n,i,o=1)=>jn(n,a=>i[a])/o}}function Eo(t,{scale:e,type:n,value:i,filter:o,hint:a,label:u=Cr(i)},c){return a===void 0&&typeof(i==null?void 0:i.transform)=="function"&&(a=i.hint),W1(c,{scale:e,type:n,value:Kt(t,i),label:u,filter:o,hint:a})}function x7(t,e){return Object.fromEntries(Object.entries(t).map(([n,i])=>[n,Eo(e,i,n)]))}function M7(t,e){const n=Object.fromEntries(Object.entries(t).map(([i,{scale:o,value:a}])=>{const u=o==null?null:e[o];return[i,u==null?a:Qt(a,u)]}));return n.channels=t,n}function W1(t,e){const{scale:n,value:i}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&yf(i,su)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&yf(i,Q4)?null:"opacity";break;case"symbol":n!==!0&&yf(i,u7)?(e.scale=null,e.value=Qt(i,wl)):e.scale="symbol";break;default:e.scale=Ht.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Ht.has(n))throw new Error(`unknown scale: ${n}`);return e}function T7(t,e,n,i,o){const{order:a,reverse:u,reduce:c=!0,limit:l}=o;for(const h in o){if(!Ht.has(h))continue;let{value:p,order:m=a,reverse:g=u,reduce:_=c,limit:v=l}=au(o[h]);const b=p==null?void 0:p.startsWith("-");if(b&&(p=p.slice(1)),m=m===void 0?b!==(p==="width"||p==="height")?V1:q1:P7(m),_==null||_===!1)continue;const w=h==="fx"||h==="fy"?S7(e,i[h]):L7(n,h);if(!w)throw new Error(`missing channel for scale: ${h}`);const S=w.value,[M=0,P=1/0]=Oi(v)?v:v<0?[v]:[0,v];if(p==null)w.domain=()=>{let T=Array.from(new Bs(S));return g&&(T=T.reverse()),(M!==0||P!==1/0)&&(T=T.slice(M,P)),T};else{const T=p==="data"?t:p==="height"?Tp(n,"y1","y2"):p==="width"?Tp(n,"x1","x2"):Ac(n,p,p==="y"?"y2":p==="x"?"x2":void 0),k=Ml(_===!0?"max":_,T);w.domain=()=>{let E=vw(Un(S),z=>k.reduceIndex(z,T),z=>S[z]);return m&&E.sort(m),g&&E.reverse(),(M!==0||P!==1/0)&&(E=E.slice(M,P)),E.map(ml)}}}}function L7(t,e){for(const n in t){const i=t[n];if(i.scale===e)return i}}function S7(t,e){const n=t.original;if(n===t)return e;const i=e.value,o=e.value=[];for(let a=0;a<n.length;++a){const u=i[n[a][0]];for(const c of t[a])o[c]=u}return e}function Tp(t,e,n){const i=Ac(t,e),o=Ac(t,n);return Qt(o,(a,u)=>Math.abs(a-i[u]),Float64Array)}function Ac(t,e,n){let i=t[e];if(!i&&n!==void 0&&(i=t[n]),i)return i.value;throw new Error(`missing channel: ${e}`)}function P7(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return q1;case"descending":return V1}throw new Error(`invalid order: ${t}`)}function q1([t,e],[n,i]){return Qe(e,i)||Qe(t,n)}function V1([t,e],[n,i]){return Ts(e,i)||Qe(t,n)}function Lp(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function k7(t){let e,n;return(...i)=>(((n==null?void 0:n.length)!==i.length||n.some((o,a)=>o!==i[a]))&&(n=i,e=t(...i)),e)}const C7=k7(t=>new Intl.NumberFormat(t));function A7(t="en-US"){const e=C7(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function E7(t){return L4(t,"Invalid Date")}function $7(t="en-US"){const e=A7(t);return n=>(n instanceof Date?E7:typeof n=="number"?e:le)(n)}const xr=$7();let Ec=0,$c;function z7(){const t=Ec;return Ec=0,$c=void 0,t}function vi(t){t!==$c&&($c=t,console.warn(t),++Ec)}const xe=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let N7=0;function Sp(){return`plot-clip-${++N7}`}function O7(t,{title:e,href:n,ariaLabel:i,ariaDescription:o,ariaHidden:a,target:u,fill:c,fillOpacity:l,stroke:h,strokeWidth:p,strokeOpacity:m,strokeLinejoin:g,strokeLinecap:_,strokeMiterlimit:v,strokeDasharray:b,strokeDashoffset:w,opacity:S,mixBlendMode:M,imageFilter:P,paintOrder:T,pointerEvents:k,shapeRendering:E,channels:z},{ariaLabel:D,fill:O="currentColor",fillOpacity:$,stroke:A="none",strokeOpacity:I,strokeWidth:U,strokeLinecap:H,strokeLinejoin:B,strokeMiterlimit:V,paintOrder:Q}){O===null&&(c=null,l=null),A===null&&(h=null,m=null),pe(O)?!pe(A)&&(!pe(c)||z!=null&&z.fill)&&(A="none"):pe(A)&&(!pe(h)||z!=null&&z.stroke)&&(O="none");const[Y,et]=Fn(c,O),[Z,W]=we(l,$),[X,K]=Fn(h,A),[st,nt]=we(m,I),[J,j]=we(S);Ao(K)||(p===void 0&&(p=U),_===void 0&&(_=H),g===void 0&&(g=B),v===void 0&&!t7(g)&&(v=V),!Ao(et)&&T===void 0&&(T=Q));const[ut,q]=we(p);return O!==null&&(t.fill=ne(et,"currentColor"),t.fillOpacity=Jr(W,1)),A!==null&&(t.stroke=ne(K,"none"),t.strokeWidth=Jr(q,1),t.strokeOpacity=Jr(nt,1),t.strokeLinejoin=ne(g,"miter"),t.strokeLinecap=ne(_,"butt"),t.strokeMiterlimit=Jr(v,4),t.strokeDasharray=ne(b,"none"),t.strokeDashoffset=ne(w,"0")),t.target=le(u),t.ariaLabel=le(D),t.ariaDescription=le(o),t.ariaHidden=le(a),t.opacity=Jr(j,1),t.mixBlendMode=ne(M,"normal"),t.imageFilter=ne(P,"none"),t.paintOrder=ne(T,"normal"),t.pointerEvents=ne(k,"auto"),t.shapeRendering=ne(E,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:i,optional:!0,filter:null},fill:{value:Y,scale:"auto",optional:!0},fillOpacity:{value:Z,scale:"auto",optional:!0},stroke:{value:X,scale:"auto",optional:!0},strokeOpacity:{value:st,scale:"auto",optional:!0},strokeWidth:{value:ut,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function I7(t,e){e&&t.filter(n=>p1(e[n])).append("title").call(D7,e)}function D7(t,e){e&&t.text(n=>xr(e[n]))}function Ar(t,{target:e,tip:n},{ariaLabel:i,title:o,fill:a,fillOpacity:u,stroke:c,strokeOpacity:l,strokeWidth:h,opacity:p,href:m}){i&&St(t,"aria-label",g=>i[g]),a&&St(t,"fill",g=>a[g]),u&&St(t,"fill-opacity",g=>u[g]),c&&St(t,"stroke",g=>c[g]),l&&St(t,"stroke-opacity",g=>l[g]),h&&St(t,"stroke-width",g=>h[g]),p&&St(t,"opacity",g=>p[g]),m&&R7(t,g=>m[g],e),n||I7(t,o)}function Y1(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=nn(t,"clip",["frame","sphere"])),t}function B7(t,e,n,i){let o;const{clip:a=i.clip}=e;switch(a){case"frame":{const{width:u,height:c,marginLeft:l,marginRight:h,marginTop:p,marginBottom:m}=n,g=Sp();o=`url(#${g})`,t=ye("svg:g",i).call(_=>_.append("svg:clipPath").attr("id",g).append("rect").attr("x",l).attr("y",p).attr("width",u-h-l).attr("height",c-p-m)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:u}=i;if(!u)throw new Error('the "sphere" clip option requires a projection');const c=Sp();o=`url(#${c})`,t.append("clipPath").attr("id",c).append("path").attr("d",ng(u)({type:"Sphere"}));break}}St(t,"aria-label",e.ariaLabel),St(t,"aria-description",e.ariaDescription),St(t,"aria-hidden",e.ariaHidden),St(t,"clip-path",o)}function Ii(t,e,n,i){B7(t,e,n,i),St(t,"fill",e.fill),St(t,"fill-opacity",e.fillOpacity),St(t,"stroke",e.stroke),St(t,"stroke-width",e.strokeWidth),St(t,"stroke-opacity",e.strokeOpacity),St(t,"stroke-linejoin",e.strokeLinejoin),St(t,"stroke-linecap",e.strokeLinecap),St(t,"stroke-miterlimit",e.strokeMiterlimit),St(t,"stroke-dasharray",e.strokeDasharray),St(t,"stroke-dashoffset",e.strokeDashoffset),St(t,"shape-rendering",e.shapeRendering),St(t,"filter",e.imageFilter),St(t,"paint-order",e.paintOrder);const{pointerEvents:o=i.pointerSticky===!1?"none":void 0}=e;St(t,"pointer-events",o)}function Di(t,e){Z7(t,"mix-blend-mode",e.mixBlendMode),St(t,"opacity",e.opacity)}function R7(t,e,n){t.each(function(i){const o=e(i);if(o!=null){const a=this.ownerDocument.createElementNS(hr.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(hr.xlink,"href",o),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function St(t,e,n){n!=null&&t.attr(e,n)}function Z7(t,e,n){n!=null&&t.style(e,n)}function Bi(t,e,{x:n,y:i},o=xe,a=xe){o+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(o+=n.bandwidth()/2),i!=null&&i.bandwidth&&(a+=i.bandwidth()/2),(o||a)&&t.attr("transform",`translate(${o},${a})`)}function ne(t,e){if((t=le(t))!==e)return t}function Jr(t,e){if((t=Ft(t))!==e)return t}const F7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Tl(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!F7.test(t))throw new Error(`invalid class name: ${t}`);return t}function Ll(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function fu({frameAnchor:t},{width:e,height:n,marginTop:i,marginRight:o,marginBottom:a,marginLeft:u}){return[/left$/.test(t)?u:/right$/.test(t)?e-o:(u+e-o)/2,/^top/.test(t)?i:/^bottom/.test(t)?n-a:(i+n-a)/2]}function Sl(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:Y1(n)}}function ye(t,{document:e}){return be(Zs(t).call(e.documentElement))}const G1=Math.PI,kn=2*G1,Pp=.618;function U7({projection:t,inset:e=0,insetTop:n=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e}={},u){if(t==null)return;if(typeof t.stream=="function")return t;let c,l,h="frame";if(ei(t)){let k;if({type:t,domain:l,inset:k,insetTop:n=k!==void 0?k:n,insetRight:i=k!==void 0?k:i,insetBottom:o=k!==void 0?k:o,insetLeft:a=k!==void 0?k:a,clip:h=h,...c}=t,t==null)return}typeof t!="function"&&({type:t}=X1(t));const{width:p,height:m,marginLeft:g,marginRight:_,marginTop:v,marginBottom:b}=u,w=p-g-_-a-i,S=m-v-b-n-o;if(t=t==null?void 0:t({width:w,height:S,clip:h,...c}),t==null)return;h=H7(h,g,v,p-_,m-b);let M=g+a,P=v+n,T;if(l!=null){const[[k,E],[z,D]]=ng(t).bounds(l),O=Math.min(w/(z-k),S/(D-E));O>0?(M-=(O*(k+z)-w)/2,P-=(O*(E+D)-S)/2,T=yc({point($,A){this.stream.point($*O+M,A*O+P)}})):vi("Warning: the projection could not be fit to the specified domain; using the default scale.")}return T??(T=M===0&&P===0?j1():yc({point(k,E){this.stream.point(k+M,E+P)}})),{stream:k=>t.stream(T.stream(h(k)))}}function X1(t){switch(`${t}`.toLowerCase()){case"albers-usa":return qe(w3,.7463,.4673);case"albers":return Ea(sg,.7463,.4673);case"azimuthal-equal-area":return qe(x3,4,4);case"azimuthal-equidistant":return qe(M3,kn,kn);case"conic-conformal":return Ea(S3,kn,kn);case"conic-equal-area":return Ea(gs,6.1702,2.9781);case"conic-equidistant":return Ea(C3,7.312,3.6282);case"equal-earth":return qe(E3,5.4133,2.6347);case"equirectangular":return qe(P3,kn,G1);case"gnomonic":return qe($3,3.4641,3.4641);case"identity":return{type:j1};case"reflect-y":return{type:W7};case"mercator":return qe(T3,kn,kn);case"orthographic":return qe(z3,2,2);case"stereographic":return qe(N3,2,2);case"transverse-mercator":return qe(O3,kn,kn);default:throw new Error(`unknown projection type: ${t}`)}}function H7(t,e,n,i,o){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return W0(e,n,i,o);default:throw new Error(`unknown projection clip type: ${t}`)}}function qe(t,e,n){return{type:({width:i,height:o,rotate:a,precision:u=.15,clip:c})=>{var h,p,m;const l=t();return u!=null&&((h=l.precision)==null||h.call(l,u)),a!=null&&((p=l.rotate)==null||p.call(l,a)),typeof c=="number"&&((m=l.clipAngle)==null||m.call(l,c)),l.scale(Math.min(i/e,o/n)),l.translate([i/2,o/2]),l},aspectRatio:n/e}}function Ea(t,e,n){const{type:i,aspectRatio:o}=qe(t,e,n);return{type:a=>{const{parallels:u,domain:c,width:l,height:h}=a,p=i(a);return u!=null&&(p.parallels(u),c===void 0&&p.fitSize([l,h],{type:"Sphere"})),p},aspectRatio:o}}const j1=Go({stream:t=>t}),W7=Go(yc({point(t,e){this.stream.point(t,-e)}}));function q7(t,e,n,i){const o=n[t],a=n[e],u=o.length,c=n[t]=new Float64Array(u).fill(NaN),l=n[e]=new Float64Array(u).fill(NaN);let h;const p=i.stream({point(m,g){c[h]=m,l[h]=g}});for(h=0;h<u;++h)p.point(o[h],a[h])}function V7({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(ei(t)&&(t=t.type),t!=null)}function Y7(t){if(typeof(t==null?void 0:t.stream)=="function")return Pp;if(ei(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=X1(t);if(e)return e}return Pp}}function G7(t){const e=[],n=[],i={scale:"x",value:e},o={scale:"y",value:n},a={point(u,c){e.push(u),n.push(c)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const u of t.value)ci(u,a);return[i,o]}const K1=new Map([["accent",o4],["category10",r4],["dark2",a4],["paired",s4],["pastel1",u4],["pastel2",f4],["set1",c4],["set2",l4],["set3",h4],["tableau10",d4]]);function X7(t){return t!=null&&K1.has(`${t}`.toLowerCase())}const kp=new Map([...K1,["brbg",Cn(Vg,Yg)],["prgn",Cn(Gg,Xg)],["piyg",Cn(jg,Kg)],["puor",Cn(Jg,Qg)],["rdbu",Cn(Mc,bs)],["rdgy",Cn(t_,e_)],["rdylbu",Cn(Tc,ws)],["rdylgn",Cn(n_,i_)],["spectral",Cn(r_,o_)],["burd",Cp(Mc,bs)],["buylrd",Cp(Tc,ws)],["blues",jt(A_,E_)],["greens",jt($_,z_)],["greys",jt(N_,O_)],["oranges",jt(Z_,F_)],["purples",jt(I_,D_)],["reds",jt(B_,R_)],["turbo",An(G_)],["viridis",An(X_)],["magma",An(j_)],["inferno",An(K_)],["plasma",An(J_)],["cividis",An(U_)],["cubehelix",An(H_)],["warm",An(W_)],["cool",An(q_)],["bugn",jt(a_,s_)],["bupu",jt(u_,f_)],["gnbu",jt(c_,l_)],["orrd",jt(h_,d_)],["pubu",jt(g_,__)],["pubugn",jt(p_,m_)],["purd",jt(y_,v_)],["rdpu",jt(b_,w_)],["ylgn",jt(T_,L_)],["ylgnbu",jt(x_,M_)],["ylorbr",jt(S_,P_)],["ylorrd",jt(k_,C_)],["rainbow",Ap(V_)],["sinebow",Ap(Y_)]]);function jt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?je(e,n):t[n])}function Cn(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?je(e,n):t[n])}function Cp(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?je(i=>e(1-i),n):t[n].slice().reverse())}function An(t){return({length:e})=>je(t,Math.max(2,Math.floor(e)))}function Ap(t){return({length:e})=>je(t,Math.floor(e)+1).slice(0,-1)}function J1(t){const e=`${t}`.toLowerCase();if(!kp.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return kp.get(e)}function cu(t,e){const n=J1(t),i=typeof n=="function"?n({length:e}):n;return i.length!==e?i.slice(0,e):i}function j7(t,e="greys"){const n=new Set,[i,o]=cu(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(o);else if(a===!1)n.add(i);else return;return[...n]}const Ep=new Map([["brbg",Yg],["prgn",Xg],["piyg",Kg],["puor",Qg],["rdbu",bs],["rdgy",e_],["rdylbu",ws],["rdylgn",i_],["spectral",o_],["burd",t=>bs(1-t)],["buylrd",t=>ws(1-t)],["blues",E_],["greens",z_],["greys",O_],["purples",D_],["reds",R_],["oranges",F_],["turbo",G_],["viridis",X_],["magma",j_],["inferno",K_],["plasma",J_],["cividis",U_],["cubehelix",H_],["warm",W_],["cool",q_],["bugn",s_],["bupu",f_],["gnbu",l_],["orrd",d_],["pubugn",m_],["pubu",__],["purd",v_],["rdpu",w_],["ylgnbu",M_],["ylgn",L_],["ylorbr",P_],["ylorrd",C_],["rainbow",V_],["sinebow",Y_]]);function Pl(t){const e=`${t}`.toLowerCase();if(!Ep.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Ep.get(e)}const K7=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function J7(t){return t!=null&&K7.has(`${t}`.toLowerCase())}const Q1=t=>e=>t(1-e),xf=[0,1],$p=new Map([["number",oe],["rgb",Si],["hsl",o6],["hcl",u6],["lab",a6]]);function ty(t){const e=`${t}`.toLowerCase();if(!$p.has(e))throw new Error(`unknown interpolator: ${e}`);return $p.get(e)}function Qo(t,e,n,{type:i,nice:o,clamp:a,zero:u,domain:c=ny(t,n),unknown:l,round:h,scheme:p,interval:m,range:g=Ht.get(t)===jo?fM(n,c):Ht.get(t)===Ko?cM(n,c):Ht.get(t)===Jo?xf:void 0,interpolate:_=Ht.get(t)===Hn?p==null&&g!==void 0?Si:Pl(p!==void 0?p:i==="cyclical"?"rainbow":"turbo"):h?Kc:oe,reverse:v}){if(m=Xo(m,i),(i==="cyclical"||i==="sequential")&&(i="linear"),typeof _!="function"&&(_=ty(_)),v=!!v,g!==void 0){const b=(c=ke(c)).length,w=(g=ke(g)).length;if(b!==w){if(_.length===1)throw new Error("invalid piecewise interpolator");_=Hs(_,g),g=void 0}}if(_.length===1?(v&&(_=Q1(_),v=!1),g===void 0&&(g=Float64Array.from(c,(b,w)=>w/(c.length-1)),g.length===2&&(g=xf)),e.interpolate((g===xf?Go:Cl)(_))):e.interpolate(_),u){const[b,w]=Ze(c);(b>0||w<0)&&(c=ko(c),wr(c)!==Math.sign(b)?c[c.length-1]=0:c[0]=0)}return v&&(c=Ka(c)),e.domain(c).unknown(l),o&&(e.nice(Q7(o,i)),c=e.domain()),g!==void 0&&e.range(g),a&&e.clamp(a),{type:i,domain:c,range:g,scale:e,interpolate:_,interval:m}}function Q7(t,e){return t===!0?void 0:typeof t=="number"?t:V4(t,e)}function tM(t,e,n){return Qo(t,To(),e,n)}function eM(t,e,n){return ey(t,e,{...n,exponent:.5})}function ey(t,e,{exponent:n=1,...i}){return Qo(t,Sg().exponent(n),e,{...i,type:"pow"})}function nM(t,e,{base:n=10,domain:i=lM(e),...o}){return Qo(t,xg().base(n),e,{...o,domain:i})}function iM(t,e,{constant:n=1,...i}){return Qo(t,Tg().constant(n),e,i)}function rM(t,e,{range:n,quantiles:i=n===void 0?5:(n=[...n]).length,n:o=i,scheme:a="rdylbu",domain:u=hM(e),unknown:c,interpolate:l,reverse:h}){return n===void 0&&(n=l!==void 0?je(l,o):Ht.get(t)===Hn?cu(a,o):void 0),u.length>0&&(u=Pg(u,n===void 0?{length:o}:n).quantiles()),kl(t,e,{domain:u,range:n,reverse:h,unknown:c})}function oM(t,e,{range:n,n:i=n===void 0?5:(n=[...n]).length,scheme:o="rdylbu",domain:a=ny(t,e),unknown:u,interpolate:c,reverse:l}){const[h,p]=Ze(a);let m;return n===void 0?(m=yo(h,p,i),m[0]<=h&&m.splice(0,1),m[m.length-1]>=p&&m.pop(),i=m.length+1,n=c!==void 0?je(c,i):Ht.get(t)===Hn?cu(o,i):void 0):(m=je(oe(h,p),i+1).slice(1,-1),h instanceof Date&&(m=m.map(g=>new Date(g)))),wr(ke(a))<0&&m.reverse(),kl(t,e,{domain:m,range:n,reverse:l,unknown:u})}function kl(t,e,{domain:n=[0],unknown:i,scheme:o="rdylbu",interpolate:a,range:u=a!==void 0?je(a,n.length+1):Ht.get(t)===Hn?cu(o,n.length+1):void 0,reverse:c}){n=ke(n);const l=wr(n);if(!isNaN(l)&&!aM(n,l))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(u=Ka(u)),{type:"threshold",scale:kg(l<0?Ka(n):n,u===void 0?[]:u).unknown(i),domain:n,range:u}}function aM(t,e){for(let n=1,i=t.length,o=t[0];n<i;++n){const a=Io(o,o=t[n]);if(a!==0&&a!==e)return!1}return!0}function sM(t){return{type:"identity",scale:r7(Ht.get(t))?vg():e=>e}}function $o(t,e=m1){return t.length?[In(t,({value:n})=>n===void 0?n:In(n,e)),Xe(t,({value:n})=>n===void 0?n:Xe(n,e))]:[0,1]}function ny(t,e){const n=Ht.get(t);return(n===jo||n===Jo||n===Ko?uM:$o)(e)}function uM(t){return[0,t.length?Xe(t,({value:e})=>e===void 0?e:Xe(e,m1)):1]}function fM(t,e){const n=t.find(({radius:u})=>u!==void 0);if(n!==void 0)return[0,n.radius];const i=ja(t,.5,({value:u})=>u===void 0?NaN:ja(u,.25,dl)),o=e.map(u=>3*Math.sqrt(u/i)),a=30/Xe(o);return a<1?o.map(u=>u*a):o}function cM(t,e){const n=Rf(t,({value:a})=>a===void 0?NaN:Rf(a,Math.abs)),i=e.map(a=>12*a/n),o=60/Xe(i);return o<1?i.map(a=>a*o):i}function lM(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return $o(t,dl);if(n<0)return $o(t,g1)}return[1,10]}function hM(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const i of n)e.push(i);return e}function Cl(t){return(e,n)=>i=>t(e+i*(n-e))}function lu(t,e,n,i,{type:o,nice:a,clamp:u,domain:c=$o(i),unknown:l,pivot:h=0,scheme:p,range:m,symmetric:g=!0,interpolate:_=Ht.get(t)===Hn?p==null&&m!==void 0?Si:Pl(p!==void 0?p:"rdbu"):oe,reverse:v}){h=+h,c=ke(c);let[b,w]=c;if(c.length>2&&vi(`Warning: the diverging ${t} scale domain contains extra elements.`),Io(b,w)<0&&([b,w]=[w,b],v=!v),b=Math.min(b,h),w=Math.max(w,h),typeof _!="function"&&(_=ty(_)),m!==void 0&&(_=_.length===1?Cl(_)(...m):Hs(_,m)),v&&(_=Q1(_)),g){const S=n.apply(h),M=S-n.apply(b),P=n.apply(w)-S;M<P?b=n.invert(S-P):M>P&&(w=n.invert(S+M))}return e.domain([b,h,w]).unknown(l).interpolator(_),u&&e.clamp(u),a&&e.nice(a),{type:o,domain:[b,w],pivot:h,interpolate:_,scale:e}}function dM(t,e,n){return lu(t,Ug(),_M,e,n)}function pM(t,e,n){return iy(t,e,{...n,exponent:.5})}function iy(t,e,{exponent:n=1,...i}){return lu(t,qg().exponent(n=+n),bM(n),e,{...i,type:"diverging-pow"})}function mM(t,e,{base:n=10,pivot:i=1,domain:o=$o(e,i<0?g1:dl),...a}){return lu(t,Hg().base(n=+n),yM,e,{domain:o,pivot:i,...a})}function gM(t,e,{constant:n=1,...i}){return lu(t,Wg().constant(n=+n),wM(n),e,i)}const _M={apply(t){return t},invert(t){return t}},yM={apply:Math.log,invert:Math.exp},vM={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function bM(t){return t===.5?vM:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function wM(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function ry(t,e,n,i){return Qo(t,e,n,i)}function xM(t,e,n){return ry(t,n4(),e,n)}function MM(t,e,n){return ry(t,i4(),e,n)}const ta=Symbol("ordinal");function oy(t,e,n,{type:i,interval:o,domain:a,range:u,reverse:c,hint:l}){return o=Xo(o,i),a===void 0&&(a=sy(n,o,t)),(i==="categorical"||i===ta)&&(i="ordinal"),c&&(a=Ka(a)),a=e.domain(a).domain(),u!==void 0&&(typeof u=="function"&&(u=u(a)),e.range(u)),{type:i,domain:a,range:u,scale:e,hint:l,interval:o}}function TM(t,e,{type:n,interval:i,domain:o,range:a,scheme:u,unknown:c,...l}){i=Xo(i,n),o===void 0&&(o=sy(e,i,t));let h;if(Ht.get(t)===uu)h=PM(e),a=a===void 0?kM(h):Qt(a,wl);else if(Ht.get(t)===Hn&&(a===void 0&&(n==="ordinal"||n===ta)&&(a=j7(o,u),a!==void 0&&(u=void 0)),u===void 0&&a===void 0&&(u=n==="ordinal"?"turbo":"tableau10"),u!==void 0))if(a!==void 0){const p=Pl(u),m=a[0],g=a[1]-a[0];a=({length:_})=>je(v=>p(m+g*v),_)}else a=J1(u);if(c===bc)throw new Error(`implicit unknown on ${t} scale is not supported`);return oy(t,sl().unknown(c),e,{...l,type:n,domain:o,range:a,hint:h})}function LM(t,e,{align:n=.5,padding:i=.5,...o}){return ay(I3().align(n).padding(i),e,o,t)}function SM(t,e,{align:n=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=t==="fx"||t==="fy"?0:i,...u}){return ay(Xs().align(n).paddingInner(o).paddingOuter(a),e,u,t)}function ay(t,e,n,i){let{round:o}=n;return o!==void 0&&t.round(o=!!o),t=oy(i,t,e,n),t.round=o,t}function sy(t,e,n){const i=new Bs;for(const{value:o,domain:a}of t){if(a!==void 0)return a();if(o!==void 0)for(const u of o)i.add(u)}if(e!==void 0){const[o,a]=Ze(i).map(e.floor,e);return e.range(o,e.offset(a))}if(i.size>1e4&&Ht.get(n)===dn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return _o(i,Qe)}function zp(t,e){let n;for(const{hint:i}of t){const o=i==null?void 0:i[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}function PM(t){return{fill:zp(t,"fill"),stroke:zp(t,"stroke")}}function kM(t){return pe(t.fill)?T4:M4}function zc(t,{label:e,inset:n=0,insetTop:i=n,insetRight:o=n,insetBottom:a=n,insetLeft:u=n,round:c,nice:l,clamp:h,zero:p,align:m,padding:g,projection:_,facet:{label:v=e}={},...b}={}){const w={};for(const[S,M]of t){const P=b[S],T=$M(S,M,{round:Ht.get(S)===dn?c:void 0,nice:l,clamp:h,zero:p,align:m,padding:g,projection:_,...P});if(T){let{label:k=S==="fx"||S==="fy"?v:e,percent:E,transform:z,inset:D,insetTop:O=D!==void 0?D:S==="y"?i:0,insetRight:$=D!==void 0?D:S==="x"?o:0,insetBottom:A=D!==void 0?D:S==="y"?a:0,insetLeft:I=D!==void 0?D:S==="x"?u:0}=P||{};if(z==null)z=void 0;else if(typeof z!="function")throw new Error("invalid scale transform; not a function");T.percent=!!E,T.label=k===void 0?AM(M,T):k,T.transform=z,S==="x"||S==="fx"?(T.insetLeft=+I,T.insetRight=+$):(S==="y"||S==="fy")&&(T.insetTop=+O,T.insetBottom=+A),w[S]=T}}return w}function Np(t){const e={},n={scales:e};for(const[i,o]of Object.entries(t)){const{scale:a,type:u,interval:c,label:l}=o;e[i]=DM(o),n[i]=a,a.type=u,c!=null&&(a.interval=c),l!=null&&(a.label=l)}return n}function CM(t,e){const{x:n,y:i,fx:o,fy:a}=t,u=o||a?Al(e):e;o&&Op(o,u),a&&Ip(a,u);const c=o||a?uy(t,e):e;n&&Op(n,c),i&&Ip(i,c)}function AM(t=[],e){let n;for(const{label:i}of t)if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}if(n!==void 0)return!Ri(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Al(t){const{marginTop:e,marginRight:n,marginBottom:i,marginLeft:o,width:a,height:u,facet:{marginTop:c,marginRight:l,marginBottom:h,marginLeft:p}}=t;return{marginTop:Math.max(e,c),marginRight:Math.max(n,l),marginBottom:Math.max(i,h),marginLeft:Math.max(o,p),width:a,height:u}}function uy({fx:t,fy:e},n){const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:c,height:l}=Al(n);return{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:t?t.scale.bandwidth()+u+o:c,height:e?e.scale.bandwidth()+i+a:l,facet:{width:c,height:l}}}function Op(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:i}=t,{width:o,marginLeft:a=0,marginRight:u=0}=e,c=a+n,l=o-u-i;t.range=[c,Math.max(c,l)],Ri(t)||(t.range=cy(t)),t.scale.range(t.range)}fy(t)}function Ip(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:i}=t,{height:o,marginTop:a=0,marginBottom:u=0}=e,c=a+n,l=o-u-i;t.range=[Math.max(c,l),c],Ri(t)?t.range.reverse():t.range=cy(t),t.scale.range(t.range)}fy(t)}function fy(t){t.round===void 0&&NM(t)&&EM(t)<=30&&t.scale.round(!0)}function EM({scale:t}){const e=t.domain().length,[n,i]=t.range(),o=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),u=e-o,c=Math.abs(i-n)/Math.max(1,u+a*2);return(c-Math.floor(c))*u}function cy(t){const e=t.scale.domain().length+ly(t);if(!(e>2))return t.range;const[n,i]=t.range;return Array.from({length:e},(o,a)=>n+a/(e-1)*(i-n))}function $M(t,e=[],n={}){const i=zM(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Ri({type:i})){const o=e.map(({value:a})=>a).filter(a=>a!==void 0);o.some(Ue)?vi(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${tr(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`):o.some(X4)?vi(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${tr(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`):o.some(j4)&&vi(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${tr(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`)}switch(n.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=$a(e,n,yp);break;case"identity":switch(Ht.get(t)){case dn:n=$a(e,n,yp);break;case uu:n=$a(e,n,OM);break}break;case"utc":case"time":n=$a(e,n,D4);break}switch(i){case"diverging":return dM(t,e,n);case"diverging-sqrt":return pM(t,e,n);case"diverging-pow":return iy(t,e,n);case"diverging-log":return mM(t,e,n);case"diverging-symlog":return gM(t,e,n);case"categorical":case"ordinal":case ta:return TM(t,e,n);case"cyclical":case"sequential":case"linear":return tM(t,e,n);case"sqrt":return eM(t,e,n);case"threshold":return kl(t,e,n);case"quantile":return rM(t,e,n);case"quantize":return oM(t,e,n);case"pow":return ey(t,e,n);case"log":return nM(t,e,n);case"symlog":return iM(t,e,n);case"utc":return MM(t,e,n);case"time":return xM(t,e,n);case"point":return LM(t,e,n);case"band":return SM(t,e,n);case"identity":return sM(t);case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}function tr(t){return typeof t=="symbol"?t.description:t}const Dp={toString:()=>"projection"};function zM(t,e,{type:n,domain:i,range:o,scheme:a,pivot:u,projection:c}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&c!=null&&(n=Dp);for(const{type:h}of e)if(h!==void 0){if(n===void 0)n=h;else if(n!==h)throw new Error(`scale incompatible with channel: ${n} !== ${h}`)}if(n===Dp)return;if(n!==void 0)return n;if(i===void 0&&!e.some(({value:h})=>h!==void 0))return;const l=Ht.get(t);if(l===jo)return"sqrt";if(l===Jo||l===Ko)return"linear";if(l===uu)return"ordinal";if((i||o||[]).length>2)return Mf(l);if(i!==void 0){if(vp(i))return Mf(l);if(Ue(i))return"utc"}else{const h=e.map(({value:p})=>p).filter(p=>p!==void 0);if(h.some(vp))return Mf(l);if(h.some(Ue))return"utc"}if(l===Hn){if(u!=null||J7(a))return"diverging";if(X7(a))return"categorical"}return"linear"}function Mf(t){switch(t){case dn:return"point";case Hn:return ta;default:return"ordinal"}}function Ri({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===ta}function ly({type:t}){return t==="threshold"}function NM({type:t}){return t==="point"||t==="band"}function Mr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let i=1,o=e.length;i<o;++i)if(t(e[i])-n)return!1;return!0}function $a(t,{domain:e,...n},i){for(const o of t)o.value!==void 0&&(o.value=i(o.value));return{domain:e===void 0?e:i(e),...n}}function OM(t){return Qt(t,wl)}function IM(t){return e=>{if(!Ht.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function DM({scale:t,type:e,domain:n,range:i,interpolate:o,interval:a,transform:u,percent:c,pivot:l}){if(e==="identity")return{type:"identity",apply:p=>p,invert:p=>p};const h=t.unknown?t.unknown():void 0;return{type:e,domain:ko(n),...i!==void 0&&{range:ko(i)},...u!==void 0&&{transform:u},...c&&{percent:c},...h!==void 0&&{unknown:h},...a!==void 0&&{interval:a},...o!==void 0&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:p=>t(p),...t.invert&&{invert:p=>t.invert(p)}}}function BM(t,e,n={}){let i=.5-xe,o=.5+xe,a=.5+xe,u=.5-xe;for(const{marginTop:b,marginRight:w,marginBottom:S,marginLeft:M}of e)b>i&&(i=b),w>o&&(o=w),S>a&&(a=S),M>u&&(u=M);let{margin:c,marginTop:l=c!==void 0?c:i,marginRight:h=c!==void 0?c:o,marginBottom:p=c!==void 0?c:a,marginLeft:m=c!==void 0?c:u}=n;l=+l,h=+h,p=+p,m=+m;let{width:g=640,height:_=RM(t,n,{width:g,marginTopDefault:i,marginRightDefault:o,marginBottomDefault:a,marginLeftDefault:u})+Math.max(0,l-i+p-a)}=n;g=+g,_=+_;const v={width:g,height:_,marginTop:l,marginRight:h,marginBottom:p,marginLeft:m};if(t.fx||t.fy){let{margin:b,marginTop:w=b!==void 0?b:l,marginRight:S=b!==void 0?b:h,marginBottom:M=b!==void 0?b:p,marginLeft:P=b!==void 0?b:m}=n.facet??{};w=+w,S=+S,M=+M,P=+P,v.facet={marginTop:w,marginRight:S,marginBottom:M,marginLeft:P}}return v}function RM({x:t,y:e,fy:n,fx:i},{projection:o,aspectRatio:a},{width:u,marginTopDefault:c,marginRightDefault:l,marginBottomDefault:h,marginLeftDefault:p}){const m=n?n.scale.domain().length:1,g=Y7(o);if(g){const v=i?i.scale.domain().length:1,b=(1.1*m-.1)/(1.1*v-.1)*g,w=Math.max(.1,Math.min(10,b));return Math.round((u-p-l)*w+c+h)}const _=e?Ri(e)?e.scale.domain().length:Math.max(7,17/m):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const v=Bp("y",e)/(Bp("x",t)*a),b=i?i.scale.bandwidth():1,w=n?n.scale.bandwidth():1,S=b*(u-p-l)-t.insetLeft-t.insetRight;return(v*S+e.insetTop+e.insetBottom)/w+c+h}return!!(e||n)*Math.max(1,Math.min(60,_*m))*20+!!i*30+60}function Bp(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:i}=e;let o;switch(n){case"linear":case"utc":case"time":o=Number;break;case"pow":{const c=e.scale.exponent();o=l=>Math.pow(l,c);break}case"log":o=Math.log;break;case"point":case"band":return i.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,u]=Ze(i);return Math.abs(o(u)-o(a))}function ZM(t,e){const{fx:n,fy:i}=zc(t,e),o=n==null?void 0:n.scale.domain(),a=i==null?void 0:i.scale.domain();return o&&a?gw(o,a).map(([u,c],l)=>({x:u,y:c,i:l})):o?o.map((u,c)=>({x:u,i:c})):a?a.map((u,c)=>({y:u,i:c})):void 0}function FM(t,{x:e,y:n}){return e&&(e=Nc(e)),n&&(n=Nc(n)),t.filter(e&&n?i=>e.has(i.x)&&n.has(i.y):e?i=>e.has(i.x):i=>n.has(i.y)).sort(e&&n?(i,o)=>e.get(i.x)-e.get(o.x)||n.get(i.y)-n.get(o.y):e?(i,o)=>e.get(i.x)-e.get(o.x):(i,o)=>n.get(i.y)-n.get(o.y))}function El(t,{fx:e,fy:n}){const i=Un(t),o=e==null?void 0:e.value,a=n==null?void 0:n.value;return e&&n?ar(i,u=>(u.fx=o[u[0]],u.fy=a[u[0]],u),u=>o[u],u=>a[u]):e?ar(i,u=>(u.fx=o[u[0]],u),u=>o[u]):ar(i,u=>(u.fy=a[u[0]],u),u=>a[u])}function UM(t,e,{marginTop:n,marginLeft:i}){return t&&e?({x:o,y:a})=>`translate(${t(o)-i},${e(a)-n})`:t?({x:o})=>`translate(${t(o)-i},0)`:({y:o})=>`translate(0,${e(o)-n})`}function HM(t){const e=[],n=new Uint32Array(jn(t,i=>i.length));for(const i of t){let o=0;for(const a of t)i!==a&&(n.set(a,o),o+=a.length);e.push(n.slice(0,o))}return e}const WM=new Map([["top",Tf],["right",Pf],["bottom",Lf],["left",Sf],["top-left",za(Tf,Sf)],["top-right",za(Tf,Pf)],["bottom-left",za(Lf,Sf)],["bottom-right",za(Lf,Pf)],["top-empty",YM],["right-empty",jM],["bottom-empty",GM],["left-empty",XM],["empty",KM]]);function qM(t){if(t==null)return null;const e=WM.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Rp=new WeakMap;function Nc(t){let e=Rp.get(t);return e||Rp.set(t,e=new Mi(Qt(t,(n,i)=>[n,i]))),e}function ni(t,e){return Nc(t).get(e)}function VM(t,e,n){return e=Aa(e),n=Aa(n),t.find(i=>Object.is(Aa(i.x),e)&&Object.is(Aa(i.y),n))}function hu(t,e,n){var i;return(i=VM(t,e,n))==null?void 0:i.empty}function Tf(t,{y:e},{y:n}){return e?ni(e,n)===0:!0}function Lf(t,{y:e},{y:n}){return e?ni(e,n)===e.length-1:!0}function Sf(t,{x:e},{x:n}){return e?ni(e,n)===0:!0}function Pf(t,{x:e},{x:n}){return e?ni(e,n)===e.length-1:!0}function YM(t,{y:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ni(e,i);if(a>0)return hu(t,n,e[a-1])}function GM(t,{y:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ni(e,i);if(a<e.length-1)return hu(t,n,e[a+1])}function XM(t,{x:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ni(e,n);if(a>0)return hu(t,e[a-1],i)}function jM(t,{x:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ni(e,n);if(a<e.length-1)return hu(t,e[a+1],i)}function KM(t,e,{empty:n}){return n}function za(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function kf(t,{channels:{fx:e,fy:n},groups:i}){return e&&n?t.map(({x:o,y:a})=>{var u;return((u=i.get(o))==null?void 0:u.get(a))??[]}):e?t.map(({x:o})=>i.get(o)??[]):t.map(({y:o})=>i.get(o)??[])}class wn{constructor(e,n={},i={},o){const{facet:a="auto",facetAnchor:u,fx:c,fy:l,sort:h,dx:p=0,dy:m=0,margin:g=0,marginTop:_=g,marginRight:v=g,marginBottom:b=g,marginLeft:w=g,clip:S=o==null?void 0:o.clip,channels:M,tip:P,render:T}=i;if(this.data=e,this.sort=Co(h)?h:null,this.initializer=Ss(i).initializer,this.transform=this.initializer?i.transform:xl(i).transform,a===null||a===!1?this.facet=null:(this.facet=nn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===Ha&&typeof c=="string"?[c]:c,this.fy=e===Ha&&typeof l=="string"?[l]:l),this.facetAnchor=qM(u),n=$1(n),M!==void 0&&(n={...JM(M),...n}),o!==void 0&&(n={...O7(this,i,o),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([k,E])=>{if(_l(E.value)){const{value:z,label:D=E.label,scale:O=E.scale}=E.value;E={...E,label:D,scale:O,value:z}}if(e===Ha&&typeof E.value=="string"){const{value:z}=E;E={...E,value:[z]}}return[k,E]}).filter(([k,{value:E,optional:z}])=>{if(E!=null)return!0;if(z)return!1;throw new Error(`missing channel value: ${k}`)})),this.dx=+p,this.dy=+m,this.marginTop=+_,this.marginRight=+v,this.marginBottom=+b,this.marginLeft=+w,this.clip=Y1(S),this.tip=QM(P),this.facet==="super"){if(c||l)throw new Error("super-faceting cannot use fx or fy");for(const k in this.channels){const{scale:E}=n[k];if(!(E!=="x"&&E!=="y"))throw new Error("super-faceting cannot use x or y")}}T!=null&&(this.render=dy(T,this.render))}initialize(e,n,i){let o=ke(this.data);e===void 0&&o!=null&&(e=[Un(o)]);const a=e;this.transform!=null&&({facets:e,data:o}=this.transform(o,e,i),o=ke(o)),e!==void 0&&(e.original=a);const u=x7(this.channels,o);return this.sort!=null&&T7(o,e,u,n,this.sort),{data:o,facets:e,channels:u}}filter(e,n,i){for(const o in n){const{filter:a=Ei}=n[o];if(a!==null){const u=i[o];e=e.filter(c=>a(u[c]))}}return e}project(e,n,i){for(const o in e)if(e[o].scale==="x"&&/^x|x$/.test(o)){const a=o.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&q7(o,a,n,i.projection)}}scale(e,n,i){const o=M7(e,n);return i.projection&&this.project(e,o,i),o}}function hy(...t){return t.plot=wn.prototype.plot,t}function dy(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,i,o,a,u,c){return t.call(this,n,i,o,a,u,(l,h,p,m,g)=>e.call(this,l,h,p,m,g,c))}}function JM(t){return Object.fromEntries(Object.entries($1(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:au(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function QM(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?nn(t,"tip",["x","y","xy"]):t}function $l(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:ei(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const Zp=new WeakMap;function zl(t,e,{x:n,y:i,px:o,py:a,maxRadius:u=40,channels:c,render:l,...h}={}){return u=+u,o!=null&&(n??(n=null),c={...c,px:{value:o,scale:"x"}}),a!=null&&(i??(i=null),c={...c,py:{value:a,scale:"y"}}),{x:n,y:i,channels:c,...h,render:dy(function(p,m,g,_,v,b){v={...v,pointerSticky:!1};const w=v.ownerSVGElement,{data:S}=v.getMarkState(this);let M=Zp.get(w);M||Zp.set(w,M={sticky:!1,roots:[],renders:[]});let P=M.renders.push(K)-1;const{x:T,y:k,fx:E,fy:z}=m;let D=E?E(p.fx)-_.marginLeft:0,O=z?z(p.fy)-_.marginTop:0;T!=null&&T.bandwidth&&(D+=T.bandwidth()/2),k!=null&&k.bandwidth&&(O+=k.bandwidth()/2);const $=p.fi!=null;let A;if($){let j=M.facetStates;j||(M.facetStates=j=new Map),A=j.get(this),A||j.set(this,A=new Map)}const[I,U]=fu(this,_),{px:H,py:B}=g,V=H?j=>H[j]:py(g,I),Q=B?j=>B[j]:my(g,U);let Y,et,Z,W;function X(j,ut){if($)if(W&&(W=cancelAnimationFrame(W)),j==null)A.delete(p.fi);else{A.set(p.fi,ut),W=requestAnimationFrame(()=>{W=null;for(const[q,tt]of A)if(tt<ut||tt===ut&&q<p.fi){j=null;break}K(j)});return}K(j)}function K(j){if(Y===j&&Z===M.sticky)return;Y=j,Z=v.pointerSticky=M.sticky;const ut=Y==null?[]:[Y];$&&(ut.fx=p.fx,ut.fy=p.fy,ut.fi=p.fi);const q=b(ut,m,g,_,v);if(et){if($){const tt=et.parentNode,ot=et.getAttribute("transform"),F=q.getAttribute("transform");ot?q.setAttribute("transform",ot):q.removeAttribute("transform"),F?tt.setAttribute("transform",F):tt.removeAttribute("transform"),q.removeAttribute("aria-label"),q.removeAttribute("aria-description"),q.removeAttribute("aria-hidden")}et.replaceWith(q)}return M.roots[P]=et=q,Y==null&&(A==null?void 0:A.size)>1||v.dispatchValue(Y==null?null:S[Y]),q}function st(j){if(M.sticky||j.pointerType==="mouse"&&j.buttons===1)return;let[ut,q]=Hf(j);ut-=D,q-=O;const tt=ut<_.marginLeft||ut>_.width-_.marginRight?1:t,ot=q<_.marginTop||q>_.height-_.marginBottom?1:e;let F=null,yt=u*u;for(const dt of p){const Ct=tt*(V(dt)-ut),At=ot*(Q(dt)-q),ft=Ct*Ct+At*At;ft<=yt&&(F=dt,yt=ft)}if(F!=null&&(t!==1||e!==1)){const dt=V(F)-ut,Ct=Q(F)-q;yt=dt*dt+Ct*Ct}X(F,yt)}function nt(j){j.pointerType==="mouse"&&Y!=null&&(M.sticky&&M.roots.some(ut=>ut==null?void 0:ut.contains(j.target))||(M.sticky?(M.sticky=!1,M.renders.forEach(ut=>ut(null))):(M.sticky=!0,K(Y)),j.stopImmediatePropagation()))}function J(j){j.pointerType==="mouse"&&(M.sticky||X(null))}return w.addEventListener("pointerenter",st),w.addEventListener("pointermove",st),w.addEventListener("pointerdown",nt),w.addEventListener("pointerleave",J),K(null)},l)}}function t9(t){return zl(1,1,t)}function e9(t){return zl(1,.01,t)}function n9(t){return zl(.01,1,t)}function py({x1:t,x2:e,x:n=t},i){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>i}function my({y1:t,y2:e,y:n=t},i){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>i}function gy(t){return Ri(t)&&t.interval===void 0?void 0:"tabular-nums"}function i9(t,e){let{label:n=t.label,tickSize:i=6,width:o=240,height:a=44+i,marginTop:u=18,marginRight:c=0,marginBottom:l=16+i,marginLeft:h=0,style:p,ticks:m=(o-h-c)/64,tickFormat:g,fontVariant:_=gy(t),round:v=!0,opacity:b,className:w}=e;const S=Sl(e);w=Tl(w),b=we(b)[1],g===null&&(g=()=>null);const M=ye("svg",S).attr("class",`${w}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",o).attr("height",a).attr("viewBox",`0 0 ${o} ${a}`).call(I=>I.append("style").text(`.${w}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${w}-ramp text {
  white-space: pre;
}`)).call(Ll,p);let P=I=>I.selectAll(".tick line").attr("y1",u+l-a),T;const k=v?(I,U)=>I.rangeRound(U):(I,U)=>I.range(U),{type:E,domain:z,range:D,interpolate:O,scale:$,pivot:A}=t;if(O){const I=D===void 0?O:Hs(O.length===1?Cl(O):O,D);T=k($.copy(),je(oe(h,o-c),Math.min(z.length+(A!==void 0),D===void 0?1/0:D.length)));const U=256,H=S.document.createElement("canvas");H.width=U,H.height=1;const B=H.getContext("2d");for(let V=0,Q=U-1;V<U;++V)B.fillStyle=I(V/Q),B.fillRect(V,0,1,1);M.append("image").attr("opacity",b).attr("x",h).attr("y",u).attr("width",o-h-c).attr("height",a-u-l).attr("preserveAspectRatio","none").attr("xlink:href",H.toDataURL())}else if(E==="threshold"){const I=z,U=g===void 0?H=>H:typeof g=="string"?Ne(g):g;T=k(To().domain([-1,D.length-1]),[h,o-c]),M.append("g").attr("fill-opacity",b).selectAll().data(D).enter().append("rect").attr("x",(H,B)=>T(B-1)).attr("y",u).attr("width",(H,B)=>T(B)-T(B-1)).attr("height",a-u-l).attr("fill",H=>H),m=Qt(I,(H,B)=>B),g=H=>U(I[H],H)}else T=k(Xs().domain(z),[h,o-c]),M.append("g").attr("fill-opacity",b).selectAll().data(z).enter().append("rect").attr("x",T).attr("y",u).attr("width",Math.max(0,T.bandwidth()-1)).attr("height",a-u-l).attr("fill",$),P=()=>{};return M.append("g").attr("transform",`translate(0,${a-l})`).call(Qm(T).ticks(Array.isArray(m)?null:m,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(i).tickValues(Array.isArray(m)?m:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ne(_,"normal")).call(P).call(I=>I.select(".domain").remove()),n!==void 0&&M.append("text").attr("x",h).attr("y",u-6).attr("fill","currentColor").attr("font-weight","bold").text(n),M.node()}const _y=Math.PI/180;function yy(t,{marker:e,markerStart:n=e,markerMid:i=e,markerEnd:o=e}={}){t.markerStart=Cf(n),t.markerMid=Cf(i),t.markerEnd=Cf(o)}function Cf(t){if(t==null||t===!1)return null;if(t===!0)return Up;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Fp("auto");case"arrow-reverse":return Fp("auto-start-reverse");case"dot":return r9;case"circle":case"circle-fill":return Up;case"circle-stroke":return o9}throw new Error(`invalid marker: ${t}`)}function Fp(t){return(e,n)=>ye("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(i=>i.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function r9(t,e){return ye("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Up(t,e){return ye("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function o9(t,e){return ye("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let a9=0;function vy(t,e,{stroke:n},i){return s9(t,e,n&&(o=>n[o]),i)}function s9(t,{markerStart:e,markerMid:n,markerEnd:i,stroke:o},a=()=>o,u){const c=new Map;function l(h){return function(p){const m=a(p);let g=c.get(h);g||c.set(h,g=new Map);let _=g.get(m);if(!_){const v=this.parentNode.insertBefore(h(m,u),this),b=`plot-marker-${++a9}`;v.setAttribute("id",b),g.set(m,_=`url(#${b})`)}return _}}e&&t.attr("marker-start",l(e)),n&&t.attr("marker-mid",l(n)),i&&t.attr("marker-end",l(i))}function by({inset:t,insetLeft:e,insetRight:n,...i}={}){return[e,n]=xy(t,e,n),{inset:t,insetLeft:e,insetRight:n,...i}}function wy({inset:t,insetTop:e,insetBottom:n,...i}={}){return[e,n]=xy(t,e,n),{inset:t,insetTop:e,insetBottom:n,...i}}function xy(t,e,n){return t===void 0&&e===void 0&&n===void 0?xe?[1,0]:[.5,.5]:[e,n]}function My(t,{interval:e}){return t={...au(t)},t.interval=vl(t.interval===void 0?e:t.interval),t}function Ty(t,e,n,i){const{[t]:o,[`${t}1`]:a,[`${t}2`]:u}=n,{value:c,interval:l}=My(o,n);if(c==null||l==null&&!i)return n;const h=Cr(o);if(l==null){let _;const v={transform:b=>_||(_=Kt(b,c)),label:h};return{...n,[t]:void 0,[`${t}1`]:a===void 0?v:a,[`${t}2`]:u===void 0?v:u}}let p,m;function g(_){return m!==void 0&&_===p?m:m=Qt(Kt(p=_,c),v=>l.floor(v))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:g,label:h}:a,[`${t}2`]:u===void 0?{transform:_=>g(_).map(v=>l.offset(v)),label:h}:u})}function Ly(t,e,n){const{[t]:i}=n,{value:o,interval:a}=My(i,n);return o==null||a==null?n:e({...n,[t]:{label:Cr(i),transform:u=>{const c=Qt(Kt(u,o),h=>a.floor(h)),l=c.map(h=>a.offset(h));return c.map(Ue(c)?(h,p)=>h==null||isNaN(h=+h)||(p=l[p],p==null)||isNaN(p=+p)?void 0:new Date((h+p)/2):(h,p)=>h==null||(p=l[p],p==null)?NaN:(+h+ +p)/2)}}})}function Sy(t={}){return Ty("x",by,t)}function u9(t={}){return Ty("y",wy,t)}function f9(t={}){return Ly("x",by,t)}function c9(t={}){return Ly("y",wy,t)}const Py={ariaLabel:"rule",fill:null,stroke:"currentColor"};class l9 extends wn{constructor(e,n={}){const{x:i,y1:o,y2:a,inset:u=0,insetTop:c=u,insetBottom:l=u}=n;super(e,{x:{value:i,scale:"x",optional:!0},y1:{value:o,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},$l(n,"x"),Py),this.insetTop=Ft(c),this.insetBottom=Ft(l),yy(this,n)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y1:h,y2:p}=i,{width:m,height:g,marginTop:_,marginRight:v,marginLeft:b,marginBottom:w}=o,{insetTop:S,insetBottom:M}=this;return ye("svg:g",a).call(Ii,this,o,a).call(Bi,this,{x:l&&u},xe,0).call(P=>P.selectAll().data(e).enter().append("line").call(Di,this).attr("x1",l?T=>l[T]:(b+m-v)/2).attr("x2",l?T=>l[T]:(b+m-v)/2).attr("y1",h&&!Mr(c)?T=>h[T]+S:_+S).attr("y2",p&&!Mr(c)?c.bandwidth?T=>p[T]+c.bandwidth()-M:T=>p[T]-M:g-w-M).call(Ar,this,i).call(vy,this,i,a)).node()}}class h9 extends wn{constructor(e,n={}){const{x1:i,x2:o,y:a,inset:u=0,insetRight:c=u,insetLeft:l=u}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:!0},x2:{value:o,scale:"x",optional:!0}},$l(n,"y"),Py),this.insetRight=Ft(c),this.insetLeft=Ft(l),yy(this,n)}render(e,n,i,o,a){const{x:u,y:c}=n,{y:l,x1:h,x2:p}=i,{width:m,height:g,marginTop:_,marginRight:v,marginLeft:b,marginBottom:w}=o,{insetLeft:S,insetRight:M}=this;return ye("svg:g",a).call(Ii,this,o,a).call(Bi,this,{y:l&&c},0,xe).call(P=>P.selectAll().data(e).enter().append("line").call(Di,this).attr("x1",h&&!Mr(u)?T=>h[T]+S:b+S).attr("x2",p&&!Mr(u)?u.bandwidth?T=>p[T]+u.bandwidth()-M:T=>p[T]-M:m-v-M).attr("y1",l?T=>l[T]:(_+g-w)/2).attr("y2",l?T=>l[T]:(_+g-w)/2).call(Ar,this,i).call(vy,this,i,a)).node()}}function d9(t,e){let{x:n=_e,y:i,y1:o,y2:a,...u}=u9(e);return[o,a]=ky(i,o,a),new l9(t,{...u,x:n,y1:o,y2:a})}function p9(t,e){let{y:n=_e,x:i,x1:o,x2:a,...u}=Sy(e);return[o,a]=ky(i,o,a),new h9(t,{...u,y:n,x1:o,x2:a})}function ky(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Cy(t,...e){let n=e.length;for(let i=0,o=!0;i<n;++i)typeof e[i]!="function"&&(o&&(t=t.slice(),o=!1),t.splice(i,2,t[i]+e[i]+t[i+1]),e.splice(i,1),--i,--n);return i=>{let o=t[0];for(let a=0;a<n;++a)o+=e[a](i)+t[a+1];return o}}const m9={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Ay="­";class Nl extends wn{constructor(e,n={}){const{x:i,y:o,text:a=Oi(e)&&A1(e)?_e:L1,frameAnchor:u,textAnchor:c=/right$/i.test(u)?"end":/left$/i.test(u)?"start":"middle",lineAnchor:l=/^top/i.test(u)?"top":/^bottom/i.test(u)?"bottom":"middle",lineHeight:h=1,lineWidth:p=1/0,textOverflow:m,monospace:g,fontFamily:_=g?"ui-monospace, monospace":void 0,fontSize:v,fontStyle:b,fontVariant:w,fontWeight:S,rotate:M}=n,[P,T]=we(M,0),[k,E]=b9(v);if(super(e,{x:{value:i,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},fontSize:{value:k,optional:!0},rotate:{value:G4(P),optional:!0},text:{value:a,filter:p1,optional:!0}},n,m9),this.rotate=T,this.textAnchor=ne(c,"middle"),this.lineAnchor=nn(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+h,this.lineWidth=+p,this.textOverflow=Ey(m),this.monospace=!!g,this.fontFamily=le(_),this.fontSize=E,this.fontStyle=le(b),this.fontVariant=le(w),this.fontWeight=le(S),this.frameAnchor=bl(u),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${p}`);this.splitLines=zy(this),this.clipLine=Ny(this)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y:h,rotate:p,text:m,title:g,fontSize:_}=i,{rotate:v}=this,[b,w]=fu(this,o);return ye("svg:g",a).call(Ii,this,o,a).call($y,this,m,o).call(Bi,this,{x:l&&u,y:h&&c}).call(S=>S.selectAll().data(e).enter().append("text").call(Di,this).call(g9,this,m,g).attr("transform",Cy`translate(${l?M=>l[M]:b},${h?M=>h[M]:w})${p?M=>` rotate(${p[M]})`:v?` rotate(${v})`:""}`).call(St,"font-size",_&&(M=>_[M])).call(Ar,this,i)).node()}}function Ey(t){return t==null?null:nn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function g9(t,e,n,i){if(!n)return;const{lineAnchor:o,lineHeight:a,textOverflow:u,splitLines:c,clipLine:l}=e;t.each(function(h){const p=c(xr(n[h])??"").map(l),m=p.length,g=o==="top"?.71:o==="bottom"?1-m:(164-m*100)/200;if(m>1){let _=0;for(let v=0;v<m;++v){if(++_,!p[v])continue;const b=this.ownerDocument.createElementNS(hr.svg,"tspan");b.setAttribute("x",0),v===_-1?b.setAttribute("y",`${(g+v)*a}em`):b.setAttribute("dy",`${_*a}em`),b.textContent=p[v],this.appendChild(b),_=0}}else g&&this.setAttribute("y",`${g*a}em`),this.textContent=p[0];if(u&&!i&&p[0]!==n[h]){const _=this.ownerDocument.createElementNS(hr.svg,"title");_.textContent=n[h],this.appendChild(_)}})}function ks(t,{x:e,y:n,...i}={}){return i.frameAnchor===void 0&&([e,n]=k1(e,n)),new Nl(t,{...i,x:e,y:n})}function Oc(t,{x:e=_e,...n}={}){return new Nl(t,c9({...n,x:e}))}function _9(t,{y:e=_e,...n}={}){return new Nl(t,f9({...n,y:e}))}function $y(t,e,n){St(t,"text-anchor",e.textAnchor),St(t,"font-family",e.fontFamily),St(t,"font-size",e.fontSize),St(t,"font-style",e.fontStyle),St(t,"font-variant",e.fontVariant===void 0?y9(n):e.fontVariant),St(t,"font-weight",e.fontWeight)}function y9(t){return t&&(K4(t)||Ue(t))?"tabular-nums":void 0}const v9=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function b9(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),v9.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function w9(t,e,n){const i=[];let o,a=0;for(const[u,c,l]of x9(t)){if(o===void 0&&(o=u),a>o&&n(t,o,c)>e&&(i.push(t.slice(o,a)+(t[a-1]===Ay?"-":"")),o=u),l){i.push(t.slice(o,c)),o=void 0;continue}a=c}return i}function*x9(t){let e=0,n=0;const i=t.length;for(;n<i;){let o=1;switch(t[n]){case Ay:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++o;case`
`:yield[e,n,!0],n+=o,e=n;break;default:++n;break}}yield[e,n,!0]}const Hp={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Ol(t,e=0,n=t.length){let i=0;for(let o=e;o<n;o=Er(t,o))i+=Hp[t[o]]??(Iy(t,o)?120:Hp.e);return i}function Il(t,e=0,n=t.length){let i=0;for(let o=e;o<n;o=Er(t,o))i+=Iy(t,o)?200:100;return i}function zy({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const i=t?Il:Ol,o=e*100;return a=>w9(a,o,i)}function Ny({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const i=t?Il:Ol,o=e*100;switch(n){case"clip-start":return a=>qp(a,o,i,"");case"clip-end":return a=>Wp(a,o,i,"");case"ellipsis-start":return a=>qp(a,o,i,fr);case"ellipsis-middle":return a=>M9(a,o,i,fr);case"ellipsis-end":return a=>Wp(a,o,i,fr)}}const fr="…";function Tr(t,e,n,i){const o=[];let a=0;for(let u=0,c=0,l=t.length;u<l;u=c){c=Er(t,u);const h=n(t,u,c);if(a+h>e){for(a+=i;a>e&&u>0;)c=u,u=o.pop(),a-=n(t,u,c);return[u,e-a]}a+=h,o.push(u)}return[-1,0]}function Wp(t,e,n,i){t=t.trim();const o=n(i),[a]=Tr(t,e,n,o);return a<0?t:t.slice(0,a).trimEnd()+i}function M9(t,e,n,i){t=t.trim();const o=n(t);if(o<=e)return t;const a=n(i)/2,[u,c]=Tr(t,e/2,n,a),[l]=Tr(t,o-e/2-c+a,n,-a);return l<0?i:t.slice(0,u).trimEnd()+i+t.slice(Er(t,l)).trimStart()}function qp(t,e,n,i){t=t.trim();const o=n(t);if(o<=e)return t;const a=n(i),[u]=Tr(t,o-e+a,n,-a);return u<0?i:i+t.slice(Er(t,u)).trimStart()}const Ic=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Vp=/\p{Extended_Pictographic}/uy;function Er(t,e){return e+=T9(t,e)?2:1,S9(t,e)&&(e=Ic.lastIndex),L9(t,e)?Er(t,e+1):e}function Oy(t,e){return t.charCodeAt(e)<128}function T9(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const i=t.charCodeAt(e+1);return i>=56320&&i<57344}return!1}function L9(t,e){return t.charCodeAt(e)===8205}function S9(t,e){return Oy(t,e)?!1:(Ic.lastIndex=e,Ic.test(t))}function Iy(t,e){return Oy(t,e)?!1:(Vp.lastIndex=e,Vp.test(t))}const P9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Dy=3.5,k9=Dy*5,By={draw(t,e,n){const i=e*n/k9;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-i,i-e),t.lineTo(0,-e),t.lineTo(i,i-e)}},C9={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},A9=new Map([["arrow",By],["spike",C9]]);function E9(t){return t&&typeof t.draw=="function"}function $9(t){if(E9(t))return t;const e=A9.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Ry extends wn{constructor(e,n={}){const{x:i,y:o,r:a=Dy,length:u,rotate:c,shape:l=By,anchor:h="middle",frameAnchor:p}=n,[m,g]=we(u,12),[_,v]=we(c,0);super(e,{x:{value:i,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},length:{value:m,scale:"length",optional:!0},rotate:{value:_,optional:!0}},n,P9),this.r=+a,this.length=g,this.rotate=v,this.shape=$9(l),this.anchor=nn(h,"anchor",["start","middle","end"]),this.frameAnchor=bl(p)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y:h,length:p,rotate:m}=i,{length:g,rotate:_,anchor:v,shape:b,r:w}=this,[S,M]=fu(this,o);return ye("svg:g",a).call(Ii,this,o,a).call(Bi,this,{x:l&&u,y:h&&c}).call(P=>P.selectAll().data(e).enter().append("path").call(Di,this).attr("transform",Cy`translate(${l?T=>l[T]:S},${h?T=>h[T]:M})${m?T=>` rotate(${m[T]})`:_?` rotate(${_})`:""}${v==="start"?"":v==="end"?p?T=>` translate(0,${p[T]})`:` translate(0,${g})`:p?T=>` translate(0,${p[T]/2})`:` translate(0,${g/2})`}`).attr("d",p?T=>{const k=ic();return b.draw(k,p[T],w),k}:(()=>{const T=ic();return b.draw(T,g,w),T})()).call(Ar,this,i)).node()}}function z9(t,e={}){const{x:n=_e,...i}=e;return new Ry(t,{...i,x:n})}function N9(t,e={}){const{y:n=_e,...i}=e;return new Ry(t,{...i,y:n})}function ii(t,e){return arguments.length<2&&!Oi(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function du({anchor:t}={},e){return t===void 0?e[0]:nn(t,"anchor",e)}function Zy(t){return du(t,["left","right"])}function Fy(t){return du(t,["right","left"])}function Uy(t){return du(t,["bottom","top"])}function Hy(t){return du(t,["top","bottom"])}function Wy(){const[t,e]=ii(...arguments);return Vy("y",Zy(e),t,e)}function O9(){const[t,e]=ii(...arguments);return Vy("fy",Fy(e),t,e)}function qy(){const[t,e]=ii(...arguments);return Yy("x",Uy(e),t,e)}function I9(){const[t,e]=ii(...arguments);return Yy("fx",Hy(e),t,e)}function Vy(t,e,n,{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:u=o,strokeWidth:c=1,fill:l=i,fillOpacity:h=o,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:_,tickSize:v=t==="y"?6:0,tickPadding:b,tickRotate:w,x:S,margin:M,marginTop:P=M===void 0?20:M,marginRight:T=M===void 0?e==="right"?40:0:M,marginBottom:k=M===void 0?20:M,marginLeft:E=M===void 0?e==="left"?40:0:M,label:z,labelAnchor:D,labelArrow:O,labelOffset:$,...A}){return v=Ft(v),b=Ft(b),w=Ft(w),D!==void 0&&(D=nn(D,"labelAnchor",["center","top","bottom"])),O=ev(O),hy(v&&!pe(a)?D9(t,e,n,{stroke:a,strokeOpacity:u,strokeWidth:c,tickSize:v,tickPadding:b,tickRotate:w,x:S,...A}):null,pe(l)?null:R9(t,e,n,{fill:l,fillOpacity:h,stroke:m,strokeOpacity:g,strokeWidth:_,textAnchor:p,tickSize:v,tickPadding:b,tickRotate:w,x:S,marginTop:P,marginRight:T,marginBottom:k,marginLeft:E,...A}),!pe(l)&&z!==null?ks([],Ky({fill:l,fillOpacity:h,...A},function(I,U,H,B,V){const Q=B[t],{marginTop:Y,marginRight:et,marginBottom:Z,marginLeft:W}=t==="y"&&V.inset||V,X=D??(Q.bandwidth?"center":"top"),K=$??(e==="right"?et:W)-3;return X==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=X,this.frameAnchor=`${X}-${e}`,this.rotate=0),this.dy=X==="top"?3-Y:X==="bottom"?Z-3:0,this.dx=e==="right"?K:-K,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[tv(t,Q,{anchor:e,label:z,labelAnchor:X,labelArrow:O})]}}}})):null)}function Yy(t,e,n,{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:u=o,strokeWidth:c=1,fill:l=i,fillOpacity:h=o,textAnchor:p,textStroke:m,textStrokeOpacity:g,textStrokeWidth:_,tickSize:v=t==="x"?6:0,tickPadding:b,tickRotate:w,y:S,margin:M,marginTop:P=M===void 0?e==="top"?30:0:M,marginRight:T=M===void 0?20:M,marginBottom:k=M===void 0?e==="bottom"?30:0:M,marginLeft:E=M===void 0?20:M,label:z,labelAnchor:D,labelArrow:O,labelOffset:$,...A}){return v=Ft(v),b=Ft(b),w=Ft(w),D!==void 0&&(D=nn(D,"labelAnchor",["center","left","right"])),O=ev(O),hy(v&&!pe(a)?B9(t,e,n,{stroke:a,strokeOpacity:u,strokeWidth:c,tickSize:v,tickPadding:b,tickRotate:w,y:S,...A}):null,pe(l)?null:Z9(t,e,n,{fill:l,fillOpacity:h,stroke:m,strokeOpacity:g,strokeWidth:_,textAnchor:p,tickSize:v,tickPadding:b,tickRotate:w,y:S,marginTop:P,marginRight:T,marginBottom:k,marginLeft:E,...A}),!pe(l)&&z!==null?ks([],Ky({fill:l,fillOpacity:h,...A},function(I,U,H,B,V){const Q=B[t],{marginTop:Y,marginRight:et,marginBottom:Z,marginLeft:W}=t==="x"&&V.inset||V,X=D??(Q.bandwidth?"center":"right"),K=$??(e==="top"?Y:Z)-3;return X==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${X}`,this.textAnchor=X==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-K:K,this.dx=X==="right"?et-3:X==="left"?3-W:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[tv(t,Q,{anchor:e,label:z,labelAnchor:X,labelArrow:O})]}}}})):null)}function D9(t,e,n,{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:u=e+(t==="y"?"-empty":""),frameAnchor:c=e,tickSize:l,inset:h=0,insetLeft:p=h,insetRight:m=h,dx:g=0,y:_=t==="y"?void 0:null,...v}){return $r(N9,t,e,`${t}-axis tick`,n,{strokeWidth:i,strokeLinecap:o,strokeLinejoin:a,facetAnchor:u,frameAnchor:c,y:_,...v,dx:e==="left"?+g-xe+ +p:+g+xe-m,anchor:"start",length:l,shape:e==="left"?G9:X9})}function B9(t,e,n,{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:u=e+(t==="x"?"-empty":""),frameAnchor:c=e,tickSize:l,inset:h=0,insetTop:p=h,insetBottom:m=h,dy:g=0,x:_=t==="x"?void 0:null,...v}){return $r(z9,t,e,`${t}-axis tick`,n,{strokeWidth:i,strokeLinejoin:a,strokeLinecap:o,facetAnchor:u,frameAnchor:c,x:_,...v,dy:e==="bottom"?+g-xe-m:+g+xe+ +p,anchor:"start",length:l,shape:e==="bottom"?V9:Y9})}function R9(t,e,n,{facetAnchor:i=e+(t==="y"?"-empty":""),frameAnchor:o=e,tickSize:a,tickRotate:u=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(u)>60?4*Math.cos(u*_y):0),text:l,textAnchor:h=Math.abs(u)>60?"middle":e==="left"?"end":"start",lineAnchor:p=u>60?"top":u<-60?"bottom":"middle",fontVariant:m,inset:g=0,insetLeft:_=g,insetRight:v=g,dx:b=0,y:w=t==="y"?void 0:null,...S}){return $r(_9,t,e,`${t}-axis tick label`,n,{facetAnchor:i,frameAnchor:o,text:l,textAnchor:h,lineAnchor:p,fontVariant:m,rotate:u,y:w,...S,dx:e==="left"?+b-a-c+ +_:+b+ +a+ +c-v},function(M,P,T,k,E){m===void 0&&(this.fontVariant=Qy(M)),l===void 0&&(E.text=Jy(M,P,T,k,e))})}function Z9(t,e,n,{facetAnchor:i=e+(t==="x"?"-empty":""),frameAnchor:o=e,tickSize:a,tickRotate:u=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(u)>=10?4*Math.cos(u*_y):0),text:l,textAnchor:h=Math.abs(u)>=10?u<0^e==="bottom"?"start":"end":"middle",lineAnchor:p=Math.abs(u)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:m,inset:g=0,insetTop:_=g,insetBottom:v=g,dy:b=0,x:w=t==="x"?void 0:null,...S}){return $r(Oc,t,e,`${t}-axis tick label`,n,{facetAnchor:i,frameAnchor:o,text:l===void 0?null:l,textAnchor:h,lineAnchor:p,fontVariant:m,rotate:u,x:w,...S,dy:e==="bottom"?+b+ +a+ +c-v:+b-a-c+ +_},function(M,P,T,k,E){m===void 0&&(this.fontVariant=Qy(M)),l===void 0&&(E.text=Jy(M,P,T,k,e))})}function F9(){const[t,e]=ii(...arguments);return Gy("y",Zy(e),t,e)}function U9(){const[t,e]=ii(...arguments);return Gy("fy",Fy(e),t,e)}function H9(){const[t,e]=ii(...arguments);return Xy("x",Uy(e),t,e)}function W9(){const[t,e]=ii(...arguments);return Xy("fx",Hy(e),t,e)}function Gy(t,e,n,{y:i=t==="y"?void 0:null,x:o=null,x1:a=e==="left"?o:null,x2:u=e==="right"?o:null,...c}){return $r(p9,t,e,`${t}-grid`,n,{y:i,x1:a,x2:u,...jy(c)})}function Xy(t,e,n,{x:i=t==="x"?void 0:null,y:o=null,y1:a=e==="top"?o:null,y2:u=e==="bottom"?o:null,...c}){return $r(d9,t,e,`${t}-grid`,n,{x:i,y1:a,y2:u,...jy(c)})}function jy({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:i=e,strokeWidth:o=1,...a}){return{stroke:n,strokeOpacity:i,strokeWidth:o,...a}}function Ky({fill:t,fillOpacity:e,fontFamily:n,fontSize:i,fontStyle:o,fontVariant:a,fontWeight:u,monospace:c,pointerEvents:l,shapeRendering:h,clip:p=!1},m){return[,t]=Fn(t),[,e]=we(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:i,fontStyle:o,fontVariant:a,fontWeight:u,monospace:c,pointerEvents:l,shapeRendering:h,clip:p,initializer:m}}function $r(t,e,n,i,o,a,u){let c;function l(m,g,_,v,b,w){const S=m==null&&(e==="fx"||e==="fy"),{[e]:M}=v;if(!M)throw new Error(`missing scale: ${e}`);const P=M.domain();let{interval:T,ticks:k,tickFormat:E,tickSpacing:z=e==="x"?80:35}=a;if(typeof k=="string"&&nv(M)&&(T=k,k=void 0),k===void 0&&(k=Xo(T,M.type)??q9(M,z)),m==null){if(Oi(k))m=ke(k);else if(Y4(k))m=Af(k,...Ze(P));else if(M.interval){let O=M.interval;if(M.ticks){const[$,A]=Ze(P),I=(A-$)/O[Yo];O=pp(O,I/k)??O,m=Af(O,$,A)}else{m=P;const $=m.length;O=pp(O,$/k)??O,O!==M.interval&&(m=Af(O,...Ze(m)))}if(O===M.interval){const $=Math.round(m.length/k);$>1&&(m=m.filter((A,I)=>I%$===0))}}else M.ticks?m=M.ticks(k):m=P;if(!M.ticks&&m.length&&m!==P){const O=new Bs(P);m=m.filter($=>O.has($)),m.length||vi(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?g=[Un(m)]:c[e]={scale:e,value:_e}}u==null||u.call(this,M,m,k,E,c);const D=Object.fromEntries(Object.entries(c).map(([O,$])=>[O,{...$,value:Kt(m,$.value)}]));return S&&(g=w.filterFacets(m,D)),{data:m,facets:g,channels:D}}const h=Ss(a).initializer,p=t(o,Ss({...a,initializer:l},h));return o==null?(c=p.channels,p.channels={}):c={},p.ariaLabel=i,p.clip===void 0&&(p.clip=!1),p}function q9(t,e){const[n,i]=Ze(t.range());return(i-n)/e}function Jy(t,e,n,i,o){return{value:Dl(t,e,n,i,o)}}function Dl(t,e,n,i,o){return typeof i=="function"?i:i===void 0&&e&&Ue(e)?A4(e,o)??xr:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,i):i===void 0?xr:typeof i=="string"?(Ue(t.domain())?Vo:Ne)(i):Go(i)}function Af(t,e,n){return t.range(e,t.offset(t.floor(n)))}const V9={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},Y9={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},G9={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},X9={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function Qy(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function j9(t){return Math.sign(wr(t.domain()))*Math.sign(wr(t.range()))}function tv(t,e,{anchor:n,label:i=e.label,labelAnchor:o,labelArrow:a}={}){if(!(i==null||i.inferred&&nv(e)&&/^(date|time|year)$/i.test(i))){if(i=String(i),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[↑↓→←]/.test(i)),!a)return i;if(a===!0){const u=j9(e);u&&(a=/x$/.test(t)||o==="center"?/x$/.test(t)===u<0?"left":"right":u<0?"up":"down")}switch(a){case"left":return`← ${i}`;case"right":return`${i} →`;case"up":return n==="right"?`${i} ↑`:`↑ ${i}`;case"down":return n==="right"?`${i} ↓`:`↓ ${i}`}return i}}function ev(t="auto"){return pe(t)?!1:typeof t=="boolean"?t:nn(t,"labelArrow",["auto","up","right","down","left"])}function nv(t){return Ue(t.domain())}function Yp(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function K9(t,{opacity:e,...n}={}){if(!Ri(t)&&!ly(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return iv(t,n,(i,o,a,u)=>i.append("svg").attr("width",a).attr("height",u).attr("fill",o.scale).attr("fill-opacity",we(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function J9(t,{fill:e=(h=>(h=t.hint)==null?void 0:h.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:i=(p=>(p=t.hint)==null?void 0:p.stroke)()!==void 0?t.hint.stroke:pe(e)?"currentColor":"none",strokeOpacity:o=1,strokeWidth:a=1.5,r:u=4.5,...c}={},l){const[m,g]=Fn(e),[_,v]=Fn(i),b=Yp(l,m),w=Yp(l,_),S=u*u*Math.PI;return n=we(n)[1],o=we(o)[1],a=we(a)[1],iv(t,c,(M,P,T,k)=>M.append("svg").attr("viewBox","-8 -8 16 16").attr("width",T).attr("height",k).attr("fill",m==="color"?E=>b.scale(E):g).attr("fill-opacity",n).attr("stroke",_==="color"?E=>w.scale(E):v).attr("stroke-opacity",o).attr("stroke-width",a).append("path").attr("d",E=>{const z=ic();return t.scale(E).draw(z,S),z}))}function iv(t,e={},n){let{columns:i,tickFormat:o,fontVariant:a=gy(t),swatchSize:u=15,swatchWidth:c=u,swatchHeight:l=u,marginLeft:h=0,className:p,style:m,width:g}=e;const _=Sl(e);p=Tl(p),o=Dl(t.scale,t.domain,void 0,o);const v=ye("div",_).attr("class",`${p}-swatches ${p}-swatches-${i!=null?"columns":"wrap"}`);let b;return i!=null?(b=`.${p}-swatches-columns .${p}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${p}-swatches-columns .${p}-swatch::before {
  flex-shrink: 0;
}
.${p}-swatches-columns .${p}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,v.style("columns",i).selectAll().data(t.domain).enter().append("div").attr("class",`${p}-swatch`).call(n,t,c,l).call(w=>w.append("div").attr("class",`${p}-swatch-label`).attr("title",o).text(o))):(b=`.${p}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${p}-swatches-wrap .${p}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,v.selectAll().data(t.domain).enter().append("span").attr("class",`${p}-swatch`).call(n,t,c,l).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),v.call(w=>w.insert("style","*").text(`.${p}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${p}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${b}`)).style("margin-left",h?`${+h}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",ne(a,"normal")).call(Ll,m).node()}const Dc=new Map([["symbol",J9],["color",ov],["opacity",tT]]);function Q9(t,e,n={}){return(i,o)=>{if(!Dc.has(i))throw new Error(`unknown legend type: ${i}`);if(i in t)return Dc.get(i)(t[i],rv(e,n[i],o),a=>t[a])}}function rv({className:t,...e},{label:n,ticks:i,tickFormat:o}={},a){return e7(a,{className:t,...e},{label:n,ticks:i,tickFormat:o})}function ov(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return K9(t,n);case"ramp":return i9(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function tT({type:t,interpolate:e,...n},{legend:i=!0,color:o=Kn(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(i===!0&&(i="ramp"),`${i}`.toLowerCase()!=="ramp")throw new Error(`${i} opacity legends are not supported`);return ov({type:t,...n,interpolate:eT(o)},{legend:i,...a})}function eT(t){const{r:e,g:n,b:i}=Kn(t)||Kn(0,0,0);return o=>`rgba(${e},${n},${i},${o})`}function nT(t,e,n){const i=[];for(const[o,a]of Dc){const u=n[o];if(u!=null&&u.legend&&o in t){const c=a(t[o],rv(e,t[o],u),l=>t[l]);c!=null&&i.push(c)}}return i}const iT={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},rT={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class oT extends wn{constructor(e={}){const{anchor:n=null,inset:i=0,insetTop:o=i,insetRight:a=i,insetBottom:u=i,insetLeft:c=i,rx:l,ry:h}=e;super(Ha,void 0,e,n==null?iT:rT),this.anchor=S1(n,"anchor",["top","right","bottom","left"]),this.insetTop=Ft(o),this.insetRight=Ft(a),this.insetBottom=Ft(u),this.insetLeft=Ft(c),this.rx=Ft(l),this.ry=Ft(h)}render(e,n,i,o,a){const{marginTop:u,marginRight:c,marginBottom:l,marginLeft:h,width:p,height:m}=o,{anchor:g,insetTop:_,insetRight:v,insetBottom:b,insetLeft:w,rx:S,ry:M}=this,P=h+w,T=p-c-v,k=u+_,E=m-l-b;return ye(g?"svg:line":"svg:rect",a).datum(0).call(Ii,this,o,a).call(Di,this).call(Ar,this,i).call(Bi,this,{}).call(g==="left"?z=>z.attr("x1",P).attr("x2",P).attr("y1",k).attr("y2",E):g==="right"?z=>z.attr("x1",T).attr("x2",T).attr("y1",k).attr("y2",E):g==="top"?z=>z.attr("x1",P).attr("x2",T).attr("y1",k).attr("y2",k):g==="bottom"?z=>z.attr("x1",P).attr("x2",T).attr("y1",E).attr("y2",E):z=>z.attr("x",P).attr("y",k).attr("width",T-P).attr("height",E-k).attr("rx",S).attr("ry",M)).node()}}function aT(t){return new oT(t)}const Ef={ariaLabel:"tip",fill:"white",stroke:"currentColor"},sT=new Set(["geometry","href","src","ariaLabel","scales"]);class uT extends wn{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Oi(e)&&A1(e)&&(n={...n,title:_e});const{x:i,y:o,x1:a,x2:u,y1:c,y2:l,anchor:h,monospace:p,fontFamily:m=p?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:_,fontVariant:v,fontWeight:b,lineHeight:w=1,lineWidth:S=20,frameAnchor:M,format:P,textAnchor:T="start",textOverflow:k,textPadding:E=8,title:z,pointerSize:D=12,pathFilter:O="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&u!=null?null:i,scale:"x",optional:!0},y:{value:c!=null&&l!=null?null:o,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:u==null},y1:{value:c,scale:"y",optional:l==null},x2:{value:u,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:c==null},title:{value:z,optional:!0}},n,Ef),this.anchor=E1(h,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=bl(M),this.textAnchor=ne(T,"middle"),this.textPadding=+E,this.pointerSize=+D,this.pathFilter=le(O),this.lineHeight=+w,this.lineWidth=+S,this.textOverflow=Ey(k),this.monospace=!!p,this.fontFamily=le(m),this.fontSize=Ft(g),this.fontStyle=le(_),this.fontVariant=le(v),this.fontWeight=le(b);for(const $ in Ef)$ in this.channels&&(this[$]=Ef[$]);this.splitLines=zy(this),this.clipLine=Ny(this),this.format={...P}}render(e,n,i,o,a){const u=this,{x:c,y:l,fx:h,fy:p}=n,{ownerSVGElement:m,document:g}=a,{anchor:_,monospace:v,lineHeight:b,lineWidth:w}=this,{textPadding:S,pointerSize:M,pathFilter:P}=this,{marginTop:T,marginLeft:k}=o,{x1:E,y1:z,x2:D,y2:O,x:$=E??D,y:A=z??O}=i,I=h?h(e.fx)-k:0,U=p?p(e.fy)-T:0,[H,B]=fu(this,o),V=py(i,H),Q=my(i,B),Y=v?Il:Ol,et=Y(fr);let Z,W;"title"in i?(Z=i.channels,W=pT):(Z=dT.call(this,i,n),W=mT);const X=ye("svg:g",a).call(Ii,this,o,a).call($y,this).call(Bi,this,{x:$&&c,y:A&&l}).call(nt=>nt.selectAll().data(e).enter().append("g").attr("transform",J=>`translate(${Math.round(V(J))},${Math.round(Q(J))})`).call(Di,this).call(J=>J.append("path").attr("filter",P)).call(J=>J.append("text").each(function(j){const ut=be(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const q=W.call(u,j,e,Z,n,i);if(typeof q=="string")for(const tt of u.splitLines(q))K(ut,{value:u.clipLine(tt)});else{const tt=new Set;for(const ot of q){const{label:F=""}=ot;F&&tt.has(F)||(tt.add(F),K(ut,ot))}}})));function K(nt,{label:J,value:j,color:ut,opacity:q}){J??(J=""),j??(j="");const tt=ut!=null||q!=null;let ot,F=w*100;const[yt]=Tr(J,F,Y,et);if(yt>=0)J=J.slice(0,yt).trimEnd()+fr,ot=j.trim(),j="";else{(J||!j&&!tt)&&(j=" "+j);const[Ct]=Tr(j,F-Y(J),Y,et);Ct>=0&&(j=j.slice(0,Ct).trimEnd()+fr,ot=j.trim())}const dt=nt.append("tspan").attr("x",0).attr("dy",`${b}em`).text("​");J&&dt.append("tspan").attr("font-weight","bold").text(J),j&&dt.append(()=>g.createTextNode(j)),tt&&dt.append("tspan").text(" ■").attr("fill",ut).attr("fill-opacity",q).style("user-select","none"),ot&&dt.append("title").text(ot)}function st(){const{width:nt,height:J}=o.facet??o;X.selectChildren().each(function(j){let{x:ut,width:q,height:tt}=this.getBBox();q=Math.round(q),tt=Math.round(tt);let ot=_;if(ot===void 0){ot=u.previousAnchor;const dt=V(j)+I,Ct=Q(j)+U,At=dt+q+S*2<nt,ft=dt-q-S*2>0,Nt=Ct+tt+M+S*2+7<J,rn=Ct-tt-M-S*2>0,ve=(/-left$/.test(ot)?At||!ft:At&&!ft)?"left":"right",zr=(/^top-/.test(ot)?Nt||!rn:Nt&&!rn)?"top":"bottom";ot=u.previousAnchor=`${zr}-${ve}`}const F=this.firstChild,yt=this.lastChild;if(F.setAttribute("d",hT(ot,M,S,q,tt)),ut)for(const dt of yt.childNodes)dt.setAttribute("x",-ut);yt.setAttribute("y",`${+cT(ot,yt.childNodes.length,b).toFixed(6)}em`),yt.setAttribute("transform",`translate(${lT(ot,M,S,q,tt)})`)}),X.attr("visibility",null)}return e.length&&(X.attr("visibility","hidden"),m.isConnected?Promise.resolve().then(st):typeof requestAnimationFrame<"u"&&requestAnimationFrame(st)),X.node()}}function fT(t,{x:e,y:n,...i}={}){return i.frameAnchor===void 0&&([e,n]=k1(e,n)),new uT(t,{...i,x:e,y:n})}function cT(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function lT(t,e,n,i,o){switch(t){case"middle":return[-i/2,o/2];case"top-left":return[n,e+n];case"top":return[-i/2,e/2+n];case"top-right":return[-i-n,e+n];case"right":return[-e/2-i-n,o/2];case"bottom-left":return[n,-e-n];case"bottom":return[-i/2,-e/2-n];case"bottom-right":return[-i-n,-e-n];case"left":return[n+e/2,o/2]}}function hT(t,e,n,i,o){const a=i+n*2,u=o+n*2;switch(t){case"middle":return`M${-a/2},${-u/2}h${a}v${u}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${u}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${u}h${-a}v${-u}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${u}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-u/2}h${-a}v${u}h${a}v${e/2-u/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-u}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-u}h${-a}v${u}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-u}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-u/2}h${a}v${u}h${-a}v${e/2-u/2}z`}}function dT({channels:t},e){var o,a;const n={};let i=this.format;i=Gp(i,t,"x"),i=Gp(i,t,"y"),this.format=i;for(const u in i){const c=i[u];if(!(c===null||c===!1))if(u==="fx"||u==="fy")n[u]=!0;else{const l=Lp(t,u);l&&(n[u]=l)}}for(const u in t){if(u in n||u in i||sT.has(u))continue;const c=Lp(t,u);c&&(n[u]=c)}this.facet&&(e.fx&&!("fx"in i)&&(n.fx=!0),e.fy&&!("fy"in i)&&(n.fy=!0));for(const u in n){const c=this.format[u];if(typeof c=="string"){const l=((o=n[u])==null?void 0:o.value)??((a=e[u])==null?void 0:a.domain())??[];this.format[u]=(Ue(l)?Vo:Ne)(c)}else if(c===void 0||c===!0){const l=e[u];this.format[u]=l!=null&&l.bandwidth?Dl(l,l.domain()):xr}}return n}function Gp(t,e,n){if(!(n in t))return t;const i=`${n}1`,o=`${n}2`;if((i in t||!(i in e))&&(o in t||!(o in e)))return t;const a=Object.entries(t),u=t[n];return a.splice(a.findIndex(([c])=>c===n)+1,0,[i,u],[o,u]),Object.fromEntries(a)}function pT(t,e,{title:n}){return xr(n.value[t],t)}function*mT(t,e,n,i,o){for(const a in n){if(a==="fx"||a==="fy"){yield{label:Cs(i,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const u=n[a];if(a==="x2"&&"x1"in n)yield{label:jp(i,n,"x"),value:Xp(this.format.x2,n.x1,u,t)};else if(a==="y2"&&"y1"in n)yield{label:jp(i,n,"y"),value:Xp(this.format.y2,n.y1,u,t)};else{const c=u.value[t],l=u.scale;if(!Ei(c)&&l==null)continue;yield{label:Cs(i,n,a),value:this.format[a](c,t),color:l==="color"?o[a][t]:null,opacity:l==="opacity"?o[a][t]:null}}}}function Xp(t,e,n,i){var o;return(o=n.hint)!=null&&o.length?`${t(n.value[i]-e.value[i],i)}`:`${t(e.value[i],i)}–${t(n.value[i],i)}`}function jp(t,e,n){const i=Cs(t,e,`${n}1`,n),o=Cs(t,e,`${n}2`,n);return i===o?i:`${i}–${o}`}function Cs(t,e,n,i=n){const o=e[n],a=t[(o==null?void 0:o.scale)??n];return String((a==null?void 0:a.label)??(o==null?void 0:o.label)??i)}function av(t={}){var et;const{facet:e,style:n,title:i,subtitle:o,caption:a,ariaLabel:u,ariaDescription:c}=t,l=Tl(t.className),h=t.marks===void 0?[]:Jp(t.marks);h.push(...MT(h));const p=wT(e,t),m=new Map;for(const Z of h){const W=Qp(Z,p,t);W&&m.set(Z,W)}const g=new Map;p&&Qr(g,[p],t),Qr(g,m,t);const _=Jp(TT(h,g,t));for(const Z of _){const W=Qp(Z,p,t);W&&m.set(Z,W)}h.unshift(..._);let v=ZM(g,t);if(v!==void 0){const Z=p?kf(v,p):void 0;for(const X of h){if(X.facet===null||X.facet==="super")continue;const K=m.get(X);K!==void 0&&(K.facetsIndex=X.fx!=null||X.fy!=null?kf(v,K):Z)}const W=new Set;for(const{facetsIndex:X}of m.values())X==null||X.forEach((K,st)=>{(K==null?void 0:K.length)>0&&W.add(st)});v.forEach(0<W.size&&W.size<v.length?(X,K)=>X.empty=!W.has(K):X=>X.empty=!1);for(const X of h)if(X.facet==="exclude"){const K=m.get(X);K!==void 0&&(K.facetsIndex=HM(K.facetsIndex))}}for(const Z of Ht.keys())Pc(t[Z])&&Z!=="fx"&&Z!=="fy"&&g.set(Z,[]);const b=new Map;for(const Z of h){if(b.has(Z))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:W,channels:X}=m.get(Z)??{},{data:K,facets:st,channels:nt}=Z.initialize(W,X,t);Bl(nt,t),b.set(Z,{data:K,facets:st,channels:nt})}const w=zc(Qr(g,b,t),t),S=BM(w,h,t);CM(w,S);const M=Np(w),{fx:P,fy:T}=M,k=P||T?uy(w,S):S,E=P||T?ET(M,S):S,z=Sl(t),D=z.document,O=Zs("svg").call(D.documentElement);let $=O;z.ownerSVGElement=O,z.className=l,z.projection=U7(t,k),z.filterFacets=(Z,W)=>kf(v,{channels:W,groups:El(Z,W)}),z.getMarkState=Z=>{const W=b.get(Z),X=m.get(Z);return{...W,channels:{...W.channels,...X==null?void 0:X.channels}}},z.dispatchValue=Z=>{$.value!==Z&&($.value=Z,$.dispatchEvent(new Event("input",{bubbles:!0})))};const A=new Set;for(const[Z,W]of b)if(Z.initializer!=null){const X=Z.facet==="super"?E:k,K=Z.initializer(W.data,W.facets,W.channels,M,X,z);if(K.data!==void 0&&(W.data=K.data),K.facets!==void 0&&(W.facets=K.facets),K.channels!==void 0){const{fx:st,fy:nt,...J}=K.channels;bT(J),Object.assign(W.channels,J);for(const j of Object.values(J)){const{scale:ut}=j;ut!=null&&!i7(Ht.get(ut))&&(sv(j,t),A.add(ut))}(st!=null||nt!=null)&&m.set(Z,!0)}}if(A.size){const Z=new Map;Qr(Z,b,t,st=>A.has(st)),Qr(g,b,t,st=>A.has(st));const W=AT(zc(Z,t),w),{scales:X,...K}=Np(W);Object.assign(w,W),Object.assign(M,K),Object.assign(M.scales,X)}let I,U;v!==void 0&&(I={x:P==null?void 0:P.domain(),y:T==null?void 0:T.domain()},v=FM(v,I),U=UM(P,T,S));for(const[Z,W]of b)W.values=Z.scale(W.channels,M,z);const{width:H,height:B}=S;be(O).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",H).attr("height",B).attr("viewBox",`0 0 ${H} ${B}`).attr("aria-label",u).attr("aria-description",c).call(Z=>Z.append("style").text(`.${l} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${l} text,
.${l} tspan {
  white-space: pre;
}`)).call(Ll,n);for(const Z of h){const{channels:W,values:X,facets:K}=b.get(Z);if(v===void 0||Z.facet==="super"){let st=null;if(K&&(st=K[0],st=Z.filter(st,W,X),st.length===0))continue;const nt=Z.render(st,M,X,E,z);if(nt==null)continue;O.appendChild(nt)}else{let st;for(const nt of v){if(!(((et=Z.facetAnchor)==null?void 0:et.call(Z,v,I,nt))??!nt.empty))continue;let J=null;if(K){const ut=m.has(Z);if(J=K[ut?nt.i:0],J=Z.filter(J,W,X),J.length===0)continue;!ut&&J===K[0]&&(J=H4(J)),J.fx=nt.x,J.fy=nt.y,J.fi=nt.i}const j=Z.render(J,M,X,k,z);if(j!=null){(st??(st=be(O).append("g"))).append(()=>j).datum(nt);for(const ut of["aria-label","aria-description","aria-hidden","transform"])j.hasAttribute(ut)&&(st.attr(ut,j.getAttribute(ut)),j.removeAttribute(ut))}}st==null||st.selectChildren().attr("transform",U)}}const V=nT(w,z,t),{figure:Q=i!=null||o!=null||a!=null||V.length>0}=t;Q&&($=D.createElement("figure"),$.className=`${l}-figure`,$.style.maxWidth="initial",i!=null&&$.append(Kp(D,i,"h2")),o!=null&&$.append(Kp(D,o,"h3")),$.append(...V,O),a!=null&&$.append(gT(D,a))),$.scale=IM(M.scales),$.legend=Q9(w,z,t);const Y=z7();return Y>0&&be(O).append("text").attr("x",H).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${Y.toLocaleString("en-US")} warning${Y===1?"":"s"}. Please check the console.`),$}function Kp(t,e,n){if(e.ownerDocument)return e;const i=t.createElement(n);return i.append(e),i}function gT(t,e){const n=t.createElement("figcaption");return n.append(e),n}function _T({marks:t=[],...e}={}){return av({...e,marks:[...t,this]})}wn.prototype.plot=_T;function Jp(t){return t.flat(1/0).filter(e=>e!=null).map(yT)}function yT(t){return typeof t.render=="function"?t:new vT(t)}class vT extends wn{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Bl(t,e){for(const n in t)sv(t[n],e);return t}function sv(t,e){const{scale:n,transform:i=!0}=t;if(n==null||!i)return;const{type:o,percent:a,interval:u,transform:c=a?l=>l*100:C1(u,o)}=e[n]??{};c!=null&&(t.value=Qt(t.value,c),t.transform=!1)}function bT(t){for(const e in t)W1(e,t[e])}function Qr(t,e,n,i=O4){var o,a;for(const{channels:u}of e.values())for(const c in u){const l=u[c],{scale:h}=l;if(h!=null&&i(h))if(h==="projection"){if(!V7(n)){const p=((o=n.x)==null?void 0:o.domain)===void 0,m=((a=n.y)==null?void 0:a.domain)===void 0;if(p||m){const[g,_]=G7(l);p&&$f(t,"x",g),m&&$f(t,"y",_)}}}else $f(t,h,l)}return t}function $f(t,e,n){const i=t.get(e);i!==void 0?i.push(n):t.set(e,[n])}function wT(t,e){if(t==null)return;const{x:n,y:i}=t;if(n==null&&i==null)return;const o=ke(t.data);if(o==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Eo(o,{value:n,scale:"fx"})),i!=null&&(a.fy=Eo(o,{value:i,scale:"fy"})),Bl(a,e);const u=El(o,a);return{channels:a,groups:u,data:t.data}}function Qp(t,e,n){var l;if(t.facet===null||t.facet==="super")return;const{fx:i,fy:o}=t;if(i!=null||o!=null){const h=ke(t.data??i??o);if(h===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(h===null)return;const p={};return i!=null&&(p.fx=Eo(h,{value:i,scale:"fx"})),o!=null&&(p.fy=Eo(h,{value:o,scale:"fy"})),Bl(p,n),{channels:p,groups:El(h,p)}}if(e===void 0)return;const{channels:a,groups:u,data:c}=e;if(t.facet!=="auto"||t.data===c)return{channels:a,groups:u};c.length>0&&(u.size>1||u.size===1&&a.fx&&a.fy&&[...u][0][1].size>1)&&((l=ke(t.data))==null?void 0:l.length)===c.length&&vi(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function xT(t,e={}){return Ss({...e,x:null,y:null},(n,i,o,a,u,c)=>c.getMarkState(t))}function MT(t){const e=[];for(const n of t){let i=n.tip;if(i){i===!0?i={}:typeof i=="string"&&(i={pointer:i});let{pointer:o}=i;o=/^x$/i.test(o)?e9:/^y$/i.test(o)?n9:t9,i=o(xT(n,i)),i.title=null;const a=fT(n.data,i);a.facet=n.facet,a.facetAnchor=n.facetAnchor,e.push(a)}}return e}function TT(t,e,n){let{projection:i,x:o={},y:a={},fx:u={},fy:c={},axis:l,grid:h,facet:p={},facet:{axis:m=l,grid:g}=p,x:{axis:_=l,grid:v=_===null?null:h}=o,y:{axis:b=l,grid:w=b===null?null:h}=a,fx:{axis:S=m,grid:M=S===null?null:g}=u,fy:{axis:P=m,grid:T=P===null?null:g}=c}=n;(i||!Pc(o)&&!tm("x",t))&&(_=v=null),(i||!Pc(a)&&!tm("y",t))&&(b=w=null),e.has("fx")||(S=M=null),e.has("fy")||(P=T=null),_===void 0&&(_=!Ia(t,"x")),b===void 0&&(b=!Ia(t,"y")),S===void 0&&(S=!Ia(t,"fx")),P===void 0&&(P=!Ia(t,"fy")),_===!0&&(_="bottom"),b===!0&&(b="left"),S===!0&&(S=_==="top"||_===null?"bottom":"top"),P===!0&&(P=b==="right"||b===null?"left":"right");const k=[];return Oa(k,T,U9,c),Na(k,P,O9,"right","left",p,c),Oa(k,M,W9,u),Na(k,S,I9,"top","bottom",p,u),Oa(k,w,F9,a),Na(k,b,Wy,"left","right",n,a),Oa(k,v,H9,o),Na(k,_,qy,"bottom","top",n,o),k}function Na(t,e,n,i,o,a,u){if(!e)return;const c=LT(e);u=ST(c?i:e,a,u);const{line:l}=u;(n===Wy||n===qy)&&l&&!Ao(l)&&t.push(aT(PT(u))),t.push(n(u)),c&&t.push(n({...u,anchor:o,label:null}))}function Oa(t,e,n,i){!e||Ao(e)||t.push(n(kT(e,i)))}function LT(t){return/^\s*both\s*$/i.test(t)}function ST(t,e,{line:n=e.line,ticks:i,tickSize:o,tickSpacing:a,tickPadding:u,tickFormat:c,tickRotate:l,fontVariant:h,ariaLabel:p,ariaDescription:m,label:g=e.label,labelAnchor:_,labelArrow:v=e.labelArrow,labelOffset:b}){return{anchor:t,line:n,ticks:i,tickSize:o,tickSpacing:a,tickPadding:u,tickFormat:c,tickRotate:l,fontVariant:h,ariaLabel:p,ariaDescription:m,label:g,labelAnchor:_,labelArrow:v,labelOffset:b}}function PT(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function kT(t,{stroke:e=su(t)?t:void 0,ticks:n=CT(t)?t:void 0,tickSpacing:i,ariaLabel:o,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:i,ariaLabel:o,ariaDescription:a}}function CT(t){switch(typeof t){case"number":return!0;case"string":return!su(t)}return Oi(t)||typeof(t==null?void 0:t.range)=="function"}function Ia(t,e){const n=`${e}-axis `;return t.some(i=>{var o;return(o=i.ariaLabel)==null?void 0:o.startsWith(n)})}function tm(t,e){for(const n of e)for(const i in n.channels){const{scale:o}=n.channels[i];if(o===t||o==="projection")return!0}return!1}function AT(t,e){for(const n in t){const i=t[n],o=e[n];i.label===void 0&&o&&(i.label=o.label)}return t}function ET({fx:t,fy:e},n){const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:c,height:l}=Al(n),h=t&&em(t),p=e&&em(e);return{marginTop:e?p[0]:i,marginRight:t?c-h[1]:o,marginBottom:e?l-p[1]:a,marginLeft:t?h[0]:u,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:c,height:l}}function em(t){const e=t.domain();let n=t(e[0]),i=t(e[e.length-1]);return i<n&&([n,i]=[i,n]),[n,i+t.bandwidth()]}function $T(t={}){return P1(t)?t:{...t,x:_e}}function zT(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,i=new Uint8Array(n);let o=0;for(const c of e)for(const l of c)i[l]&&++o,i[l]=1;if(o===0)return{data:t,facets:e};t=ko(t);const a=t[M1]=new Uint32Array(n+o);e=e.map(c=>ko(c,Uint32Array));let u=n;i.fill(0);for(const c of e)for(let l=0,h=c.length;l<h;++l){const p=c[l];i[p]?(c[l]=u,t[u]=t[p],a[u]=p,++u):a[p]=p,i[p]=1}return{data:t,facets:e}}function zo(t={},e={}){arguments.length===1&&([t,e]=OT(t));const{y1:n,y:i=n,x:o,...a}=e,[u,c,l,h]=DT(i,o,"y","x",t,a);return{...u,y1:n,y:c,x1:l,x2:h,x:q4(l,h)}}function NT({x:t,x1:e,x2:n,...i}={}){return i=$l(i,"y"),e===void 0&&n===void 0?zo({x:t,...i}):([e,n]=F4(t,e,n),{...i,x1:e,x2:n})}function OT(t){const{offset:e,order:n,reverse:i,...o}=t;return[{offset:e,order:n,reverse:i},o]}const IT={length:!0};function DT(t,e=N4,n,i,{offset:o,order:a,reverse:u},c){if(e===null)throw new Error(`stack requires ${i}`);const l=U4(c),[h,p]=nr(t),[m,g]=Ls(e),[_,v]=Ls(e);return m.hint=_.hint=IT,o=BT(o),a=FT(a,o,i),[xl(c,(b,w,S)=>{({data:b,facets:w}=zT(b,w));const M=t==null?void 0:p(kc(Kt(b,t),S==null?void 0:S[n])),P=Kt(b,e,Float64Array),T=Kt(b,l),k=a&&a(b,M,P,T),E=b.length,z=g(new Float64Array(E)),D=v(new Float64Array(E)),O=[];for(const $ of w){const A=M?Array.from(Fc($,I=>M[I]).values()):[$];if(k)for(const I of A)I.sort(k);for(const I of A){let U=0,H=0;u&&I.reverse();for(const B of I){const V=P[B];V<0?U=D[B]=(z[B]=U)+V:V>0?H=D[B]=(z[B]=H)+V:D[B]=z[B]=H}}O.push(A)}return o&&o(O,z,D,T),{data:b,facets:w}}),h,m,_]}function BT(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return RT;case"center":case"silhouette":return ZT;case"wiggle":return fv}throw new Error(`unknown offset: ${t}`)}}function uv(t,e){let n=0,i=0;for(const o of t){const a=e[o];a<n&&(n=a),a>i&&(i=a)}return[n,i]}function RT(t,e,n){for(const i of t)for(const o of i){const[a,u]=uv(o,n);for(const c of o){const l=1/(u-a||1);e[c]=l*(e[c]-a),n[c]=l*(n[c]-a)}}}function ZT(t,e,n){for(const i of t){for(const o of i){const[a,u]=uv(o,n);for(const c of o){const l=(u+a)/2;e[c]-=l,n[c]-=l}}cv(i,e,n)}lv(t,e,n)}function fv(t,e,n,i){for(const o of t){const a=new Mi;let u=0;for(const c of o){let l=-1;const h=c.map(_=>Math.abs(n[_]-e[_])),p=c.map(_=>{l=i?i[_]:++l;const v=n[_]-e[_],b=a.has(l)?v-a.get(l):0;return a.set(l,v),b}),m=[0,..._w(p)];for(const _ of c)e[_]+=u,n[_]+=u;const g=jn(h);g&&(u-=jn(h,(_,v)=>(p[v]/2+m[v])*_)/g)}cv(o,e,n)}lv(t,e,n)}function cv(t,e,n){const i=In(t,o=>In(o,a=>e[a]));for(const o of t)for(const a of o)e[a]-=i,n[a]-=i}function lv(t,e,n){const i=t.length;if(i===1)return;const o=t.map(c=>c.flat()),a=o.map(c=>(In(c,l=>e[l])+Xe(c,l=>n[l]))/2),u=In(a);for(let c=0;c<i;c++){const l=u-a[c];for(const h of o[c])e[h]+=l,n[h]+=l}}function FT(t,e,n){if(t===void 0&&e===fv)return nm(Qe);if(t!=null){if(typeof t=="string"){const i=t.startsWith("-"),o=i?Ts:Qe;switch((i?t.slice(1):t).toLowerCase()){case"value":case n:return UT(o);case"z":return HT(o);case"sum":return WT(o);case"appearance":return qT(o);case"inside-out":return nm(o)}return im(T1(t))}if(typeof t=="function")return(t.length===1?im:VT)(t);if(Array.isArray(t))return YT(t);throw new Error(`invalid order: ${t}`)}}function UT(t){return(e,n,i)=>(o,a)=>t(i[o],i[a])}function HT(t){return(e,n,i,o)=>(a,u)=>t(o[a],o[u])}function WT(t){return pu(t,(e,n,i,o)=>Hc(Un(e),a=>jn(a,u=>i[u]),a=>o[a]))}function qT(t){return pu(t,(e,n,i,o)=>Hc(Un(e),a=>n[jm(a,u=>i[u])],a=>o[a]))}function nm(t){return pu(t,(e,n,i,o)=>{const a=Un(e),u=Hc(a,m=>n[jm(m,g=>i[g])],m=>o[m]),c=ar(a,m=>jn(m,g=>i[g]),m=>o[m]),l=[],h=[];let p=0;for(const m of u)p<0?(p+=c.get(m),l.push(m)):(p-=c.get(m),h.push(m));return h.reverse().concat(l)})}function im(t){return e=>{const n=Kt(e,t);return(i,o)=>Qe(n[i],n[o])}}function VT(t){return e=>(n,i)=>t(e[n],e[i])}function YT(t){return pu(Qe,()=>t)}function pu(t,e){return(n,i,o,a)=>{if(!a)throw new Error("missing channel: z");const u=new Mi(e(n,i,o,a).map((c,l)=>[c,l]));return(c,l)=>t(u.get(a[c]),u.get(a[l]))}}class GT extends wn{constructor(e,n,i={},o){super(e,n,i,o);const{inset:a=0,insetTop:u=a,insetRight:c=a,insetBottom:l=a,insetLeft:h=a,rx:p,ry:m}=i;this.insetTop=Ft(u),this.insetRight=Ft(c),this.insetBottom=Ft(l),this.insetLeft=Ft(h),this.rx=ne(p,"auto"),this.ry=ne(m,"auto")}render(e,n,i,o,a){const{rx:u,ry:c}=this;return ye("svg:g",a).call(Ii,this,o,a).call(this._transform,this,n).call(l=>l.selectAll().data(e).enter().append("rect").call(Di,this).attr("x",this._x(n,i,o)).attr("width",this._width(n,i,o)).attr("y",this._y(n,i,o)).attr("height",this._height(n,i,o)).call(St,"rx",u).call(St,"ry",c).call(Ar,this,i)).node()}_x(e,{x:n},{marginLeft:i}){const{insetLeft:o}=this;return n?a=>n[a]+o:i+o}_y(e,{y:n},{marginTop:i}){const{insetTop:o}=this;return n?a=>n[a]+o:i+o}_width({x:e},{x:n},{marginRight:i,marginLeft:o,width:a}){const{insetLeft:u,insetRight:c}=this,l=n&&e?e.bandwidth():a-i-o;return Math.max(0,l-u-c)}_height({y:e},{y:n},{marginTop:i,marginBottom:o,height:a}){const{insetTop:u,insetBottom:c}=this,l=n&&e?e.bandwidth():a-i-o;return Math.max(0,l-u-c)}}const XT={ariaLabel:"bar"};class jT extends GT{constructor(e,n={}){const{x1:i,x2:o,y:a}=n;super(e,{x1:{value:i,scale:"x"},x2:{value:o,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,XT)}_transform(e,n,{x:i}){e.call(Bi,n,{x:i},0,0)}_x({x:e},{x1:n,x2:i},{marginLeft:o}){const{insetLeft:a}=this;return Mr(e)?o+a:u=>Math.min(n[u],i[u])+a}_width({x:e},{x1:n,x2:i},{marginRight:o,marginLeft:a,width:u}){const{insetLeft:c,insetRight:l}=this;return Mr(e)?u-o-a-c-l:h=>Math.max(0,Math.abs(i[h]-n[h])-c-l)}}function As(t,e={}){return Z4(e)||(e={...e,y:L1,x2:_e}),new jT(t,NT(Sy($T(e))))}function rm(t){let e,n,i,o=[t[3]],a={};for(let u=0;u<o.length;u+=1)a=Wa(a,o[u]);return{c(){e=vt("div"),Xh(e,a)},m(u,c){$t(u,e,c),n||(i=[cr(e,"click",function(){No(t[1])&&t[1].apply(this,arguments)}),Rb(t[2].call(null,e))],n=!0)},p(u,c){t=u,Xh(e,a=jb(o,[c&8&&t[3]]))},d(u){u&&kt(e),n=!1,Jn(i)}}}function KT(t){let e=t[0],n,i=rm(t);return{c(){i.c(),n=Xn()},m(o,a){i.m(o,a),$t(o,n,a)},p(o,[a]){a&1&&tn(e,e=o[0])?(i.d(1),i=rm(o),i.c(),i.m(n.parentNode,n)):i.p(o,a)},i:Me,o:Me,d(o){o&&kt(n),i.d(o)}}}function JT(t,e,n){const i=["options","handleClick"];let o=Yh(e,i),{options:a}=e,{handleClick:u=l=>{}}=e;function c(l){l.appendChild(av(a))}return t.$$set=l=>{e=Wa(Wa({},e),Bb(l)),n(3,o=Yh(e,i)),"options"in l&&n(0,a=l.options),"handleClick"in l&&n(1,u=l.handleClick)},[a,u,c,o]}class hv extends yn{constructor(e){super(),_n(this,e,JT,KT,tn,{options:0,handleClick:1})}}function QT(t){let e,n,i;return n=new hv({props:{handleClick:t[1],options:{width:200,marginTop:10,color:{range:["rgb(104,175,252)","rgb(164 114 244)"]},marks:[As(t[0].features,Ps({x:"count",ariaLabel:t[5],stroke:t[6],fillOpacity:t[7]},{y:om,fill:t[8]})),ks([t[3]],{frameAnchor:"top",textAnchor:"start",fontSize:12,dx:-98,dy:-10}),Oc(t[0].features,zo(bp({x:"count",text:t[9],id:am,ariaLabel:sm},{z:t[10],inset:.5,textAnchor:"middle",id:t[11],ariaLabel:t[12]})))],marginBottom:0,x:{label:t[3],axis:null},y:{axis:null},height:55,style:{cursor:"pointer"}}}}),{c(){e=vt("div"),he(n.$$.fragment),at(e,"class","mx-1")},m(o,a){$t(o,e,a),ae(n,e,null),i=!0},p(o,[a]){const u={};a&2&&(u.handleClick=o[1]),a&29&&(u.options={width:200,marginTop:10,color:{range:["rgb(104,175,252)","rgb(164 114 244)"]},marks:[As(o[0].features,Ps({x:"count",ariaLabel:o[5],stroke:o[6],fillOpacity:o[7]},{y:om,fill:o[8]})),ks([o[3]],{frameAnchor:"top",textAnchor:"start",fontSize:12,dx:-98,dy:-10}),Oc(o[0].features,zo(bp({x:"count",text:o[9],id:am,ariaLabel:sm},{z:o[10],inset:.5,textAnchor:"middle",id:o[11],ariaLabel:o[12]})))],marginBottom:0,x:{label:o[3],axis:null},y:{axis:null},height:55,style:{cursor:"pointer"}}),n.$set(u)},i(o){i||(ct(n.$$.fragment,o),i=!0)},o(o){mt(n.$$.fragment,o),i=!1},d(o){o&&kt(e),se(n)}}}const om=t=>1,am=t=>t[0].id,sm=t=>t[0];function tL(t,e,n){let{data:i}=e,{handleClick:o}=e,{selected:a}=e,{label:u}=e,{prop:c}=e;const l=w=>w[0].properties[c],h=w=>`${w[0].properties[c]}`===a?"black":"none",p=w=>a?`${w[0].properties[c]}`===a?1:.5:.8,m=w=>`${w.properties[c]}`,g=w=>w[0].properties[c],_=w=>w.properties[c],v=w=>w.properties[c],b=w=>w.properties[c];return t.$$set=w=>{"data"in w&&n(0,i=w.data),"handleClick"in w&&n(1,o=w.handleClick),"selected"in w&&n(2,a=w.selected),"label"in w&&n(3,u=w.label),"prop"in w&&n(4,c=w.prop)},[i,o,a,u,c,l,h,p,m,g,_,v,b]}class eL extends yn{constructor(e){super(),_n(this,e,tL,QT,tn,{data:0,handleClick:1,selected:2,label:3,prop:4})}}function nL(t){let e;const n=t[3].default,i=Es(n,t,t[2],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&4)&&zs(i,n,o,o[2],e?$s(n,o[2],a,null):Ns(o[2]),null)},i(o){e||(ct(i,o),e=!0)},o(o){mt(i,o),e=!1},d(o){i&&i.d(o)}}}function iL(t){let e,n,i=open&&nL(t);return{c(){e=vt("div"),i&&i.c(),at(e,"use",t[0])},m(o,a){$t(o,e,a),i&&i.m(e,null),t[4](e),n=!0},p(o,[a]){open&&i.p(o,a),(!n||a&1)&&at(e,"use",o[0])},i(o){n||(ct(i),n=!0)},o(o){mt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[4](null)}}}function rL(t,e,n){let{$$slots:i={},$$scope:o}=e,a,u,{startOpen:c=!1}=e;const{getLayer:l}=Zc("layer"),h=l();Lr(()=>{a=mi.popup().setContent(u),h&&(h.bindPopup(a),h.on("popupopen",()=>open=!0),h.on("popupclose",()=>open=!1),c&&(h==null||h.openPopup()))}),Os(()=>{h==null||h.unbindPopup(),a==null||a.remove(),a=void 0});function p(m){wi[m?"unshift":"push"](()=>{u=m,n(1,u)})}return t.$$set=m=>{"startOpen"in m&&n(0,c=m.startOpen),"$$scope"in m&&n(2,o=m.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&(c&&h?h==null||h.openPopup():h&&h.closePopup())},[c,u,o,i,p]}class Rl extends yn{constructor(e){super(),_n(this,e,rL,iL,tn,{startOpen:0})}}function oL(t){let e;return{c(){e=vt("div"),at(e,"class","histogram mx-1 svelte-13skr5q")},m(n,i){$t(n,e,i),t[7](e)},p:Me,i:Me,o:Me,d(n){n&&kt(e),t[7](null)}}}function aL(t,e,n){let{data:i=Array.from({length:100},(m,g)=>g)}=e,{width:o=200}=e,{height:a=75}=e,{tickFormat:u=Ne(".2s")}=e,{onUpdate:c=null}=e,{label:l="Value →"}=e,h;Lr(()=>{const m={top:15,right:30,bottom:30,left:30},g=be(h).append("svg").attr("width",o).attr("height",a),_=To().domain(Ze(i)).range([m.left,o-m.right]).nice(),v=kw().domain(_.domain()).thresholds(_.ticks(20))(i),b=Math.max(...v.map(k=>k.length)),w=To().domain([0,b]).nice().range([a-m.bottom,m.top]),S=g.selectAll("rect").data(v).enter().append("rect").attr("x",k=>_(k.x0)+1).attr("width",k=>Math.max(0,_(k.x1)-_(k.x0)-1)).attr("y",k=>w(k.length)).attr("height",k=>w(0)-w(k.length)).attr("fill","rgb(104,175,252)").attr("fill-opacity",.8),M=k5().extent([[m.left,m.top],[o-m.right,a-m.bottom]]).on("brush",P).on("end",T);g.append("g").attr("class","brush").call(M),g.append("text").attr("x",2).attr("y",9).attr("text-anchor","start").attr("font-size","12px").style("font-family","system-ui, sans-serif").text(l),g.append("g").attr("transform",`translate(0,${a-m.bottom})`).call(Qm(_).ticks(4).tickFormat(u)),g.append("g").attr("transform",`translate(${m.left},0)`).call(Hw(w).ticks(2));function P(k){if(k.selection){const[E,z]=k.selection;S.attr("fill-opacity",D=>{const O=_(D.x0)+1;return O>=E&&O<=z?1:.3}),c&&c([_.invert(E),_.invert(z)])}}function T(k){k.selection||(S.attr("fill-opacity",1),c&&c(null))}});function p(m){wi[m?"unshift":"push"](()=>{h=m,n(0,h)})}return t.$$set=m=>{"data"in m&&n(1,i=m.data),"width"in m&&n(2,o=m.width),"height"in m&&n(3,a=m.height),"tickFormat"in m&&n(4,u=m.tickFormat),"onUpdate"in m&&n(5,c=m.onUpdate),"label"in m&&n(6,l=m.label)},[h,i,o,a,u,c,l,p]}class sL extends yn{constructor(e){super(),_n(this,e,aL,oL,tn,{data:1,width:2,height:3,tickFormat:4,onUpdate:5,label:6})}}function um(t){let e;const n=t[4].default,i=Es(n,t,t[3],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&8)&&zs(i,n,o,o[3],e?$s(n,o[3],a,null):Ns(o[3]),null)},i(o){e||(ct(i,o),e=!0)},o(o){mt(i,o),e=!1},d(o){i&&i.d(o)}}}function uL(t){let e,n,i=t[0]&&um(t);return{c(){e=vt("div"),i&&i.c()},m(o,a){$t(o,e,a),i&&i.m(e,null),t[5](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ct(i,1)):(i=um(o),i.c(),ct(i,1),i.m(e,null)):i&&(Te(),mt(i,1,1,()=>{i=null}),Le())},i(o){n||(ct(i),n=!0)},o(o){mt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[5](null)}}}function fL(t,e,n){let{$$slots:i={},$$scope:o}=e,{latLngs:a}=e,u,c;const{getMap:l}=Zc("map"),h=l();Rc("layer",{getLayer:()=>u}),Lr(()=>{h&&n(0,u=mi.polyline(a,{color:"black",weight:2,opacity:.8}).addTo(h))}),Os(()=>{u==null||u.remove(),n(0,u=void 0)});function p(m){wi[m?"unshift":"push"](()=>{c=m,n(1,c)})}return t.$$set=m=>{"latLngs"in m&&n(2,a=m.latLngs),"$$scope"in m&&n(3,o=m.$$scope)},[u,c,a,o,i,p]}class cL extends yn{constructor(e){super(),_n(this,e,fL,uL,tn,{latLngs:2})}}function lL(t){let e,n,i,o;return{c(){e=vt("button"),at(e,"class",n=Gh(`mx-2 my-1 p-1 hover:border-black border-solid border-1 border-black ${t[0]?"opacity-100":"opacity-30 hover:opacity-50"}`)+" svelte-10lm8cb"),mo(e,"background-image","url("+t[2]+")")},m(a,u){$t(a,e,u),i||(o=cr(e,"click",Zb(function(){No(t[1])&&t[1].apply(this,arguments)})),i=!0)},p(a,[u]){t=a,u&1&&n!==(n=Gh(`mx-2 my-1 p-1 hover:border-black border-solid border-1 border-black ${t[0]?"opacity-100":"opacity-30 hover:opacity-50"}`)+" svelte-10lm8cb")&&at(e,"class",n),u&4&&mo(e,"background-image","url("+t[2]+")")},i:Me,o:Me,d(a){a&&kt(e),i=!1,o()}}}function hL(t,e,n){let{checked:i=!0}=e,{onClick:o=()=>{}}=e,{imageUrl:a="./ttc.svg"}=e;return t.$$set=u=>{"checked"in u&&n(0,i=u.checked),"onClick"in u&&n(1,o=u.onClick),"imageUrl"in u&&n(2,a=u.imageUrl)},[i,o,a]}class zf extends yn{constructor(e){super(),_n(this,e,hL,lL,tn,{checked:0,onClick:1,imageUrl:2})}}function fm(t,e,n){const i=t.slice();return i[12]=e[n],i}function cm(t,e,n){const i=t.slice();return i[15]=e[n],i}function lm(t,e,n){const i=t.slice();return i[18]=e[n],i}function hm(t){let e,n,i,o,a=[],u=new Map,c,l,h=Oe(Object.keys(t[5][0]));const p=_=>_[18];for(let _=0;_<h.length;_+=1){let v=lm(t,h,_),b=p(v);u.set(b,a[_]=dm(b,v))}let m=Oe(t[5]),g=[];for(let _=0;_<m.length;_+=1)g[_]=mm(fm(t,m,_));return{c(){e=vt("div"),n=vt("table"),i=vt("thead"),o=vt("tr");for(let _=0;_<a.length;_+=1)a[_].c();c=Rt(),l=vt("tbody");for(let _=0;_<g.length;_+=1)g[_].c();at(i,"class","sticky top-0 bg-white"),at(n,"class","min-w-full"),at(e,"class","border-gray mt-1 overflow-x-auto"),mo(e,"max-height",_L)},m(_,v){$t(_,e,v),ht(e,n),ht(n,i),ht(i,o);for(let b=0;b<a.length;b+=1)a[b]&&a[b].m(o,null);ht(n,c),ht(n,l);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(l,null)},p(_,v){if(v&113&&(h=Oe(Object.keys(_[5][0])),a=Fm(a,v,p,1,_,h,u,o,Gb,dm,null,lm)),v&44){m=Oe(_[5]);let b;for(b=0;b<m.length;b+=1){const w=fm(_,m,b);g[b]?g[b].p(w,v):(g[b]=mm(w),g[b].c(),g[b].m(l,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=m.length}},d(_){_&&kt(e);for(let v=0;v<a.length;v+=1)a[v].d();qa(g,_)}}}function dL(t){let e,n;return{c(){e=bi("svg"),n=bi("path"),at(n,"stroke-linecap","round"),at(n,"stroke-linejoin","round"),at(n,"stroke-width","2"),at(n,"d","M4 8h16M4 16h16"),at(e,"class","w-4 h-4 ml-1 text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity"),at(e,"fill","none"),at(e,"stroke","currentColor"),at(e,"viewBox","0 0 24 24"),at(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){$t(i,e,o),ht(e,n)},d(i){i&&kt(e)}}}function pL(t){let e,n;return{c(){e=bi("svg"),n=bi("path"),at(n,"stroke-linecap","round"),at(n,"stroke-linejoin","round"),at(n,"stroke-width","2"),at(n,"d","M19 9l-7 7-7-7"),at(e,"class","w-4 h-4 ml-1 text-gray-600"),at(e,"fill","none"),at(e,"stroke","currentColor"),at(e,"viewBox","0 0 24 24"),at(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){$t(i,e,o),ht(e,n)},d(i){i&&kt(e)}}}function mL(t){let e,n;return{c(){e=bi("svg"),n=bi("path"),at(n,"stroke-linecap","round"),at(n,"stroke-linejoin","round"),at(n,"stroke-width","2"),at(n,"d","M5 15l7-7 7 7"),at(e,"class","w-4 h-4 ml-1 text-gray-600"),at(e,"fill","none"),at(e,"stroke","currentColor"),at(e,"viewBox","0 0 24 24"),at(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){$t(i,e,o),ht(e,n)},d(i){i&&kt(e)}}}function dm(t,e){let n,i,o,a=e[18]+"",u,c,l,h;function p(v,b){return v[18]===v[0]&&v[4]===1?mL:v[18]===v[0]&&v[4]===-1?pL:dL}let m=p(e),g=m(e);function _(){return e[10](e[18])}return{key:t,first:null,c(){n=vt("th"),i=vt("div"),g.c(),o=Rt(),u=Ve(a),c=Rt(),at(i,"class","flex items-center"),at(n,"class","cursor-pointer px-1 py-1 border truncate select-none svelte-16512im"),this.first=n},m(v,b){$t(v,n,b),ht(n,i),g.m(i,null),ht(i,o),ht(i,u),ht(n,c),l||(h=cr(n,"click",_),l=!0)},p(v,b){e=v,m!==(m=p(e))&&(g.d(1),g=m(e),g&&(g.c(),g.m(i,o))),b&32&&a!==(a=e[18]+"")&&Va(u,a)},d(v){v&&kt(n),g.d(),l=!1,h()}}}function pm(t){let e,n=t[15]+"",i;return{c(){e=vt("td"),i=Ve(n),at(e,"class","border px-1 py-1 truncate"),mo(e,"max-width","240px")},m(o,a){$t(o,e,a),ht(e,i)},p(o,a){a&32&&n!==(n=o[15]+"")&&Va(i,n)},d(o){o&&kt(e)}}}function mm(t){let e,n,i,o,a,u=Oe(Object.values(t[12])),c=[];for(let h=0;h<u.length;h+=1)c[h]=pm(cm(t,u,h));function l(){return t[11](t[12])}return{c(){e=vt("tr");for(let h=0;h<c.length;h+=1)c[h].c();n=Rt(),at(e,"class",i=`cursor-pointer ${t[12].index===t[2]?"bg-orange-300":""}`)},m(h,p){$t(h,e,p);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(e,null);ht(e,n),o||(a=cr(e,"click",l),o=!0)},p(h,p){if(t=h,p&32){u=Oe(Object.values(t[12]));let m;for(m=0;m<u.length;m+=1){const g=cm(t,u,m);c[m]?c[m].p(g,p):(c[m]=pm(g),c[m].c(),c[m].m(e,n))}for(;m<c.length;m+=1)c[m].d(1);c.length=u.length}p&36&&i!==(i=`cursor-pointer ${t[12].index===t[2]?"bg-orange-300":""}`)&&at(e,"class",i)},d(h){h&&kt(e),qa(c,h),o=!1,a()}}}function gL(t){let e,n,i,o,a,u=t[5].length+"",c,l,h,p,m,g,_,v,b,w,S,M,P,T,k,E,z,D,O,$,A,I=t[5]&&t[5].length>0&&hm(t);return{c(){e=vt("div"),n=vt("div"),i=vt("div"),o=Ve("NORCs filtered by the controls above and search below (currently "),a=vt("strong"),c=Ve(u),l=Ve(" rows"),h=Ve(`). Click column headers to sort (currently
      `),p=vt("em"),m=Ve(t[0]),g=Ve("."),_=Ve("). Click a row to zoom the map."),v=Rt(),b=vt("div"),w=vt("button"),w.textContent="Download Table",S=Rt(),M=vt("form"),P=vt("label"),P.textContent="Search stops or buildings",T=Rt(),k=vt("div"),E=vt("div"),E.innerHTML='<svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"></path></svg>',z=Rt(),D=vt("input"),O=Rt(),I&&I.c(),at(w,"type","button"),at(w,"class","py-2.5 px-5 me-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 whitespace-nowrap"),at(n,"class","border-t mt-2 pt-2 flex justify-between text-start"),at(P,"for","default-search"),at(P,"class","mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"),at(E,"class","absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"),at(D,"type","search"),at(D,"id","default-search"),at(D,"class","block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50"),at(D,"placeholder","Search stops or buildings"),at(k,"class","relative w-60"),at(M,"class","flex mb-2"),at(e,"class","mb-10")},m(U,H){$t(U,e,H),ht(e,n),ht(n,i),ht(i,o),ht(i,a),ht(a,c),ht(a,l),ht(i,h),ht(i,p),ht(p,m),ht(p,g),ht(i,_),ht(n,v),ht(n,b),ht(b,w),ht(e,S),ht(e,M),ht(M,P),ht(M,T),ht(M,k),ht(k,E),ht(k,z),ht(k,D),ht(e,O),I&&I.m(e,null),$||(A=[cr(w,"click",t[7]),cr(D,"input",t[9])],$=!0)},p(U,[H]){H&32&&u!==(u=U[5].length+"")&&Va(c,u),H&1&&Va(m,U[0]),U[5]&&U[5].length>0?I?I.p(U,H):(I=hm(U),I.c(),I.m(e,null)):I&&(I.d(1),I=null)},i:Me,o:Me,d(U){U&&kt(e),I&&I.d(),$=!1,Jn(A)}}}let _L="400px";function yL(t,e,n){let i,o,{items:a=[]}=e,{sortBy:u=""}=e,{selectedRow:c}=e,{searchTerm:l=""}=e,{rowClick:h=()=>{}}=e;const p=b=>{u===b?n(4,i*=-1):n(0,u=b)};function m(){const w=Object.keys(o[0]).join(",")+`
`+o.map(T=>Object.values(T).join(",")).join(`
`),S=new Blob([w],{type:"text/csv"}),M=window.URL.createObjectURL(S),P=document.createElement("a");P.href=M,P.setAttribute("download","data.csv"),document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(M)}const g=b=>n(1,l=b.target.value),_=b=>p(b),v=b=>h(b);return t.$$set=b=>{"items"in b&&n(8,a=b.items),"sortBy"in b&&n(0,u=b.sortBy),"selectedRow"in b&&n(2,c=b.selectedRow),"searchTerm"in b&&n(1,l=b.searchTerm),"rowClick"in b&&n(3,h=b.rowClick)},t.$$.update=()=>{t.$$.dirty&275&&n(5,o=[...a].filter(b=>Object.values(b).filter(w=>typeof w=="string").join(" ").toLowerCase().includes(l.toLowerCase())).sort((b,w)=>b[u]>w[u]?i:b[u]<w[u]?-i:0))},n(4,i=-1),[u,l,c,h,i,o,p,m,a,g,_,v]}class vL extends yn{constructor(e){super(),_n(this,e,yL,gL,tn,{items:8,sortBy:0,selectedRow:2,searchTerm:1,rowClick:3})}}function gm(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function _m(t,e,n){const i=t.slice();return i[27]=e[n],i}function ym(t,e,n){const i=t.slice();return i[27]=e[n],i}function vm(t){let e,n,i,o,a=Oe(t[9]),u=[];for(let m=0;m<a.length;m+=1)u[m]=bm(ym(t,a,m));const c=m=>mt(u[m],1,1,()=>{u[m]=null});let l=Oe(t[10]),h=[];for(let m=0;m<l.length;m+=1)h[m]=wm(_m(t,l,m));const p=m=>mt(h[m],1,1,()=>{h[m]=null});return{c(){e=vt("div");for(let m=0;m<u.length;m+=1)u[m].c();n=Rt(),i=vt("div");for(let m=0;m<h.length;m+=1)h[m].c();at(e,"class","flex flex-wrap mt-3"),at(i,"class","flex flex-wrap mt-3")},m(m,g){$t(m,e,g);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(e,null);$t(m,n,g),$t(m,i,g);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(i,null);o=!0},p(m,g){if(g[0]&16901){a=Oe(m[9]);let _;for(_=0;_<a.length;_+=1){const v=ym(m,a,_);u[_]?(u[_].p(v,g),ct(u[_],1)):(u[_]=bm(v),u[_].c(),ct(u[_],1),u[_].m(e,null))}for(Te(),_=a.length;_<u.length;_+=1)c(_);Le()}if(g[0]&17409){l=Oe(m[10]);let _;for(_=0;_<l.length;_+=1){const v=_m(m,l,_);h[_]?(h[_].p(v,g),ct(h[_],1)):(h[_]=wm(v),h[_].c(),ct(h[_],1),h[_].m(i,null))}for(Te(),_=l.length;_<h.length;_+=1)p(_);Le()}},i(m){if(!o){for(let g=0;g<a.length;g+=1)ct(u[g]);for(let g=0;g<l.length;g+=1)ct(h[g]);o=!0}},o(m){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)mt(u[g]);h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)mt(h[g]);o=!1},d(m){m&&(kt(e),kt(n),kt(i)),qa(u,m),qa(h,m)}}}function bm(t){var a;let e,n;function i(...u){return t[16](t[27],...u)}function o(...u){return t[17](t[27],...u)}return e=new eL({props:{prop:t[27].prop,label:t[27].label,selected:(a=t[2].find(i))==null?void 0:a.value,data:t[0],handleClick:o}}),{c(){he(e.$$.fragment)},m(u,c){ae(e,u,c),n=!0},p(u,c){var h;t=u;const l={};c[0]&4&&(l.selected=(h=t[2].find(i))==null?void 0:h.value),c[0]&1&&(l.data=t[0]),e.$set(l)},i(u){n||(ct(e.$$.fragment,u),n=!0)},o(u){mt(e.$$.fragment,u),n=!1},d(u){se(e,u)}}}function wm(t){let e,n;function i(...a){return t[18](t[27],...a)}function o(...a){return t[19](t[27],...a)}return e=new sL({props:{data:t[0].features.map(i),label:`${t[27].label} →`,onUpdate:o,tickFormat:t[27].tickFormat}}),{c(){he(e.$$.fragment)},m(a,u){ae(e,a,u),n=!0},p(a,u){t=a;const c={};u[0]&1&&(c.data=t[0].features.map(i)),e.$set(c)},i(a){n||(ct(e.$$.fragment,a),n=!0)},o(a){mt(e.$$.fragment,a),n=!1},d(a){se(e,a)}}}function xm(t){let e=[],n=new Map,i,o,a=Oe(t[3]);const u=c=>c[24].properties.id;for(let c=0;c<a.length;c+=1){let l=gm(t,a,c),h=u(l);n.set(h,e[c]=Sm(h,l))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();i=Xn()},m(c,l){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(c,l);$t(c,i,l),o=!0},p(c,l){l[0]&33002&&(a=Oe(c[3]),Te(),e=Fm(e,l,u,1,c,a,n,i.parentNode,Xb,Sm,i,gm),Le())},i(c){if(!o){for(let l=0;l<a.length;l+=1)ct(e[l]);o=!0}},o(c){for(let l=0;l<e.length;l+=1)mt(e[l]);o=!1},d(c){c&&kt(i);for(let l=0;l<e.length;l+=1)e[l].d(c)}}}function Mm(t){let e,n;return e=new Um({props:{latLng:[+t[24].properties.latitude,+t[24].properties.longitude],radius:4,fillColor:"black",$$slots:{default:[wL]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},m(i,o){ae(e,i,o),n=!0},p(i,o){const a={};o[0]&8&&(a.latLng=[+i[24].properties.latitude,+i[24].properties.longitude]),o[0]&10|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ct(e.$$.fragment,i),n=!0)},o(i){mt(e.$$.fragment,i),n=!1},d(i){se(e,i)}}}function bL(t){let e,n=t[15](t[24])+"",i;return{c(){e=new Bc(!1),i=Xn(),e.a=i},m(o,a){e.m(n,o,a),$t(o,i,a)},p(o,a){a[0]&8&&n!==(n=o[15](o[24])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function wL(t){let e,n;return e=new Rl({props:{startOpen:t[26]===t[1],$$slots:{default:[bL]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},m(i,o){ae(e,i,o),n=!0},p(i,o){const a={};o[0]&10&&(a.startOpen=i[26]===i[1]),o[0]&8|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ct(e.$$.fragment,i),n=!0)},o(i){mt(e.$$.fragment,i),n=!1},d(i){se(e,i)}}}function Tm(t){let e,n;return e=new Um({props:{latLng:[+t[24].properties.stop_lat,+t[24].properties.stop_lon],radius:4,fillColor:"red",$$slots:{default:[ML]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},m(i,o){ae(e,i,o),n=!0},p(i,o){const a={};o[0]&8&&(a.latLng=[+i[24].properties.stop_lat,+i[24].properties.stop_lon]),o[0]&8|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ct(e.$$.fragment,i),n=!0)},o(i){mt(e.$$.fragment,i),n=!1},d(i){se(e,i)}}}function xL(t){let e,n=t[15](t[24])+"",i;return{c(){e=new Bc(!1),i=Xn(),e.a=i},m(o,a){e.m(n,o,a),$t(o,i,a)},p(o,a){a[0]&8&&n!==(n=o[15](o[24])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function ML(t){let e,n;return e=new Rl({props:{$$slots:{default:[xL]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},m(i,o){ae(e,i,o),n=!0},p(i,o){const a={};o[0]&8|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ct(e.$$.fragment,i),n=!0)},o(i){mt(e.$$.fragment,i),n=!1},d(i){se(e,i)}}}function Lm(t){let e,n;return e=new cL({props:{latLngs:t[24].geometry.coordinates.map(Cm),$$slots:{default:[LL]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment)},m(i,o){ae(e,i,o),n=!0},p(i,o){const a={};o[0]&8&&(a.latLngs=i[24].geometry.coordinates.map(Cm)),o[0]&8|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ct(e.$$.fragment,i),n=!0)},o(i){mt(e.$$.fragment,i),n=!1},d(i){se(e,i)}}}function TL(t){let e,n=t[15](t[24])+"",i;return{c(){e=new Bc(!1),i=Xn(),e.a=i},m(o,a){e.m(n,o,a),$t(o,i,a)},p(o,a){a[0]&8&&n!==(n=o[15](o[24])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function LL(t){let e,n,i;return e=new Rl({props:{$$slots:{default:[TL]},$$scope:{ctx:t}}}),{c(){he(e.$$.fragment),n=Rt()},m(o,a){ae(e,o,a),$t(o,n,a),i=!0},p(o,a){const u={};a[0]&8|a[1]&2&&(u.$$scope={dirty:a,ctx:o}),e.$set(u)},i(o){i||(ct(e.$$.fragment,o),i=!0)},o(o){mt(e.$$.fragment,o),i=!1},d(o){o&&kt(n),se(e,o)}}}function Sm(t,e){let n,i,o,a,u,c=e[7]&&Mm(e),l=e[5]&&Tm(e),h=e[6]&&Lm(e);return{key:t,first:null,c(){n=Xn(),c&&c.c(),i=Rt(),l&&l.c(),o=Rt(),h&&h.c(),a=Xn(),this.first=n},m(p,m){$t(p,n,m),c&&c.m(p,m),$t(p,i,m),l&&l.m(p,m),$t(p,o,m),h&&h.m(p,m),$t(p,a,m),u=!0},p(p,m){e=p,e[7]?c?(c.p(e,m),m[0]&128&&ct(c,1)):(c=Mm(e),c.c(),ct(c,1),c.m(i.parentNode,i)):c&&(Te(),mt(c,1,1,()=>{c=null}),Le()),e[5]?l?(l.p(e,m),m[0]&32&&ct(l,1)):(l=Tm(e),l.c(),ct(l,1),l.m(o.parentNode,o)):l&&(Te(),mt(l,1,1,()=>{l=null}),Le()),e[6]?h?(h.p(e,m),m[0]&64&&ct(h,1)):(h=Lm(e),h.c(),ct(h,1),h.m(a.parentNode,a)):h&&(Te(),mt(h,1,1,()=>{h=null}),Le())},i(p){u||(ct(c),ct(l),ct(h),u=!0)},o(p){mt(c),mt(l),mt(h),u=!1},d(p){p&&(kt(n),kt(i),kt(o),kt(a)),c&&c.d(p),l&&l.d(p),h&&h.d(p)}}}function SL(t){let e,n,i=t[3]&&xm(t);return{c(){i&&i.c(),e=Xn()},m(o,a){i&&i.m(o,a),$t(o,e,a),n=!0},p(o,a){o[3]?i?(i.p(o,a),a[0]&8&&ct(i,1)):(i=xm(o),i.c(),ct(i,1),i.m(e.parentNode,e)):i&&(Te(),mt(i,1,1,()=>{i=null}),Le())},i(o){n||(ct(i),n=!0)},o(o){mt(i),n=!1},d(o){o&&kt(e),i&&i.d(o)}}}function Pm(t){let e,n;return e=new vL({props:{items:t[3].map(t[20]),sortBy:"Distance",rowClick:t[21],selectedRow:t[1]}}),{c(){he(e.$$.fragment)},m(i,o){ae(e,i,o),n=!0},p(i,o){const a={};o[0]&8&&(a.items=i[3].map(i[20])),o[0]&2&&(a.rowClick=i[21]),o[0]&2&&(a.selectedRow=i[1]),e.$set(a)},i(i){n||(ct(e.$$.fragment,i),n=!0)},o(i){mt(e.$$.fragment,i),n=!1},d(i){se(e,i)}}}function km(t){let e,n;return e=new hv({props:{options:{marks:[As(t[0].features,zo({...Ps({x:"sum",reverse:!0},{y:Am,x:Em,z:$m,sort:{y:"x",limit:40,reverse:!0},stroke:"white",fill:zm,channels:{NORC:Nm,"Has bench or shelter":Om},order:"x",tip:{format:{NORC:!0,y:!1,fill:!1}}}),reverse:!0}))],x:{label:"Number of seniors served"},marginLeft:300,marginTop:0,color:{legend:!0,range:["rgb(104,175,252)","rgb(164 114 244)"]}}}}),{c(){he(e.$$.fragment)},m(i,o){ae(e,i,o),n=!0},p(i,o){const a={};o[0]&1&&(a.options={marks:[As(i[0].features,zo({...Ps({x:"sum",reverse:!0},{y:Am,x:Em,z:$m,sort:{y:"x",limit:40,reverse:!0},stroke:"white",fill:zm,channels:{NORC:Nm,"Has bench or shelter":Om},order:"x",tip:{format:{NORC:!0,y:!1,fill:!1}}}),reverse:!0}))],x:{label:"Number of seniors served"},marginLeft:300,marginTop:0,color:{legend:!0,range:["rgb(104,175,252)","rgb(164 114 244)"]}}),e.$set(a)},i(i){n||(ct(e.$$.fragment,i),n=!0)},o(i){mt(e.$$.fragment,i),n=!1},d(i){se(e,i)}}}function PL(t){let e,n,i,o,a,u,c,l,h,p,m,g,_,v,b,w,S,M,P,T,k,E,z,D,O=t[0]&&vm(t);p=new zf({props:{imageUrl:"ttc.svg",checked:t[5],onClick:t[11]}}),g=new zf({props:{imageUrl:"apartment.svg",checked:t[7],onClick:t[13]}}),v=new zf({props:{imageUrl:"route.svg",checked:t[6],onClick:t[12]}}),S=new rw({props:{view:t[8],zoom:t[4],$$slots:{default:[SL]},$$scope:{ctx:t}}});let $=t[3]&&Pm(t),A=t[0]&&km(t);return{c(){e=vt("div"),n=vt("h1"),n.textContent="Naturally Occuring Retirement Communities",i=Rt(),o=vt("p"),o.innerHTML="<em>Use the controls below to explore the data in the map and table.</em>",a=Rt(),O&&O.c(),u=Rt(),c=vt("div"),l=vt("div"),h=vt("form"),he(p.$$.fragment),m=Rt(),he(g.$$.fragment),_=Rt(),he(v.$$.fragment),b=Rt(),w=vt("div"),he(S.$$.fragment),M=Rt(),$&&$.c(),P=Rt(),T=vt("h1"),T.textContent="Stops",k=Rt(),E=vt("p"),E.innerHTML="<em>Top 40 stops by number of seniors served</em>",z=Rt(),A&&A.c(),at(n,"class","flex pb-0 text-2xl"),at(o,"class","text-start border-b"),at(h,"class","flex flex-wrap"),mo(l,"width","80px"),at(w,"class","w-[calc(100%-80px)] h-[calc(50vh)]"),at(c,"class","flex"),at(T,"class","flex pb-0 pt-2 text-2xl border-t"),at(E,"class","text-start m0"),at(e,"class","w-full")},m(I,U){$t(I,e,U),ht(e,n),ht(e,i),ht(e,o),ht(e,a),O&&O.m(e,null),ht(e,u),ht(e,c),ht(c,l),ht(l,h),ae(p,h,null),ht(h,m),ae(g,h,null),ht(h,_),ae(v,h,null),ht(c,b),ht(c,w),ae(S,w,null),ht(e,M),$&&$.m(e,null),ht(e,P),ht(e,T),ht(e,k),ht(e,E),ht(e,z),A&&A.m(e,null),D=!0},p(I,U){I[0]?O?(O.p(I,U),U[0]&1&&ct(O,1)):(O=vm(I),O.c(),ct(O,1),O.m(e,u)):O&&(Te(),mt(O,1,1,()=>{O=null}),Le());const H={};U[0]&32&&(H.checked=I[5]),p.$set(H);const B={};U[0]&128&&(B.checked=I[7]),g.$set(B);const V={};U[0]&64&&(V.checked=I[6]),v.$set(V);const Q={};U[0]&256&&(Q.view=I[8]),U[0]&16&&(Q.zoom=I[4]),U[0]&234|U[1]&2&&(Q.$$scope={dirty:U,ctx:I}),S.$set(Q),I[3]?$?($.p(I,U),U[0]&8&&ct($,1)):($=Pm(I),$.c(),ct($,1),$.m(e,P)):$&&(Te(),mt($,1,1,()=>{$=null}),Le()),I[0]?A?(A.p(I,U),U[0]&1&&ct(A,1)):(A=km(I),A.c(),ct(A,1),A.m(e,null)):A&&(Te(),mt(A,1,1,()=>{A=null}),Le())},i(I){D||(ct(O),ct(p.$$.fragment,I),ct(g.$$.fragment,I),ct(v.$$.fragment,I),ct(S.$$.fragment,I),ct($),ct(A),D=!0)},o(I){mt(O),mt(p.$$.fragment,I),mt(g.$$.fragment,I),mt(v.$$.fragment,I),mt(S.$$.fragment,I),mt($),mt(A),D=!1},d(I){I&&kt(e),O&&O.d(),se(p),se(g),se(v),se(S),$&&$.d(),A&&A.d()}}}const Cm=t=>[+t[1],+t[0]],Am=t=>`${t.properties.stop_name} (#${t.properties.id})`,Em=t=>t.properties["Age 65+ Total"],$m=t=>t.properties.Address,zm=t=>t.properties.has_shelter_with_bench||t.properties.has_bench||t.properties.has_shelter?"Has shelter/bench":"No shelter/bench",Nm=t=>t[0].properties.Address,Om=t=>t[0].properties.has_shelter_with_bench||t[0].properties.has_bench||t[0].properties.has_shelter;function kL(t,e,n){let i,o,a=[43.70107,-79.397015],u=11,c=!0,l=!0,h=!0,p,m,g=[];const _=[{prop:"wheelchair_boarding",label:"Wheelchair boarding"},{prop:"has_shelter",label:"Has shelter"},{prop:"has_shelter_with_bench",label:"Has shelter with bench"},{prop:"has_bench",label:"Has bench"}],v=[{prop:"distance",label:"Distance",tickFormat:Ne(".2s")},{prop:"Age 65+ Total",label:"Num. Seniors",tickFormat:Ne(".2s")},{prop:"% of Seniors",label:"Pct. Seniors",tickFormat:Ne(".0%")}];Lr(async()=>{n(0,p=await fetch("./output_paths_with_data.geojson").then($=>$.json()))});function b(){n(5,c=!c)}function w(){n(6,l=!l)}function S(){n(7,h=!h)}function M($,A){g.find(I=>I.prop===$&&(I.value===A||A===null))?n(2,g=g.filter(I=>I.prop!==$)):n(2,g=[...g.filter(I=>I.prop!==$),{prop:$,value:A}])}function P($){return`
      <em>Building: </em>${$.properties.Address}<br/>      
      <em>Pct. Seniors: </em>${Ne(".1%")($.properties["% of Seniors"])}<br/>
      <em>Stop</em>: ${$.properties.stop_name}<br/>
      <em>Distance</em>: ${$.properties.distance}m
    `}const T=($,A)=>A.prop===$.prop,k=($,A)=>A.target.ariaLabel?M($.prop,A.target.ariaLabel):null,E=($,A)=>A.properties[$.prop],z=($,A)=>M($.prop,A),D=($,A)=>({Address:$.properties.Address,"Nearest Stop":$.properties.stop_name,Distance:+$.properties.distance,"# Seniors":$.properties["Age 65+ Total"],"# People":$.properties.All_Persons,"% seniors":Ne(".1%")($.properties["% of Seniors"]),"Wheelchair Boarding":$.properties.wheelchair_boarding,"Has Shelter":$.properties.has_shelter,"Shelter + Bench":$.properties.has_shelter_with_bench,"Has Bench":$.properties.has_bench,latitude:+$.properties.latitude,longitude:+$.properties.longitude,index:A}),O=$=>m===$.index?n(1,m=null):n(1,m=$.index);return t.$$.update=()=>{t.$$.dirty[0]&5&&n(3,i=p==null?void 0:p.features.filter($=>g.every(A=>typeof A.value=="string"?`${$.properties[A.prop]}`==A.value:Array.isArray(A.value)?$.properties[A.prop]>=A.value[0]&&$.properties[A.prop]<=A.value[1]:!1))),t.$$.dirty[0]&10&&n(8,o=m?[i[m].properties.latitude,i[m].properties.longitude]:a),t.$$.dirty[0]&2&&n(4,u=m?14:11)},[p,m,g,i,u,c,l,h,o,_,v,b,w,S,M,P,T,k,E,z,D,O]}class CL extends yn{constructor(e){super(),_n(this,e,kL,PL,tn,{},null,[-1,-1])}}new CL({target:document.getElementById("app")});
