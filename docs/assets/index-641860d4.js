var Zb=Object.defineProperty;var Fb=(t,e,n)=>e in t?Zb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Vn=(t,e,n)=>(Fb(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Le(){}function Ya(t,e){for(const n in e)t[n]=e[n];return t}function Hm(t){return t()}function Jh(){return Object.create(null)}function Jn(t){t.forEach(Hm)}function Oo(t){return typeof t=="function"}function Ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Ub(t){return Object.keys(t).length===0}function $s(t,e,n,i){if(t){const o=Wm(t,e,n,i);return t[0](o)}}function Wm(t,e,n,i){return t[1]&&i?Ya(n.ctx.slice(),t[1](i(e))):n.ctx}function zs(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const a=[],u=Math.max(e.dirty.length,o.length);for(let l=0;l<u;l+=1)a[l]=e.dirty[l]|o[l];return a}return e.dirty|o}return e.dirty}function Ns(t,e,n,i,o,a){if(o){const u=Wm(e,n,i,a);t.p(u,o)}}function Os(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Hb(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Qh(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function td(t){return t??""}function Wb(t){return t&&Oo(t.destroy)?t.destroy:Le}function ct(t,e){t.appendChild(e)}function kt(t,e,n){t.insertBefore(e,n||null)}function St(t){t.parentNode&&t.parentNode.removeChild(t)}function Va(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function gt(t){return document.createElement(t)}function wi(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Xe(t){return document.createTextNode(t)}function It(){return Xe(" ")}function In(){return Xe("")}function lr(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function qb(t){return function(e){return e.preventDefault(),t.call(this,e)}}function at(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Yb=["width","height"];function ed(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Yb.indexOf(i)===-1?t[i]=e[i]:at(t,i,e[i])}function Vb(t){return Array.from(t.childNodes)}function Ga(t,e){e=""+e,t.data!==e&&(t.data=e)}function go(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Gb(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Ul{constructor(e=!1){Vn(this,"is_svg",!1);Vn(this,"e");Vn(this,"n");Vn(this,"t");Vn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=wi(n.nodeName):this.e=gt(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)kt(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(St)}}let _o;function lo(t){_o=t}function Io(){if(!_o)throw new Error("Function called outside component initialization");return _o}function Sr(t){Io().$$.on_mount.push(t)}function Is(t){Io().$$.on_destroy.push(t)}function Xb(){const t=Io();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const a=Gb(e,n,{cancelable:i});return o.slice().forEach(u=>{u.call(t,a)}),!a.defaultPrevented}return!0}}function Hl(t,e){return Io().$$.context.set(t,e),e}function Wl(t){return Io().$$.context.get(t)}const er=[],xi=[];let or=[];const nd=[],qm=Promise.resolve();let Bf=!1;function Ym(){Bf||(Bf=!0,qm.then(Vm))}function jb(){return Ym(),qm}function Rf(t){or.push(t)}const Yu=new Set;let Xi=0;function Vm(){if(Xi!==0)return;const t=_o;do{try{for(;Xi<er.length;){const e=er[Xi];Xi++,lo(e),Kb(e.$$)}}catch(e){throw er.length=0,Xi=0,e}for(lo(null),er.length=0,Xi=0;xi.length;)xi.pop()();for(let e=0;e<or.length;e+=1){const n=or[e];Yu.has(n)||(Yu.add(n),n())}or.length=0}while(er.length);for(;nd.length;)nd.pop()();Bf=!1,Yu.clear(),lo(t)}function Kb(t){if(t.fragment!==null){t.update(),Jn(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Rf)}}function Jb(t){const e=[],n=[];or.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),or=e}const Ra=new Set;let hi;function fe(){hi={r:0,c:[],p:hi}}function le(){hi.r||Jn(hi.c),hi=hi.p}function et(t,e){t&&t.i&&(Ra.delete(t),t.i(e))}function ht(t,e,n,i){if(t&&t.o){if(Ra.has(t))return;Ra.add(t),hi.c.push(()=>{Ra.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function Ie(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Qb(t,e){t.d(1),e.delete(t.key)}function tw(t,e){ht(t,1,1,()=>{e.delete(t.key)})}function Gm(t,e,n,i,o,a,u,l,c,h,d,m){let g=t.length,_=a.length,v=g;const b={};for(;v--;)b[t[v].key]=v;const w=[],S=new Map,M=new Map,P=[];for(v=_;v--;){const z=m(o,a,v),I=n(z);let B=u.get(I);B?i&&P.push(()=>B.p(z,e)):(B=h(I,z),B.c()),S.set(I,w[v]=B),I in b&&M.set(I,Math.abs(v-b[I]))}const T=new Set,k=new Set;function E(z){et(z,1),z.m(l,d),u.set(z.key,z),d=z.first,_--}for(;g&&_;){const z=w[_-1],I=t[g-1],B=z.key,$=I.key;z===I?(d=z.first,g--,_--):S.has($)?!u.has(B)||T.has(B)?E(z):k.has($)?g--:M.get(B)>M.get($)?(k.add(B),E(z)):(T.add($),g--):(c(I,u),g--)}for(;g--;){const z=t[g];S.has(z.key)||c(z,u)}for(;_;)E(w[_-1]);return Jn(P),w}function ew(t,e){const n={},i={},o={$$scope:1};let a=t.length;for(;a--;){const u=t[a],l=e[a];if(l){for(const c in u)c in l||(i[c]=1);for(const c in l)o[c]||(n[c]=l[c],o[c]=1);t[a]=l}else for(const c in u)o[c]=1}for(const u in i)u in n||(n[u]=void 0);return n}function qt(t){t&&t.c()}function Zt(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),Rf(()=>{const a=t.$$.on_mount.map(Hm).filter(Oo);t.$$.on_destroy?t.$$.on_destroy.push(...a):Jn(a),t.$$.on_mount=[]}),o.forEach(Rf)}function Ft(t,e){const n=t.$$;n.fragment!==null&&(Jb(n.after_update),Jn(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function nw(t,e){t.$$.dirty[0]===-1&&(er.push(t),Ym(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function We(t,e,n,i,o,a,u=null,l=[-1]){const c=_o;lo(t);const h=t.$$={fragment:null,ctx:[],props:a,update:Le,not_equal:o,bound:Jh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Jh(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};u&&u(h.root);let d=!1;if(h.ctx=n?n(t,e.props||{},(m,g,..._)=>{const v=_.length?_[0]:g;return h.ctx&&o(h.ctx[m],h.ctx[m]=v)&&(!h.skip_bound&&h.bound[m]&&h.bound[m](v),d&&nw(t,m)),g}):[],h.update(),d=!0,Jn(h.before_update),h.fragment=i?i(h.ctx):!1,e.target){if(e.hydrate){const m=Vb(e.target);h.fragment&&h.fragment.l(m),m.forEach(St)}else h.fragment&&h.fragment.c();e.intro&&et(t.$$.fragment),Zt(t,e.target,e.anchor),Vm()}lo(c)}class qe{constructor(){Vn(this,"$$");Vn(this,"$$set")}$destroy(){Ft(this,1),this.$destroy=Le}$on(e,n){if(!Oo(n))return Le;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Ub(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const iw="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(iw);var rw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ow(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(rw,function(n){var i="1.9.4";function o(r){var s,f,p,y;for(f=1,p=arguments.length;f<p;f++){y=arguments[f];for(s in y)r[s]=y[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var p=f.call(arguments,2);return function(){return r.apply(s,p.length?p.concat(f.call(arguments)):arguments)}}var l=0;function c(r){return"_leaflet_id"in r||(r._leaflet_id=++l),r._leaflet_id}function h(r,s,f){var p,y,x,C;return C=function(){p=!1,y&&(x.apply(f,y),y=!1)},x=function(){p?y=arguments:(r.apply(f,arguments),setTimeout(C,s),p=!0)},x}function d(r,s,f){var p=s[1],y=s[0],x=p-y;return r===p&&f?r:((r-y)%x+x)%x+y}function m(){return!1}function g(r,s){if(s===!1)return r;var f=Math.pow(10,s===void 0?6:s);return Math.round(r*f)/f}function _(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function v(r){return _(r).split(/\s+/)}function b(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var f in s)r.options[f]=s[f];return r.options}function w(r,s,f){var p=[];for(var y in r)p.push(encodeURIComponent(f?y.toUpperCase():y)+"="+encodeURIComponent(r[y]));return(!s||s.indexOf("?")===-1?"?":"&")+p.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function M(r,s){return r.replace(S,function(f,p){var y=s[p];if(y===void 0)throw new Error("No value provided for variable "+f);return typeof y=="function"&&(y=y(s)),y})}var P=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function T(r,s){for(var f=0;f<r.length;f++)if(r[f]===s)return f;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var z=0;function I(r){var s=+new Date,f=Math.max(0,16-(s-z));return z=s+f,window.setTimeout(r,f)}var B=window.requestAnimationFrame||E("RequestAnimationFrame")||I,$=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function A(r,s,f){if(f&&B===I)r.call(s);else return B.call(window,u(r,s))}function D(r){r&&$.call(window,r)}var U={__proto__:null,extend:o,create:a,bind:u,get lastId(){return l},stamp:c,throttle:h,wrapNum:d,falseFn:m,formatNum:g,trim:_,splitWords:v,setOptions:b,getParamString:w,template:M,isArray:P,indexOf:T,emptyImageUrl:k,requestFn:B,cancelFn:$,requestAnimFrame:A,cancelAnimFrame:D};function Z(){}Z.extend=function(r){var s=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,p=a(f);p.constructor=s,s.prototype=p;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(s[y]=this[y]);return r.statics&&o(s,r.statics),r.includes&&(O(r.includes),o.apply(null,[p].concat(r.includes))),o(p,r),delete p.statics,delete p.includes,p.options&&(p.options=f.options?a(f.options):{},o(p.options,r.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,C=p._initHooks.length;x<C;x++)p._initHooks[x].call(this)}},s},Z.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},Z.mergeOptions=function(r){return o(this.prototype.options,r),this},Z.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function O(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=P(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(r,s,f){if(typeof r=="object")for(var p in r)this._on(p,r[p],s);else{r=v(r);for(var y=0,x=r.length;y<x;y++)this._on(r[y],s,f)}return this},off:function(r,s,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var p in r)this._off(p,r[p],s);else{r=v(r);for(var y=arguments.length===1,x=0,C=r.length;x<C;x++)y?this._off(r[x]):this._off(r[x],s,f)}return this},_on:function(r,s,f,p){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,f)===!1){f===this&&(f=void 0);var y={fn:s,ctx:f};p&&(y.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(y)}},_off:function(r,s,f){var p,y,x;if(this._events&&(p=this._events[r],!!p)){if(arguments.length===1){if(this._firingCount)for(y=0,x=p.length;y<x;y++)p[y].fn=m;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var C=this._listens(r,s,f);if(C!==!1){var N=p[C];this._firingCount&&(N.fn=m,this._events[r]=p=p.slice()),p.splice(C,1)}}},fire:function(r,s,f){if(!this.listens(r,f))return this;var p=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var y=this._events[r];if(y){this._firingCount=this._firingCount+1||1;for(var x=0,C=y.length;x<C;x++){var N=y[x],R=N.fn;N.once&&this.off(r,R,N.ctx),R.call(N.ctx||this,p)}this._firingCount--}}return f&&this._propagateEvent(p),this},listens:function(r,s,f,p){typeof r!="string"&&console.warn('"string" type argument expected');var y=s;typeof s!="function"&&(p=!!s,y=void 0,f=void 0);var x=this._events&&this._events[r];if(x&&x.length&&this._listens(r,y,f)!==!1)return!0;if(p){for(var C in this._eventParents)if(this._eventParents[C].listens(r,s,f,p))return!0}return!1},_listens:function(r,s,f){if(!this._events)return!1;var p=this._events[r]||[];if(!s)return!!p.length;f===this&&(f=void 0);for(var y=0,x=p.length;y<x;y++)if(p[y].fn===s&&p[y].ctx===f)return y;return!1},once:function(r,s,f){if(typeof r=="object")for(var p in r)this._on(p,r[p],s,!0);else{r=v(r);for(var y=0,x=r.length;y<x;y++)this._on(r[y],s,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[c(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[c(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var Q=Z.extend(Y);function V(r,s,f){this.x=f?Math.round(r):r,this.y=f?Math.round(s):s}var tt=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(r){return this.clone()._add(F(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(F(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new V(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new V(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=tt(this.x),this.y=tt(this.y),this},distanceTo:function(r){r=F(r);var s=r.x-this.x,f=r.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(r){return r=F(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=F(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function F(r,s,f){return r instanceof V?r:P(r)?new V(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new V(r.x,r.y):new V(r,s,f)}function W(r,s){if(r)for(var f=s?[r,s]:r,p=0,y=f.length;p<y;p++)this.extend(f[p])}W.prototype={extend:function(r){var s,f;if(!r)return this;if(r instanceof V||typeof r[0]=="number"||"x"in r)s=f=F(r);else if(r=X(r),s=r.min,f=r.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,f;return typeof r[0]=="number"||r instanceof V?r=F(r):r=X(r),r instanceof W?(s=r.min,f=r.max):s=f=r,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=X(r);var s=this.min,f=this.max,p=r.min,y=r.max,x=y.x>=s.x&&p.x<=f.x,C=y.y>=s.y&&p.y<=f.y;return x&&C},overlaps:function(r){r=X(r);var s=this.min,f=this.max,p=r.min,y=r.max,x=y.x>s.x&&p.x<f.x,C=y.y>s.y&&p.y<f.y;return x&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,f=this.max,p=Math.abs(s.x-f.x)*r,y=Math.abs(s.y-f.y)*r;return X(F(s.x-p,s.y-y),F(f.x+p,f.y+y))},equals:function(r){return r?(r=X(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function X(r,s){return!r||r instanceof W?r:new W(r,s)}function K(r,s){if(r)for(var f=s?[r,s]:r,p=0,y=f.length;p<y;p++)this.extend(f[p])}K.prototype={extend:function(r){var s=this._southWest,f=this._northEast,p,y;if(r instanceof rt)p=r,y=r;else if(r instanceof K){if(p=r._southWest,y=r._northEast,!p||!y)return this}else return r?this.extend(J(r)||ut(r)):this;return!s&&!f?(this._southWest=new rt(p.lat,p.lng),this._northEast=new rt(y.lat,y.lng)):(s.lat=Math.min(p.lat,s.lat),s.lng=Math.min(p.lng,s.lng),f.lat=Math.max(y.lat,f.lat),f.lng=Math.max(y.lng,f.lng)),this},pad:function(r){var s=this._southWest,f=this._northEast,p=Math.abs(s.lat-f.lat)*r,y=Math.abs(s.lng-f.lng)*r;return new K(new rt(s.lat-p,s.lng-y),new rt(f.lat+p,f.lng+y))},getCenter:function(){return new rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof rt||"lat"in r?r=J(r):r=ut(r);var s=this._southWest,f=this._northEast,p,y;return r instanceof K?(p=r.getSouthWest(),y=r.getNorthEast()):p=y=r,p.lat>=s.lat&&y.lat<=f.lat&&p.lng>=s.lng&&y.lng<=f.lng},intersects:function(r){r=ut(r);var s=this._southWest,f=this._northEast,p=r.getSouthWest(),y=r.getNorthEast(),x=y.lat>=s.lat&&p.lat<=f.lat,C=y.lng>=s.lng&&p.lng<=f.lng;return x&&C},overlaps:function(r){r=ut(r);var s=this._southWest,f=this._northEast,p=r.getSouthWest(),y=r.getNorthEast(),x=y.lat>s.lat&&p.lat<f.lat,C=y.lng>s.lng&&p.lng<f.lng;return x&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=ut(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ut(r,s){return r instanceof K?r:new K(r,s)}function rt(r,s,f){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,f!==void 0&&(this.alt=+f)}rt.prototype={equals:function(r,s){if(!r)return!1;r=J(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+g(this.lat,r)+", "+g(this.lng,r)+")"},distanceTo:function(r){return ft.distance(this,J(r))},wrap:function(){return ft.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,f=s/Math.cos(Math.PI/180*this.lat);return ut([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new rt(this.lat,this.lng,this.alt)}};function J(r,s,f){return r instanceof rt?r:P(r)&&typeof r[0]!="object"?r.length===3?new rt(r[0],r[1],r[2]):r.length===2?new rt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new rt(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new rt(r,s,f)}var j={latLngToPoint:function(r,s){var f=this.projection.project(r),p=this.scale(s);return this.transformation._transform(f,p)},pointToLatLng:function(r,s){var f=this.scale(s),p=this.transformation.untransform(r,f);return this.projection.unproject(p)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(r),p=this.transformation.transform(s.min,f),y=this.transformation.transform(s.max,f);return new W(p,y)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?d(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?d(r.lat,this.wrapLat,!0):r.lat,p=r.alt;return new rt(f,s,p)},wrapLatLngBounds:function(r){var s=r.getCenter(),f=this.wrapLatLng(s),p=s.lat-f.lat,y=s.lng-f.lng;if(p===0&&y===0)return r;var x=r.getSouthWest(),C=r.getNorthEast(),N=new rt(x.lat-p,x.lng-y),R=new rt(C.lat-p,C.lng-y);return new K(N,R)}},ft=o({},j,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var f=Math.PI/180,p=r.lat*f,y=s.lat*f,x=Math.sin((s.lat-r.lat)*f/2),C=Math.sin((s.lng-r.lng)*f/2),N=x*x+Math.cos(p)*Math.cos(y)*C*C,R=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*R}}),q=6378137,nt={R:q,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,f=this.MAX_LATITUDE,p=Math.max(Math.min(f,r.lat),-f),y=Math.sin(p*s);return new V(this.R*r.lng*s,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var s=180/Math.PI;return new rt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=q*Math.PI;return new W([-r,-r],[r,r])}()};function st(r,s,f,p){if(P(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=f,this._d=p}st.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new V((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function H(r,s,f,p){return new st(r,s,f,p)}var vt=o({},ft,{code:"EPSG:3857",projection:nt,transformation:function(){var r=.5/(Math.PI*nt.R);return H(r,.5,-r,.5)}()}),pt=o({},vt,{code:"EPSG:900913"});function At(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Et(r,s){var f="",p,y,x,C,N,R;for(p=0,x=r.length;p<x;p++){for(N=r[p],y=0,C=N.length;y<C;y++)R=N[y],f+=(y?"L":"M")+R.x+" "+R.y;f+=s?dt.svg?"z":"x":""}return f||"M0 0"}var lt=document.documentElement.style,Nt="ActiveXObject"in window,an=Nt&&!document.addEventListener,we="msLaunchUri"in navigator&&!("documentMode"in document),Nr=sn("webkit"),Yc=sn("android"),Vc=sn("android 2")||sn("android 3"),yv=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),vv=Yc&&sn("Google")&&yv<537&&!("AudioNode"in window),_u=!!window.opera,Gc=!we&&sn("chrome"),Xc=sn("gecko")&&!Nr&&!_u&&!Nt,bv=!Gc&&sn("safari"),jc=sn("phantom"),Kc="OTransition"in lt,wv=navigator.platform.indexOf("Win")===0,Jc=Nt&&"transition"in lt,yu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Vc,Qc="MozPerspective"in lt,xv=!window.L_DISABLE_3D&&(Jc||yu||Qc)&&!Kc&&!jc,Or=typeof orientation<"u"||sn("mobile"),Mv=Or&&Nr,Tv=Or&&yu,th=!window.PointerEvent&&window.MSPointerEvent,eh=!!(window.PointerEvent||th),nh="ontouchstart"in window||!!window.TouchEvent,Lv=!window.L_NO_TOUCH&&(nh||eh),Sv=Or&&_u,Pv=Or&&Xc,kv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Cv=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",m,s),window.removeEventListener("testPassiveEventSupport",m,s)}catch{}return r}(),Av=function(){return!!document.createElement("canvas").getContext}(),vu=!!(document.createElementNS&&At("svg").createSVGRect),Ev=!!vu&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$v=!vu&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),zv=navigator.platform.indexOf("Mac")===0,Nv=navigator.platform.indexOf("Linux")===0;function sn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var dt={ie:Nt,ielt9:an,edge:we,webkit:Nr,android:Yc,android23:Vc,androidStock:vv,opera:_u,chrome:Gc,gecko:Xc,safari:bv,phantom:jc,opera12:Kc,win:wv,ie3d:Jc,webkit3d:yu,gecko3d:Qc,any3d:xv,mobile:Or,mobileWebkit:Mv,mobileWebkit3d:Tv,msPointer:th,pointer:eh,touch:Lv,touchNative:nh,mobileOpera:Sv,mobileGecko:Pv,retina:kv,passiveEvents:Cv,canvas:Av,svg:vu,vml:$v,inlineSvg:Ev,mac:zv,linux:Nv},ih=dt.msPointer?"MSPointerDown":"pointerdown",rh=dt.msPointer?"MSPointerMove":"pointermove",oh=dt.msPointer?"MSPointerUp":"pointerup",ah=dt.msPointer?"MSPointerCancel":"pointercancel",bu={touchstart:ih,touchmove:rh,touchend:oh,touchcancel:ah},sh={touchstart:Zv,touchmove:na,touchend:na,touchcancel:na},Zi={},uh=!1;function Ov(r,s,f){return s==="touchstart"&&Rv(),sh[s]?(f=sh[s].bind(this,f),r.addEventListener(bu[s],f,!1),f):(console.warn("wrong event specified:",s),m)}function Iv(r,s,f){if(!bu[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(bu[s],f,!1)}function Dv(r){Zi[r.pointerId]=r}function Bv(r){Zi[r.pointerId]&&(Zi[r.pointerId]=r)}function fh(r){delete Zi[r.pointerId]}function Rv(){uh||(document.addEventListener(ih,Dv,!0),document.addEventListener(rh,Bv,!0),document.addEventListener(oh,fh,!0),document.addEventListener(ah,fh,!0),uh=!0)}function na(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in Zi)s.touches.push(Zi[f]);s.changedTouches=[s],r(s)}}function Zv(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&re(s),na(r,s)}function Fv(r){var s={},f,p;for(p in r)f=r[p],s[p]=f&&f.bind?f.bind(r):f;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Uv=200;function Hv(r,s){r.addEventListener("dblclick",s);var f=0,p;function y(x){if(x.detail!==1){p=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var C=ph(x);if(!(C.some(function(R){return R instanceof HTMLLabelElement&&R.attributes.for})&&!C.some(function(R){return R instanceof HTMLInputElement||R instanceof HTMLSelectElement}))){var N=Date.now();N-f<=Uv?(p++,p===2&&s(Fv(x))):p=1,f=N}}}return r.addEventListener("click",y),{dblclick:s,simDblclick:y}}function Wv(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var wu=oa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ir=oa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),lh=Ir==="webkitTransition"||Ir==="OTransition"?Ir+"End":"transitionend";function ch(r){return typeof r=="string"?document.getElementById(r):r}function Dr(r,s){var f=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(r,null);f=p?p[s]:null}return f==="auto"?null:f}function $t(r,s,f){var p=document.createElement(r);return p.className=s||"",f&&f.appendChild(p),p}function Rt(r){var s=r.parentNode;s&&s.removeChild(r)}function ia(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Fi(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function Ui(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function xu(r,s){if(r.classList!==void 0)return r.classList.contains(s);var f=ra(r);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function xt(r,s){if(r.classList!==void 0)for(var f=v(s),p=0,y=f.length;p<y;p++)r.classList.add(f[p]);else if(!xu(r,s)){var x=ra(r);Mu(r,(x?x+" ":"")+s)}}function Vt(r,s){r.classList!==void 0?r.classList.remove(s):Mu(r,_((" "+ra(r)+" ").replace(" "+s+" "," ")))}function Mu(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function ra(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ae(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&qv(r,s)}function qv(r,s){var f=!1,p="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(p)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):r.style.filter+=" progid:"+p+"(opacity="+s+")"}function oa(r){for(var s=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in s)return r[f];return!1}function oi(r,s,f){var p=s||new V(0,0);r.style[wu]=(dt.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(f?" scale("+f+")":"")}function Gt(r,s){r._leaflet_pos=s,dt.any3d?oi(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function ai(r){return r._leaflet_pos||new V(0,0)}var Br,Rr,Tu;if("onselectstart"in document)Br=function(){_t(window,"selectstart",re)},Rr=function(){Bt(window,"selectstart",re)};else{var Zr=oa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Br=function(){if(Zr){var r=document.documentElement.style;Tu=r[Zr],r[Zr]="none"}},Rr=function(){Zr&&(document.documentElement.style[Zr]=Tu,Tu=void 0)}}function Lu(){_t(window,"dragstart",re)}function Su(){Bt(window,"dragstart",re)}var aa,Pu;function ku(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(sa(),aa=r,Pu=r.style.outlineStyle,r.style.outlineStyle="none",_t(window,"keydown",sa))}function sa(){aa&&(aa.style.outlineStyle=Pu,aa=void 0,Pu=void 0,Bt(window,"keydown",sa))}function hh(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Cu(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Yv={__proto__:null,TRANSFORM:wu,TRANSITION:Ir,TRANSITION_END:lh,get:ch,getStyle:Dr,create:$t,remove:Rt,empty:ia,toFront:Fi,toBack:Ui,hasClass:xu,addClass:xt,removeClass:Vt,setClass:Mu,getClass:ra,setOpacity:Ae,testProp:oa,setTransform:oi,setPosition:Gt,getPosition:ai,get disableTextSelection(){return Br},get enableTextSelection(){return Rr},disableImageDrag:Lu,enableImageDrag:Su,preventOutline:ku,restoreOutline:sa,getSizedParentNode:hh,getScale:Cu};function _t(r,s,f,p){if(s&&typeof s=="object")for(var y in s)Eu(r,y,s[y],f);else{s=v(s);for(var x=0,C=s.length;x<C;x++)Eu(r,s[x],f,p)}return this}var un="_leaflet_events";function Bt(r,s,f,p){if(arguments.length===1)dh(r),delete r[un];else if(s&&typeof s=="object")for(var y in s)$u(r,y,s[y],f);else if(s=v(s),arguments.length===2)dh(r,function(N){return T(s,N)!==-1});else for(var x=0,C=s.length;x<C;x++)$u(r,s[x],f,p);return this}function dh(r,s){for(var f in r[un]){var p=f.split(/\d/)[0];(!s||s(p))&&$u(r,p,null,null,f)}}var Au={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Eu(r,s,f,p){var y=s+c(f)+(p?"_"+c(p):"");if(r[un]&&r[un][y])return this;var x=function(N){return f.call(p||r,N||window.event)},C=x;!dt.touchNative&&dt.pointer&&s.indexOf("touch")===0?x=Ov(r,s,x):dt.touch&&s==="dblclick"?x=Hv(r,x):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Au[s]||s,x,dt.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(x=function(N){N=N||window.event,Nu(r,N)&&C(N)},r.addEventListener(Au[s],x,!1)):r.addEventListener(s,C,!1):r.attachEvent("on"+s,x),r[un]=r[un]||{},r[un][y]=x}function $u(r,s,f,p,y){y=y||s+c(f)+(p?"_"+c(p):"");var x=r[un]&&r[un][y];if(!x)return this;!dt.touchNative&&dt.pointer&&s.indexOf("touch")===0?Iv(r,s,x):dt.touch&&s==="dblclick"?Wv(r,x):"removeEventListener"in r?r.removeEventListener(Au[s]||s,x,!1):r.detachEvent("on"+s,x),r[un][y]=null}function si(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function zu(r){return Eu(r,"wheel",si),this}function Fr(r){return _t(r,"mousedown touchstart dblclick contextmenu",si),r._leaflet_disable_click=!0,this}function re(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ui(r){return re(r),si(r),this}function ph(r){if(r.composedPath)return r.composedPath();for(var s=[],f=r.target;f;)s.push(f),f=f.parentNode;return s}function mh(r,s){if(!s)return new V(r.clientX,r.clientY);var f=Cu(s),p=f.boundingClientRect;return new V((r.clientX-p.left)/f.x-s.clientLeft,(r.clientY-p.top)/f.y-s.clientTop)}var Vv=dt.linux&&dt.chrome?window.devicePixelRatio:dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function gh(r){return dt.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Vv:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Nu(r,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Gv={__proto__:null,on:_t,off:Bt,stopPropagation:si,disableScrollPropagation:zu,disableClickPropagation:Fr,preventDefault:re,stop:ui,getPropagationPath:ph,getMousePosition:mh,getWheelDelta:gh,isExternalTarget:Nu,addListener:_t,removeListener:Bt},_h=Q.extend({run:function(r,s,f,p){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=ai(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=A(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var f=this._startPos.add(this._offset.multiplyBy(r));s&&f._round(),Gt(this._el,f),this.fire("step")},_complete:function(){D(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Ct=Q.extend({options:{crs:vt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=b(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(J(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ir&&dt.any3d&&!dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_t(this._proxy,lh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(J(r),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=o({animate:f.animate},f.zoom),f.pan=o({animate:f.animate,duration:f.duration},f.pan));var p=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,f.zoom):this._tryAnimatedPan(r,f.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,f){var p=this.getZoomScale(s),y=this.getSize().divideBy(2),x=r instanceof V?r:this.latLngToContainerPoint(r),C=x.subtract(y).multiplyBy(1-1/p),N=this.containerPointToLatLng(y.add(C));return this.setView(N,s,{zoom:f})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():ut(r);var f=F(s.paddingTopLeft||s.padding||[0,0]),p=F(s.paddingBottomRight||s.padding||[0,0]),y=this.getBoundsZoom(r,!1,f.add(p));if(y=typeof s.maxZoom=="number"?Math.min(s.maxZoom,y):y,y===1/0)return{center:r.getCenter(),zoom:y};var x=p.subtract(f).divideBy(2),C=this.project(r.getSouthWest(),y),N=this.project(r.getNorthEast(),y),R=this.unproject(C.add(N).divideBy(2).add(x),y);return{center:R,zoom:y}},fitBounds:function(r,s){if(r=ut(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=F(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _h,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,f){if(f=f||{},f.animate===!1||!dt.any3d)return this.setView(r,s,f);this._stop();var p=this.project(this.getCenter()),y=this.project(r),x=this.getSize(),C=this._zoom;r=J(r),s=s===void 0?C:s;var N=Math.max(x.x,x.y),R=N*this.getZoomScale(C,s),G=y.distanceTo(p)||1,ot=1.42,mt=ot*ot;function Tt(Xt){var va=Xt?-1:1,Ib=Xt?R:N,Db=R*R-N*N+va*mt*mt*G*G,Bb=2*Ib*mt*G,qu=Db/Bb,Kh=Math.sqrt(qu*qu+1)-qu,Rb=Kh<1e-9?-18:Math.log(Kh);return Rb}function he(Xt){return(Math.exp(Xt)-Math.exp(-Xt))/2}function Jt(Xt){return(Math.exp(Xt)+Math.exp(-Xt))/2}function $e(Xt){return he(Xt)/Jt(Xt)}var me=Tt(0);function Gi(Xt){return N*(Jt(me)/Jt(me+ot*Xt))}function $b(Xt){return N*(Jt(me)*$e(me+ot*Xt)-he(me))/mt}function zb(Xt){return 1-Math.pow(1-Xt,1.5)}var Nb=Date.now(),Xh=(Tt(1)-me)/ot,Ob=f.duration?1e3*f.duration:1e3*Xh*.8;function jh(){var Xt=(Date.now()-Nb)/Ob,va=zb(Xt)*Xh;Xt<=1?(this._flyToFrame=A(jh,this),this._move(this.unproject(p.add(y.subtract(p).multiplyBy($b(va)/G)),C),this.getScaleZoom(N/Gi(va),C),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),jh.call(this),this},flyToBounds:function(r,s){var f=this._getBoundsCenterZoom(r,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(r){return r=ut(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var f=this.getCenter(),p=this._limitCenter(f,this._zoom,ut(r));return f.equals(p)||this.panTo(p,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var f=F(s.paddingTopLeft||s.padding||[0,0]),p=F(s.paddingBottomRight||s.padding||[0,0]),y=this.project(this.getCenter()),x=this.project(r),C=this.getPixelBounds(),N=X([C.min.add(f),C.max.subtract(p)]),R=N.getSize();if(!N.contains(x)){this._enforcingBounds=!0;var G=x.subtract(N.getCenter()),ot=N.extend(x).getSize().subtract(R);y.x+=G.x<0?-ot.x:ot.x,y.y+=G.y<0?-ot.y:ot.y,this.panTo(this.unproject(y),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),p=s.divideBy(2).round(),y=f.divideBy(2).round(),x=p.subtract(y);return!x.x&&!x.y?this:(r.animate&&r.pan?this.panBy(x):(r.pan&&this._rawPanBy(x),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),f=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,r):navigator.geolocation.getCurrentPosition(s,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,f=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,f=r.coords.longitude,p=new rt(s,f),y=p.toBounds(r.coords.accuracy*2),x=this._locateOptions;if(x.setView){var C=this.getBoundsZoom(y);this.setView(p,x.maxZoom?Math.min(C,x.maxZoom):C)}var N={latlng:p,bounds:y,timestamp:r.timestamp};for(var R in r.coords)typeof r.coords[R]=="number"&&(N[R]=r.coords[R]);this.fire("locationfound",N)}},addHandler:function(r,s){if(!s)return this;var f=this[r]=new s(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(D(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Rt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),p=$t("div",f,s||this._mapPane);return r&&(this._panes[r]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new K(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,f){r=ut(r),f=F(f||[0,0]);var p=this.getZoom()||0,y=this.getMinZoom(),x=this.getMaxZoom(),C=r.getNorthWest(),N=r.getSouthEast(),R=this.getSize().subtract(f),G=X(this.project(N,p),this.project(C,p)).getSize(),ot=dt.any3d?this.options.zoomSnap:1,mt=R.x/G.x,Tt=R.y/G.y,he=s?Math.max(mt,Tt):Math.min(mt,Tt);return p=this.getScaleZoom(he,p),ot&&(p=Math.round(p/(ot/100))*(ot/100),p=s?Math.ceil(p/ot)*ot:Math.floor(p/ot)*ot),Math.max(y,Math.min(x,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var f=this._getTopLeftPoint(r,s);return new W(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(r)/f.scale(s)},getScaleZoom:function(r,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var p=f.zoom(r*f.scale(s));return isNaN(p)?1/0:p},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(J(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(F(r),s)},layerPointToLatLng:function(r){var s=F(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(J(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(J(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ut(r))},distance:function(r,s){return this.options.crs.distance(J(r),J(s))},containerPointToLayerPoint:function(r){return F(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return F(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(F(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(r)))},mouseEventToContainerPoint:function(r){return mh(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=ch(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_t(s,"scroll",this._onScroll,this),this._containerId=c(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&dt.any3d,xt(r,"leaflet-container"+(dt.touch?" leaflet-touch":"")+(dt.retina?" leaflet-retina":"")+(dt.ielt9?" leaflet-oldie":"")+(dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Dr(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Gt(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(r.markerPane,"leaflet-zoom-hide"),xt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,f){Gt(this._mapPane,new V(0,0));var p=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var y=this._zoom!==s;this._moveStart(y,f)._move(r,s)._moveEnd(y),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,f,p){s===void 0&&(s=this._zoom);var y=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),p?f&&f.pinch&&this.fire("zoom",f):((y||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return D(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Gt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[c(this._container)]=this;var s=r?Bt:_t;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),dt.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){D(this._resizeRequest),this._resizeRequest=A(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var f=[],p,y=s==="mouseout"||s==="mouseover",x=r.target||r.srcElement,C=!1;x;){if(p=this._targets[c(x)],p&&(s==="click"||s==="preclick")&&this._draggableMoved(p)){C=!0;break}if(p&&p.listens(s,!0)&&(y&&!Nu(x,r)||(f.push(p),y))||x===this._container)break;x=x.parentNode}return!f.length&&!C&&!y&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var f=r.type;f==="mousedown"&&ku(s),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,f){if(r.type==="click"){var p=o({},r);p.type="preclick",this._fireDOMEvent(p,p.type,f)}var y=this._findEventTargets(r,s);if(f){for(var x=[],C=0;C<f.length;C++)f[C].listens(s,!0)&&x.push(f[C]);y=x.concat(y)}if(y.length){s==="contextmenu"&&re(r);var N=y[0],R={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var G=N.getLatLng&&(!N._radius||N._radius<=10);R.containerPoint=G?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(r),R.layerPoint=this.containerPointToLayerPoint(R.containerPoint),R.latlng=G?N.getLatLng():this.layerPointToLatLng(R.layerPoint)}for(C=0;C<y.length;C++)if(y[C].fire(s,R,!0),R.originalEvent._stopped||y[C].options.bubblingMouseEvents===!1&&T(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return ai(this._mapPane)||new V(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var f=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var f=this.getSize()._divideBy(2);return this.project(r,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,f){var p=this._getNewPixelOrigin(f,s);return this.project(r,s)._subtract(p)},_latLngBoundsToNewLayerBounds:function(r,s,f){var p=this._getNewPixelOrigin(f,s);return X([this.project(r.getSouthWest(),s)._subtract(p),this.project(r.getNorthWest(),s)._subtract(p),this.project(r.getSouthEast(),s)._subtract(p),this.project(r.getNorthEast(),s)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,f){if(!f)return r;var p=this.project(r,s),y=this.getSize().divideBy(2),x=new W(p.subtract(y),p.add(y)),C=this._getBoundsOffset(x,f,s);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?r:this.unproject(p.add(C),s)},_limitOffset:function(r,s){if(!s)return r;var f=this.getPixelBounds(),p=new W(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(p,s))},_getBoundsOffset:function(r,s,f){var p=X(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),y=p.min.subtract(r.min),x=p.max.subtract(r.max),C=this._rebound(y.x,-x.x),N=this._rebound(y.y,-x.y);return new V(C,N)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),f=this.getMaxZoom(),p=dt.any3d?this.options.zoomSnap:1;return p&&(r=Math.round(r/p)*p),Math.max(s,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var f=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var r=this._proxy=$t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var f=wu,p=this._proxy.style[f];oi(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),p===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();oi(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(s),y=this._getCenterOffset(r)._divideBy(1-1/p);return f.animate!==!0&&!this.getSize().contains(y)?!1:(A(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,f,p){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Xv(r,s){return new Ct(r,s)}var Ye=Z.extend({options:{position:"topright"},initialize:function(r){b(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),f=this.getPosition(),p=r._controlCorners[f];return xt(s,"leaflet-control"),f.indexOf("bottom")!==-1?p.insertBefore(s,p.firstChild):p.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ur=function(r){return new Ye(r)};Ct.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",f=this._controlContainer=$t("div",s+"control-container",this._container);function p(y,x){var C=s+y+" "+s+x;r[y+x]=$t("div",C,f)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Rt(this._controlCorners[r]);Rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var yh=Ye.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,f,p){return f<p?-1:p<f?1:0}},initialize:function(r,s,f){b(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in r)this._addLayer(r[p],p);for(p in s)this._addLayer(s[p],p,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ye.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(c(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=$t("div",r),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Fr(s),zu(s);var p=this._section=$t("section",r+"-list");f&&(this._map.on("click",this.collapse,this),_t(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=$t("a",r+"-toggle",s);y.href="#",y.title="Layers",y.setAttribute("role","button"),_t(y,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){re(x),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=$t("div",r+"-base",p),this._separator=$t("div",r+"-separator",p),this._overlaysList=$t("div",r+"-overlays",p),s.appendChild(p)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&c(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(u(function(p,y){return this.options.sortFunction(p.layer,y.layer,p.name,y.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ia(this._baseLayersList),ia(this._overlaysList),this._layerControlInputs=[];var r,s,f,p,y=0;for(f=0;f<this._layers.length;f++)p=this._layers[f],this._addItem(p),s=s||p.overlay,r=r||!p.overlay,y+=p.overlay?0:1;return this.options.hideSingleBase&&(r=r&&y>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(c(r.target)),f=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(r,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=f,p.firstChild},_addItem:function(r){var s=document.createElement("label"),f=this._map.hasLayer(r.layer),p;r.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=f):p=this._createRadioElement("leaflet-base-layers_"+c(this),f),this._layerControlInputs.push(p),p.layerId=c(r.layer),_t(p,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+r.name;var x=document.createElement("span");s.appendChild(x),x.appendChild(p),x.appendChild(y);var C=r.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,f,p=[],y=[];this._handlingClick=!0;for(var x=r.length-1;x>=0;x--)s=r[x],f=this._getLayer(s.layerId).layer,s.checked?p.push(f):s.checked||y.push(f);for(x=0;x<y.length;x++)this._map.hasLayer(y[x])&&this._map.removeLayer(y[x]);for(x=0;x<p.length;x++)this._map.hasLayer(p[x])||this._map.addLayer(p[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,f,p=this._map.getZoom(),y=r.length-1;y>=0;y--)s=r[y],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&p<f.options.minZoom||f.options.maxZoom!==void 0&&p>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,_t(r,"click",re),this.expand();var s=this;setTimeout(function(){Bt(r,"click",re),s._preventClick=!1})}}),jv=function(r,s,f){return new yh(r,s,f)},Ou=Ye.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",f=$t("div",s+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,f,p,y){var x=$t("a",f,p);return x.innerHTML=r,x.href="#",x.title=s,x.setAttribute("role","button"),x.setAttribute("aria-label",s),Fr(x),_t(x,"click",ui),_t(x,"click",y,this),_t(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Vt(this._zoomInButton,s),Vt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(xt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(xt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ct.mergeOptions({zoomControl:!0}),Ct.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ou,this.addControl(this.zoomControl))});var Kv=function(r){return new Ou(r)},vh=Ye.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",f=$t("div",s),p=this.options;return this._addScales(p,s+"-line",f),r.on(p.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,f){r.metric&&(this._mScale=$t("div",s,f)),r.imperial&&(this._iScale=$t("div",s,f))},_update:function(){var r=this._map,s=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/r)},_updateImperial:function(r){var s=r*3.2808399,f,p,y;s>5280?(f=s/5280,p=this._getRoundNum(f),this._updateScale(this._iScale,p+" mi",p/f)):(y=this._getRoundNum(s),this._updateScale(this._iScale,y+" ft",y/s))},_updateScale:function(r,s,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),f=r/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),Jv=function(r){return new vh(r)},Qv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Iu=Ye.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(dt.inlineSvg?Qv+" ":"")+"Leaflet</a>"},initialize:function(r){b(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=$t("div","leaflet-control-attribution"),Fr(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Ct.mergeOptions({attributionControl:!0}),Ct.addInitHook(function(){this.options.attributionControl&&new Iu().addTo(this)});var tb=function(r){return new Iu(r)};Ye.Layers=yh,Ye.Zoom=Ou,Ye.Scale=vh,Ye.Attribution=Iu,Ur.layers=jv,Ur.zoom=Kv,Ur.scale=Jv,Ur.attribution=tb;var fn=Z.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});fn.addTo=function(r,s){return r.addHandler(s,this),this};var eb={Events:Y},bh=dt.touch?"touchstart mousedown":"mousedown",qn=Q.extend({options:{clickTolerance:3},initialize:function(r,s,f,p){b(this,p),this._element=r,this._dragStartTarget=s||r,this._preventOutline=f},enable:function(){this._enabled||(_t(this._dragStartTarget,bh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qn._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,bh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!xu(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){qn._dragging===this&&this.finishDrag();return}if(!(qn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(qn._dragging=this,this._preventOutline&&ku(this._element),Lu(),Br(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,f=hh(this._element);this._startPoint=new V(s.clientX,s.clientY),this._startPos=ai(this._element),this._parentScale=Cu(f);var p=r.type==="mousedown";_t(document,p?"mousemove":"touchmove",this._onMove,this),_t(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,f=new V(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,re(r),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Gt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Vt(document.body,"leaflet-dragging"),this._lastTarget&&(Vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),Su(),Rr();var s=this._moved&&this._moving;this._moving=!1,qn._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function wh(r,s,f){var p,y=[1,4,2,8],x,C,N,R,G,ot,mt,Tt;for(x=0,ot=r.length;x<ot;x++)r[x]._code=fi(r[x],s);for(N=0;N<4;N++){for(mt=y[N],p=[],x=0,ot=r.length,C=ot-1;x<ot;C=x++)R=r[x],G=r[C],R._code&mt?G._code&mt||(Tt=ua(G,R,mt,s,f),Tt._code=fi(Tt,s),p.push(Tt)):(G._code&mt&&(Tt=ua(G,R,mt,s,f),Tt._code=fi(Tt,s),p.push(Tt)),p.push(R));r=p}return r}function xh(r,s){var f,p,y,x,C,N,R,G,ot;if(!r||r.length===0)throw new Error("latlngs not passed");Ee(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var mt=J([0,0]),Tt=ut(r),he=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());he<1700&&(mt=Du(r));var Jt=r.length,$e=[];for(f=0;f<Jt;f++){var me=J(r[f]);$e.push(s.project(J([me.lat-mt.lat,me.lng-mt.lng])))}for(N=R=G=0,f=0,p=Jt-1;f<Jt;p=f++)y=$e[f],x=$e[p],C=y.y*x.x-x.y*y.x,R+=(y.x+x.x)*C,G+=(y.y+x.y)*C,N+=C*3;N===0?ot=$e[0]:ot=[R/N,G/N];var Gi=s.unproject(F(ot));return J([Gi.lat+mt.lat,Gi.lng+mt.lng])}function Du(r){for(var s=0,f=0,p=0,y=0;y<r.length;y++){var x=J(r[y]);s+=x.lat,f+=x.lng,p++}return J([s/p,f/p])}var nb={__proto__:null,clipPolygon:wh,polygonCenter:xh,centroid:Du};function Mh(r,s){if(!s||!r.length)return r.slice();var f=s*s;return r=ob(r,f),r=rb(r,f),r}function Th(r,s,f){return Math.sqrt(Hr(r,s,f,!0))}function ib(r,s,f){return Hr(r,s,f)}function rb(r,s){var f=r.length,p=typeof Uint8Array!=void 0+""?Uint8Array:Array,y=new p(f);y[0]=y[f-1]=1,Bu(r,y,s,0,f-1);var x,C=[];for(x=0;x<f;x++)y[x]&&C.push(r[x]);return C}function Bu(r,s,f,p,y){var x=0,C,N,R;for(N=p+1;N<=y-1;N++)R=Hr(r[N],r[p],r[y],!0),R>x&&(C=N,x=R);x>f&&(s[C]=1,Bu(r,s,f,p,C),Bu(r,s,f,C,y))}function ob(r,s){for(var f=[r[0]],p=1,y=0,x=r.length;p<x;p++)ab(r[p],r[y])>s&&(f.push(r[p]),y=p);return y<x-1&&f.push(r[x-1]),f}var Lh;function Sh(r,s,f,p,y){var x=p?Lh:fi(r,f),C=fi(s,f),N,R,G;for(Lh=C;;){if(!(x|C))return[r,s];if(x&C)return!1;N=x||C,R=ua(r,s,N,f,y),G=fi(R,f),N===x?(r=R,x=G):(s=R,C=G)}}function ua(r,s,f,p,y){var x=s.x-r.x,C=s.y-r.y,N=p.min,R=p.max,G,ot;return f&8?(G=r.x+x*(R.y-r.y)/C,ot=R.y):f&4?(G=r.x+x*(N.y-r.y)/C,ot=N.y):f&2?(G=R.x,ot=r.y+C*(R.x-r.x)/x):f&1&&(G=N.x,ot=r.y+C*(N.x-r.x)/x),new V(G,ot,y)}function fi(r,s){var f=0;return r.x<s.min.x?f|=1:r.x>s.max.x&&(f|=2),r.y<s.min.y?f|=4:r.y>s.max.y&&(f|=8),f}function ab(r,s){var f=s.x-r.x,p=s.y-r.y;return f*f+p*p}function Hr(r,s,f,p){var y=s.x,x=s.y,C=f.x-y,N=f.y-x,R=C*C+N*N,G;return R>0&&(G=((r.x-y)*C+(r.y-x)*N)/R,G>1?(y=f.x,x=f.y):G>0&&(y+=C*G,x+=N*G)),C=r.x-y,N=r.y-x,p?C*C+N*N:new V(y,x)}function Ee(r){return!P(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Ph(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ee(r)}function kh(r,s){var f,p,y,x,C,N,R,G;if(!r||r.length===0)throw new Error("latlngs not passed");Ee(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ot=J([0,0]),mt=ut(r),Tt=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());Tt<1700&&(ot=Du(r));var he=r.length,Jt=[];for(f=0;f<he;f++){var $e=J(r[f]);Jt.push(s.project(J([$e.lat-ot.lat,$e.lng-ot.lng])))}for(f=0,p=0;f<he-1;f++)p+=Jt[f].distanceTo(Jt[f+1])/2;if(p===0)G=Jt[0];else for(f=0,x=0;f<he-1;f++)if(C=Jt[f],N=Jt[f+1],y=C.distanceTo(N),x+=y,x>p){R=(x-p)/y,G=[N.x-R*(N.x-C.x),N.y-R*(N.y-C.y)];break}var me=s.unproject(F(G));return J([me.lat+ot.lat,me.lng+ot.lng])}var sb={__proto__:null,simplify:Mh,pointToSegmentDistance:Th,closestPointOnSegment:ib,clipSegment:Sh,_getEdgeIntersection:ua,_getBitCode:fi,_sqClosestPointOnSegment:Hr,isFlat:Ee,_flat:Ph,polylineCenter:kh},Ru={project:function(r){return new V(r.lng,r.lat)},unproject:function(r){return new rt(r.y,r.x)},bounds:new W([-180,-90],[180,90])},Zu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,f=this.R,p=r.lat*s,y=this.R_MINOR/f,x=Math.sqrt(1-y*y),C=x*Math.sin(p),N=Math.tan(Math.PI/4-p/2)/Math.pow((1-C)/(1+C),x/2);return p=-f*Math.log(Math.max(N,1e-10)),new V(r.lng*s*f,p)},unproject:function(r){for(var s=180/Math.PI,f=this.R,p=this.R_MINOR/f,y=Math.sqrt(1-p*p),x=Math.exp(-r.y/f),C=Math.PI/2-2*Math.atan(x),N=0,R=.1,G;N<15&&Math.abs(R)>1e-7;N++)G=y*Math.sin(C),G=Math.pow((1-G)/(1+G),y/2),R=Math.PI/2-2*Math.atan(x*G)-C,C+=R;return new rt(C*s,r.x*s/f)}},ub={__proto__:null,LonLat:Ru,Mercator:Zu,SphericalMercator:nt},fb=o({},ft,{code:"EPSG:3395",projection:Zu,transformation:function(){var r=.5/(Math.PI*Zu.R);return H(r,.5,-r,.5)}()}),Ch=o({},ft,{code:"EPSG:4326",projection:Ru,transformation:H(1/180,1,-1/180,.5)}),lb=o({},j,{projection:Ru,transformation:H(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var f=s.lng-r.lng,p=s.lat-r.lat;return Math.sqrt(f*f+p*p)},infinite:!0});j.Earth=ft,j.EPSG3395=fb,j.EPSG3857=vt,j.EPSG900913=pt,j.EPSG4326=Ch,j.Simple=lb;var Ve=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[c(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[c(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Ct.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=c(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=c(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return c(r)in this._layers},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},_addLayers:function(r){r=r?P(r)?r:[r]:[];for(var s=0,f=r.length;s<f;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[c(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=c(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,f=this._getZoomSpan();for(var p in this._zoomBoundLayers){var y=this._zoomBoundLayers[p].options;r=y.minZoom===void 0?r:Math.min(r,y.minZoom),s=y.maxZoom===void 0?s:Math.max(s,y.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Hi=Ve.extend({initialize:function(r,s){b(this,s),this._layers={};var f,p;if(r)for(f=0,p=r.length;f<p;f++)this.addLayer(r[f])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),f,p;for(f in this._layers)p=this._layers[f],p[r]&&p[r].apply(p,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return c(r)}}),cb=function(r,s){return new Hi(r,s)},xn=Hi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Hi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Hi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new K;for(var s in this._layers){var f=this._layers[s];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),hb=function(r,s){return new xn(r,s)},Wi=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){b(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(p,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(r,s){var f=this.options,p=f[s+"Size"];typeof p=="number"&&(p=[p,p]);var y=F(p),x=F(s==="shadow"&&f.shadowAnchor||f.iconAnchor||y&&y.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(f.className||""),x&&(r.style.marginLeft=-x.x+"px",r.style.marginTop=-x.y+"px"),y&&(r.style.width=y.x+"px",r.style.height=y.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return dt.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function db(r){return new Wi(r)}var Wr=Wi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Wr.imagePath!="string"&&(Wr.imagePath=this._detectIconPath()),(this.options.imagePath||Wr.imagePath)+Wi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(f,p,y){var x=p.exec(f);return x&&x[y]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=$t("div","leaflet-default-icon-path",document.body),s=Dr(r,"background-image")||Dr(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ah=fn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new qn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,f=s._map,p=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,x=ai(s._icon),C=f.getPixelBounds(),N=f.getPixelOrigin(),R=X(C.min._subtract(N).add(y),C.max._subtract(N).subtract(y));if(!R.contains(x)){var G=F((Math.max(R.max.x,x.x)-R.max.x)/(C.max.x-R.max.x)-(Math.min(R.min.x,x.x)-R.min.x)/(C.min.x-R.min.x),(Math.max(R.max.y,x.y)-R.max.y)/(C.max.y-R.max.y)-(Math.min(R.min.y,x.y)-R.min.y)/(C.min.y-R.min.y)).multiplyBy(p);f.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),Gt(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=A(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(D(this._panRequest),this._panRequest=A(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,f=s._shadow,p=ai(s._icon),y=s._map.layerPointToLatLng(p);f&&Gt(f,p),s._latlng=y,r.latlng=y,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){D(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),fa=Ve.extend({options:{icon:new Wr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){b(this,s),this._latlng=J(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=J(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),p=!1;f!==this._icon&&(this._icon&&this._removeIcon(),p=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),xt(f,s),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_t(f,"focus",this._panOnFocus,this);var y=r.icon.createShadow(this._shadow),x=!1;y!==this._shadow&&(this._removeShadow(),x=!0),y&&(xt(y,s),y.alt=""),this._shadow=y,r.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&x&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),Rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Rt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Gt(this._icon,r),this._shadow&&Gt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ah)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ah(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ae(this._icon,r),this._shadow&&Ae(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,f=s.iconSize?F(s.iconSize):F(0,0),p=s.iconAnchor?F(s.iconAnchor):F(0,0);r.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:f.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pb(r,s){return new fa(r,s)}var Yn=Ve.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return b(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),la=Yn.extend({options:{fill:!0,radius:10},initialize:function(r,s){b(this,s),this._latlng=J(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=J(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return Yn.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,f=this._clickTolerance(),p=[r+f,s+f];this._pxBounds=new W(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mb(r,s){return new la(r,s)}var Fu=la.extend({initialize:function(r,s,f){if(typeof s=="number"&&(s=o({},f,{radius:s})),b(this,s),this._latlng=J(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Yn.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,f=this._map,p=f.options.crs;if(p.distance===ft.distance){var y=Math.PI/180,x=this._mRadius/ft.R/y,C=f.project([s+x,r]),N=f.project([s-x,r]),R=C.add(N).divideBy(2),G=f.unproject(R).lat,ot=Math.acos((Math.cos(x*y)-Math.sin(s*y)*Math.sin(G*y))/(Math.cos(s*y)*Math.cos(G*y)))/y;(isNaN(ot)||ot===0)&&(ot=x/Math.cos(Math.PI/180*s)),this._point=R.subtract(f.getPixelOrigin()),this._radius=isNaN(ot)?0:R.x-f.project([G,r-ot]).x,this._radiusY=R.y-C.y}else{var mt=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(mt).x}this._updateBounds()}});function gb(r,s,f){return new Fu(r,s,f)}var Mn=Yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){b(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,f=null,p=Hr,y,x,C=0,N=this._parts.length;C<N;C++)for(var R=this._parts[C],G=1,ot=R.length;G<ot;G++){y=R[G-1],x=R[G];var mt=p(r,y,x,!0);mt<s&&(s=mt,f=p(r,y,x))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=J(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new K,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ee(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],f=Ee(r),p=0,y=r.length;p<y;p++)f?(s[p]=J(r[p]),this._bounds.extend(s[p])):s[p]=this._convertLatLngs(r[p]);return s},_project:function(){var r=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new V(r,r);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,f){var p=r[0]instanceof rt,y=r.length,x,C;if(p){for(C=[],x=0;x<y;x++)C[x]=this._map.latLngToLayerPoint(r[x]),f.extend(C[x]);s.push(C)}else for(x=0;x<y;x++)this._projectLatlngs(r[x],s,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,p,y,x,C,N,R;for(f=0,y=0,x=this._rings.length;f<x;f++)for(R=this._rings[f],p=0,C=R.length;p<C-1;p++)N=Sh(R[p],R[p+1],r,p,!0),N&&(s[y]=s[y]||[],s[y].push(N[0]),(N[1]!==R[p+1]||p===C-2)&&(s[y].push(N[1]),y++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,f=0,p=r.length;f<p;f++)r[f]=Mh(r[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var f,p,y,x,C,N,R=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,x=this._parts.length;f<x;f++)for(N=this._parts[f],p=0,C=N.length,y=C-1;p<C;y=p++)if(!(!s&&p===0)&&Th(r,N[y],N[p])<=R)return!0;return!1}});function _b(r,s){return new Mn(r,s)}Mn._flat=Ph;var qi=Mn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=Mn.prototype._convertLatLngs.call(this,r),f=s.length;return f>=2&&s[0]instanceof rt&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(r){Mn.prototype._setLatLngs.call(this,r),Ee(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ee(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,f=new V(s,s);if(r=new W(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,y=this._rings.length,x;p<y;p++)x=wh(this._rings[p],r,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,f,p,y,x,C,N,R,G;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(x=0,R=this._parts.length;x<R;x++)for(f=this._parts[x],C=0,G=f.length,N=G-1;C<G;N=C++)p=f[C],y=f[N],p.y>r.y!=y.y>r.y&&r.x<(y.x-p.x)*(r.y-p.y)/(y.y-p.y)+p.x&&(s=!s);return s||Mn.prototype._containsPoint.call(this,r,!0)}});function yb(r,s){return new qi(r,s)}var Tn=xn.extend({initialize:function(r,s){b(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=P(r)?r:r.features,f,p,y;if(s){for(f=0,p=s.length;f<p;f++)y=s[f],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var x=this.options;if(x.filter&&!x.filter(r))return this;var C=ca(r,x);return C?(C.feature=pa(r),C.defaultOptions=C.options,this.resetStyle(C),x.onEachFeature&&x.onEachFeature(r,C),this.addLayer(C)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function ca(r,s){var f=r.type==="Feature"?r.geometry:r,p=f?f.coordinates:null,y=[],x=s&&s.pointToLayer,C=s&&s.coordsToLatLng||Uu,N,R,G,ot;if(!p&&!f)return null;switch(f.type){case"Point":return N=C(p),Eh(x,r,N,s);case"MultiPoint":for(G=0,ot=p.length;G<ot;G++)N=C(p[G]),y.push(Eh(x,r,N,s));return new xn(y);case"LineString":case"MultiLineString":return R=ha(p,f.type==="LineString"?0:1,C),new Mn(R,s);case"Polygon":case"MultiPolygon":return R=ha(p,f.type==="Polygon"?1:2,C),new qi(R,s);case"GeometryCollection":for(G=0,ot=f.geometries.length;G<ot;G++){var mt=ca({geometry:f.geometries[G],type:"Feature",properties:r.properties},s);mt&&y.push(mt)}return new xn(y);case"FeatureCollection":for(G=0,ot=f.features.length;G<ot;G++){var Tt=ca(f.features[G],s);Tt&&y.push(Tt)}return new xn(y);default:throw new Error("Invalid GeoJSON object.")}}function Eh(r,s,f,p){return r?r(s,f):new fa(f,p&&p.markersInheritOptions&&p)}function Uu(r){return new rt(r[1],r[0],r[2])}function ha(r,s,f){for(var p=[],y=0,x=r.length,C;y<x;y++)C=s?ha(r[y],s-1,f):(f||Uu)(r[y]),p.push(C);return p}function Hu(r,s){return r=J(r),r.alt!==void 0?[g(r.lng,s),g(r.lat,s),g(r.alt,s)]:[g(r.lng,s),g(r.lat,s)]}function da(r,s,f,p){for(var y=[],x=0,C=r.length;x<C;x++)y.push(s?da(r[x],Ee(r[x])?0:s-1,f,p):Hu(r[x],p));return!s&&f&&y.length>0&&y.push(y[0].slice()),y}function Yi(r,s){return r.feature?o({},r.feature,{geometry:s}):pa(s)}function pa(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Wu={toGeoJSON:function(r){return Yi(this,{type:"Point",coordinates:Hu(this.getLatLng(),r)})}};fa.include(Wu),Fu.include(Wu),la.include(Wu),Mn.include({toGeoJSON:function(r){var s=!Ee(this._latlngs),f=da(this._latlngs,s?1:0,!1,r);return Yi(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),qi.include({toGeoJSON:function(r){var s=!Ee(this._latlngs),f=s&&!Ee(this._latlngs[0]),p=da(this._latlngs,f?2:s?1:0,!0,r);return s||(p=[p]),Yi(this,{type:(f?"Multi":"")+"Polygon",coordinates:p})}}),Hi.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(r).geometry.coordinates)}),Yi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var f=s==="GeometryCollection",p=[];return this.eachLayer(function(y){if(y.toGeoJSON){var x=y.toGeoJSON(r);if(f)p.push(x.geometry);else{var C=pa(x);C.type==="FeatureCollection"?p.push.apply(p,C.features):p.push(C)}}}),f?Yi(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function $h(r,s){return new Tn(r,s)}var vb=$h,ma=Ve.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,f){this._url=r,this._bounds=ut(s),b(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Fi(this._image),this},bringToBack:function(){return this._map&&Ui(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ut(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:$t("img");if(xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;oi(this._image,f,s)},_reset:function(){var r=this._image,s=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();Gt(r,s.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Ae(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),bb=function(r,s,f){return new ma(r,s,f)},zh=ma.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:$t("video");if(xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onloadeddata=u(this.fire,this,"load"),r){for(var f=s.getElementsByTagName("source"),p=[],y=0;y<f.length;y++)p.push(f[y].src);this._url=f.length>0?p:[s.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var C=$t("source");C.src=this._url[x],s.appendChild(C)}}});function wb(r,s,f){return new zh(r,s,f)}var Nh=ma.extend({_initImage:function(){var r=this._image=this._url;xt(r,"leaflet-image-layer"),this._zoomAnimated&&xt(r,"leaflet-zoom-animated"),this.options.className&&xt(r,this.options.className),r.onselectstart=m,r.onmousemove=m}});function xb(r,s,f){return new Nh(r,s,f)}var ln=Ve.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof rt||P(r))?(this._latlng=J(r),b(this,s)):(b(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ae(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ae(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ae(this._container,0),this._removeTimeout=setTimeout(u(Rt,void 0,this._container),200)):Rt(this._container),this.options.interactive&&(Vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=J(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Fi(this._container),this},bringToBack:function(){return this._map&&Ui(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof xn){s=null;var f=this._source._layers;for(var p in f)if(f[p]._map){s=f[p];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=F(this.options.offset),f=this._getAnchor();this._zoomAnimated?Gt(this._container,r.add(f)):s=s.add(r).add(f);var p=this._containerBottom=-s.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=p+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Ct.include({_initOverlay:function(r,s,f,p){var y=s;return y instanceof r||(y=new r(p).setContent(s)),f&&y.setLatLng(f),y}}),Ve.include({_initOverlay:function(r,s,f,p){var y=f;return y instanceof r?(b(y,p),y._source=this):(y=s&&!p?s:new r(p,this),y.setContent(f)),y}});var ga=ln.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,ln.prototype.openOn.call(this,r)},onAdd:function(r){ln.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Yn||this._source.on("preclick",si))},onRemove:function(r){ln.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Yn||this._source.off("preclick",si))},getEvents:function(){var r=ln.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=$t("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=$t("div",r+"-content-wrapper",s);if(this._contentNode=$t("div",r+"-content",f),Fr(s),zu(this._contentNode),_t(s,"contextmenu",si),this._tipContainer=$t("div",r+"-tip-container",s),this._tip=$t("div",r+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=$t("a",r+"-close-button",s);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',_t(p,"click",function(y){re(y),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var p=r.offsetHeight,y=this.options.maxHeight,x="leaflet-popup-scrolled";y&&p>y?(s.height=y+"px",xt(r,x)):Vt(r,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();Gt(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(Dr(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,p=this._containerWidth,y=new V(this._containerLeft,-f-this._containerBottom);y._add(ai(this._container));var x=r.layerPointToContainerPoint(y),C=F(this.options.autoPanPadding),N=F(this.options.autoPanPaddingTopLeft||C),R=F(this.options.autoPanPaddingBottomRight||C),G=r.getSize(),ot=0,mt=0;x.x+p+R.x>G.x&&(ot=x.x+p-G.x+R.x),x.x-ot-N.x<0&&(ot=x.x-N.x),x.y+f+R.y>G.y&&(mt=x.y+f-G.y+R.y),x.y-mt-N.y<0&&(mt=x.y-N.y),(ot||mt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([ot,mt]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mb=function(r,s){return new ga(r,s)};Ct.mergeOptions({closePopupOnClick:!0}),Ct.include({openPopup:function(r,s,f){return this._initOverlay(ga,r,s,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Ve.include({bindPopup:function(r,s){return this._popup=this._initOverlay(ga,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof xn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ui(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof Yn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var _a=ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){ln.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){ln.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=ln.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$t("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,f,p=this._map,y=this._container,x=p.latLngToContainerPoint(p.getCenter()),C=p.layerPointToContainerPoint(r),N=this.options.direction,R=y.offsetWidth,G=y.offsetHeight,ot=F(this.options.offset),mt=this._getAnchor();N==="top"?(s=R/2,f=G):N==="bottom"?(s=R/2,f=0):N==="center"?(s=R/2,f=G/2):N==="right"?(s=0,f=G/2):N==="left"?(s=R,f=G/2):C.x<x.x?(N="right",s=0,f=G/2):(N="left",s=R+(ot.x+mt.x)*2,f=G/2),r=r.subtract(F(s,f,!0)).add(ot).add(mt),Vt(y,"leaflet-tooltip-right"),Vt(y,"leaflet-tooltip-left"),Vt(y,"leaflet-tooltip-top"),Vt(y,"leaflet-tooltip-bottom"),xt(y,"leaflet-tooltip-"+N),Gt(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ae(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Tb=function(r,s){return new _a(r,s)};Ct.include({openTooltip:function(r,s,f){return this._initOverlay(_a,r,s,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Ve.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_a,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof xn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(_t(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),_t(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,f,p;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),p=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(s)}});var Oh=Wi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(ia(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var p=F(f.bgPos);s.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Lb(r){return new Oh(r)}Wi.Default=Wr;var qr=Ve.extend({options:{tileSize:256,opacity:1,updateWhenIdle:dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){b(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Rt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Fi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof V?r:new V(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,f=-r(-1/0,1/0),p=0,y=s.length,x;p<y;p++)x=s[p].style.zIndex,s[p]!==this._container&&x&&(f=r(f,+x));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!dt.ielt9){Ae(this._container,this.options.opacity);var r=+new Date,s=!1,f=!1;for(var p in this._tiles){var y=this._tiles[p];if(!(!y.current||!y.loaded)){var x=Math.min(1,(r-y.loaded)/200);Ae(y.el,x),x<1?s=!0:(y.active?f=!0:this._onOpaqueTile(y),y.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(D(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=$t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=s-Math.abs(r-f),this._onUpdateLevel(f)):(Rt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var p=this._levels[r],y=this._map;return p||(p=this._levels[r]={},p.el=$t("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=s,p.origin=y.project(y.unproject(y.getPixelOrigin()),r).round(),p.zoom=r,this._setZoomTransform(p,y.getCenter(),y.getZoom()),m(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var r,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var p=s.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Rt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,f,p){var y=Math.floor(r/2),x=Math.floor(s/2),C=f-1,N=new V(+y,+x);N.z=+C;var R=this._tileCoordsToKey(N),G=this._tiles[R];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),C>p?this._retainParent(y,x,C,p):!1)},_retainChildren:function(r,s,f,p){for(var y=2*r;y<2*r+2;y++)for(var x=2*s;x<2*s+2;x++){var C=new V(y,x);C.z=f+1;var N=this._tileCoordsToKey(C),R=this._tiles[N];if(R&&R.active){R.retain=!0;continue}else R&&R.loaded&&(R.retain=!0);f+1<p&&this._retainChildren(y,x,f+1,p)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,f,p){var y=Math.round(s);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var x=this.options.updateWhenZooming&&y!==this._tileZoom;(!p||x)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,s)},_setZoomTransform:function(r,s,f){var p=this._map.getZoomScale(f,r.zoom),y=r.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(s,f)).round();dt.any3d?oi(r.el,y,p):Gt(r.el,y)},_resetGrid:function(){var r=this._map,s=r.options.crs,f=this._tileSize=this.getTileSize(),p=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],p).x/f.x),Math.ceil(r.project([0,s.wrapLng[1]],p).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],p).y/f.x),Math.ceil(r.project([s.wrapLat[1],0],p).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),p=s.getZoomScale(f,this._tileZoom),y=s.project(r,this._tileZoom).floor(),x=s.getSize().divideBy(p*2);return new W(y.subtract(x),y.add(x))},_update:function(r){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(r),y=this._pxBoundsToTileRange(p),x=y.getCenter(),C=[],N=this.options.keepBuffer,R=new W(y.getBottomLeft().subtract([N,-N]),y.getTopRight().add([N,-N]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var ot=this._tiles[G].coords;(ot.z!==this._tileZoom||!R.contains(new V(ot.x,ot.y)))&&(this._tiles[G].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var mt=y.min.y;mt<=y.max.y;mt++)for(var Tt=y.min.x;Tt<=y.max.x;Tt++){var he=new V(Tt,mt);if(he.z=this._tileZoom,!!this._isValidTile(he)){var Jt=this._tiles[this._tileCoordsToKey(he)];Jt?Jt.current=!0:C.push(he)}}if(C.sort(function(me,Gi){return me.distanceTo(x)-Gi.distanceTo(x)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var $e=document.createDocumentFragment();for(Tt=0;Tt<C.length;Tt++)this._addTile(C[Tt],$e);this._level.el.appendChild($e)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!s.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(r);return ut(this.options.bounds).overlaps(p)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,f=this.getTileSize(),p=r.scaleBy(f),y=p.add(f),x=s.unproject(p,r.z),C=s.unproject(y,r.z);return[x,C]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),f=new K(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),f=new V(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(r){var s=this._tiles[r];s&&(Rt(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){xt(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=m,r.onmousemove=m,dt.ielt9&&this.options.opacity<1&&Ae(r,this.options.opacity)},_addTile:function(r,s){var f=this._getTilePos(r),p=this._tileCoordsToKey(r),y=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(y),this.createTile.length<2&&A(u(this._tileReady,this,r,null,y)),Gt(y,f),this._tiles[p]={el:y,coords:r,current:!0},s.appendChild(y),this.fire("tileloadstart",{tile:y,coords:r})},_tileReady:function(r,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:r});var p=this._tileCoordsToKey(r);f=this._tiles[p],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Ae(f.el,0),D(this._fadeFrame),this._fadeFrame=A(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(xt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),dt.ielt9||!this._map._fadeAnimated?A(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new V(this._wrapX?d(r.x,this._wrapX):r.x,this._wrapY?d(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new W(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Sb(r){return new qr(r)}var Vi=qr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=b(this,s),s.detectRetina&&dt.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var f=document.createElement("img");return _t(f,"load",u(this._tileOnLoad,this,s,f)),_t(f,"error",u(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var s={r:dt.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=f),s["-y"]=f}return M(this._url,o(s,this.options))},_tileOnLoad:function(r,s){dt.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,f){var p=this.options.errorTileUrl;p&&s.getAttribute("src")!==p&&(s.src=p),r(f,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,p=this.options.zoomOffset;return f&&(r=s-r),r+p},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=m,s.onerror=m,!s.complete)){s.src=k;var f=this._tiles[r].coords;Rt(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",k),qr.prototype._removeTile.call(this,r)},_tileReady:function(r,s,f){if(!(!this._map||f&&f.getAttribute("src")===k))return qr.prototype._tileReady.call(this,r,s,f)}});function Ih(r,s){return new Vi(r,s)}var Dh=Vi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var f=o({},this.defaultWmsParams);for(var p in s)p in this.options||(f[p]=s[p]);s=b(this,s);var y=s.detectRetina&&dt.retina?2:1,x=this.getTileSize();f.width=x.x*y,f.height=x.y*y,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Vi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),f=this._crs,p=X(f.project(s[0]),f.project(s[1])),y=p.min,x=p.max,C=(this._wmsVersion>=1.3&&this._crs===Ch?[y.y,y.x,x.y,x.x]:[y.x,y.y,x.x,x.y]).join(","),N=Vi.prototype.getTileUrl.call(this,r);return N+w(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function Pb(r,s){return new Dh(r,s)}Vi.WMS=Dh,Ih.wms=Pb;var Ln=Ve.extend({options:{padding:.1},initialize:function(r){b(this,r),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var f=this._map.getZoomScale(s,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,s),x=p.multiplyBy(-f).add(y).subtract(this._map._getNewPixelOrigin(r,s));dt.any3d?oi(this._container,x,f):Gt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new W(f,f.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Bh=Ln.extend({options:{tolerance:0},getEvents:function(){var r=Ln.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");_t(r,"mousemove",this._onMouseMove,this),_t(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_t(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){D(this._redrawRequest),delete this._ctx,Rt(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var r=this._bounds,s=this._container,f=r.getSize(),p=dt.retina?2:1;Gt(s,r.min),s.width=p*f.x,s.height=p*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[c(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,f=s.next,p=s.prev;f?f.prev=p:this._drawLast=p,p?p.next=f:this._drawFirst=f,delete r._order,delete this._layers[c(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),f=[],p,y;for(y=0;y<s.length;y++){if(p=Number(s[y]),isNaN(p))return;f.push(p)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||A(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)r=p.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var f,p,y,x,C=r._parts,N=C.length,R=this._ctx;if(N){for(R.beginPath(),f=0;f<N;f++){for(p=0,y=C[f].length;p<y;p++)x=C[f][p],R[p?"lineTo":"moveTo"](x.x,x.y);s&&R.closePath()}this._fillStroke(R,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,f=this._ctx,p=Math.max(Math.round(r._radius),1),y=(Math.max(Math.round(r._radiusY),1)||p)/p;y!==1&&(f.save(),f.scale(1,y)),f.beginPath(),f.arc(s.x,s.y/y,p,0,Math.PI*2,!1),y!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,s){var f=s.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),f,p,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(p=f);this._fireEvent(p?[p]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Vt(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var f,p,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(s)&&(p=f);p!==this._hoveredLayer&&(this._handleMouseOut(r),p&&(xt(this._container,"leaflet-interactive"),this._fireEvent([p],r,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,f){this._map._fireDOMEvent(s,f||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var f=s.next,p=s.prev;if(f)f.prev=p;else return;p?p.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var f=s.next,p=s.prev;if(p)p.next=f;else return;f?f.prev=p:p&&(this._drawLast=p),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function Rh(r){return dt.canvas?new Bh(r):null}var Yr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),kb={_initContainer:function(){this._container=$t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ln.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=Yr("shape");xt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=Yr("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[c(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Rt(s),r.removeInteractiveTarget(s),delete this._layers[c(r)]},_updateStyle:function(r){var s=r._stroke,f=r._fill,p=r.options,y=r._container;y.stroked=!!p.stroke,y.filled=!!p.fill,p.stroke?(s||(s=r._stroke=Yr("stroke")),y.appendChild(s),s.weight=p.weight+"px",s.color=p.color,s.opacity=p.opacity,p.dashArray?s.dashStyle=P(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=p.lineCap.replace("butt","flat"),s.joinstyle=p.lineJoin):s&&(y.removeChild(s),r._stroke=null),p.fill?(f||(f=r._fill=Yr("fill")),y.appendChild(f),f.color=p.fillColor||p.color,f.opacity=p.fillOpacity):f&&(y.removeChild(f),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),f=Math.round(r._radius),p=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+p+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){Fi(r._container)},_bringToBack:function(r){Ui(r._container)}},ya=dt.vml?Yr:At,Vr=Ln.extend({_initContainer:function(){this._container=ya("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ya("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Rt(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var r=this._bounds,s=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),Gt(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=ya("path");r.options.className&&xt(s,r.options.className),r.options.interactive&&xt(s,"leaflet-interactive"),this._updateStyle(r),this._layers[c(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Rt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[c(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,f=r.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,Et(r._parts,s))},_updateCircle:function(r){var s=r._point,f=Math.max(Math.round(r._radius),1),p=Math.max(Math.round(r._radiusY),1)||f,y="a"+f+","+p+" 0 1,0 ",x=r._empty()?"M0 0":"M"+(s.x-f)+","+s.y+y+f*2+",0 "+y+-f*2+",0 ";this._setPath(r,x)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){Fi(r._path)},_bringToBack:function(r){Ui(r._path)}});dt.vml&&Vr.include(kb);function Zh(r){return dt.svg||dt.vml?new Vr(r):null}Ct.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&Rh(r)||Zh(r)}});var Fh=qi.extend({initialize:function(r,s){qi.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ut(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Cb(r,s){return new Fh(r,s)}Vr.create=ya,Vr.pointsToPath=Et,Tn.geometryToLayer=ca,Tn.coordsToLatLng=Uu,Tn.coordsToLatLngs=ha,Tn.latLngToCoords=Hu,Tn.latLngsToCoords=da,Tn.getFeature=Yi,Tn.asFeature=pa,Ct.mergeOptions({boxZoom:!0});var Uh=fn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){_t(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Br(),Lu(),this._startPoint=this._map.mouseEventToContainerPoint(r),_t(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=$t("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new W(this._point,this._startPoint),f=s.getSize();Gt(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Rt(this._box),Vt(this._container,"leaflet-crosshair")),Rr(),Su(),Bt(document,{contextmenu:ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ct.addInitHook("addHandler","boxZoom",Uh),Ct.mergeOptions({doubleClickZoom:!0});var Hh=fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,f=s.getZoom(),p=s.options.zoomDelta,y=r.originalEvent.shiftKey?f-p:f+p;s.options.doubleClickZoom==="center"?s.setZoom(y):s.setZoomAround(r.containerPoint,y)}});Ct.addInitHook("addHandler","doubleClickZoom",Hh),Ct.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Wh=fn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new qn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Vt(this._map._container,"leaflet-grab"),Vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ut(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),f=this._initialWorldOffset,p=this._draggable._newPos.x,y=(p-s+f)%r+s-f,x=(p+s+f)%r-s-f,C=Math.abs(y+f)<Math.abs(x+f)?y:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(r){var s=this._map,f=s.options,p=!f.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),p)s.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,C=f.easeLinearity,N=y.multiplyBy(C/x),R=N.distanceTo([0,0]),G=Math.min(f.inertiaMaxSpeed,R),ot=N.multiplyBy(G/R),mt=G/(f.inertiaDeceleration*C),Tt=ot.multiplyBy(-mt/2).round();!Tt.x&&!Tt.y?s.fire("moveend"):(Tt=s._limitOffset(Tt,s.options.maxBounds),A(function(){s.panBy(Tt,{duration:mt,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Ct.addInitHook("addHandler","dragging",Wh),Ct.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qh=fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),_t(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,f=r.scrollTop||s.scrollTop,p=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(p,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},f=this.keyCodes,p,y;for(p=0,y=f.left.length;p<y;p++)s[f.left[p]]=[-1*r,0];for(p=0,y=f.right.length;p<y;p++)s[f.right[p]]=[r,0];for(p=0,y=f.down.length;p<y;p++)s[f.down[p]]=[0,r];for(p=0,y=f.up.length;p<y;p++)s[f.up[p]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},f=this.keyCodes,p,y;for(p=0,y=f.zoomIn.length;p<y;p++)s[f.zoomIn[p]]=r;for(p=0,y=f.zoomOut.length;p<y;p++)s[f.zoomOut[p]]=-r},_addHooks:function(){_t(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,f=this._map,p;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(p=this._panKeys[s],r.shiftKey&&(p=F(p).multiplyBy(3)),f.options.maxBounds&&(p=f._limitOffset(F(p),f.options.maxBounds)),f.options.worldCopyJump){var y=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(p)));f.panTo(y)}else f.panBy(p)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;ui(r)}}});Ct.addInitHook("addHandler","keyboard",qh),Ct.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yh=fn.extend({addHooks:function(){_t(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=gh(r),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var p=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),p),ui(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,x=f?Math.ceil(y/f)*f:y,C=r._limitZoom(s+(this._delta>0?x:-x))-s;this._delta=0,this._startTime=null,C&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+C):r.setZoomAround(this._lastMousePos,s+C))}});Ct.addInitHook("addHandler","scrollWheelZoom",Yh);var Ab=600;Ct.mergeOptions({tapHold:dt.touchNative&&dt.safari&&dt.mobile,tapTolerance:15});var Vh=fn.extend({addHooks:function(){_t(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new V(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(_t(document,"touchend",re),_t(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Ab),_t(document,"touchend touchcancel contextmenu",this._cancel,this),_t(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Bt(document,"touchend",re),Bt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new V(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});Ct.addInitHook("addHandler","tapHold",Vh),Ct.mergeOptions({touchZoom:dt.touch,bounceAtZoomLimits:!0});var Gh=fn.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),_t(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Vt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(r.touches[0]),p=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(p)._divideBy(2))),this._startDist=f.distanceTo(p),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),_t(document,"touchmove",this._onTouchMove,this),_t(document,"touchend touchcancel",this._onTouchEnd,this),re(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(r.touches[0]),p=s.mouseEventToContainerPoint(r.touches[1]),y=f.distanceTo(p)/this._startDist;if(this._zoom=s.getScaleZoom(y,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&y<1||this._zoom>s.getMaxZoom()&&y>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var x=f._add(p)._divideBy(2)._subtract(this._centerPoint);if(y===1&&x.x===0&&x.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),D(this._animRequest);var C=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=A(C,this,!0),re(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,D(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ct.addInitHook("addHandler","touchZoom",Gh),Ct.BoxZoom=Uh,Ct.DoubleClickZoom=Hh,Ct.Drag=Wh,Ct.Keyboard=qh,Ct.ScrollWheelZoom=Yh,Ct.TapHold=Vh,Ct.TouchZoom=Gh,n.Bounds=W,n.Browser=dt,n.CRS=j,n.Canvas=Bh,n.Circle=Fu,n.CircleMarker=la,n.Class=Z,n.Control=Ye,n.DivIcon=Oh,n.DivOverlay=ln,n.DomEvent=Gv,n.DomUtil=Yv,n.Draggable=qn,n.Evented=Q,n.FeatureGroup=xn,n.GeoJSON=Tn,n.GridLayer=qr,n.Handler=fn,n.Icon=Wi,n.ImageOverlay=ma,n.LatLng=rt,n.LatLngBounds=K,n.Layer=Ve,n.LayerGroup=Hi,n.LineUtil=sb,n.Map=Ct,n.Marker=fa,n.Mixin=eb,n.Path=Yn,n.Point=V,n.PolyUtil=nb,n.Polygon=qi,n.Polyline=Mn,n.Popup=ga,n.PosAnimation=_h,n.Projection=ub,n.Rectangle=Fh,n.Renderer=Ln,n.SVG=Vr,n.SVGOverlay=Nh,n.TileLayer=Vi,n.Tooltip=_a,n.Transformation=st,n.Util=U,n.VideoOverlay=zh,n.bind=u,n.bounds=X,n.canvas=Rh,n.circle=gb,n.circleMarker=mb,n.control=Ur,n.divIcon=Lb,n.extend=o,n.featureGroup=hb,n.geoJSON=$h,n.geoJson=vb,n.gridLayer=Sb,n.icon=db,n.imageOverlay=bb,n.latLng=J,n.latLngBounds=ut,n.layerGroup=cb,n.map=Xv,n.marker=pb,n.point=F,n.polygon=yb,n.polyline=_b,n.popup=Mb,n.rectangle=Cb,n.setOptions=b,n.stamp=c,n.svg=Zh,n.svgOverlay=xb,n.tileLayer=Ih,n.tooltip=Tb,n.transformation=H,n.version=i,n.videoOverlay=wb;var Eb=window.L;n.noConflict=function(){return window.L=Eb,this},window.L=n})})(Zf,Zf.exports);var aw=Zf.exports;const gi=ow(aw);function id(t){let e;const n=t[6].default,i=$s(n,t,t[5],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&32)&&Ns(i,n,o,o[5],e?zs(n,o[5],a,null):Os(o[5]),null)},i(o){e||(et(i,o),e=!0)},o(o){ht(i,o),e=!1},d(o){i&&i.d(o)}}}function sw(t){let e,n,i=t[0]&&id(t);return{c(){e=gt("div"),i&&i.c(),at(e,"class","w-full h-full")},m(o,a){kt(o,e,a),i&&i.m(e,null),t[7](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&et(i,1)):(i=id(o),i.c(),et(i,1),i.m(e,null)):i&&(fe(),ht(i,1,1,()=>{i=null}),le())},i(o){n||(et(i),n=!0)},o(o){ht(i),n=!1},d(o){o&&St(e),i&&i.d(),t[7](null)}}}function uw(t,e,n){let{$$slots:i={},$$scope:o}=e,{bounds:a=void 0}=e,{view:u=void 0}=e,{zoom:l=void 0}=e;const c=Xb();let h,d;Sr(()=>{if(!a&&(!u||!l))throw new Error("Must set either bounds, or view and zoom.");n(0,h=gi.map(d).on("zoom",g=>c("zoom",g)).on("popupopen",async g=>{await jb(),g.popup.update()})),gi.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,&copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>'}).addTo(h)}),Is(()=>{h==null||h.remove(),n(0,h=void 0)}),Hl("map",{getMap:()=>h});function m(g){xi[g?"unshift":"push"](()=>{d=g,n(1,d)})}return t.$$set=g=>{"bounds"in g&&n(2,a=g.bounds),"view"in g&&n(3,u=g.view),"zoom"in g&&n(4,l=g.zoom),"$$scope"in g&&n(5,o=g.$$scope)},t.$$.update=()=>{t.$$.dirty&29&&h&&(a?h.fitBounds(a):u&&l&&h.setView(u,l,{animate:!0}))},[h,d,a,u,l,o,i,m]}class fw extends qe{constructor(e){super(),We(this,e,uw,sw,Ce,{bounds:2,view:3,zoom:4})}}function rd(t){let e;const n=t[8].default,i=$s(n,t,t[7],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&128)&&Ns(i,n,o,o[7],e?zs(n,o[7],a,null):Os(o[7]),null)},i(o){e||(et(i,o),e=!0)},o(o){ht(i,o),e=!1},d(o){i&&i.d(o)}}}function lw(t){let e,n,i=t[0]&&rd(t);return{c(){e=gt("div"),i&&i.c()},m(o,a){kt(o,e,a),i&&i.m(e,null),t[9](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&et(i,1)):(i=rd(o),i.c(),et(i,1),i.m(e,null)):i&&(fe(),ht(i,1,1,()=>{i=null}),le())},i(o){n||(et(i),n=!0)},o(o){ht(i),n=!1},d(o){o&&St(e),i&&i.d(),t[9](null)}}}function cw(t,e,n){let{$$slots:i={},$$scope:o}=e,{latLng:a}=e,{iconUrl:u}=e,{iconSize:l=[50,50]}=e,{radius:c=4}=e,{fillColor:h="blue"}=e,d,m;const{getMap:g}=Wl("map"),_=g();Hl("layer",{getLayer:()=>d});function v(){n(0,d=_?u?gi.marker(a,{icon:gi.icon({iconUrl:u,iconSize:l})}).addTo(_):gi.circleMarker(a,{radius:c,fillColor:h,stroke:!1,fillOpacity:.6}).addTo(_):void 0)}Sr(()=>{_&&v()}),Is(()=>{d==null||d.remove(),n(0,d=void 0)});function b(w){xi[w?"unshift":"push"](()=>{m=w,n(1,m)})}return t.$$set=w=>{"latLng"in w&&n(2,a=w.latLng),"iconUrl"in w&&n(3,u=w.iconUrl),"iconSize"in w&&n(4,l=w.iconSize),"radius"in w&&n(5,c=w.radius),"fillColor"in w&&n(6,h=w.fillColor),"$$scope"in w&&n(7,o=w.$$scope)},[d,m,a,u,l,c,h,o,i,b]}class Xm extends qe{constructor(e){super(),We(this,e,cw,lw,Ce,{latLng:2,iconUrl:3,iconSize:4,radius:5,fillColor:6})}}function _e(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Do(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ds(t){let e,n,i;t.length!==2?(e=_e,n=(l,c)=>_e(t(l),c),i=(l,c)=>t(l)-c):(e=t===_e||t===Do?t:hw,n=t,i=t);function o(l,c,h=0,d=l.length){if(h<d){if(e(c,c)!==0)return d;do{const m=h+d>>>1;n(l[m],c)<0?h=m+1:d=m}while(h<d)}return h}function a(l,c,h=0,d=l.length){if(h<d){if(e(c,c)!==0)return d;do{const m=h+d>>>1;n(l[m],c)<=0?h=m+1:d=m}while(h<d)}return h}function u(l,c,h=0,d=l.length){const m=o(l,c,h,d-1);return m>h&&i(l[m-1],c)>-i(l[m],c)?m-1:m}return{left:o,center:u,right:a}}function hw(){return 0}function jm(t){return t===null?NaN:+t}function*dw(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(yield i)}}const pw=Ds(_e),mw=pw.right;Ds(jm).center;const Bs=mw;function gw(t,e){let n=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&++n;else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&++n}return n}function _w(t){return t.length|0}function yw(t){return!(t>0)}function vw(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function bw(t){return e=>t(...e)}function ww(...t){const e=typeof t[t.length-1]=="function"&&bw(t.pop());t=t.map(vw);const n=t.map(_w),i=t.length-1,o=new Array(i+1).fill(0),a=[];if(i<0||n.some(yw))return a;for(;;){a.push(o.map((l,c)=>t[c][l]));let u=i;for(;++o[u]===n[u];){if(u===0)return e?a.map(e):a;o[u--]=0}}}function xw(t,e){var n=0,i=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,i++,t)||0)}function Km(t,e){let n=0,i,o=0,a=0;if(e===void 0)for(let u of t)u!=null&&(u=+u)>=u&&(i=u-o,o+=i/++n,a+=i*(u-o));else{let u=-1;for(let l of t)(l=e(l,++u,t))!=null&&(l=+l)>=l&&(i=l-o,o+=i/++n,a+=i*(l-o))}if(n>1)return a/(n-1)}function Mw(t,e){const n=Km(t,e);return n&&Math.sqrt(n)}function Fe(t,e){let n,i;if(e===void 0)for(const o of t)o!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)));else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(n===void 0?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}class Mi{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const a=n[o],u=e+a,l=Math.abs(e)<Math.abs(a)?e-(u-a):a-(u-e);l&&(n[i++]=l),e=u}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,o,a,u=0;if(n>0){for(u=e[--n];n>0&&(i=u,o=e[--n],u=i+o,a=o-(u-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(o=a*2,i=u+o,o==i-u&&(u=i))}return u}}class Ti extends Map{constructor(e,n=t0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(Ff(this,e))}has(e){return super.has(Ff(this,e))}set(e,n){return super.set(Jm(this,e),n)}delete(e){return super.delete(Qm(this,e))}}class Rs extends Set{constructor(e,n=t0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(Ff(this,e))}add(e){return super.add(Jm(this,e))}delete(e){return super.delete(Qm(this,e))}}function Ff({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Jm({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function Qm({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function t0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xa(t){return t}function ql(t,...e){return Yl(t,Xa,Xa,e)}function ar(t,e,...n){return Yl(t,Xa,e,n)}function Tw(t,e,...n){return Yl(t,Array.from,e,n)}function Yl(t,e,n,i){return function o(a,u){if(u>=i.length)return n(a);const l=new Ti,c=i[u++];let h=-1;for(const d of a){const m=c(d,++h,a),g=l.get(m);g?g.push(d):l.set(m,[d])}for(const[d,m]of l)l.set(d,o(m,u));return e(l)}(t,0)}function Lw(t,e){return Array.from(e,n=>t[n])}function yo(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const i=Uint32Array.from(t,(o,a)=>a);return e.length>1?(e=e.map(o=>t.map(o)),i.sort((o,a)=>{for(const u of e){const l=ja(u[o],u[a]);if(l)return l}})):(n=t.map(n),i.sort((o,a)=>ja(n[o],n[a]))),Lw(t,i)}return t.sort(e0(n))}function e0(t=_e){if(t===_e)return ja;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function ja(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Vl(t,e,n){return(e.length!==2?yo(ar(t,e,n),([i,o],[a,u])=>_e(o,u)||_e(i,a)):yo(ql(t,n),([i,o],[a,u])=>e(o,u)||_e(i,a))).map(([i])=>i)}var Sw=Array.prototype,Pw=Sw.slice;function Vu(t){return()=>t}const kw=Math.sqrt(50),Cw=Math.sqrt(10),Aw=Math.sqrt(2);function Ka(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),u=a>=kw?10:a>=Cw?5:a>=Aw?2:1;let l,c,h;return o<0?(h=Math.pow(10,-o)/u,l=Math.round(t*h),c=Math.round(e*h),l/h<t&&++l,c/h>e&&--c,h=-h):(h=Math.pow(10,o)*u,l=Math.round(t/h),c=Math.round(e/h),l*h<t&&++l,c*h>e&&--c),c<l&&.5<=n&&n<2?Ka(t,e,n*2):[l,c,h]}function vo(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,a,u]=i?Ka(e,t,n):Ka(t,e,n);if(!(a>=o))return[];const l=a-o+1,c=new Array(l);if(i)if(u<0)for(let h=0;h<l;++h)c[h]=(a-h)/-u;else for(let h=0;h<l;++h)c[h]=(a-h)*u;else if(u<0)for(let h=0;h<l;++h)c[h]=(o+h)/-u;else for(let h=0;h<l;++h)c[h]=(o+h)*u;return c}function cr(t,e,n){return e=+e,t=+t,n=+n,Ka(t,e,n)[2]}function Uf(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?cr(e,t,n):cr(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function Ew(t,e,n){let i;for(;;){const o=cr(t,e,n);if(o===i||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),i=o}}function $w(t){return Math.max(1,Math.ceil(Math.log(gw(t))/Math.LN2)+1)}function zw(){var t=Xa,e=Fe,n=$w;function i(o){Array.isArray(o)||(o=Array.from(o));var a,u=o.length,l,c,h=new Array(u);for(a=0;a<u;++a)h[a]=t(o[a],a,o);var d=e(h),m=d[0],g=d[1],_=n(h,m,g);if(!Array.isArray(_)){const P=g,T=+_;if(e===Fe&&([m,g]=Ew(m,g,T)),_=vo(m,g,T),_[0]<=m&&(c=cr(m,g,T)),_[_.length-1]>=g)if(P>=g&&e===Fe){const k=cr(m,g,T);isFinite(k)&&(k>0?g=(Math.floor(g/k)+1)*k:k<0&&(g=(Math.ceil(g*-k)+1)/-k))}else _.pop()}for(var v=_.length,b=0,w=v;_[b]<=m;)++b;for(;_[w-1]>g;)--w;(b||w<v)&&(_=_.slice(b,w),v=w-b);var S=new Array(v+1),M;for(a=0;a<=v;++a)M=S[a]=[],M.x0=a>0?_[a-1]:m,M.x1=a<v?_[a]:g;if(isFinite(c)){if(c>0)for(a=0;a<u;++a)(l=h[a])!=null&&m<=l&&l<=g&&S[Math.min(v,Math.floor((l-m)/c))].push(o[a]);else if(c<0){for(a=0;a<u;++a)if((l=h[a])!=null&&m<=l&&l<=g){const P=Math.floor((m-l)*c);S[Math.min(v,P+(_[P]<=l))].push(o[a])}}}else for(a=0;a<u;++a)(l=h[a])!=null&&m<=l&&l<=g&&S[Bs(_,l,0,v)].push(o[a]);return S}return i.value=function(o){return arguments.length?(t=typeof o=="function"?o:Vu(o),i):t},i.domain=function(o){return arguments.length?(e=typeof o=="function"?o:Vu([o[0],o[1]]),i):e},i.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Vu(Array.isArray(o)?Pw.call(o):o),i):n},i}function Je(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Nw(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);return i}function Dn(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Ow(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);return i}function n0(t,e,n=0,i=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(o=o===void 0?ja:e0(o);i>n;){if(i-n>600){const c=i-n+1,h=e-n+1,d=Math.log(c),m=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*m*(c-m)/c)*(h-c/2<0?-1:1),_=Math.max(n,Math.floor(e-h*m/c+g)),v=Math.min(i,Math.floor(e+(c-h)*m/c+g));n0(t,e,_,v,o)}const a=t[e];let u=n,l=i;for(Gr(t,n,e),o(t[i],a)>0&&Gr(t,n,i);u<l;){for(Gr(t,u,l),++u,--l;o(t[u],a)<0;)++u;for(;o(t[l],a)>0;)--l}o(t[n],a)===0?Gr(t,n,l):(++l,Gr(t,l,i)),l<=e&&(n=l+1),e<=l&&(i=l-1)}return t}function Gr(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function i0(t,e=_e){let n,i=!1;if(e.length===1){let o;for(const a of t){const u=e(a);(i?_e(u,o)>0:_e(u,u)===0)&&(n=a,o=u,i=!0)}}else for(const o of t)(i?e(o,n)>0:e(o,o)===0)&&(n=o,i=!0);return n}function Ja(t,e,n){if(t=Float64Array.from(dw(t,n)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return Dn(t);if(e>=1)return Je(t);var i,o=(i-1)*e,a=Math.floor(o),u=Je(n0(t,a).subarray(0,a+1)),l=Dn(t.subarray(a+1));return u+(l-u)*(o-a)}}function Iw(t,e,n=jm){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),u=+n(t[a],a,t),l=+n(t[a+1],a+1,t);return u+(l-u)*(o-a)}}function Dw(t,e){let n=0,i=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,i+=o);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}function Hf(t,e){return Ja(t,.5,e)}function*Bw(t){for(const e of t)yield*e}function r0(t){return Array.from(Bw(t))}function Rw(t,e){const n=new Ti;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let u of t)(u=e(u,++a,t))!=null&&u>=u&&n.set(u,(n.get(u)||0)+1)}let i,o=0;for(const[a,u]of n)u>o&&(o=u,i=a);return i}function Zw(t,e=Fw){const n=[];let i,o=!1;for(const a of t)o&&n.push(e(i,a)),i=a,o=!0;return n}function Fw(t,e){return[t,e]}function Wf(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(o);++i<o;)a[i]=t+i*n;return a}function jn(t,e){let n=0;if(e===void 0)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let o of t)(o=+e(o,++i,t))&&(n+=o)}return n}function Qa(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Uw(t){return t}var Gu=1,Xu=2,qf=3,eo=4,od=1e-6;function Hw(t){return"translate("+t+",0)"}function Ww(t){return"translate(0,"+t+")"}function qw(t){return e=>+t(e)}function Yw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Vw(){return!this.__axis}function o0(t,e){var n=[],i=null,o=null,a=6,u=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=t===Gu||t===eo?-1:1,d=t===eo||t===Xu?"x":"y",m=t===Gu||t===qf?Hw:Ww;function g(_){var v=i??(e.ticks?e.ticks.apply(e,n):e.domain()),b=o??(e.tickFormat?e.tickFormat.apply(e,n):Uw),w=Math.max(a,0)+l,S=e.range(),M=+S[0]+c,P=+S[S.length-1]+c,T=(e.bandwidth?Yw:qw)(e.copy(),c),k=_.selection?_.selection():_,E=k.selectAll(".domain").data([null]),z=k.selectAll(".tick").data(v,e).order(),I=z.exit(),B=z.enter().append("g").attr("class","tick"),$=z.select("line"),A=z.select("text");E=E.merge(E.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),z=z.merge(B),$=$.merge(B.append("line").attr("stroke","currentColor").attr(d+"2",h*a)),A=A.merge(B.append("text").attr("fill","currentColor").attr(d,h*w).attr("dy",t===Gu?"0em":t===qf?"0.71em":"0.32em")),_!==k&&(E=E.transition(_),z=z.transition(_),$=$.transition(_),A=A.transition(_),I=I.transition(_).attr("opacity",od).attr("transform",function(D){return isFinite(D=T(D))?m(D+c):this.getAttribute("transform")}),B.attr("opacity",od).attr("transform",function(D){var U=this.parentNode.__axis;return m((U&&isFinite(U=U(D))?U:T(D))+c)})),I.remove(),E.attr("d",t===eo||t===Xu?u?"M"+h*u+","+M+"H"+c+"V"+P+"H"+h*u:"M"+c+","+M+"V"+P:u?"M"+M+","+h*u+"V"+c+"H"+P+"V"+h*u:"M"+M+","+c+"H"+P),z.attr("opacity",1).attr("transform",function(D){return m(T(D)+c)}),$.attr(d+"2",h*a),A.attr(d,h*w).text(b),k.filter(Vw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Xu?"start":t===eo?"end":"middle"),k.each(function(){this.__axis=T})}return g.scale=function(_){return arguments.length?(e=_,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(_){return arguments.length?(n=_==null?[]:Array.from(_),g):n.slice()},g.tickValues=function(_){return arguments.length?(i=_==null?null:Array.from(_),g):i&&i.slice()},g.tickFormat=function(_){return arguments.length?(o=_,g):o},g.tickSize=function(_){return arguments.length?(a=u=+_,g):a},g.tickSizeInner=function(_){return arguments.length?(a=+_,g):a},g.tickSizeOuter=function(_){return arguments.length?(u=+_,g):u},g.tickPadding=function(_){return arguments.length?(l=+_,g):l},g.offset=function(_){return arguments.length?(c=+_,g):c},g}function a0(t){return o0(qf,t)}function Gw(t){return o0(eo,t)}var Xw={value:()=>{}};function Gl(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Za(n)}function Za(t){this._=t}function jw(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Za.prototype=Gl.prototype={constructor:Za,on:function(t,e){var n=this._,i=jw(t+"",n),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(t=i[a]).type)&&(o=Kw(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(o=(t=i[a]).type)n[o]=ad(n[o],t.name,e);else if(e==null)for(o in n)n[o]=ad(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Za(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,o=a.length;i<o;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,n)}};function Kw(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function ad(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=Xw,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Yf="http://www.w3.org/1999/xhtml";const hr={svg:"http://www.w3.org/2000/svg",xhtml:Yf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Zs(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),hr.hasOwnProperty(e)?{space:hr[e],local:t}:t}function Jw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Yf&&e.documentElement.namespaceURI===Yf?e.createElement(t):e.createElementNS(n,t)}}function Qw(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fs(t){var e=Zs(t);return(e.local?Qw:Jw)(e)}function t2(){}function Xl(t){return t==null?t2:function(){return this.querySelector(t)}}function e2(t){typeof t!="function"&&(t=Xl(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,l=i[o]=new Array(u),c,h,d=0;d<u;++d)(c=a[d])&&(h=t.call(c,c.__data__,d,a))&&("__data__"in c&&(h.__data__=c.__data__),l[d]=h);return new Se(i,this._parents)}function n2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function i2(){return[]}function s0(t){return t==null?i2:function(){return this.querySelectorAll(t)}}function r2(t){return function(){return n2(t.apply(this,arguments))}}function o2(t){typeof t=="function"?t=r2(t):t=s0(t);for(var e=this._groups,n=e.length,i=[],o=[],a=0;a<n;++a)for(var u=e[a],l=u.length,c,h=0;h<l;++h)(c=u[h])&&(i.push(t.call(c,c.__data__,h,u)),o.push(c));return new Se(i,o)}function u0(t){return function(){return this.matches(t)}}function f0(t){return function(e){return e.matches(t)}}var a2=Array.prototype.find;function s2(t){return function(){return a2.call(this.children,t)}}function u2(){return this.firstElementChild}function f2(t){return this.select(t==null?u2:s2(typeof t=="function"?t:f0(t)))}var l2=Array.prototype.filter;function c2(){return Array.from(this.children)}function h2(t){return function(){return l2.call(this.children,t)}}function d2(t){return this.selectAll(t==null?c2:h2(typeof t=="function"?t:f0(t)))}function p2(t){typeof t!="function"&&(t=u0(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,l=i[o]=[],c,h=0;h<u;++h)(c=a[h])&&t.call(c,c.__data__,h,a)&&l.push(c);return new Se(i,this._parents)}function l0(t){return new Array(t.length)}function m2(){return new Se(this._enter||this._groups.map(l0),this._parents)}function ts(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ts.prototype={constructor:ts,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function g2(t){return function(){return t}}function _2(t,e,n,i,o,a){for(var u=0,l,c=e.length,h=a.length;u<h;++u)(l=e[u])?(l.__data__=a[u],i[u]=l):n[u]=new ts(t,a[u]);for(;u<c;++u)(l=e[u])&&(o[u]=l)}function y2(t,e,n,i,o,a,u){var l,c,h=new Map,d=e.length,m=a.length,g=new Array(d),_;for(l=0;l<d;++l)(c=e[l])&&(g[l]=_=u.call(c,c.__data__,l,e)+"",h.has(_)?o[l]=c:h.set(_,c));for(l=0;l<m;++l)_=u.call(t,a[l],l,a)+"",(c=h.get(_))?(i[l]=c,c.__data__=a[l],h.delete(_)):n[l]=new ts(t,a[l]);for(l=0;l<d;++l)(c=e[l])&&h.get(g[l])===c&&(o[l]=c)}function v2(t){return t.__data__}function b2(t,e){if(!arguments.length)return Array.from(this,v2);var n=e?y2:_2,i=this._parents,o=this._groups;typeof t!="function"&&(t=g2(t));for(var a=o.length,u=new Array(a),l=new Array(a),c=new Array(a),h=0;h<a;++h){var d=i[h],m=o[h],g=m.length,_=w2(t.call(d,d&&d.__data__,h,i)),v=_.length,b=l[h]=new Array(v),w=u[h]=new Array(v),S=c[h]=new Array(g);n(d,m,b,w,S,_,e);for(var M=0,P=0,T,k;M<v;++M)if(T=b[M]){for(M>=P&&(P=M+1);!(k=w[P])&&++P<v;);T._next=k||null}}return u=new Se(u,i),u._enter=l,u._exit=c,u}function w2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function x2(){return new Se(this._exit||this._groups.map(l0),this._parents)}function M2(t,e,n){var i=this.enter(),o=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function T2(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,a=i.length,u=Math.min(o,a),l=new Array(o),c=0;c<u;++c)for(var h=n[c],d=i[c],m=h.length,g=l[c]=new Array(m),_,v=0;v<m;++v)(_=h[v]||d[v])&&(g[v]=_);for(;c<o;++c)l[c]=n[c];return new Se(l,this._parents)}function L2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function S2(t){t||(t=P2);function e(m,g){return m&&g?t(m.__data__,g.__data__):!m-!g}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var u=n[a],l=u.length,c=o[a]=new Array(l),h,d=0;d<l;++d)(h=u[d])&&(c[d]=h);c.sort(e)}return new Se(o,this._parents).order()}function P2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function k2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function C2(){return Array.from(this)}function A2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function E2(){let t=0;for(const e of this)++t;return t}function $2(){return!this.node()}function z2(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],a=0,u=o.length,l;a<u;++a)(l=o[a])&&t.call(l,l.__data__,a,o);return this}function N2(t){return function(){this.removeAttribute(t)}}function O2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function I2(t,e){return function(){this.setAttribute(t,e)}}function D2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function B2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function R2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Z2(t,e){var n=Zs(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?O2:N2:typeof e=="function"?n.local?R2:B2:n.local?D2:I2)(n,e))}function c0(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function F2(t){return function(){this.style.removeProperty(t)}}function U2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function H2(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function W2(t,e,n){return arguments.length>1?this.each((e==null?F2:typeof e=="function"?H2:U2)(t,e,n??"")):dr(this.node(),t)}function dr(t,e){return t.style.getPropertyValue(e)||c0(t).getComputedStyle(t,null).getPropertyValue(e)}function q2(t){return function(){delete this[t]}}function Y2(t,e){return function(){this[t]=e}}function V2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function G2(t,e){return arguments.length>1?this.each((e==null?q2:typeof e=="function"?V2:Y2)(t,e)):this.node()[t]}function h0(t){return t.trim().split(/^|\s+/)}function jl(t){return t.classList||new d0(t)}function d0(t){this._node=t,this._names=h0(t.getAttribute("class")||"")}d0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function p0(t,e){for(var n=jl(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function m0(t,e){for(var n=jl(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function X2(t){return function(){p0(this,t)}}function j2(t){return function(){m0(this,t)}}function K2(t,e){return function(){(e.apply(this,arguments)?p0:m0)(this,t)}}function J2(t,e){var n=h0(t+"");if(arguments.length<2){for(var i=jl(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?K2:e?X2:j2)(n,e))}function Q2(){this.textContent=""}function tx(t){return function(){this.textContent=t}}function ex(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function nx(t){return arguments.length?this.each(t==null?Q2:(typeof t=="function"?ex:tx)(t)):this.node().textContent}function ix(){this.innerHTML=""}function rx(t){return function(){this.innerHTML=t}}function ox(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ax(t){return arguments.length?this.each(t==null?ix:(typeof t=="function"?ox:rx)(t)):this.node().innerHTML}function sx(){this.nextSibling&&this.parentNode.appendChild(this)}function ux(){return this.each(sx)}function fx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lx(){return this.each(fx)}function cx(t){var e=typeof t=="function"?t:Fs(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function hx(){return null}function dx(t,e){var n=typeof t=="function"?t:Fs(t),i=e==null?hx:typeof e=="function"?e:Xl(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function px(){var t=this.parentNode;t&&t.removeChild(this)}function mx(){return this.each(px)}function gx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _x(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yx(t){return this.select(t?_x:gx)}function vx(t){return arguments.length?this.property("__data__",t):this.node().__data__}function bx(t){return function(e){t.call(this,e,this.__data__)}}function wx(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function xx(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,a;n<o;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function Mx(t,e,n){return function(){var i=this.__on,o,a=bx(e);if(i){for(var u=0,l=i.length;u<l;++u)if((o=i[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=e;return}}this.addEventListener(t.type,a,n),o={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(o):this.__on=[o]}}function Tx(t,e,n){var i=wx(t+""),o,a=i.length,u;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,h=l.length,d;c<h;++c)for(o=0,d=l[c];o<a;++o)if((u=i[o]).type===d.type&&u.name===d.name)return d.value}return}for(l=e?Mx:xx,o=0;o<a;++o)this.each(l(i[o],e,n));return this}function g0(t,e,n){var i=c0(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Lx(t,e){return function(){return g0(this,t,e)}}function Sx(t,e){return function(){return g0(this,t,e.apply(this,arguments))}}function Px(t,e){return this.each((typeof e=="function"?Sx:Lx)(t,e))}function*kx(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var _0=[null];function Se(t,e){this._groups=t,this._parents=e}function Bo(){return new Se([[document.documentElement]],_0)}function Cx(){return this}Se.prototype=Bo.prototype={constructor:Se,select:e2,selectAll:o2,selectChild:f2,selectChildren:d2,filter:p2,data:b2,enter:m2,exit:x2,join:M2,merge:T2,selection:Cx,order:L2,sort:S2,call:k2,nodes:C2,node:A2,size:E2,empty:$2,each:z2,attr:Z2,style:W2,property:G2,classed:J2,text:nx,html:ax,raise:ux,lower:lx,append:cx,insert:dx,remove:mx,clone:yx,datum:vx,on:Tx,dispatch:Px,[Symbol.iterator]:kx};function xe(t){return typeof t=="string"?new Se([[document.querySelector(t)]],[document.documentElement]):new Se([[t]],_0)}function Ax(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Vf(t,e){if(t=Ax(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Gf={capture:!0,passive:!1};function Xf(t){t.preventDefault(),t.stopImmediatePropagation()}function Ex(t){var e=t.document.documentElement,n=xe(t).on("dragstart.drag",Xf,Gf);"onselectstart"in e?n.on("selectstart.drag",Xf,Gf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function $x(t,e){var n=t.document.documentElement,i=xe(t).on("dragstart.drag",null);e&&(i.on("click.drag",Xf,Gf),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Pr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ro(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Qn(){}var Li=.7,pr=1/Li,sr="\\s*([+-]?\\d+)\\s*",bo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zx=/^#([0-9a-f]{3,8})$/,Nx=new RegExp(`^rgb\\(${sr},${sr},${sr}\\)$`),Ox=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),Ix=new RegExp(`^rgba\\(${sr},${sr},${sr},${bo}\\)$`),Dx=new RegExp(`^rgba\\(${gn},${gn},${gn},${bo}\\)$`),Bx=new RegExp(`^hsl\\(${bo},${gn},${gn}\\)$`),Rx=new RegExp(`^hsla\\(${bo},${gn},${gn},${bo}\\)$`),sd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pr(Qn,Si,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ud,formatHex:ud,formatHex8:Zx,formatHsl:Fx,formatRgb:fd,toString:fd});function ud(){return this.rgb().formatHex()}function Zx(){return this.rgb().formatHex8()}function Fx(){return y0(this).formatHsl()}function fd(){return this.rgb().formatRgb()}function Si(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ld(e):n===3?new ee(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nx.exec(t))?new ee(e[1],e[2],e[3],1):(e=Ox.exec(t))?new ee(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ix.exec(t))?ba(e[1],e[2],e[3],e[4]):(e=Dx.exec(t))?ba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Bx.exec(t))?dd(e[1],e[2]/100,e[3]/100,1):(e=Rx.exec(t))?dd(e[1],e[2]/100,e[3]/100,e[4]):sd.hasOwnProperty(t)?ld(sd[t]):t==="transparent"?new ee(NaN,NaN,NaN,0):null}function ld(t){return new ee(t>>16&255,t>>8&255,t&255,1)}function ba(t,e,n,i){return i<=0&&(t=e=n=NaN),new ee(t,e,n,i)}function Kl(t){return t instanceof Qn||(t=Si(t)),t?(t=t.rgb(),new ee(t.r,t.g,t.b,t.opacity)):new ee}function Kn(t,e,n,i){return arguments.length===1?Kl(t):new ee(t,e,n,i??1)}function ee(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Pr(ee,Kn,Ro(Qn,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new ee(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Li:Math.pow(Li,t),new ee(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ee(_i(this.r),_i(this.g),_i(this.b),es(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cd,formatHex:cd,formatHex8:Ux,formatRgb:hd,toString:hd}));function cd(){return`#${di(this.r)}${di(this.g)}${di(this.b)}`}function Ux(){return`#${di(this.r)}${di(this.g)}${di(this.b)}${di((isNaN(this.opacity)?1:this.opacity)*255)}`}function hd(){const t=es(this.opacity);return`${t===1?"rgb(":"rgba("}${_i(this.r)}, ${_i(this.g)}, ${_i(this.b)}${t===1?")":`, ${t})`}`}function es(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _i(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function di(t){return t=_i(t),(t<16?"0":"")+t.toString(16)}function dd(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new je(t,e,n,i)}function y0(t){if(t instanceof je)return new je(t.h,t.s,t.l,t.opacity);if(t instanceof Qn||(t=Si(t)),!t)return new je;if(t instanceof je)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),u=NaN,l=a-o,c=(a+o)/2;return l?(e===a?u=(n-i)/l+(n<i)*6:n===a?u=(i-e)/l+2:u=(e-n)/l+4,l/=c<.5?a+o:2-a-o,u*=60):l=c>0&&c<1?0:u,new je(u,l,c,t.opacity)}function jf(t,e,n,i){return arguments.length===1?y0(t):new je(t,e,n,i??1)}function je(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Pr(je,jf,Ro(Qn,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new je(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Li:Math.pow(Li,t),new je(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new ee(ju(t>=240?t-240:t+120,o,i),ju(t,o,i),ju(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new je(pd(this.h),wa(this.s),wa(this.l),es(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=es(this.opacity);return`${t===1?"hsl(":"hsla("}${pd(this.h)}, ${wa(this.s)*100}%, ${wa(this.l)*100}%${t===1?")":`, ${t})`}`}}));function pd(t){return t=(t||0)%360,t<0?t+360:t}function wa(t){return Math.max(0,Math.min(1,t||0))}function ju(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const v0=Math.PI/180,b0=180/Math.PI,ns=18,w0=.96422,x0=1,M0=.82521,T0=4/29,ur=6/29,L0=3*ur*ur,Hx=ur*ur*ur;function S0(t){if(t instanceof _n)return new _n(t.l,t.a,t.b,t.opacity);if(t instanceof zn)return P0(t);t instanceof ee||(t=Kl(t));var e=tf(t.r),n=tf(t.g),i=tf(t.b),o=Ku((.2225045*e+.7168786*n+.0606169*i)/x0),a,u;return e===n&&n===i?a=u=o:(a=Ku((.4360747*e+.3850649*n+.1430804*i)/w0),u=Ku((.0139322*e+.0971045*n+.7141733*i)/M0)),new _n(116*o-16,500*(a-o),200*(o-u),t.opacity)}function Kf(t,e,n,i){return arguments.length===1?S0(t):new _n(t,e,n,i??1)}function _n(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}Pr(_n,Kf,Ro(Qn,{brighter(t){return new _n(this.l+ns*(t??1),this.a,this.b,this.opacity)},darker(t){return new _n(this.l-ns*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=w0*Ju(e),t=x0*Ju(t),n=M0*Ju(n),new ee(Qu(3.1338561*e-1.6168667*t-.4906146*n),Qu(-.9787684*e+1.9161415*t+.033454*n),Qu(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Ku(t){return t>Hx?Math.pow(t,1/3):t/L0+T0}function Ju(t){return t>ur?t*t*t:L0*(t-T0)}function Qu(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function tf(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Wx(t){if(t instanceof zn)return new zn(t.h,t.c,t.l,t.opacity);if(t instanceof _n||(t=S0(t)),t.a===0&&t.b===0)return new zn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*b0;return new zn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Jf(t,e,n,i){return arguments.length===1?Wx(t):new zn(t,e,n,i??1)}function zn(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function P0(t){if(isNaN(t.h))return new _n(t.l,0,0,t.opacity);var e=t.h*v0;return new _n(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Pr(zn,Jf,Ro(Qn,{brighter(t){return new zn(this.h,this.c,this.l+ns*(t??1),this.opacity)},darker(t){return new zn(this.h,this.c,this.l-ns*(t??1),this.opacity)},rgb(){return P0(this).rgb()}}));var k0=-.14861,Jl=1.78277,Ql=-.29227,Us=-.90649,wo=1.97294,md=wo*Us,gd=wo*Jl,_d=Jl*Ql-Us*k0;function qx(t){if(t instanceof yi)return new yi(t.h,t.s,t.l,t.opacity);t instanceof ee||(t=Kl(t));var e=t.r/255,n=t.g/255,i=t.b/255,o=(_d*i+md*e-gd*n)/(_d+md-gd),a=i-o,u=(wo*(n-o)-Ql*a)/Us,l=Math.sqrt(u*u+a*a)/(wo*o*(1-o)),c=l?Math.atan2(u,a)*b0-120:NaN;return new yi(c<0?c+360:c,l,o,t.opacity)}function yn(t,e,n,i){return arguments.length===1?qx(t):new yi(t,e,n,i??1)}function yi(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Pr(yi,yn,Ro(Qn,{brighter(t){return t=t==null?pr:Math.pow(pr,t),new yi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Li:Math.pow(Li,t),new yi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*v0,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),o=Math.sin(t);return new ee(255*(e+n*(k0*i+Jl*o)),255*(e+n*(Ql*i+Us*o)),255*(e+n*(wo*i)),this.opacity)}}));function Yx(t,e,n,i,o){var a=t*t,u=a*t;return((1-3*t+3*a-u)*e+(4-6*a+3*u)*n+(1+3*t+3*a-3*u)*i+u*o)/6}function Vx(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,l=i<e-1?t[i+2]:2*a-o;return Yx((n-i/e)*e,u,o,a,l)}}const Hs=t=>()=>t;function C0(t,e){return function(n){return t+n*e}}function Gx(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function tc(t,e){var n=e-t;return n?C0(t,n>180||n<-180?n-360*Math.round(n/360):n):Hs(isNaN(t)?e:t)}function Xx(t){return(t=+t)==1?ce:function(e,n){return n-e?Gx(e,n,t):Hs(isNaN(e)?n:e)}}function ce(t,e){var n=e-t;return n?C0(t,n):Hs(isNaN(t)?e:t)}const Pi=function t(e){var n=Xx(e);function i(o,a){var u=n((o=Kn(o)).r,(a=Kn(a)).r),l=n(o.g,a.g),c=n(o.b,a.b),h=ce(o.opacity,a.opacity);return function(d){return o.r=u(d),o.g=l(d),o.b=c(d),o.opacity=h(d),o+""}}return i.gamma=t,i}(1);function jx(t){return function(e){var n=e.length,i=new Array(n),o=new Array(n),a=new Array(n),u,l;for(u=0;u<n;++u)l=Kn(e[u]),i[u]=l.r||0,o[u]=l.g||0,a[u]=l.b||0;return i=t(i),o=t(o),a=t(a),l.opacity=1,function(c){return l.r=i(c),l.g=o(c),l.b=a(c),l+""}}}var Kx=jx(Vx);function Jx(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<n;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function Qx(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function t6(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n),u;for(u=0;u<i;++u)o[u]=kr(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(l){for(u=0;u<i;++u)a[u]=o[u](l);return a}}function e6(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function ue(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function n6(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=kr(t[o],e[o]):i[o]=e[o];return function(a){for(o in n)i[o]=n[o](a);return i}}var Qf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ef=new RegExp(Qf.source,"g");function i6(t){return function(){return t}}function r6(t){return function(e){return t(e)+""}}function A0(t,e){var n=Qf.lastIndex=ef.lastIndex=0,i,o,a,u=-1,l=[],c=[];for(t=t+"",e=e+"";(i=Qf.exec(t))&&(o=ef.exec(e));)(a=o.index)>n&&(a=e.slice(n,a),l[u]?l[u]+=a:l[++u]=a),(i=i[0])===(o=o[0])?l[u]?l[u]+=o:l[++u]=o:(l[++u]=null,c.push({i:u,x:ue(i,o)})),n=ef.lastIndex;return n<e.length&&(a=e.slice(n),l[u]?l[u]+=a:l[++u]=a),l.length<2?c[0]?r6(c[0].x):i6(e):(e=c.length,function(h){for(var d=0,m;d<e;++d)l[(m=c[d]).i]=m.x(h);return l.join("")})}function kr(t,e){var n=typeof e,i;return e==null||n==="boolean"?Hs(e):(n==="number"?ue:n==="string"?(i=Si(e))?(e=i,Pi):A0:e instanceof Si?Pi:e instanceof Date?e6:Qx(e)?Jx:Array.isArray(e)?t6:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?n6:ue)(t,e)}function ec(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var yd=180/Math.PI,tl={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function E0(t,e,n,i,o,a){var u,l,c;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(c=t*n+e*i)&&(n-=t*c,i-=e*c),(l=Math.sqrt(n*n+i*i))&&(n/=l,i/=l,c/=l),t*i<e*n&&(t=-t,e=-e,c=-c,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*yd,skewX:Math.atan(c)*yd,scaleX:u,scaleY:l}}var xa;function o6(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?tl:E0(e.a,e.b,e.c,e.d,e.e,e.f)}function a6(t){return t==null||(xa||(xa=document.createElementNS("http://www.w3.org/2000/svg","g")),xa.setAttribute("transform",t),!(t=xa.transform.baseVal.consolidate()))?tl:(t=t.matrix,E0(t.a,t.b,t.c,t.d,t.e,t.f))}function $0(t,e,n,i){function o(h){return h.length?h.pop()+" ":""}function a(h,d,m,g,_,v){if(h!==m||d!==g){var b=_.push("translate(",null,e,null,n);v.push({i:b-4,x:ue(h,m)},{i:b-2,x:ue(d,g)})}else(m||g)&&_.push("translate("+m+e+g+n)}function u(h,d,m,g){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),g.push({i:m.push(o(m)+"rotate(",null,i)-2,x:ue(h,d)})):d&&m.push(o(m)+"rotate("+d+i)}function l(h,d,m,g){h!==d?g.push({i:m.push(o(m)+"skewX(",null,i)-2,x:ue(h,d)}):d&&m.push(o(m)+"skewX("+d+i)}function c(h,d,m,g,_,v){if(h!==m||d!==g){var b=_.push(o(_)+"scale(",null,",",null,")");v.push({i:b-4,x:ue(h,m)},{i:b-2,x:ue(d,g)})}else(m!==1||g!==1)&&_.push(o(_)+"scale("+m+","+g+")")}return function(h,d){var m=[],g=[];return h=t(h),d=t(d),a(h.translateX,h.translateY,d.translateX,d.translateY,m,g),u(h.rotate,d.rotate,m,g),l(h.skewX,d.skewX,m,g),c(h.scaleX,h.scaleY,d.scaleX,d.scaleY,m,g),h=d=null,function(_){for(var v=-1,b=g.length,w;++v<b;)m[(w=g[v]).i]=w.x(_);return m.join("")}}}var s6=$0(o6,"px, ","px)","deg)"),u6=$0(a6,", ",")",")");function f6(t){return function(e,n){var i=t((e=jf(e)).h,(n=jf(n)).h),o=ce(e.s,n.s),a=ce(e.l,n.l),u=ce(e.opacity,n.opacity);return function(l){return e.h=i(l),e.s=o(l),e.l=a(l),e.opacity=u(l),e+""}}}const l6=f6(tc);function c6(t,e){var n=ce((t=Kf(t)).l,(e=Kf(e)).l),i=ce(t.a,e.a),o=ce(t.b,e.b),a=ce(t.opacity,e.opacity);return function(u){return t.l=n(u),t.a=i(u),t.b=o(u),t.opacity=a(u),t+""}}function h6(t){return function(e,n){var i=t((e=Jf(e)).h,(n=Jf(n)).h),o=ce(e.c,n.c),a=ce(e.l,n.l),u=ce(e.opacity,n.opacity);return function(l){return e.h=i(l),e.c=o(l),e.l=a(l),e.opacity=u(l),e+""}}}const d6=h6(tc);function z0(t){return function e(n){n=+n;function i(o,a){var u=t((o=yn(o)).h,(a=yn(a)).h),l=ce(o.s,a.s),c=ce(o.l,a.l),h=ce(o.opacity,a.opacity);return function(d){return o.h=u(d),o.s=l(d),o.l=c(Math.pow(d,n)),o.opacity=h(d),o+""}}return i.gamma=e,i}(1)}z0(tc);var nc=z0(ce);function Ws(t,e){e===void 0&&(e=t,t=kr);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return function(u){var l=Math.max(0,Math.min(i-1,Math.floor(u*=i)));return a[l](u-l)}}function Qe(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}var mr=0,no=0,Xr=0,N0=1e3,is,io,rs=0,ki=0,qs=0,xo=typeof performance=="object"&&performance.now?performance:Date,O0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ic(){return ki||(O0(p6),ki=xo.now()+qs)}function p6(){ki=0}function os(){this._call=this._time=this._next=null}os.prototype=I0.prototype={constructor:os,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?ic():+n)+(e==null?0:+e),!this._next&&io!==this&&(io?io._next=this:is=this,io=this),this._call=t,this._time=n,el()},stop:function(){this._call&&(this._call=null,this._time=1/0,el())}};function I0(t,e,n){var i=new os;return i.restart(t,e,n),i}function m6(){ic(),++mr;for(var t=is,e;t;)(e=ki-t._time)>=0&&t._call.call(void 0,e),t=t._next;--mr}function vd(){ki=(rs=xo.now())+qs,mr=no=0;try{m6()}finally{mr=0,_6(),ki=0}}function g6(){var t=xo.now(),e=t-rs;e>N0&&(qs-=e,rs=t)}function _6(){for(var t,e=is,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:is=n);io=t,el(i)}function el(t){if(!mr){no&&(no=clearTimeout(no));var e=t-ki;e>24?(t<1/0&&(no=setTimeout(vd,t-xo.now()-qs)),Xr&&(Xr=clearInterval(Xr))):(Xr||(rs=xo.now(),Xr=setInterval(g6,N0)),mr=1,O0(vd))}}function bd(t,e,n){var i=new os;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var y6=Gl("start","end","cancel","interrupt"),v6=[],D0=0,wd=1,nl=2,Fa=3,xd=4,il=5,Ua=6;function Ys(t,e,n,i,o,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;b6(t,n,{name:e,index:i,group:o,on:y6,tween:v6,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:D0})}function rc(t,e){var n=rn(t,e);if(n.state>D0)throw new Error("too late; already scheduled");return n}function vn(t,e){var n=rn(t,e);if(n.state>Fa)throw new Error("too late; already running");return n}function rn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function b6(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=I0(a,0,n.time);function a(h){n.state=wd,n.timer.restart(u,n.delay,n.time),n.delay<=h&&u(h-n.delay)}function u(h){var d,m,g,_;if(n.state!==wd)return c();for(d in i)if(_=i[d],_.name===n.name){if(_.state===Fa)return bd(u);_.state===xd?(_.state=Ua,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[d]):+d<e&&(_.state=Ua,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[d])}if(bd(function(){n.state===Fa&&(n.state=xd,n.timer.restart(l,n.delay,n.time),l(h))}),n.state=nl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===nl){for(n.state=Fa,o=new Array(g=n.tween.length),d=0,m=-1;d<g;++d)(_=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(o[++m]=_);o.length=m+1}}function l(h){for(var d=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(c),n.state=il,1),m=-1,g=o.length;++m<g;)o[m].call(t,d);n.state===il&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Ua,n.timer.stop(),delete i[e];for(var h in i)return;delete t.__transition}}function rl(t,e){var n=t.__transition,i,o,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){a=!1;continue}o=i.state>nl&&i.state<il,i.state=Ua,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}a&&delete t.__transition}}function w6(t){return this.each(function(){rl(this,t)})}function x6(t,e){var n,i;return function(){var o=vn(this,t),a=o.tween;if(a!==n){i=n=a;for(var u=0,l=i.length;u<l;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function M6(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=vn(this,t),u=a.tween;if(u!==i){o=(i=u).slice();for(var l={name:e,value:n},c=0,h=o.length;c<h;++c)if(o[c].name===e){o[c]=l;break}c===h&&o.push(l)}a.tween=o}}function T6(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=rn(this.node(),n).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===t)return u.value;return null}return this.each((e==null?x6:M6)(n,t,e))}function oc(t,e,n){var i=t._id;return t.each(function(){var o=vn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return rn(o,i).value[e]}}function B0(t,e){var n;return(typeof e=="number"?ue:e instanceof Si?Pi:(n=Si(e))?(e=n,Pi):A0)(t,e)}function L6(t){return function(){this.removeAttribute(t)}}function S6(t){return function(){this.removeAttributeNS(t.space,t.local)}}function P6(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttribute(t);return u===o?null:u===i?a:a=e(i=u,n)}}function k6(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===i?a:a=e(i=u,n)}}function C6(t,e,n){var i,o,a;return function(){var u,l=n(this),c;return l==null?void this.removeAttribute(t):(u=this.getAttribute(t),c=l+"",u===c?null:u===i&&c===o?a:(o=c,a=e(i=u,l)))}}function A6(t,e,n){var i,o,a;return function(){var u,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),c=l+"",u===c?null:u===i&&c===o?a:(o=c,a=e(i=u,l)))}}function E6(t,e){var n=Zs(t),i=n==="transform"?u6:B0;return this.attrTween(t,typeof e=="function"?(n.local?A6:C6)(n,i,oc(this,"attr."+t,e)):e==null?(n.local?S6:L6)(n):(n.local?k6:P6)(n,i,e))}function $6(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function z6(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function N6(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&z6(t,a)),n}return o._value=e,o}function O6(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&$6(t,a)),n}return o._value=e,o}function I6(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Zs(t);return this.tween(n,(i.local?N6:O6)(i,e))}function D6(t,e){return function(){rc(this,t).delay=+e.apply(this,arguments)}}function B6(t,e){return e=+e,function(){rc(this,t).delay=e}}function R6(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?D6:B6)(e,t)):rn(this.node(),e).delay}function Z6(t,e){return function(){vn(this,t).duration=+e.apply(this,arguments)}}function F6(t,e){return e=+e,function(){vn(this,t).duration=e}}function U6(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Z6:F6)(e,t)):rn(this.node(),e).duration}function H6(t,e){if(typeof e!="function")throw new Error;return function(){vn(this,t).ease=e}}function W6(t){var e=this._id;return arguments.length?this.each(H6(e,t)):rn(this.node(),e).ease}function q6(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vn(this,t).ease=n}}function Y6(t){if(typeof t!="function")throw new Error;return this.each(q6(this._id,t))}function V6(t){typeof t!="function"&&(t=u0(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,l=i[o]=[],c,h=0;h<u;++h)(c=a[h])&&t.call(c,c.__data__,h,a)&&l.push(c);return new Bn(i,this._parents,this._name,this._id)}function G6(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var c=e[l],h=n[l],d=c.length,m=u[l]=new Array(d),g,_=0;_<d;++_)(g=c[_]||h[_])&&(m[_]=g);for(;l<i;++l)u[l]=e[l];return new Bn(u,this._parents,this._name,this._id)}function X6(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function j6(t,e,n){var i,o,a=X6(e)?rc:vn;return function(){var u=a(this,t),l=u.on;l!==i&&(o=(i=l).copy()).on(e,n),u.on=o}}function K6(t,e){var n=this._id;return arguments.length<2?rn(this.node(),n).on.on(t):this.each(j6(n,t,e))}function J6(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Q6(){return this.on("end.remove",J6(this._id))}function t5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Xl(t));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var l=i[u],c=l.length,h=a[u]=new Array(c),d,m,g=0;g<c;++g)(d=l[g])&&(m=t.call(d,d.__data__,g,l))&&("__data__"in d&&(m.__data__=d.__data__),h[g]=m,Ys(h[g],e,n,g,h,rn(d,n)));return new Bn(a,this._parents,e,n)}function e5(t){var e=this._name,n=this._id;typeof t!="function"&&(t=s0(t));for(var i=this._groups,o=i.length,a=[],u=[],l=0;l<o;++l)for(var c=i[l],h=c.length,d,m=0;m<h;++m)if(d=c[m]){for(var g=t.call(d,d.__data__,m,c),_,v=rn(d,n),b=0,w=g.length;b<w;++b)(_=g[b])&&Ys(_,e,n,b,g,v);a.push(g),u.push(d)}return new Bn(a,u,e,n)}var n5=Bo.prototype.constructor;function i5(){return new n5(this._groups,this._parents)}function r5(t,e){var n,i,o;return function(){var a=dr(this,t),u=(this.style.removeProperty(t),dr(this,t));return a===u?null:a===n&&u===i?o:o=e(n=a,i=u)}}function R0(t){return function(){this.style.removeProperty(t)}}function o5(t,e,n){var i,o=n+"",a;return function(){var u=dr(this,t);return u===o?null:u===i?a:a=e(i=u,n)}}function a5(t,e,n){var i,o,a;return function(){var u=dr(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),dr(this,t))),u===c?null:u===i&&c===o?a:(o=c,a=e(i=u,l))}}function s5(t,e){var n,i,o,a="style."+e,u="end."+a,l;return function(){var c=vn(this,t),h=c.on,d=c.value[a]==null?l||(l=R0(e)):void 0;(h!==n||o!==d)&&(i=(n=h).copy()).on(u,o=d),c.on=i}}function u5(t,e,n){var i=(t+="")=="transform"?s6:B0;return e==null?this.styleTween(t,r5(t,i)).on("end.style."+t,R0(t)):typeof e=="function"?this.styleTween(t,a5(t,i,oc(this,"style."+t,e))).each(s5(this._id,t)):this.styleTween(t,o5(t,i,e),n).on("end.style."+t,null)}function f5(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function l5(t,e,n){var i,o;function a(){var u=e.apply(this,arguments);return u!==o&&(i=(o=u)&&f5(t,u,n)),i}return a._value=e,a}function c5(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,l5(t,e,n??""))}function h5(t){return function(){this.textContent=t}}function d5(t){return function(){var e=t(this);this.textContent=e??""}}function p5(t){return this.tween("text",typeof t=="function"?d5(oc(this,"text",t)):h5(t==null?"":t+""))}function m5(t){return function(e){this.textContent=t.call(this,e)}}function g5(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&m5(o)),e}return i._value=t,i}function _5(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,g5(t))}function y5(){for(var t=this._name,e=this._id,n=Z0(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],l=u.length,c,h=0;h<l;++h)if(c=u[h]){var d=rn(c,e);Ys(c,t,n,h,u,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Bn(i,this._parents,t,n)}function v5(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(a,u){var l={value:u},c={value:function(){--o===0&&a()}};n.each(function(){var h=vn(this,i),d=h.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),h.on=e}),o===0&&a()})}var b5=0;function Bn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function Z0(){return++b5}var Sn=Bo.prototype;Bn.prototype={constructor:Bn,select:t5,selectAll:e5,selectChild:Sn.selectChild,selectChildren:Sn.selectChildren,filter:V6,merge:G6,selection:i5,transition:y5,call:Sn.call,nodes:Sn.nodes,node:Sn.node,size:Sn.size,empty:Sn.empty,each:Sn.each,on:K6,attr:E6,attrTween:I6,style:u5,styleTween:c5,text:p5,textTween:_5,remove:Q6,tween:T6,delay:R6,duration:U6,ease:W6,easeVarying:Y6,end:v5,[Symbol.iterator]:Sn[Symbol.iterator]};function w5(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var x5={time:null,delay:0,duration:250,ease:w5};function M5(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function T5(t){var e,n;t instanceof Bn?(e=t._id,t=t._name):(e=Z0(),(n=x5).time=ic(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],l=u.length,c,h=0;h<l;++h)(c=u[h])&&Ys(c,t,e,h,u,n||M5(c,e));return new Bn(i,this._parents,t,e)}Bo.prototype.interrupt=w6;Bo.prototype.transition=T5;const nf=t=>()=>t;function L5(t,{sourceEvent:e,target:n,selection:i,mode:o,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function S5(t){t.stopImmediatePropagation()}function rf(t){t.preventDefault(),t.stopImmediatePropagation()}var Md={name:"drag"},of={name:"space"},ji={name:"handle"},Ki={name:"center"};const{abs:Td,max:ae,min:se}=Math;function Ld(t){return[+t[0],+t[1]]}function Sd(t){return[Ld(t[0]),Ld(t[1])]}var Ha={name:"x",handles:["w","e"].map(as),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},af={name:"y",handles:["n","s"].map(as),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Pn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Pd={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},kd={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},P5={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},k5={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function as(t){return{type:t}}function C5(t){return!t.ctrlKey&&!t.button}function A5(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function E5(){return navigator.maxTouchPoints||"ontouchstart"in this}function sf(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function $5(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function z5(){return N5(Ha)}function N5(t){var e=A5,n=C5,i=E5,o=!0,a=Gl("start","brush","end"),u=6,l;function c(w){var S=w.property("__brush",b).selectAll(".overlay").data([as("overlay")]);S.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Pn.overlay).merge(S).each(function(){var P=sf(this).extent;xe(this).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1])}),w.selectAll(".selection").data([as("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Pn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var M=w.selectAll(".handle").data(t.handles,function(P){return P.type});M.exit().remove(),M.enter().append("rect").attr("class",function(P){return"handle handle--"+P.type}).attr("cursor",function(P){return Pn[P.type]}),w.each(h).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(i).on("touchstart.brush",g).on("touchmove.brush",_).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}c.move=function(w,S,M){w.tween?w.on("start.brush",function(P){d(this,arguments).beforestart().start(P)}).on("interrupt.brush end.brush",function(P){d(this,arguments).end(P)}).tween("brush",function(){var P=this,T=P.__brush,k=d(P,arguments),E=T.selection,z=t.input(typeof S=="function"?S.apply(this,arguments):S,T.extent),I=kr(E,z);function B($){T.selection=$===1&&z===null?null:I($),h.call(P),k.brush()}return E!==null&&z!==null?B:B(1)}):w.each(function(){var P=this,T=arguments,k=P.__brush,E=t.input(typeof S=="function"?S.apply(P,T):S,k.extent),z=d(P,T).beforestart();rl(P),k.selection=E===null?null:E,h.call(P),z.start(M).brush(M).end(M)})},c.clear=function(w,S){c.move(w,null,S)};function h(){var w=xe(this),S=sf(this).selection;S?(w.selectAll(".selection").style("display",null).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1]),w.selectAll(".handle").style("display",null).attr("x",function(M){return M.type[M.type.length-1]==="e"?S[1][0]-u/2:S[0][0]-u/2}).attr("y",function(M){return M.type[0]==="s"?S[1][1]-u/2:S[0][1]-u/2}).attr("width",function(M){return M.type==="n"||M.type==="s"?S[1][0]-S[0][0]+u:u}).attr("height",function(M){return M.type==="e"||M.type==="w"?S[1][1]-S[0][1]+u:u})):w.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(w,S,M){var P=w.__brush.emitter;return P&&(!M||!P.clean)?P:new m(w,S,M)}function m(w,S,M){this.that=w,this.args=S,this.state=w.__brush,this.active=0,this.clean=M}m.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(w,S){return this.starting?(this.starting=!1,this.emit("start",w,S)):this.emit("brush",w),this},brush:function(w,S){return this.emit("brush",w,S),this},end:function(w,S){return--this.active===0&&(delete this.state.emitter,this.emit("end",w,S)),this},emit:function(w,S,M){var P=xe(this.that).datum();a.call(w,this.that,new L5(w,{sourceEvent:S,target:c,selection:t.output(this.state.selection),mode:M,dispatch:a}),P)}};function g(w){if(l&&!w.touches||!n.apply(this,arguments))return;var S=this,M=w.target.__data__.type,P=(o&&w.metaKey?M="overlay":M)==="selection"?Md:o&&w.altKey?Ki:ji,T=t===af?null:P5[M],k=t===Ha?null:k5[M],E=sf(S),z=E.extent,I=E.selection,B=z[0][0],$,A,D=z[0][1],U,Z,O=z[1][0],Y,Q,V=z[1][1],tt,F,W=0,X=0,K,ut=T&&k&&o&&w.shiftKey,rt,J,j=Array.from(w.touches||[w],lt=>{const Nt=lt.identifier;return lt=Vf(lt,S),lt.point0=lt.slice(),lt.identifier=Nt,lt});rl(S);var ft=d(S,arguments,!0).beforestart();if(M==="overlay"){I&&(K=!0);const lt=[j[0],j[1]||j[0]];E.selection=I=[[$=t===af?B:se(lt[0][0],lt[1][0]),U=t===Ha?D:se(lt[0][1],lt[1][1])],[Y=t===af?O:ae(lt[0][0],lt[1][0]),tt=t===Ha?V:ae(lt[0][1],lt[1][1])]],j.length>1&&vt(w)}else $=I[0][0],U=I[0][1],Y=I[1][0],tt=I[1][1];A=$,Z=U,Q=Y,F=tt;var q=xe(S).attr("pointer-events","none"),nt=q.selectAll(".overlay").attr("cursor",Pn[M]);if(w.touches)ft.moved=H,ft.ended=pt;else{var st=xe(w.view).on("mousemove.brush",H,!0).on("mouseup.brush",pt,!0);o&&st.on("keydown.brush",At,!0).on("keyup.brush",Et,!0),Ex(w.view)}h.call(S),ft.start(w,P.name);function H(lt){for(const Nt of lt.changedTouches||[lt])for(const an of j)an.identifier===Nt.identifier&&(an.cur=Vf(Nt,S));if(ut&&!rt&&!J&&j.length===1){const Nt=j[0];Td(Nt.cur[0]-Nt[0])>Td(Nt.cur[1]-Nt[1])?J=!0:rt=!0}for(const Nt of j)Nt.cur&&(Nt[0]=Nt.cur[0],Nt[1]=Nt.cur[1]);K=!0,rf(lt),vt(lt)}function vt(lt){const Nt=j[0],an=Nt.point0;var we;switch(W=Nt[0]-an[0],X=Nt[1]-an[1],P){case of:case Md:{T&&(W=ae(B-$,se(O-Y,W)),A=$+W,Q=Y+W),k&&(X=ae(D-U,se(V-tt,X)),Z=U+X,F=tt+X);break}case ji:{j[1]?(T&&(A=ae(B,se(O,j[0][0])),Q=ae(B,se(O,j[1][0])),T=1),k&&(Z=ae(D,se(V,j[0][1])),F=ae(D,se(V,j[1][1])),k=1)):(T<0?(W=ae(B-$,se(O-$,W)),A=$+W,Q=Y):T>0&&(W=ae(B-Y,se(O-Y,W)),A=$,Q=Y+W),k<0?(X=ae(D-U,se(V-U,X)),Z=U+X,F=tt):k>0&&(X=ae(D-tt,se(V-tt,X)),Z=U,F=tt+X));break}case Ki:{T&&(A=ae(B,se(O,$-W*T)),Q=ae(B,se(O,Y+W*T))),k&&(Z=ae(D,se(V,U-X*k)),F=ae(D,se(V,tt+X*k)));break}}Q<A&&(T*=-1,we=$,$=Y,Y=we,we=A,A=Q,Q=we,M in Pd&&nt.attr("cursor",Pn[M=Pd[M]])),F<Z&&(k*=-1,we=U,U=tt,tt=we,we=Z,Z=F,F=we,M in kd&&nt.attr("cursor",Pn[M=kd[M]])),E.selection&&(I=E.selection),rt&&(A=I[0][0],Q=I[1][0]),J&&(Z=I[0][1],F=I[1][1]),(I[0][0]!==A||I[0][1]!==Z||I[1][0]!==Q||I[1][1]!==F)&&(E.selection=[[A,Z],[Q,F]],h.call(S),ft.brush(lt,P.name))}function pt(lt){if(S5(lt),lt.touches){if(lt.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else $x(lt.view,K),st.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);q.attr("pointer-events","all"),nt.attr("cursor",Pn.overlay),E.selection&&(I=E.selection),$5(I)&&(E.selection=null,h.call(S)),ft.end(lt,P.name)}function At(lt){switch(lt.keyCode){case 16:{ut=T&&k;break}case 18:{P===ji&&(T&&(Y=Q-W*T,$=A+W*T),k&&(tt=F-X*k,U=Z+X*k),P=Ki,vt(lt));break}case 32:{(P===ji||P===Ki)&&(T<0?Y=Q-W:T>0&&($=A-W),k<0?tt=F-X:k>0&&(U=Z-X),P=of,nt.attr("cursor",Pn.selection),vt(lt));break}default:return}rf(lt)}function Et(lt){switch(lt.keyCode){case 16:{ut&&(rt=J=ut=!1,vt(lt));break}case 18:{P===Ki&&(T<0?Y=Q:T>0&&($=A),k<0?tt=F:k>0&&(U=Z),P=ji,vt(lt));break}case 32:{P===of&&(lt.altKey?(T&&(Y=Q-W*T,$=A+W*T),k&&(tt=F-X*k,U=Z+X*k),P=Ki):(T<0?Y=Q:T>0&&($=A),k<0?tt=F:k>0&&(U=Z),P=ji),nt.attr("cursor",Pn[M]),vt(lt));break}default:return}rf(lt)}}function _(w){d(this,arguments).moved(w)}function v(w){d(this,arguments).ended(w)}function b(){var w=this.__brush||{selection:null};return w.extent=Sd(e.apply(this,arguments)),w.dim=t,w}return c.extent=function(w){return arguments.length?(e=typeof w=="function"?w:nf(Sd(w)),c):e},c.filter=function(w){return arguments.length?(n=typeof w=="function"?w:nf(!!w),c):n},c.touchable=function(w){return arguments.length?(i=typeof w=="function"?w:nf(!!w),c):i},c.handleSize=function(w){return arguments.length?(u=+w,c):u},c.keyModifiers=function(w){return arguments.length?(o=!!w,c):o},c.on=function(){var w=a.on.apply(a,arguments);return w===a?c:w},c}const ol=Math.PI,al=2*ol,li=1e-6,O5=al-li;function F0(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function I5(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return F0;const n=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class D5{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?F0:I5(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,a,u){this._append`C${+e},${+n},${+i},${+o},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,i,o,a){if(e=+e,n=+n,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,l=this._y1,c=i-e,h=o-n,d=u-e,m=l-n,g=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>li)if(!(Math.abs(m*c-h*d)>li)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=i-u,v=o-l,b=c*c+h*h,w=_*_+v*v,S=Math.sqrt(b),M=Math.sqrt(g),P=a*Math.tan((ol-Math.acos((b+g-w)/(2*S*M)))/2),T=P/M,k=P/S;Math.abs(T-1)>li&&this._append`L${e+T*d},${n+T*m}`,this._append`A${a},${a},0,0,${+(m*_>d*v)},${this._x1=e+k*c},${this._y1=n+k*h}`}}arc(e,n,i,o,a,u){if(e=+e,n=+n,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let l=i*Math.cos(o),c=i*Math.sin(o),h=e+l,d=n+c,m=1^u,g=u?o-a:a-o;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>li||Math.abs(this._y1-d)>li)&&this._append`L${h},${d}`,i&&(g<0&&(g=g%al+al),g>O5?this._append`A${i},${i},0,1,${m},${e-l},${n-c}A${i},${i},0,1,${m},${this._x1=h},${this._y1=d}`:g>li&&this._append`A${i},${i},0,${+(g>=ol)},${m},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function sl(t=3){return new D5(+t)}function B5(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ss(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function gr(t){return t=ss(Math.abs(t)),t?t[1]:NaN}function R5(t,e){return function(n,i){for(var o=n.length,a=[],u=0,l=t[0],c=0;o>0&&l>0&&(c+l+1>i&&(l=Math.max(1,i-c)),a.push(n.substring(o-=l,o+l)),!((c+=l+1)>i));)l=t[u=(u+1)%t.length];return a.reverse().join(e)}}function Z5(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var F5=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mo(t){if(!(e=F5.exec(t)))throw new Error("invalid format: "+t);var e;return new ac({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Mo.prototype=ac.prototype;function ac(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ac.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function U5(t){t:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var U0;function H5(t,e){var n=ss(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(U0=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+ss(t,Math.max(0,e+a-1))[0]}function Cd(t,e){var n=ss(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const Ad={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:B5,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Cd(t*100,e),r:Cd,s:H5,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ed(t){return t}var $d=Array.prototype.map,zd=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function W5(t){var e=t.grouping===void 0||t.thousands===void 0?Ed:R5($d.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Ed:Z5($d.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function h(m){m=Mo(m);var g=m.fill,_=m.align,v=m.sign,b=m.symbol,w=m.zero,S=m.width,M=m.comma,P=m.precision,T=m.trim,k=m.type;k==="n"?(M=!0,k="g"):Ad[k]||(P===void 0&&(P=12),T=!0,k="g"),(w||g==="0"&&_==="=")&&(w=!0,g="0",_="=");var E=b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",z=b==="$"?i:/[%p]/.test(k)?u:"",I=Ad[k],B=/[defgprs%]/.test(k);P=P===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function $(A){var D=E,U=z,Z,O,Y;if(k==="c")U=I(A)+U,A="";else{A=+A;var Q=A<0||1/A<0;if(A=isNaN(A)?c:I(Math.abs(A),P),T&&(A=U5(A)),Q&&+A==0&&v!=="+"&&(Q=!1),D=(Q?v==="("?v:l:v==="-"||v==="("?"":v)+D,U=(k==="s"?zd[8+U0/3]:"")+U+(Q&&v==="("?")":""),B){for(Z=-1,O=A.length;++Z<O;)if(Y=A.charCodeAt(Z),48>Y||Y>57){U=(Y===46?o+A.slice(Z+1):A.slice(Z))+U,A=A.slice(0,Z);break}}}M&&!w&&(A=e(A,1/0));var V=D.length+A.length+U.length,tt=V<S?new Array(S-V+1).join(g):"";switch(M&&w&&(A=e(tt+A,tt.length?S-U.length:1/0),tt=""),_){case"<":A=D+A+U+tt;break;case"=":A=D+tt+A+U;break;case"^":A=tt.slice(0,V=tt.length>>1)+D+A+U+tt.slice(V);break;default:A=tt+D+A+U;break}return a(A)}return $.toString=function(){return m+""},$}function d(m,g){var _=h((m=Mo(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(gr(g)/3)))*3,b=Math.pow(10,-v),w=zd[8+v/3];return function(S){return _(b*S)+w}}return{format:h,formatPrefix:d}}var Ma,Oe,H0;q5({thousands:",",grouping:[3],currency:["$",""]});function q5(t){return Ma=W5(t),Oe=Ma.format,H0=Ma.formatPrefix,Ma}function Y5(t){return Math.max(0,-gr(Math.abs(t)))}function V5(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gr(e)/3)))*3-gr(Math.abs(t)))}function G5(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gr(e)-gr(t))+1}var bt=1e-6,W0=1e-12,Lt=Math.PI,Wt=Lt/2,Nd=Lt/4,Pe=Lt*2,de=180/Lt,Ut=Lt/180,Ot=Math.abs,Cr=Math.atan,Rn=Math.atan2,Mt=Math.cos,q0=Math.exp,us=Math.log,uf=Math.pow,yt=Math.sin,De=Math.sign||function(t){return t>0?1:t<0?-1:0},ye=Math.sqrt,sc=Math.tan;function Y0(t){return t>1?0:t<-1?Lt:Math.acos(t)}function Ue(t){return t>1?Wt:t<-1?-Wt:Math.asin(t)}function Be(){}function fs(t,e){t&&Id.hasOwnProperty(t.type)&&Id[t.type](t,e)}var Od={Feature:function(t,e){fs(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)fs(n[i].geometry,e)}},Id={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){ul(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)ul(n[i],e,0)},Polygon:function(t,e){Dd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)Dd(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)fs(n[i],e)}};function ul(t,e,n){var i=-1,o=t.length-n,a;for(e.lineStart();++i<o;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function Dd(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ul(t[n],e,1);e.polygonEnd()}function ci(t,e){t&&Od.hasOwnProperty(t.type)?Od[t.type](t,e):fs(t,e)}function fl(t){return[Rn(t[1],t[0]),Ue(t[2])]}function _r(t){var e=t[0],n=t[1],i=Mt(n);return[i*Mt(e),i*yt(e),yt(n)]}function Ta(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ls(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ff(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function La(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ll(t){var e=ye(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function cl(t,e){function n(i,o){return i=t(i,o),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,o){return i=e.invert(i,o),i&&t.invert(i[0],i[1])}),n}function hl(t,e){return Ot(t)>Lt&&(t-=Math.round(t/Pe)*Pe),[t,e]}hl.invert=hl;function V0(t,e,n){return(t%=Pe)?e||n?cl(Rd(t),Zd(e,n)):Rd(t):e||n?Zd(e,n):hl}function Bd(t){return function(e,n){return e+=t,Ot(e)>Lt&&(e-=Math.round(e/Pe)*Pe),[e,n]}}function Rd(t){var e=Bd(t);return e.invert=Bd(-t),e}function Zd(t,e){var n=Mt(t),i=yt(t),o=Mt(e),a=yt(e);function u(l,c){var h=Mt(c),d=Mt(l)*h,m=yt(l)*h,g=yt(c),_=g*n+d*i;return[Rn(m*o-_*a,d*n-g*i),Ue(_*o+m*a)]}return u.invert=function(l,c){var h=Mt(c),d=Mt(l)*h,m=yt(l)*h,g=yt(c),_=g*o-m*a;return[Rn(m*o+g*a,d*n+_*i),Ue(_*n-d*i)]},u}function X5(t){t=V0(t[0]*Ut,t[1]*Ut,t.length>2?t[2]*Ut:0);function e(n){return n=t(n[0]*Ut,n[1]*Ut),n[0]*=de,n[1]*=de,n}return e.invert=function(n){return n=t.invert(n[0]*Ut,n[1]*Ut),n[0]*=de,n[1]*=de,n},e}function j5(t,e,n,i,o,a){if(n){var u=Mt(e),l=yt(e),c=i*n;o==null?(o=e+i*Pe,a=e-c/2):(o=Fd(u,o),a=Fd(u,a),(i>0?o<a:o>a)&&(o+=i*Pe));for(var h,d=o;i>0?d>a:d<a;d-=c)h=fl([u,-l*Mt(d),-l*yt(d)]),t.point(h[0],h[1])}}function Fd(t,e){e=_r(e),e[0]-=t,ll(e);var n=Y0(-e[1]);return((-e[2]<0?-n:n)+Pe-bt)%Pe}function G0(){var t=[],e;return{point:function(n,i,o){e.push([n,i,o])},lineStart:function(){t.push(e=[])},lineEnd:Be,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Wa(t,e){return Ot(t[0]-e[0])<bt&&Ot(t[1]-e[1])<bt}function Sa(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function X0(t,e,n,i,o){var a=[],u=[],l,c;if(t.forEach(function(v){if(!((b=v.length-1)<=0)){var b,w=v[0],S=v[b],M;if(Wa(w,S)){if(!w[2]&&!S[2]){for(o.lineStart(),l=0;l<b;++l)o.point((w=v[l])[0],w[1]);o.lineEnd();return}S[0]+=2*bt}a.push(M=new Sa(w,v,null,!0)),u.push(M.o=new Sa(w,null,M,!1)),a.push(M=new Sa(S,v,null,!1)),u.push(M.o=new Sa(S,null,M,!0))}}),!!a.length){for(u.sort(e),Ud(a),Ud(u),l=0,c=u.length;l<c;++l)u[l].e=n=!n;for(var h=a[0],d,m;;){for(var g=h,_=!0;g.v;)if((g=g.n)===h)return;d=g.z,o.lineStart();do{if(g.v=g.o.v=!0,g.e){if(_)for(l=0,c=d.length;l<c;++l)o.point((m=d[l])[0],m[1]);else i(g.x,g.n.x,1,o);g=g.n}else{if(_)for(d=g.p.z,l=d.length-1;l>=0;--l)o.point((m=d[l])[0],m[1]);else i(g.x,g.p.x,-1,o);g=g.p}g=g.o,d=g.z,_=!_}while(!g.v);o.lineEnd()}}}function Ud(t){if(e=t.length){for(var e,n=0,i=t[0],o;++n<e;)i.n=o=t[n],o.p=i,i=o;i.n=o=t[0],o.p=i}}function lf(t){return Ot(t[0])<=Lt?t[0]:De(t[0])*((Ot(t[0])+Lt)%Pe-Lt)}function K5(t,e){var n=lf(e),i=e[1],o=yt(i),a=[yt(n),-Mt(n),0],u=0,l=0,c=new Mi;o===1?i=Wt+bt:o===-1&&(i=-Wt-bt);for(var h=0,d=t.length;h<d;++h)if(g=(m=t[h]).length)for(var m,g,_=m[g-1],v=lf(_),b=_[1]/2+Nd,w=yt(b),S=Mt(b),M=0;M<g;++M,v=T,w=E,S=z,_=P){var P=m[M],T=lf(P),k=P[1]/2+Nd,E=yt(k),z=Mt(k),I=T-v,B=I>=0?1:-1,$=B*I,A=$>Lt,D=w*E;if(c.add(Rn(D*B*yt($),S*z+D*Mt($))),u+=A?I+B*Pe:I,A^v>=n^T>=n){var U=ls(_r(_),_r(P));ll(U);var Z=ls(a,U);ll(Z);var O=(A^I>=0?-1:1)*Ue(Z[2]);(i>O||i===O&&(U[0]||U[1]))&&(l+=A^I>=0?1:-1)}}return(u<-bt||u<bt&&c<-W0)^l&1}function j0(t,e,n,i){return function(o){var a=e(o),u=G0(),l=e(u),c=!1,h,d,m,g={point:_,lineStart:b,lineEnd:w,polygonStart:function(){g.point=S,g.lineStart=M,g.lineEnd=P,d=[],h=[]},polygonEnd:function(){g.point=_,g.lineStart=b,g.lineEnd=w,d=r0(d);var T=K5(h,i);d.length?(c||(o.polygonStart(),c=!0),X0(d,Q5,T,n,o)):T&&(c||(o.polygonStart(),c=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),c&&(o.polygonEnd(),c=!1),d=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function _(T,k){t(T,k)&&o.point(T,k)}function v(T,k){a.point(T,k)}function b(){g.point=v,a.lineStart()}function w(){g.point=_,a.lineEnd()}function S(T,k){m.push([T,k]),l.point(T,k)}function M(){l.lineStart(),m=[]}function P(){S(m[0][0],m[0][1]),l.lineEnd();var T=l.clean(),k=u.result(),E,z=k.length,I,B,$;if(m.pop(),h.push(m),m=null,!!z){if(T&1){if(B=k[0],(I=B.length-1)>0){for(c||(o.polygonStart(),c=!0),o.lineStart(),E=0;E<I;++E)o.point(($=B[E])[0],$[1]);o.lineEnd()}return}z>1&&T&2&&k.push(k.pop().concat(k.shift())),d.push(k.filter(J5))}}return g}}function J5(t){return t.length>1}function Q5(t,e){return((t=t.x)[0]<0?t[1]-Wt-bt:Wt-t[1])-((e=e.x)[0]<0?e[1]-Wt-bt:Wt-e[1])}const Hd=j0(function(){return!0},t3,n3,[-Lt,-Wt]);function t3(t){var e=NaN,n=NaN,i=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(a,u){var l=a>0?Lt:-Lt,c=Ot(a-e);Ot(c-Lt)<bt?(t.point(e,n=(n+u)/2>0?Wt:-Wt),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(l,n),t.point(a,n),o=0):i!==l&&c>=Lt&&(Ot(e-i)<bt&&(e-=i*bt),Ot(a-l)<bt&&(a-=l*bt),n=e3(e,n,a,u),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(l,n),o=0),t.point(e=a,n=u),i=l},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function e3(t,e,n,i){var o,a,u=yt(t-n);return Ot(u)>bt?Cr((yt(e)*(a=Mt(i))*yt(n)-yt(i)*(o=Mt(e))*yt(t))/(o*a*u)):(e+i)/2}function n3(t,e,n,i){var o;if(t==null)o=n*Wt,i.point(-Lt,o),i.point(0,o),i.point(Lt,o),i.point(Lt,0),i.point(Lt,-o),i.point(0,-o),i.point(-Lt,-o),i.point(-Lt,0),i.point(-Lt,o);else if(Ot(t[0]-e[0])>bt){var a=t[0]<e[0]?Lt:-Lt;o=n*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(e[0],e[1])}function i3(t){var e=Mt(t),n=6*Ut,i=e>0,o=Ot(e)>bt;function a(d,m,g,_){j5(_,t,n,g,d,m)}function u(d,m){return Mt(d)*Mt(m)>e}function l(d){var m,g,_,v,b;return{lineStart:function(){v=_=!1,b=1},point:function(w,S){var M=[w,S],P,T=u(w,S),k=i?T?0:h(w,S):T?h(w+(w<0?Lt:-Lt),S):0;if(!m&&(v=_=T)&&d.lineStart(),T!==_&&(P=c(m,M),(!P||Wa(m,P)||Wa(M,P))&&(M[2]=1)),T!==_)b=0,T?(d.lineStart(),P=c(M,m),d.point(P[0],P[1])):(P=c(m,M),d.point(P[0],P[1],2),d.lineEnd()),m=P;else if(o&&m&&i^T){var E;!(k&g)&&(E=c(M,m,!0))&&(b=0,i?(d.lineStart(),d.point(E[0][0],E[0][1]),d.point(E[1][0],E[1][1]),d.lineEnd()):(d.point(E[1][0],E[1][1]),d.lineEnd(),d.lineStart(),d.point(E[0][0],E[0][1],3)))}T&&(!m||!Wa(m,M))&&d.point(M[0],M[1]),m=M,_=T,g=k},lineEnd:function(){_&&d.lineEnd(),m=null},clean:function(){return b|(v&&_)<<1}}}function c(d,m,g){var _=_r(d),v=_r(m),b=[1,0,0],w=ls(_,v),S=Ta(w,w),M=w[0],P=S-M*M;if(!P)return!g&&d;var T=e*S/P,k=-e*M/P,E=ls(b,w),z=La(b,T),I=La(w,k);ff(z,I);var B=E,$=Ta(z,B),A=Ta(B,B),D=$*$-A*(Ta(z,z)-1);if(!(D<0)){var U=ye(D),Z=La(B,(-$-U)/A);if(ff(Z,z),Z=fl(Z),!g)return Z;var O=d[0],Y=m[0],Q=d[1],V=m[1],tt;Y<O&&(tt=O,O=Y,Y=tt);var F=Y-O,W=Ot(F-Lt)<bt,X=W||F<bt;if(!W&&V<Q&&(tt=Q,Q=V,V=tt),X?W?Q+V>0^Z[1]<(Ot(Z[0]-O)<bt?Q:V):Q<=Z[1]&&Z[1]<=V:F>Lt^(O<=Z[0]&&Z[0]<=Y)){var K=La(B,(-$+U)/A);return ff(K,z),[Z,fl(K)]}}}function h(d,m){var g=i?t:Lt-t,_=0;return d<-g?_|=1:d>g&&(_|=2),m<-g?_|=4:m>g&&(_|=8),_}return j0(u,l,a,i?[0,-t]:[-Lt,t-Lt])}function r3(t,e,n,i,o,a){var u=t[0],l=t[1],c=e[0],h=e[1],d=0,m=1,g=c-u,_=h-l,v;if(v=n-u,!(!g&&v>0)){if(v/=g,g<0){if(v<d)return;v<m&&(m=v)}else if(g>0){if(v>m)return;v>d&&(d=v)}if(v=o-u,!(!g&&v<0)){if(v/=g,g<0){if(v>m)return;v>d&&(d=v)}else if(g>0){if(v<d)return;v<m&&(m=v)}if(v=i-l,!(!_&&v>0)){if(v/=_,_<0){if(v<d)return;v<m&&(m=v)}else if(_>0){if(v>m)return;v>d&&(d=v)}if(v=a-l,!(!_&&v<0)){if(v/=_,_<0){if(v>m)return;v>d&&(d=v)}else if(_>0){if(v<d)return;v<m&&(m=v)}return d>0&&(t[0]=u+d*g,t[1]=l+d*_),m<1&&(e[0]=u+m*g,e[1]=l+m*_),!0}}}}}var ro=1e9,Pa=-ro;function K0(t,e,n,i){function o(h,d){return t<=h&&h<=n&&e<=d&&d<=i}function a(h,d,m,g){var _=0,v=0;if(h==null||(_=u(h,m))!==(v=u(d,m))||c(h,d)<0^m>0)do g.point(_===0||_===3?t:n,_>1?i:e);while((_=(_+m+4)%4)!==v);else g.point(d[0],d[1])}function u(h,d){return Ot(h[0]-t)<bt?d>0?0:3:Ot(h[0]-n)<bt?d>0?2:1:Ot(h[1]-e)<bt?d>0?1:0:d>0?3:2}function l(h,d){return c(h.x,d.x)}function c(h,d){var m=u(h,1),g=u(d,1);return m!==g?m-g:m===0?d[1]-h[1]:m===1?h[0]-d[0]:m===2?h[1]-d[1]:d[0]-h[0]}return function(h){var d=h,m=G0(),g,_,v,b,w,S,M,P,T,k,E,z={point:I,lineStart:D,lineEnd:U,polygonStart:$,polygonEnd:A};function I(O,Y){o(O,Y)&&d.point(O,Y)}function B(){for(var O=0,Y=0,Q=_.length;Y<Q;++Y)for(var V=_[Y],tt=1,F=V.length,W=V[0],X,K,ut=W[0],rt=W[1];tt<F;++tt)X=ut,K=rt,W=V[tt],ut=W[0],rt=W[1],K<=i?rt>i&&(ut-X)*(i-K)>(rt-K)*(t-X)&&++O:rt<=i&&(ut-X)*(i-K)<(rt-K)*(t-X)&&--O;return O}function $(){d=m,g=[],_=[],E=!0}function A(){var O=B(),Y=E&&O,Q=(g=r0(g)).length;(Y||Q)&&(h.polygonStart(),Y&&(h.lineStart(),a(null,null,1,h),h.lineEnd()),Q&&X0(g,l,O,a,h),h.polygonEnd()),d=h,g=_=v=null}function D(){z.point=Z,_&&_.push(v=[]),k=!0,T=!1,M=P=NaN}function U(){g&&(Z(b,w),S&&T&&m.rejoin(),g.push(m.result())),z.point=I,T&&d.lineEnd()}function Z(O,Y){var Q=o(O,Y);if(_&&v.push([O,Y]),k)b=O,w=Y,S=Q,k=!1,Q&&(d.lineStart(),d.point(O,Y));else if(Q&&T)d.point(O,Y);else{var V=[M=Math.max(Pa,Math.min(ro,M)),P=Math.max(Pa,Math.min(ro,P))],tt=[O=Math.max(Pa,Math.min(ro,O)),Y=Math.max(Pa,Math.min(ro,Y))];r3(V,tt,t,e,n,i)?(T||(d.lineStart(),d.point(V[0],V[1])),d.point(tt[0],tt[1]),Q||d.lineEnd(),E=!1):Q&&(d.lineStart(),d.point(O,Y),E=!1)}M=O,P=Y,T=Q}return z}}const dl=t=>t;var cf=new Mi,pl=new Mi,J0,Q0,ml,gl,Xn={point:Be,lineStart:Be,lineEnd:Be,polygonStart:function(){Xn.lineStart=o3,Xn.lineEnd=s3},polygonEnd:function(){Xn.lineStart=Xn.lineEnd=Xn.point=Be,cf.add(Ot(pl)),pl=new Mi},result:function(){var t=cf/2;return cf=new Mi,t}};function o3(){Xn.point=a3}function a3(t,e){Xn.point=tg,J0=ml=t,Q0=gl=e}function tg(t,e){pl.add(gl*t-ml*e),ml=t,gl=e}function s3(){tg(J0,Q0)}const Wd=Xn;var yr=1/0,cs=yr,To=-yr,hs=To,u3={point:f3,lineStart:Be,lineEnd:Be,polygonStart:Be,polygonEnd:Be,result:function(){var t=[[yr,cs],[To,hs]];return To=hs=-(cs=yr=1/0),t}};function f3(t,e){t<yr&&(yr=t),t>To&&(To=t),e<cs&&(cs=e),e>hs&&(hs=e)}const ds=u3;var _l=0,yl=0,oo=0,ps=0,ms=0,ir=0,vl=0,bl=0,ao=0,eg,ng,hn,dn,Ke={point:Ci,lineStart:qd,lineEnd:Yd,polygonStart:function(){Ke.lineStart=h3,Ke.lineEnd=d3},polygonEnd:function(){Ke.point=Ci,Ke.lineStart=qd,Ke.lineEnd=Yd},result:function(){var t=ao?[vl/ao,bl/ao]:ir?[ps/ir,ms/ir]:oo?[_l/oo,yl/oo]:[NaN,NaN];return _l=yl=oo=ps=ms=ir=vl=bl=ao=0,t}};function Ci(t,e){_l+=t,yl+=e,++oo}function qd(){Ke.point=l3}function l3(t,e){Ke.point=c3,Ci(hn=t,dn=e)}function c3(t,e){var n=t-hn,i=e-dn,o=ye(n*n+i*i);ps+=o*(hn+t)/2,ms+=o*(dn+e)/2,ir+=o,Ci(hn=t,dn=e)}function Yd(){Ke.point=Ci}function h3(){Ke.point=p3}function d3(){ig(eg,ng)}function p3(t,e){Ke.point=ig,Ci(eg=hn=t,ng=dn=e)}function ig(t,e){var n=t-hn,i=e-dn,o=ye(n*n+i*i);ps+=o*(hn+t)/2,ms+=o*(dn+e)/2,ir+=o,o=dn*t-hn*e,vl+=o*(hn+t),bl+=o*(dn+e),ao+=o*3,Ci(hn=t,dn=e)}const Vd=Ke;function rg(t){this._context=t}rg.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pe);break}}},result:Be};var wl=new Mi,hf,og,ag,so,uo,gs={point:Be,lineStart:function(){gs.point=m3},lineEnd:function(){hf&&sg(og,ag),gs.point=Be},polygonStart:function(){hf=!0},polygonEnd:function(){hf=null},result:function(){var t=+wl;return wl=new Mi,t}};function m3(t,e){gs.point=sg,og=so=t,ag=uo=e}function sg(t,e){so-=t,uo-=e,wl.add(ye(so*so+uo*uo)),so=t,uo=e}const Gd=gs;let Xd,_s,jd,Kd;class Jd{constructor(e){this._append=e==null?ug:g3(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==jd||this._append!==_s){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,jd=i,_s=this._append,Kd=this._,this._=o}this._+=Kd;break}}}result(){const e=this._;return this._="",e.length?e:null}}function ug(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function g3(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return ug;if(e!==Xd){const n=10**e;Xd=e,_s=function(o){let a=1;this._+=o[0];for(const u=o.length;a<u;++a)this._+=Math.round(arguments[a]*n)/n+o[a]}}return _s}function fg(t,e){let n=3,i=4.5,o,a;function u(l){return l&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),ci(l,o(a))),a.result()}return u.area=function(l){return ci(l,o(Wd)),Wd.result()},u.measure=function(l){return ci(l,o(Gd)),Gd.result()},u.bounds=function(l){return ci(l,o(ds)),ds.result()},u.centroid=function(l){return ci(l,o(Vd)),Vd.result()},u.projection=function(l){return arguments.length?(o=l==null?(t=null,dl):(t=l).stream,u):t},u.context=function(l){return arguments.length?(a=l==null?(e=null,new Jd(n)):new rg(e=l),typeof i!="function"&&a.pointRadius(i),u):e},u.pointRadius=function(l){return arguments.length?(i=typeof l=="function"?l:(a.pointRadius(+l),+l),u):i},u.digits=function(l){if(!arguments.length)return n;if(l==null)n=null;else{const c=Math.floor(l);if(!(c>=0))throw new RangeError(`invalid digits: ${l}`);n=c}return e===null&&(a=new Jd(n)),u},u.projection(t).digits(n).context(e)}function xl(t){return{stream:Vs(t)}}function Vs(t){return function(e){var n=new Ml;for(var i in t)n[i]=t[i];return n.stream=e,n}}function Ml(){}Ml.prototype={constructor:Ml,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function uc(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),ci(n,t.stream(ds)),e(ds.result()),i!=null&&t.clipExtent(i),t}function fc(t,e,n){return uc(t,function(i){var o=e[1][0]-e[0][0],a=e[1][1]-e[0][1],u=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),l=+e[0][0]+(o-u*(i[1][0]+i[0][0]))/2,c=+e[0][1]+(a-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([l,c])},n)}function lg(t,e,n){return fc(t,[[0,0],e],n)}function cg(t,e,n){return uc(t,function(i){var o=+e,a=o/(i[1][0]-i[0][0]),u=(o-a*(i[1][0]+i[0][0]))/2,l=-a*i[0][1];t.scale(150*a).translate([u,l])},n)}function hg(t,e,n){return uc(t,function(i){var o=+e,a=o/(i[1][1]-i[0][1]),u=-a*i[0][0],l=(o-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([u,l])},n)}var Qd=16,_3=Mt(30*Ut);function tp(t,e){return+e?v3(t,e):y3(t)}function y3(t){return Vs({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function v3(t,e){function n(i,o,a,u,l,c,h,d,m,g,_,v,b,w){var S=h-i,M=d-o,P=S*S+M*M;if(P>4*e&&b--){var T=u+g,k=l+_,E=c+v,z=ye(T*T+k*k+E*E),I=Ue(E/=z),B=Ot(Ot(E)-1)<bt||Ot(a-m)<bt?(a+m)/2:Rn(k,T),$=t(B,I),A=$[0],D=$[1],U=A-i,Z=D-o,O=M*U-S*Z;(O*O/P>e||Ot((S*U+M*Z)/P-.5)>.3||u*g+l*_+c*v<_3)&&(n(i,o,a,u,l,c,A,D,B,T/=z,k/=z,E,b,w),w.point(A,D),n(A,D,B,T,k,E,h,d,m,g,_,v,b,w))}}return function(i){var o,a,u,l,c,h,d,m,g,_,v,b,w={point:S,lineStart:M,lineEnd:T,polygonStart:function(){i.polygonStart(),w.lineStart=k},polygonEnd:function(){i.polygonEnd(),w.lineStart=M}};function S(I,B){I=t(I,B),i.point(I[0],I[1])}function M(){m=NaN,w.point=P,i.lineStart()}function P(I,B){var $=_r([I,B]),A=t(I,B);n(m,g,d,_,v,b,m=A[0],g=A[1],d=I,_=$[0],v=$[1],b=$[2],Qd,i),i.point(m,g)}function T(){w.point=S,i.lineEnd()}function k(){M(),w.point=E,w.lineEnd=z}function E(I,B){P(o=I,B),a=m,u=g,l=_,c=v,h=b,w.point=P}function z(){n(m,g,d,_,v,b,a,u,o,l,c,h,Qd,i),w.lineEnd=T,T()}return w}}var b3=Vs({point:function(t,e){this.stream.point(t*Ut,e*Ut)}});function w3(t){return Vs({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function x3(t,e,n,i,o){function a(u,l){return u*=i,l*=o,[e+t*u,n-t*l]}return a.invert=function(u,l){return[(u-e)/t*i,(n-l)/t*o]},a}function ep(t,e,n,i,o,a){if(!a)return x3(t,e,n,i,o);var u=Mt(a),l=yt(a),c=u*t,h=l*t,d=u/t,m=l/t,g=(l*n-u*e)/t,_=(l*e+u*n)/t;function v(b,w){return b*=i,w*=o,[c*b-h*w+e,n-h*b-c*w]}return v.invert=function(b,w){return[i*(d*b-m*w+g),o*(_-m*b-d*w)]},v}function ti(t){return dg(function(){return t})()}function dg(t){var e,n=150,i=480,o=250,a=0,u=0,l=0,c=0,h=0,d,m=0,g=1,_=1,v=null,b=Hd,w=null,S,M,P,T=dl,k=.5,E,z,I,B,$;function A(O){return I(O[0]*Ut,O[1]*Ut)}function D(O){return O=I.invert(O[0],O[1]),O&&[O[0]*de,O[1]*de]}A.stream=function(O){return B&&$===O?B:B=b3(w3(d)(b(E(T($=O)))))},A.preclip=function(O){return arguments.length?(b=O,v=void 0,Z()):b},A.postclip=function(O){return arguments.length?(T=O,w=S=M=P=null,Z()):T},A.clipAngle=function(O){return arguments.length?(b=+O?i3(v=O*Ut):(v=null,Hd),Z()):v*de},A.clipExtent=function(O){return arguments.length?(T=O==null?(w=S=M=P=null,dl):K0(w=+O[0][0],S=+O[0][1],M=+O[1][0],P=+O[1][1]),Z()):w==null?null:[[w,S],[M,P]]},A.scale=function(O){return arguments.length?(n=+O,U()):n},A.translate=function(O){return arguments.length?(i=+O[0],o=+O[1],U()):[i,o]},A.center=function(O){return arguments.length?(a=O[0]%360*Ut,u=O[1]%360*Ut,U()):[a*de,u*de]},A.rotate=function(O){return arguments.length?(l=O[0]%360*Ut,c=O[1]%360*Ut,h=O.length>2?O[2]%360*Ut:0,U()):[l*de,c*de,h*de]},A.angle=function(O){return arguments.length?(m=O%360*Ut,U()):m*de},A.reflectX=function(O){return arguments.length?(g=O?-1:1,U()):g<0},A.reflectY=function(O){return arguments.length?(_=O?-1:1,U()):_<0},A.precision=function(O){return arguments.length?(E=tp(z,k=O*O),Z()):ye(k)},A.fitExtent=function(O,Y){return fc(A,O,Y)},A.fitSize=function(O,Y){return lg(A,O,Y)},A.fitWidth=function(O,Y){return cg(A,O,Y)},A.fitHeight=function(O,Y){return hg(A,O,Y)};function U(){var O=ep(n,0,0,g,_,m).apply(null,e(a,u)),Y=ep(n,i-O[0],o-O[1],g,_,m);return d=V0(l,c,h),z=cl(e,Y),I=cl(d,z),E=tp(z,k),Z()}function Z(){return B=$=null,A}return function(){return e=t.apply(this,arguments),A.invert=e.invert&&D,U()}}function lc(t){var e=0,n=Lt/3,i=dg(t),o=i(e,n);return o.parallels=function(a){return arguments.length?i(e=a[0]*Ut,n=a[1]*Ut):[e*de,n*de]},o}function M3(t){var e=Mt(t);function n(i,o){return[i*e,yt(o)/e]}return n.invert=function(i,o){return[i/e,Ue(o*e)]},n}function T3(t,e){var n=yt(t),i=(n+yt(e))/2;if(Ot(i)<bt)return M3(t);var o=1+n*(2*i-n),a=ye(o)/i;function u(l,c){var h=ye(o-2*i*yt(c))/i;return[h*yt(l*=i),a-h*Mt(l)]}return u.invert=function(l,c){var h=a-c,d=Rn(l,Ot(h))*De(h);return h*i<0&&(d-=Lt*De(l)*De(h)),[d/i,Ue((o-(l*l+h*h)*i*i)/(2*i))]},u}function ys(){return lc(T3).scale(155.424).center([0,33.6442])}function pg(){return ys().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function L3(t){var e=t.length;return{point:function(n,i){for(var o=-1;++o<e;)t[o].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function S3(){var t,e,n=pg(),i,o=ys().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,u=ys().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l,c,h={point:function(g,_){c=[g,_]}};function d(g){var _=g[0],v=g[1];return c=null,i.point(_,v),c||(a.point(_,v),c)||(l.point(_,v),c)}d.invert=function(g){var _=n.scale(),v=n.translate(),b=(g[0]-v[0])/_,w=(g[1]-v[1])/_;return(w>=.12&&w<.234&&b>=-.425&&b<-.214?o:w>=.166&&w<.234&&b>=-.214&&b<-.115?u:n).invert(g)},d.stream=function(g){return t&&e===g?t:t=L3([n.stream(e=g),o.stream(g),u.stream(g)])},d.precision=function(g){return arguments.length?(n.precision(g),o.precision(g),u.precision(g),m()):n.precision()},d.scale=function(g){return arguments.length?(n.scale(g),o.scale(g*.35),u.scale(g),d.translate(n.translate())):n.scale()},d.translate=function(g){if(!arguments.length)return n.translate();var _=n.scale(),v=+g[0],b=+g[1];return i=n.translate(g).clipExtent([[v-.455*_,b-.238*_],[v+.455*_,b+.238*_]]).stream(h),a=o.translate([v-.307*_,b+.201*_]).clipExtent([[v-.425*_+bt,b+.12*_+bt],[v-.214*_-bt,b+.234*_-bt]]).stream(h),l=u.translate([v-.205*_,b+.212*_]).clipExtent([[v-.214*_+bt,b+.166*_+bt],[v-.115*_-bt,b+.234*_-bt]]).stream(h),m()},d.fitExtent=function(g,_){return fc(d,g,_)},d.fitSize=function(g,_){return lg(d,g,_)},d.fitWidth=function(g,_){return cg(d,g,_)},d.fitHeight=function(g,_){return hg(d,g,_)};function m(){return t=e=null,d}return d.scale(1070)}function mg(t){return function(e,n){var i=Mt(e),o=Mt(n),a=t(i*o);return a===1/0?[2,0]:[a*o*yt(e),a*yt(n)]}}function Zo(t){return function(e,n){var i=ye(e*e+n*n),o=t(i),a=yt(o),u=Mt(o);return[Rn(e*a,i*u),Ue(i&&n*a/i)]}}var gg=mg(function(t){return ye(2/(1+t))});gg.invert=Zo(function(t){return 2*Ue(t/2)});function P3(){return ti(gg).scale(124.75).clipAngle(180-.001)}var _g=mg(function(t){return(t=Y0(t))&&t/yt(t)});_g.invert=Zo(function(t){return t});function k3(){return ti(_g).scale(79.4188).clipAngle(180-.001)}function Gs(t,e){return[t,us(sc((Wt+e)/2))]}Gs.invert=function(t,e){return[t,2*Cr(q0(e))-Wt]};function C3(){return yg(Gs).scale(961/Pe)}function yg(t){var e=ti(t),n=e.center,i=e.scale,o=e.translate,a=e.clipExtent,u=null,l,c,h;e.scale=function(m){return arguments.length?(i(m),d()):i()},e.translate=function(m){return arguments.length?(o(m),d()):o()},e.center=function(m){return arguments.length?(n(m),d()):n()},e.clipExtent=function(m){return arguments.length?(m==null?u=l=c=h=null:(u=+m[0][0],l=+m[0][1],c=+m[1][0],h=+m[1][1]),d()):u==null?null:[[u,l],[c,h]]};function d(){var m=Lt*i(),g=e(X5(e.rotate()).invert([0,0]));return a(u==null?[[g[0]-m,g[1]-m],[g[0]+m,g[1]+m]]:t===Gs?[[Math.max(g[0]-m,u),l],[Math.min(g[0]+m,c),h]]:[[u,Math.max(g[1]-m,l)],[c,Math.min(g[1]+m,h)]])}return d()}function ka(t){return sc((Wt+t)/2)}function A3(t,e){var n=Mt(t),i=t===e?yt(t):us(n/Mt(e))/us(ka(e)/ka(t)),o=n*uf(ka(t),i)/i;if(!i)return Gs;function a(u,l){o>0?l<-Wt+bt&&(l=-Wt+bt):l>Wt-bt&&(l=Wt-bt);var c=o/uf(ka(l),i);return[c*yt(i*u),o-c*Mt(i*u)]}return a.invert=function(u,l){var c=o-l,h=De(i)*ye(u*u+c*c),d=Rn(u,Ot(c))*De(c);return c*i<0&&(d-=Lt*De(u)*De(c)),[d/i,2*Cr(uf(o/h,1/i))-Wt]},a}function E3(){return lc(A3).scale(109.5).parallels([30,30])}function vs(t,e){return[t,e]}vs.invert=vs;function $3(){return ti(vs).scale(152.63)}function z3(t,e){var n=Mt(t),i=t===e?yt(t):(n-Mt(e))/(e-t),o=n/i+t;if(Ot(i)<bt)return vs;function a(u,l){var c=o-l,h=i*u;return[c*yt(h),o-c*Mt(h)]}return a.invert=function(u,l){var c=o-l,h=Rn(u,Ot(c))*De(c);return c*i<0&&(h-=Lt*De(u)*De(c)),[h/i,o-De(i)*ye(u*u+c*c)]},a}function N3(){return lc(z3).scale(131.154).center([0,13.9389])}var co=1.340264,ho=-.081106,po=893e-6,mo=.003796,bs=ye(3)/2,O3=12;function vg(t,e){var n=Ue(bs*yt(e)),i=n*n,o=i*i*i;return[t*Mt(n)/(bs*(co+3*ho*i+o*(7*po+9*mo*i))),n*(co+ho*i+o*(po+mo*i))]}vg.invert=function(t,e){for(var n=e,i=n*n,o=i*i*i,a=0,u,l,c;a<O3&&(l=n*(co+ho*i+o*(po+mo*i))-e,c=co+3*ho*i+o*(7*po+9*mo*i),n-=u=l/c,i=n*n,o=i*i*i,!(Ot(u)<W0));++a);return[bs*t*(co+3*ho*i+o*(7*po+9*mo*i))/Mt(n),Ue(yt(n)/bs)]};function I3(){return ti(vg).scale(177.158)}function bg(t,e){var n=Mt(e),i=Mt(t)*n;return[n*yt(t)/i,yt(e)/i]}bg.invert=Zo(Cr);function D3(){return ti(bg).scale(144.049).clipAngle(60)}function wg(t,e){return[Mt(e)*yt(t),yt(e)]}wg.invert=Zo(Ue);function B3(){return ti(wg).scale(249.5).clipAngle(90+bt)}function xg(t,e){var n=Mt(e),i=1+Mt(t)*n;return[n*yt(t)/i,yt(e)/i]}xg.invert=Zo(function(t){return 2*Cr(t)});function R3(){return ti(xg).scale(250).clipAngle(142)}function Mg(t,e){return[us(sc((Wt+e)/2)),-t]}Mg.invert=function(t,e){return[-e,2*Cr(q0(t))-Wt]};function Z3(){var t=yg(Mg),e=t.center,n=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function bn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Xs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Tl=Symbol("implicit");function cc(){var t=new Ti,e=[],n=[],i=Tl;function o(a){let u=t.get(a);if(u===void 0){if(i!==Tl)return i;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Ti;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return cc(e,n).unknown(i)},bn.apply(o,arguments),o}function js(){var t=cc().unknown(void 0),e=t.domain,n=t.range,i=0,o=1,a,u,l=!1,c=0,h=0,d=.5;delete t.unknown;function m(){var g=e().length,_=o<i,v=_?o:i,b=_?i:o;a=(b-v)/Math.max(1,g-c+h*2),l&&(a=Math.floor(a)),v+=(b-v-a*(g-c))*d,u=a*(1-c),l&&(v=Math.round(v),u=Math.round(u));var w=Wf(g).map(function(S){return v+a*S});return n(_?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([i,o]=g,i=+i,o=+o,m()):[i,o]},t.rangeRound=function(g){return[i,o]=g,i=+i,o=+o,l=!0,m()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,h=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(h=+g,m()):h},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),m()):d},t.copy=function(){return js(e(),[i,o]).round(l).paddingInner(c).paddingOuter(h).align(d)},bn.apply(m(),arguments)}function Tg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Tg(e())},t}function F3(){return Tg(js.apply(null,arguments).paddingInner(1))}function U3(t){return function(){return t}}function Ll(t){return+t}var np=[0,1];function Re(t){return t}function Sl(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:U3(isNaN(e)?NaN:.5)}function H3(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function W3(t,e,n){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=Sl(o,i),a=n(u,a)):(i=Sl(i,o),a=n(a,u)),function(l){return a(i(l))}}function q3(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=Sl(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(l){var c=Bs(t,l,1,i)-1;return a[c](o[c](l))}}function Fo(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ks(){var t=np,e=np,n=kr,i,o,a,u=Re,l,c,h;function d(){var g=Math.min(t.length,e.length);return u!==Re&&(u=H3(t[0],t[g-1])),l=g>2?q3:W3,c=h=null,m}function m(g){return g==null||isNaN(g=+g)?a:(c||(c=l(t.map(i),e,n)))(i(u(g)))}return m.invert=function(g){return u(o((h||(h=l(e,t.map(i),ue)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,Ll),d()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),n=ec,d()},m.clamp=function(g){return arguments.length?(u=g?!0:Re,d()):u!==Re},m.interpolate=function(g){return arguments.length?(n=g,d()):n},m.unknown=function(g){return arguments.length?(a=g,m):a},function(g,_){return i=g,o=_,d()}}function Lg(){return Ks()(Re,Re)}function Y3(t,e,n,i){var o=Uf(t,e,n),a;switch(i=Mo(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=V5(o,u))&&(i.precision=a),H0(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=G5(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Y5(o))&&(i.precision=a-(i.type==="%")*2);break}}return Oe(i)}function Uo(t){var e=t.domain;return t.ticks=function(n){var i=e();return vo(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return Y3(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,a=i.length-1,u=i[o],l=i[a],c,h,d=10;for(l<u&&(h=u,u=l,l=h,h=o,o=a,a=h);d-- >0;){if(h=cr(u,l,n),h===c)return i[o]=u,i[a]=l,e(i);if(h>0)u=Math.floor(u/h)*h,l=Math.ceil(l/h)*h;else if(h<0)u=Math.ceil(u*h)/h,l=Math.floor(l*h)/h;else break;c=h}return t},t}function Lo(){var t=Lg();return t.copy=function(){return Fo(t,Lo())},bn.apply(t,arguments),Uo(t)}function Sg(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,Ll),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return Sg(t).unknown(e)},t=arguments.length?Array.from(t,Ll):[0,1],Uo(n)}function Pg(t,e){t=t.slice();var n=0,i=t.length-1,o=t[n],a=t[i],u;return a<o&&(u=n,n=i,i=u,u=o,o=a,a=u),t[n]=e.floor(o),t[i]=e.ceil(a),t}function ip(t){return Math.log(t)}function rp(t){return Math.exp(t)}function V3(t){return-Math.log(-t)}function G3(t){return-Math.exp(-t)}function X3(t){return isFinite(t)?+("1e"+t):t<0?0:t}function j3(t){return t===10?X3:t===Math.E?Math.exp:e=>Math.pow(t,e)}function K3(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function op(t){return(e,n)=>-t(-e,n)}function kg(t){const e=t(ip,rp),n=e.domain;let i=10,o,a;function u(){return o=K3(i),a=j3(i),n()[0]<0?(o=op(o),a=op(a),t(V3,G3)):t(ip,rp),e}return e.base=function(l){return arguments.length?(i=+l,u()):i},e.domain=function(l){return arguments.length?(n(l),u()):n()},e.ticks=l=>{const c=n();let h=c[0],d=c[c.length-1];const m=d<h;m&&([h,d]=[d,h]);let g=o(h),_=o(d),v,b;const w=l==null?10:+l;let S=[];if(!(i%1)&&_-g<w){if(g=Math.floor(g),_=Math.ceil(_),h>0){for(;g<=_;++g)for(v=1;v<i;++v)if(b=g<0?v/a(-g):v*a(g),!(b<h)){if(b>d)break;S.push(b)}}else for(;g<=_;++g)for(v=i-1;v>=1;--v)if(b=g>0?v/a(-g):v*a(g),!(b<h)){if(b>d)break;S.push(b)}S.length*2<w&&(S=vo(h,d,w))}else S=vo(g,_,Math.min(_-g,w)).map(a);return m?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=i===10?"s":","),typeof c!="function"&&(!(i%1)&&(c=Mo(c)).precision==null&&(c.trim=!0),c=Oe(c)),l===1/0)return c;const h=Math.max(1,i*l/e.ticks().length);return d=>{let m=d/a(Math.round(o(d)));return m*i<i-.5&&(m*=i),m<=h?c(d):""}},e.nice=()=>n(Pg(n(),{floor:l=>a(Math.floor(o(l))),ceil:l=>a(Math.ceil(o(l)))})),e}function Cg(){const t=kg(Ks()).domain([1,10]);return t.copy=()=>Fo(t,Cg()).base(t.base()),bn.apply(t,arguments),t}function ap(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sp(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ag(t){var e=1,n=t(ap(e),sp(e));return n.constant=function(i){return arguments.length?t(ap(e=+i),sp(e)):e},Uo(n)}function Eg(){var t=Ag(Ks());return t.copy=function(){return Fo(t,Eg()).constant(t.constant())},bn.apply(t,arguments)}function up(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function J3(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Q3(t){return t<0?-t*t:t*t}function $g(t){var e=t(Re,Re),n=1;function i(){return n===1?t(Re,Re):n===.5?t(J3,Q3):t(up(n),up(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,i()):n},Uo(e)}function zg(){var t=$g(Ks());return t.copy=function(){return Fo(t,zg()).exponent(t.exponent())},bn.apply(t,arguments),t}function Ng(){var t=[],e=[],n=[],i;function o(){var u=0,l=Math.max(1,e.length);for(n=new Array(l-1);++u<l;)n[u-1]=Iw(t,u/l);return a}function a(u){return u==null||isNaN(u=+u)?i:e[Bs(n,u)]}return a.invertExtent=function(u){var l=e.indexOf(u);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let l of u)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(_e),o()},a.range=function(u){return arguments.length?(e=Array.from(u),o()):e.slice()},a.unknown=function(u){return arguments.length?(i=u,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return Ng().domain(t).range(e).unknown(i)},bn.apply(a,arguments)}function Og(){var t=[.5],e=[0,1],n,i=1;function o(a){return a!=null&&a<=a?e[Bs(t,a,0,i)]:n}return o.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return Og().domain(t).range(e).unknown(n)},bn.apply(o,arguments)}const df=new Date,pf=new Date;function jt(t,e,n,i){function o(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(t(a=new Date(+a)),a),o.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),o.round=a=>{const u=o(a),l=o.ceil(a);return a-u<l-a?u:l},o.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),o.range=(a,u,l)=>{const c=[];if(a=o.ceil(a),l=l==null?1:Math.floor(l),!(a<u)||!(l>0))return c;let h;do c.push(h=new Date(+a)),e(a,l),t(a);while(h<a&&a<u);return c},o.filter=a=>jt(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,l)=>{if(u>=u)if(l<0)for(;++l<=0;)for(;e(u,-1),!a(u););else for(;--l>=0;)for(;e(u,1),!a(u););}),n&&(o.count=(a,u)=>(df.setTime(+a),pf.setTime(+u),t(df),t(pf),Math.floor(n(df,pf))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(i?u=>i(u)%a===0:u=>o.count(0,u)%a===0):o)),o}const ws=jt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ws.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ws);ws.range;const Nn=1e3,Ze=Nn*60,On=Ze*60,Zn=On*24,hc=Zn*7,fp=Zn*30,mf=Zn*365,pn=jt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Nn)},(t,e)=>(e-t)/Nn,t=>t.getUTCSeconds());pn.range;const Js=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nn)},(t,e)=>{t.setTime(+t+e*Ze)},(t,e)=>(e-t)/Ze,t=>t.getMinutes());Js.range;const Ho=jt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ze)},(t,e)=>(e-t)/Ze,t=>t.getUTCMinutes());Ho.range;const Qs=jt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nn-t.getMinutes()*Ze)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getHours());Qs.range;const Wo=jt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCHours());Wo.range;const zi=jt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ze)/Zn,t=>t.getDate()-1);zi.range;const tu=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zn,t=>t.getUTCDate()-1);tu.range;const eu=jt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zn,t=>Math.floor(t/Zn));eu.range;function Ni(t){return jt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ze)/hc)}const vr=Ni(0),So=Ni(1),Ig=Ni(2),Dg=Ni(3),Ai=Ni(4),Bg=Ni(5),Rg=Ni(6);vr.range;So.range;Ig.range;Dg.range;Ai.range;Bg.range;Rg.range;function Oi(t){return jt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/hc)}const br=Oi(0),Po=Oi(1),Zg=Oi(2),Fg=Oi(3),Ei=Oi(4),Ug=Oi(5),Hg=Oi(6);br.range;Po.range;Zg.range;Fg.range;Ei.range;Ug.range;Hg.range;const qo=jt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());qo.range;const Yo=jt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Yo.range;const tn=jt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());tn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});tn.range;const en=jt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());en.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});en.range;function Wg(t,e,n,i,o,a){const u=[[pn,1,Nn],[pn,5,5*Nn],[pn,15,15*Nn],[pn,30,30*Nn],[a,1,Ze],[a,5,5*Ze],[a,15,15*Ze],[a,30,30*Ze],[o,1,On],[o,3,3*On],[o,6,6*On],[o,12,12*On],[i,1,Zn],[i,2,2*Zn],[n,1,hc],[e,1,fp],[e,3,3*fp],[t,1,mf]];function l(h,d,m){const g=d<h;g&&([h,d]=[d,h]);const _=m&&typeof m.range=="function"?m:c(h,d,m),v=_?_.range(h,+d+1):[];return g?v.reverse():v}function c(h,d,m){const g=Math.abs(d-h)/m,_=Ds(([,,w])=>w).right(u,g);if(_===u.length)return t.every(Uf(h/mf,d/mf,m));if(_===0)return ws.every(Math.max(Uf(h,d,m),1));const[v,b]=u[g/u[_-1][2]<u[_][2]/g?_-1:_];return v.every(b)}return[l,c]}const[t8,e8]=Wg(en,Yo,br,eu,Wo,Ho),[n8,i8]=Wg(tn,qo,vr,zi,Qs,Js);function gf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function _f(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function r8(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,a=t.days,u=t.shortDays,l=t.months,c=t.shortMonths,h=Kr(o),d=Jr(o),m=Kr(a),g=Jr(a),_=Kr(u),v=Jr(u),b=Kr(l),w=Jr(l),S=Kr(c),M=Jr(c),P={a:Q,A:V,b:tt,B:F,c:null,d:mp,e:mp,f:P8,g:D8,G:R8,H:T8,I:L8,j:S8,L:qg,m:k8,M:C8,p:W,q:X,Q:yp,s:vp,S:A8,u:E8,U:$8,V:z8,w:N8,W:O8,x:null,X:null,y:I8,Y:B8,Z:Z8,"%":_p},T={a:K,A:ut,b:rt,B:J,c:null,d:gp,e:gp,f:W8,g:t4,G:n4,H:F8,I:U8,j:H8,L:Vg,m:q8,M:Y8,p:j,q:ft,Q:yp,s:vp,S:V8,u:G8,U:X8,V:j8,w:K8,W:J8,x:null,X:null,y:Q8,Y:e4,Z:i4,"%":_p},k={a:$,A,b:D,B:U,c:Z,d:dp,e:dp,f:b8,g:hp,G:cp,H:pp,I:pp,j:g8,L:v8,m:m8,M:_8,p:B,q:p8,Q:x8,s:M8,S:y8,u:f8,U:l8,V:c8,w:u8,W:h8,x:O,X:Y,y:hp,Y:cp,Z:d8,"%":w8};P.x=E(n,P),P.X=E(i,P),P.c=E(e,P),T.x=E(n,T),T.X=E(i,T),T.c=E(e,T);function E(q,nt){return function(st){var H=[],vt=-1,pt=0,At=q.length,Et,lt,Nt;for(st instanceof Date||(st=new Date(+st));++vt<At;)q.charCodeAt(vt)===37&&(H.push(q.slice(pt,vt)),(lt=lp[Et=q.charAt(++vt)])!=null?Et=q.charAt(++vt):lt=Et==="e"?" ":"0",(Nt=nt[Et])&&(Et=Nt(st,lt)),H.push(Et),pt=vt+1);return H.push(q.slice(pt,vt)),H.join("")}}function z(q,nt){return function(st){var H=jr(1900,void 0,1),vt=I(H,q,st+="",0),pt,At;if(vt!=st.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(nt&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(pt=_f(jr(H.y,0,1)),At=pt.getUTCDay(),pt=At>4||At===0?Po.ceil(pt):Po(pt),pt=tu.offset(pt,(H.V-1)*7),H.y=pt.getUTCFullYear(),H.m=pt.getUTCMonth(),H.d=pt.getUTCDate()+(H.w+6)%7):(pt=gf(jr(H.y,0,1)),At=pt.getDay(),pt=At>4||At===0?So.ceil(pt):So(pt),pt=zi.offset(pt,(H.V-1)*7),H.y=pt.getFullYear(),H.m=pt.getMonth(),H.d=pt.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),At="Z"in H?_f(jr(H.y,0,1)).getUTCDay():gf(jr(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(At+5)%7:H.w+H.U*7-(At+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,_f(H)):gf(H)}}function I(q,nt,st,H){for(var vt=0,pt=nt.length,At=st.length,Et,lt;vt<pt;){if(H>=At)return-1;if(Et=nt.charCodeAt(vt++),Et===37){if(Et=nt.charAt(vt++),lt=k[Et in lp?nt.charAt(vt++):Et],!lt||(H=lt(q,st,H))<0)return-1}else if(Et!=st.charCodeAt(H++))return-1}return H}function B(q,nt,st){var H=h.exec(nt.slice(st));return H?(q.p=d.get(H[0].toLowerCase()),st+H[0].length):-1}function $(q,nt,st){var H=_.exec(nt.slice(st));return H?(q.w=v.get(H[0].toLowerCase()),st+H[0].length):-1}function A(q,nt,st){var H=m.exec(nt.slice(st));return H?(q.w=g.get(H[0].toLowerCase()),st+H[0].length):-1}function D(q,nt,st){var H=S.exec(nt.slice(st));return H?(q.m=M.get(H[0].toLowerCase()),st+H[0].length):-1}function U(q,nt,st){var H=b.exec(nt.slice(st));return H?(q.m=w.get(H[0].toLowerCase()),st+H[0].length):-1}function Z(q,nt,st){return I(q,e,nt,st)}function O(q,nt,st){return I(q,n,nt,st)}function Y(q,nt,st){return I(q,i,nt,st)}function Q(q){return u[q.getDay()]}function V(q){return a[q.getDay()]}function tt(q){return c[q.getMonth()]}function F(q){return l[q.getMonth()]}function W(q){return o[+(q.getHours()>=12)]}function X(q){return 1+~~(q.getMonth()/3)}function K(q){return u[q.getUTCDay()]}function ut(q){return a[q.getUTCDay()]}function rt(q){return c[q.getUTCMonth()]}function J(q){return l[q.getUTCMonth()]}function j(q){return o[+(q.getUTCHours()>=12)]}function ft(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var nt=E(q+="",P);return nt.toString=function(){return q},nt},parse:function(q){var nt=z(q+="",!1);return nt.toString=function(){return q},nt},utcFormat:function(q){var nt=E(q+="",T);return nt.toString=function(){return q},nt},utcParse:function(q){var nt=z(q+="",!0);return nt.toString=function(){return q},nt}}}var lp={"-":"",_:" ",0:"0"},ie=/^\s*\d+/,o8=/^%/,a8=/[\\^$*+?|[\]().{}]/g;function zt(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",a=o.length;return i+(a<n?new Array(n-a+1).join(e)+o:o)}function s8(t){return t.replace(a8,"\\$&")}function Kr(t){return new RegExp("^(?:"+t.map(s8).join("|")+")","i")}function Jr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function u8(t,e,n){var i=ie.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function f8(t,e,n){var i=ie.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function l8(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function c8(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function h8(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function cp(t,e,n){var i=ie.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function hp(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function d8(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function p8(t,e,n){var i=ie.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function m8(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function dp(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function g8(t,e,n){var i=ie.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function pp(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function _8(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function y8(t,e,n){var i=ie.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function v8(t,e,n){var i=ie.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function b8(t,e,n){var i=ie.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function w8(t,e,n){var i=o8.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function x8(t,e,n){var i=ie.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function M8(t,e,n){var i=ie.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function mp(t,e){return zt(t.getDate(),e,2)}function T8(t,e){return zt(t.getHours(),e,2)}function L8(t,e){return zt(t.getHours()%12||12,e,2)}function S8(t,e){return zt(1+zi.count(tn(t),t),e,3)}function qg(t,e){return zt(t.getMilliseconds(),e,3)}function P8(t,e){return qg(t,e)+"000"}function k8(t,e){return zt(t.getMonth()+1,e,2)}function C8(t,e){return zt(t.getMinutes(),e,2)}function A8(t,e){return zt(t.getSeconds(),e,2)}function E8(t){var e=t.getDay();return e===0?7:e}function $8(t,e){return zt(vr.count(tn(t)-1,t),e,2)}function Yg(t){var e=t.getDay();return e>=4||e===0?Ai(t):Ai.ceil(t)}function z8(t,e){return t=Yg(t),zt(Ai.count(tn(t),t)+(tn(t).getDay()===4),e,2)}function N8(t){return t.getDay()}function O8(t,e){return zt(So.count(tn(t)-1,t),e,2)}function I8(t,e){return zt(t.getFullYear()%100,e,2)}function D8(t,e){return t=Yg(t),zt(t.getFullYear()%100,e,2)}function B8(t,e){return zt(t.getFullYear()%1e4,e,4)}function R8(t,e){var n=t.getDay();return t=n>=4||n===0?Ai(t):Ai.ceil(t),zt(t.getFullYear()%1e4,e,4)}function Z8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zt(e/60|0,"0",2)+zt(e%60,"0",2)}function gp(t,e){return zt(t.getUTCDate(),e,2)}function F8(t,e){return zt(t.getUTCHours(),e,2)}function U8(t,e){return zt(t.getUTCHours()%12||12,e,2)}function H8(t,e){return zt(1+tu.count(en(t),t),e,3)}function Vg(t,e){return zt(t.getUTCMilliseconds(),e,3)}function W8(t,e){return Vg(t,e)+"000"}function q8(t,e){return zt(t.getUTCMonth()+1,e,2)}function Y8(t,e){return zt(t.getUTCMinutes(),e,2)}function V8(t,e){return zt(t.getUTCSeconds(),e,2)}function G8(t){var e=t.getUTCDay();return e===0?7:e}function X8(t,e){return zt(br.count(en(t)-1,t),e,2)}function Gg(t){var e=t.getUTCDay();return e>=4||e===0?Ei(t):Ei.ceil(t)}function j8(t,e){return t=Gg(t),zt(Ei.count(en(t),t)+(en(t).getUTCDay()===4),e,2)}function K8(t){return t.getUTCDay()}function J8(t,e){return zt(Po.count(en(t)-1,t),e,2)}function Q8(t,e){return zt(t.getUTCFullYear()%100,e,2)}function t4(t,e){return t=Gg(t),zt(t.getUTCFullYear()%100,e,2)}function e4(t,e){return zt(t.getUTCFullYear()%1e4,e,4)}function n4(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ei(t):Ei.ceil(t),zt(t.getUTCFullYear()%1e4,e,4)}function i4(){return"+0000"}function _p(){return"%"}function yp(t){return+t}function vp(t){return Math.floor(+t/1e3)}var Ji,dc,Vo;r4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function r4(t){return Ji=r8(t),dc=Ji.format,Ji.parse,Vo=Ji.utcFormat,Ji.utcParse,Ji}function o4(t){return new Date(t)}function a4(t){return t instanceof Date?+t:+new Date(+t)}function pc(t,e,n,i,o,a,u,l,c,h){var d=Lg(),m=d.invert,g=d.domain,_=h(".%L"),v=h(":%S"),b=h("%I:%M"),w=h("%I %p"),S=h("%a %d"),M=h("%b %d"),P=h("%B"),T=h("%Y");function k(E){return(c(E)<E?_:l(E)<E?v:u(E)<E?b:a(E)<E?w:i(E)<E?o(E)<E?S:M:n(E)<E?P:T)(E)}return d.invert=function(E){return new Date(m(E))},d.domain=function(E){return arguments.length?g(Array.from(E,a4)):g().map(o4)},d.ticks=function(E){var z=g();return t(z[0],z[z.length-1],E??10)},d.tickFormat=function(E,z){return z==null?k:h(z)},d.nice=function(E){var z=g();return(!E||typeof E.range!="function")&&(E=e(z[0],z[z.length-1],E??10)),E?g(Pg(z,E)):d},d.copy=function(){return Fo(d,pc(t,e,n,i,o,a,u,l,c,h))},d}function s4(){return bn.apply(pc(n8,i8,tn,qo,vr,zi,Qs,Js,pn,dc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function u4(){return bn.apply(pc(t8,e8,en,Yo,br,tu,Wo,Ho,pn,Vo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iu(){var t=0,e=.5,n=1,i=1,o,a,u,l,c,h=Re,d,m=!1,g;function _(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-a)*(i*b<i*a?l:c),h(m?Math.max(0,Math.min(1,b)):b))}_.domain=function(b){return arguments.length?([t,e,n]=b,o=d(t=+t),a=d(e=+e),u=d(n=+n),l=o===a?0:.5/(a-o),c=a===u?0:.5/(u-a),i=a<o?-1:1,_):[t,e,n]},_.clamp=function(b){return arguments.length?(m=!!b,_):m},_.interpolator=function(b){return arguments.length?(h=b,_):h};function v(b){return function(w){var S,M,P;return arguments.length?([S,M,P]=w,h=Ws(b,[S,M,P]),_):[h(0),h(.5),h(1)]}}return _.range=v(kr),_.rangeRound=v(ec),_.unknown=function(b){return arguments.length?(g=b,_):g},function(b){return d=b,o=b(t),a=b(e),u=b(n),l=o===a?0:.5/(a-o),c=a===u?0:.5/(u-a),i=a<o?-1:1,_}}function Xg(){var t=Uo(iu()(Re));return t.copy=function(){return nu(t,Xg())},Xs.apply(t,arguments)}function jg(){var t=kg(iu()).domain([.1,1,10]);return t.copy=function(){return nu(t,jg()).base(t.base())},Xs.apply(t,arguments)}function Kg(){var t=Ag(iu());return t.copy=function(){return nu(t,Kg()).constant(t.constant())},Xs.apply(t,arguments)}function Jg(){var t=$g(iu());return t.copy=function(){return nu(t,Jg()).exponent(t.exponent())},Xs.apply(t,arguments)}function wt(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}const f4=wt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),l4=wt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),c4=wt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),h4=wt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),d4=wt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),p4=wt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),m4=wt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),g4=wt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),_4=wt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),y4=wt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Dt=t=>Kx(t[t.length-1]);var Qg=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(wt);const t_=Dt(Qg);var e_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(wt);const n_=Dt(e_);var i_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(wt);const r_=Dt(i_);var o_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(wt);const a_=Dt(o_);var Pl=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(wt);const xs=Dt(Pl);var s_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(wt);const u_=Dt(s_);var kl=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(wt);const Ms=Dt(kl);var f_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(wt);const l_=Dt(f_);var c_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(wt);const h_=Dt(c_);var d_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(wt);const p_=Dt(d_);var m_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(wt);const g_=Dt(m_);var __=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(wt);const y_=Dt(__);var v_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(wt);const b_=Dt(v_);var w_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(wt);const x_=Dt(w_);var M_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(wt);const T_=Dt(M_);var L_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(wt);const S_=Dt(L_);var P_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(wt);const k_=Dt(P_);var C_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(wt);const A_=Dt(C_);var E_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(wt);const $_=Dt(E_);var z_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(wt);const N_=Dt(z_);var O_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(wt);const I_=Dt(O_);var D_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(wt);const B_=Dt(D_);var R_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(wt);const Z_=Dt(R_);var F_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(wt);const U_=Dt(F_);var H_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(wt);const W_=Dt(H_);var q_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(wt);const Y_=Dt(q_);var V_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(wt);const G_=Dt(V_);function X_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const j_=nc(yn(300,.5,0),yn(-240,.5,1));var K_=nc(yn(-100,.75,.35),yn(80,1.5,.8)),J_=nc(yn(260,.75,.35),yn(80,1.5,.8)),Ca=yn();function Q_(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ca.h=360*t-100,Ca.s=1.5-1.5*e,Ca.l=.8-.9*e,Ca+""}var Aa=Kn(),v4=Math.PI/3,b4=Math.PI*2/3;function t1(t){var e;return t=(.5-t)*Math.PI,Aa.r=255*(e=Math.sin(t))*e,Aa.g=255*(e=Math.sin(t+v4))*e,Aa.b=255*(e=Math.sin(t+b4))*e,Aa+""}function e1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function ru(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const n1=ru(wt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var i1=ru(wt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),r1=ru(wt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),o1=ru(wt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const a1=Math.cos,mc=Math.min,Ts=Math.sin,Kt=Math.sqrt,Ls=Math.PI,ou=2*Ls,w4=Kt(3),s1={draw(t,e){const n=Kt(e+mc(e/28,.75))*.59436,i=n/2,o=i*w4;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-i),t.lineTo(o,i),t.moveTo(-o,i),t.lineTo(o,-i)}},gc={draw(t,e){const n=Kt(e/Ls);t.moveTo(n,0),t.arc(0,0,n,0,ou)}},u1={draw(t,e){const n=Kt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},f1=Kt(1/3),x4=f1*2,l1={draw(t,e){const n=Kt(e/x4),i=n*f1;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},c1={draw(t,e){const n=Kt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},h1={draw(t,e){const n=Kt(e-mc(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},d1={draw(t,e){const n=Kt(e),i=-n/2;t.rect(i,i,n,n)}},p1={draw(t,e){const n=Kt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},M4=.8908130915292852,m1=Ts(Ls/10)/Ts(7*Ls/10),T4=Ts(ou/10)*m1,L4=-a1(ou/10)*m1,g1={draw(t,e){const n=Kt(e*M4),i=T4*n,o=L4*n;t.moveTo(0,-n),t.lineTo(i,o);for(let a=1;a<5;++a){const u=ou*a/5,l=a1(u),c=Ts(u);t.lineTo(c*n,-l*n),t.lineTo(l*i-c*o,c*i+l*o)}t.closePath()}},yf=Kt(3),_1={draw(t,e){const n=-Kt(e/(yf*3));t.moveTo(0,n*2),t.lineTo(-yf*n,-n),t.lineTo(yf*n,-n),t.closePath()}},S4=Kt(3),y1={draw(t,e){const n=Kt(e)*.6824,i=n/2,o=n*S4/2;t.moveTo(0,-n),t.lineTo(o,i),t.lineTo(-o,i),t.closePath()}},ze=-.5,Ne=Kt(3)/2,Cl=1/Kt(12),P4=(Cl/2+1)*3,v1={draw(t,e){const n=Kt(e/P4),i=n/2,o=n*Cl,a=i,u=n*Cl+n,l=-a,c=u;t.moveTo(i,o),t.lineTo(a,u),t.lineTo(l,c),t.lineTo(ze*i-Ne*o,Ne*i+ze*o),t.lineTo(ze*a-Ne*u,Ne*a+ze*u),t.lineTo(ze*l-Ne*c,Ne*l+ze*c),t.lineTo(ze*i+Ne*o,ze*o-Ne*i),t.lineTo(ze*a+Ne*u,ze*u-Ne*a),t.lineTo(ze*l+Ne*c,ze*c-Ne*l),t.closePath()}},b1={draw(t,e){const n=Kt(e-mc(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},k4=[gc,u1,l1,d1,g1,_1,v1],C4=[gc,h1,b1,y1,s1,p1,c1];function fo(t,e,n){this.k=t,this.x=e,this.y=n}fo.prototype={constructor:fo,scale:function(t){return t===1?this:new fo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new fo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};fo.prototype;function $i(t){return t!=null&&!Number.isNaN(t)}function nn(t,e){return+$i(e)-+$i(t)||_e(t,e)}function Ss(t,e){return+$i(e)-+$i(t)||Do(t,e)}function w1(t){return t!=null&&`${t}`!=""}function x1(t){return isFinite(t)?t:NaN}function _c(t){return t>0&&isFinite(t)?t:NaN}function M1(t){return t<0&&isFinite(t)?t:NaN}function A4(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),i=t.getUTCMinutes(),o=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${E4(t.getUTCFullYear())}-${$n(t.getUTCMonth()+1,2)}-${$n(t.getUTCDate(),2)}${n||i||o||a?`T${$n(n,2)}:${$n(i,2)}${o||a?`:${$n(o,2)}${a?`.${$n(a,3)}`:""}`:""}Z`:""}`}function E4(t){return t<0?`-${$n(-t,6)}`:t>9999?`+${$n(t,6)}`:$n(t,4)}function $n(t,e){return`${t}`.padStart(e,"0")}const $4=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function T1(t,e){return $4.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const rr=1e3,pi=rr*60,mi=pi*60,Fn=mi*24,cn=Fn*7,vi=Fn*30,Gn=Fn*365,vf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",rr],["5 seconds",5*rr],["15 seconds",15*rr],["30 seconds",30*rr],["minute",pi],["5 minutes",5*pi],["15 minutes",15*pi],["30 minutes",30*pi],["hour",mi],["3 hours",3*mi],["6 hours",6*mi],["12 hours",12*mi],["day",Fn],["2 days",2*Fn],["week",cn],["2 weeks",2*cn],["month",vi],["3 months",3*vi],["6 months",6*vi],["year",Gn],["2 years",2*Gn],["5 years",5*Gn],["10 years",10*Gn],["20 years",20*Gn],["50 years",50*Gn],["100 years",100*Gn]],yc=new Map([["second",rr],["minute",pi],["hour",mi],["day",Fn],["monday",cn],["tuesday",cn],["wednesday",cn],["thursday",cn],["friday",cn],["saturday",cn],["sunday",cn],["week",cn],["month",vi],["year",Gn]]),L1=new Map([["second",pn],["minute",Js],["hour",Qs],["day",zi],["monday",So],["tuesday",Ig],["wednesday",Dg],["thursday",Ai],["friday",Bg],["saturday",Rg],["sunday",vr],["week",vr],["month",qo],["year",tn]]),S1=new Map([["second",pn],["minute",Ho],["hour",Wo],["day",eu],["monday",Po],["tuesday",Zg],["wednesday",Fg],["thursday",Ei],["friday",Ug],["saturday",Hg],["sunday",br],["week",br],["month",Yo],["year",en]]),Go=Symbol("intervalDuration"),au=Symbol("intervalType");for(const[t,e]of L1)e[Go]=yc.get(t),e[au]="time";for(const[t,e]of S1)e[Go]=yc.get(t),e[au]="utc";const z4=[["year",en,"utc"],["year",tn,"time"],["month",Yo,"utc"],["month",qo,"time"],["day",eu,"utc",6*vi],["day",zi,"time",6*vi],["hour",Wo,"utc",3*Fn],["minute",Ho,"utc",6*mi],["second",pn,"utc",30*pi]];function P1(t,e,n){let i=`${t}`.toLowerCase();i.endsWith("s")&&(i=i.slice(0,-1));let o=1;const a=/^(?:(\d+)\s+)/.exec(i);switch(a&&(i=i.slice(a[0].length),o=+a[1]),i){case"quarter":i="month",o*=3;break;case"half":i="month",o*=6;break}let u=e.get(i);if(!u)throw new Error(`unknown interval: ${t}`);if(o>1){if(!u.every)throw new Error(`non-periodic interval: ${i}`);u=u.every(o),u[Go]=yc.get(i)*o,u[au]=n}return u}function k1(t){return P1(t,L1,"time")}function C1(t){return P1(t,S1,"utc")}function bp(t,e){if(!(e>1))return;const n=t[Go];if(!vf.some(([,o])=>o===n)||n%Fn===0&&Fn<n&&n<vi)return;const[i]=vf[Ds(([,o])=>Math.log(o)).center(vf,Math.log(n*e))];return(t[au]==="time"?k1:C1)(i)}function wp(t,e,n){const i=e==="time"?dc:Vo;if(n==null)return i(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const o=N4(n);switch(t){case"millisecond":return Qi(i(".%L"),i(":%M:%S"),o);case"second":return Qi(i(":%S"),i("%-I:%M"),o);case"minute":return Qi(i("%-I:%M"),i("%p"),o);case"hour":return Qi(i("%-I %p"),i("%b %-d"),o);case"day":return Qi(i("%-d"),i("%b"),o);case"month":return Qi(i("%b"),i("%Y"),o);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function N4(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function O4(t,e){const n=Je(Zw(t,(i,o)=>Math.abs(o-i)));if(n<1e3)return wp("millisecond","utc",e);for(const[i,o,a,u]of z4){if(n>u||i==="hour"&&!n)break;if(t.every(l=>o.floor(l)>=l))return wp(i,a,e)}}function Qi(t,e,n){return(i,o,a)=>{const u=t(i,o),l=e(i,o),c=o-wr(a);return o!==c&&a[c]!==void 0&&l===e(a[c],c)?u:n(u,l)}}const ko=Object.getPrototypeOf(Uint8Array),I4=Object.prototype.toString,A1=Symbol("reindex");function te(t,e,n){const i=typeof e;return i==="string"?xp(t,E1(e),n):i==="function"?xp(t,e,n):i==="number"||e instanceof Date||i==="boolean"?ne(t,Xo(e),n):typeof(e==null?void 0:e.transform)=="function"?Mp(e.transform(t),n):D4(Mp(e,n),t==null?void 0:t[A1])}function D4(t,e){return e?xc(t,e):t}function xp(t,e,n){return ne(t,(n==null?void 0:n.prototype)instanceof ko?B4(e):e,n)}function Mp(t,e){return e===void 0?ke(t):t instanceof e?t:e.prototype instanceof ko&&!(t instanceof ko)?e.from(t,bc):e.from(t)}function B4(t){return(e,n)=>bc(t(e,n))}const qa=[null],E1=t=>e=>e[t],$1={transform:Hn},ve={transform:t=>t},R4=()=>1,Z4=()=>!0,pe=t=>t==null?t:`${t}`,Ht=t=>t==null?t:+t,vc=t=>t?t[0]:void 0,Al=t=>t?t[1]:void 0,Xo=t=>()=>t;function F4(t){const e=+`${t}`.slice(1)/100;return(n,i)=>Ja(n,e,i)}function Tp(t){return t instanceof ko?t:ne(t,bc,Float64Array)}function bc(t){return t==null?NaN:Number(t)}function U4(t){return ne(t,H4)}function H4(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?T1(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Un(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:fu(t)?[void 0,t]:[t,void 0]}function Me(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function z1(t,e,n){if(t!=null)return on(t,e,n)}function on(t,e,n){const i=`${t}`.toLowerCase();if(!n.includes(i))throw new Error(`invalid ${e}: ${t}`);return i}function ke(t){return t==null||t instanceof Array||t instanceof ko?t:Array.from(t)}function ne(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function Co(t,e=Array){return t instanceof e?t.slice():e.from(t)}function N1({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function W4({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function q4(t){return N1(t)||W4(t)||t.interval!==void 0}function ei(t){return(t==null?void 0:t.toString)===I4}function El(t){return ei(t)&&(t.type!==void 0||t.domain!==void 0)}function wc(t){return ei(t)&&typeof t.transform!="function"}function Ao(t){return wc(t)&&t.value===void 0&&t.channel===void 0}function Y4(t,e,n,i=ve){return e===void 0&&n===void 0?(e=0,n=t===void 0?i:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function su(t,e){return t===void 0&&e===void 0?[vc,Al]:[t,e]}function V4({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Un(e)),t===void 0&&([t]=Un(n)),t}function Hn(t){const e=t.length,n=new Uint32Array(e);for(let i=0;i<e;++i)n[i]=i;return n}function xc(t,e){return ne(e,n=>t[n],t.constructor)}function G4(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Ea(t){return t!==null&&typeof t=="object"?t.valueOf():t}function X4(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Ps(t){let e;return[{transform:()=>e,label:Ar(t)},n=>e=n]}function nr(t){return t==null?[t]:Ps(t)}function Ar(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function j4(t,e){return{transform(n){const i=t.transform(n),o=e.transform(n);return He(i)||He(o)?ne(i,(a,u)=>new Date((+i[u]+ +o[u])/2)):ne(i,(a,u)=>(+i[u]+ +o[u])/2,Float64Array)},label:t.label}}function $l(t,e){const n=O1(e==null?void 0:e.interval,e==null?void 0:e.type);return n?ne(t,n):t}function O1(t,e){const n=Mc(t,e);return n&&(i=>$i(i)?n.floor(i):i)}function Mc(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:i=>Math.floor(i*n)/n,offset:i=>(i*n+1)/n,range:(i,o)=>Wf(Math.ceil(i*n),o*n).map(a=>a/n)}:{floor:i=>Math.floor(i/n)*n,offset:i=>i+n,range:(i,o)=>Wf(Math.ceil(i/n),o/n).map(a=>a*n)}}if(typeof t=="string")return(e==="time"?k1:C1)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function jo(t,e){if(t=Mc(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function K4(t,e){if(t=jo(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function J4(t){return typeof(t==null?void 0:t.range)=="function"}function uu(t){return t===void 0||wc(t)?t:{value:t}}function Q4(t){return t==null?null:{transform:e=>te(e,t,Float64Array),label:Ar(t)}}function Ii(t){return t&&typeof t[Symbol.iterator]=="function"}function I1(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function Lp(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function He(t){for(const e of t)if(e!=null)return e instanceof Date}function t7(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&T1(e)}function e7(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function n7(t){for(const e of t)if(e!=null)return typeof e=="number"}function bf(t,e){let n;for(const i of t)if(i!=null){if(!e(i))return!1;n=!0}return n}const i7=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function fu(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||i7.has(t))}function r7(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function ge(t){return t==null||Eo(t)}function Eo(t){return/^\s*none\s*$/i.test(t)}function o7(t){return/^\s*round\s*$/i.test(t)}function D1(t,e){return z1(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Tc(t="middle"){return D1(t,"frameAnchor")}function wr(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Do(e,n)}function a7(t={},...e){let n=t;for(const i of e)for(const o in i)if(n[o]===void 0){const a=i[o];n===t?n={...n,[o]:a}:n[o]=a}return n}function s7(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:i}=n;if(i==null)throw new Error("missing name");const o=`${i}`;if(o==="__proto__")throw new Error(`illegal name: ${o}`);if(e.has(o))throw new Error(`duplicate name: ${o}`);return e.add(o),[i,n]}))}function B1(t){return Ii(t)?s7(t):t}const mn=Symbol("position"),Wn=Symbol("color"),Ko=Symbol("radius"),Jo=Symbol("length"),Qo=Symbol("opacity"),lu=Symbol("symbol"),R1=Symbol("projection"),Yt=new Map([["x",mn],["y",mn],["fx",mn],["fy",mn],["r",Ko],["color",Wn],["opacity",Qo],["symbol",lu],["length",Jo],["projection",R1]]);function u7(t){return t===mn||t===R1}function f7(t){return t===mn||t===Ko||t===Jo||t===Qo}const l7=Math.sqrt(3),c7=2/l7,h7={draw(t,e){const n=Math.sqrt(e/Math.PI),i=n*c7,o=i/2;t.moveTo(0,i),t.lineTo(n,o),t.lineTo(n,-o),t.lineTo(0,-i),t.lineTo(-n,-o),t.lineTo(-n,o),t.closePath()}},Z1=new Map([["asterisk",s1],["circle",gc],["cross",u1],["diamond",l1],["diamond2",c1],["hexagon",h7],["plus",h1],["square",d1],["square2",p1],["star",g1],["times",b1],["triangle",_1],["triangle2",y1],["wye",v1]]);function F1(t){return t&&typeof t.draw=="function"}function d7(t){return F1(t)?!0:typeof t!="string"?!1:Z1.has(t.toLowerCase())}function Lc(t){if(t==null||F1(t))return t;const e=Z1.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Sc({filter:t,sort:e,reverse:n,transform:i,initializer:o,...a}={},u){if(i===void 0&&(t!=null&&(i=U1(t)),e!=null&&!Ao(e)&&(i=wf(i,W1(e))),n&&(i=wf(i,H1))),u!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||Ao(e))&&{sort:e},transform:wf(i,u)}}function ks({filter:t,sort:e,reverse:n,initializer:i,...o}={},a){return i===void 0&&(t!=null&&(i=U1(t)),e!=null&&!Ao(e)&&(i=xf(i,W1(e))),n&&(i=xf(i,H1))),{...o,...(e===null||Ao(e))&&{sort:e},initializer:xf(i,a)}}function wf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,i,o){return{data:n,facets:i}=t.call(this,n,i,o),e.call(this,ke(n),i,o)}}function xf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,i,o,...a){let u,l,c,h,d,m;return{data:l=n,facets:c=i,channels:u}=t.call(this,n,i,o,...a),{data:d=l,facets:m=c,channels:h}=e.call(this,l,c,{...o,...u},...a),{data:d,facets:m,channels:{...u,...h}}}}function U1(t){return(e,n)=>{const i=te(e,t);return{data:e,facets:n.map(o=>o.filter(a=>i[a]))}}}function H1(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function W1(t){return(typeof t=="function"&&t.length!==1?p7:m7)(t)}function p7(t){return(e,n)=>{const i=(o,a)=>t(e[o],e[a]);return{data:e,facets:n.map(o=>o.slice().sort(i))}}}function m7(t){let e,n;({channel:e,value:t,order:n}={...uu(t)});const i=e==null?void 0:e.startsWith("-");if(i&&(e=e.slice(1)),n===void 0&&(n=i?Ss:nn),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=nn;break;case"descending":n=Ss;break;default:throw new Error(`invalid order: ${n}`)}return(o,a,u)=>{let l;if(e===void 0)l=te(o,t);else{if(u===void 0)throw new Error("channel sort requires an initializer");if(l=u[e],!l)return{};l=l.value}const c=(h,d)=>n(l[h],l[d]);return{data:o,facets:a.map(h=>h.slice().sort(c))}}}function Sp(t,e){return Pc(null,null,t,e)}function Cs(t={x:"count"},e={}){const{y:n=ve}=e;if(n==null)throw new Error("missing channel: y");return Pc(null,n,t,e)}function $a(t={fill:"count"},e={}){let{x:n,y:i}=e;if([n,i]=su(n,i),n==null)throw new Error("missing channel: x");if(i==null)throw new Error("missing channel: y");return Pc(n,i,t,e)}function Pc(t,e,{data:n=V1,filter:i,sort:o,reverse:a,...u}={},l={}){u=g7(u,l),n=kc(n,ve),o=o==null?void 0:q1("sort",o,l),i=i==null?void 0:Y1("filter",i,l);const[c,h]=nr(t),[d,m]=nr(e),{z:g,fill:_,stroke:v,x1:b,x2:w,y1:S,y2:M,...P}=l,[T,k]=nr(g),[E]=Un(_),[z]=Un(v),[I,B]=nr(E),[$,A]=nr(z);return{..."z"in l&&{z:T||g},..."fill"in l&&{fill:I||_},..."stroke"in l&&{stroke:$||v},...Sc(P,(D,U,Z)=>{const O=$l(te(D,t),Z==null?void 0:Z.x),Y=$l(te(D,e),Z==null?void 0:Z.y),Q=te(D,g),V=te(D,E),tt=te(D,z),F=v7(u,{z:Q,fill:V,stroke:tt}),W=[],X=[],K=O&&h([]),ut=Y&&m([]),rt=Q&&k([]),J=V&&B([]),j=tt&&A([]);let ft=0;for(const q of u)q.initialize(D);o&&o.initialize(D),i&&i.initialize(D);for(const q of U){const nt=[];for(const st of u)st.scope("facet",q);o&&o.scope("facet",q),i&&i.scope("facet",q);for(const[st,H]of Mf(q,F))for(const[vt,pt]of Mf(H,Y))for(const[At,Et]of Mf(pt,O))if(!(i&&!i.reduce(Et))){nt.push(ft++),X.push(n.reduceIndex(Et,D)),O&&K.push(At),Y&&ut.push(vt),Q&&rt.push(F===Q?st:Q[Et[0]]),V&&J.push(F===V?st:V[Et[0]]),tt&&j.push(F===tt?st:tt[Et[0]]);for(const lt of u)lt.reduce(Et);o&&o.reduce(Et)}W.push(nt)}return b7(W,o,a),{data:X,facets:W}}),...!Pp(u,"x")&&(c?{x:c}:{x1:b,x2:w}),...!Pp(u,"y")&&(d?{y:d}:{y1:S,y2:M}),...Object.fromEntries(u.map(({name:D,output:U})=>[D,U]))}}function Pp(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function g7(t,e,n=q1){const i=Object.entries(t);return e.title!=null&&t.title===void 0&&i.push(["title",M7]),e.href!=null&&t.href===void 0&&i.push(["href",G1]),i.filter(([,o])=>o!==void 0).map(([o,a])=>a===null?_7(o):n(o,a,e))}function q1(t,e,n,i=Y1){let o;ei(e)&&"reduce"in e&&(o=e.scale,e=e.reduce);const a=i(t,e,n),[u,l]=Ps(a.label);let c;return{name:t,output:o===void 0?u:{value:u,scale:o},initialize(h){a.initialize(h),c=l([])},scope(h,d){a.scope(h,d)},reduce(h,d){c.push(a.reduce(h,d))}}}function _7(t){return{name:t,initialize(){},scope(){},reduce(){}}}function Y1(t,e,n,i=kc){const o=X4(t,n),a=i(e,o);let u,l;return{label:Ar(a===zl?null:o,a.label),initialize(c){u=o===void 0?c:te(c,o),a.scope==="data"&&(l=a.reduceIndex(Hn(c),u))},scope(c,h){a.scope===c&&(l=a.reduceIndex(h,u))},reduce(c,h){return a.scope==null?a.reduceIndex(c,u,h):a.reduceIndex(c,u,l,h)}}}function Mf(t,e){return e?yo(ql(t,n=>e[n]),vc):[[,t]]}function kc(t,e,n=y7){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&ei(t))return w7(t);if(typeof t=="function")return x7(t);if(/^p\d{2}$/i.test(t))return En(F4(t));switch(`${t}`.toLowerCase()){case"first":return G1;case"last":return T7;case"identity":return V1;case"count":return zl;case"distinct":return L7;case"sum":return e==null?zl:S7;case"proportion":return Cp(e,"data");case"proportion-facet":return Cp(e,"facet");case"deviation":return En(Mw);case"min":return En(Dn);case"min-index":return En(Ow);case"max":return En(Je);case"max-index":return En(Nw);case"mean":return kp(Dw);case"median":return kp(Hf);case"variance":return En(Km);case"mode":return En(Rw)}return n(t)}function y7(t){throw new Error(`invalid reduce: ${t}`)}function v7(t,e){for(const n in e){const i=e[n];if(i!==void 0&&!t.some(o=>o.name===n))return i}}function b7(t,e,n){if(e){const i=e.output.transform(),o=(a,u)=>nn(i[a],i[u]);t.forEach(a=>a.sort(o))}n&&t.forEach(i=>i.reverse())}function w7(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function x7(t){return{reduceIndex(e,n,i){return t(xc(n,e),i)}}}function En(t){return{reduceIndex(e,n){return t(e,i=>n[i])}}}function kp(t){return{reduceIndex(e,n){const i=t(e,o=>n[o]);return He(n)?new Date(i):i}}}const V1={reduceIndex(t,e){return xc(e,t)}},G1={reduceIndex(t,e){return e[t[0]]}},M7={reduceIndex(t,e){const i=yo(ar(t,a=>a.length,a=>e[a]),Al),o=i.slice(-5).reverse();if(o.length<i.length){const a=i.slice(0,-4);o[5-1]=[` ${a.length.toLocaleString("en-US")} more`,jn(a,Al)]}return o.map(([a,u])=>`${a} (${u.toLocaleString("en-US")})`).join(`
`)}},T7={reduceIndex(t,e){return e[t[t.length-1]]}},zl={label:"Frequency",reduceIndex(t){return t.length}},L7={label:"Distinct",reduceIndex(t,e){const n=new Rs;for(const i of t)n.add(e[i]);return n.size}},S7=En(jn);function Cp(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,i,o=1)=>n.length/o}:{scope:e,reduceIndex:(n,i,o=1)=>jn(n,a=>i[a])/o}}function $o(t,{scale:e,type:n,value:i,filter:o,hint:a,label:u=Ar(i)},l){return a===void 0&&typeof(i==null?void 0:i.transform)=="function"&&(a=i.hint),X1(l,{scale:e,type:n,value:te(t,i),label:u,filter:o,hint:a})}function P7(t,e){return Object.fromEntries(Object.entries(t).map(([n,i])=>[n,$o(e,i,n)]))}function k7(t,e){const n=Object.fromEntries(Object.entries(t).map(([i,{scale:o,value:a}])=>{const u=o==null?null:e[o];return[i,u==null?a:ne(a,u)]}));return n.channels=t,n}function X1(t,e){const{scale:n,value:i}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&bf(i,fu)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&bf(i,r7)?null:"opacity";break;case"symbol":n!==!0&&bf(i,d7)?(e.scale=null,e.value=ne(i,Lc)):e.scale="symbol";break;default:e.scale=Yt.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Yt.has(n))throw new Error(`unknown scale: ${n}`);return e}function C7(t,e,n,i,o){const{order:a,reverse:u,reduce:l=!0,limit:c}=o;for(const h in o){if(!Yt.has(h))continue;let{value:d,order:m=a,reverse:g=u,reduce:_=l,limit:v=c}=uu(o[h]);const b=d==null?void 0:d.startsWith("-");if(b&&(d=d.slice(1)),m=m===void 0?b!==(d==="width"||d==="height")?K1:j1:$7(m),_==null||_===!1)continue;const w=h==="fx"||h==="fy"?E7(e,i[h]):A7(n,h);if(!w)throw new Error(`missing channel for scale: ${h}`);const S=w.value,[M=0,P=1/0]=Ii(v)?v:v<0?[v]:[0,v];if(d==null)w.domain=()=>{let T=Array.from(new Rs(S));return g&&(T=T.reverse()),(M!==0||P!==1/0)&&(T=T.slice(M,P)),T};else{const T=d==="data"?t:d==="height"?Ap(n,"y1","y2"):d==="width"?Ap(n,"x1","x2"):Nl(n,d,d==="y"?"y2":d==="x"?"x2":void 0),k=kc(_===!0?"max":_,T);w.domain=()=>{let E=Tw(Hn(S),z=>k.reduceIndex(z,T),z=>S[z]);return m&&E.sort(m),g&&E.reverse(),(M!==0||P!==1/0)&&(E=E.slice(M,P)),E.map(vc)}}}}function A7(t,e){for(const n in t){const i=t[n];if(i.scale===e)return i}}function E7(t,e){const n=t.original;if(n===t)return e;const i=e.value,o=e.value=[];for(let a=0;a<n.length;++a){const u=i[n[a][0]];for(const l of t[a])o[l]=u}return e}function Ap(t,e,n){const i=Nl(t,e),o=Nl(t,n);return ne(o,(a,u)=>Math.abs(a-i[u]),Float64Array)}function Nl(t,e,n){let i=t[e];if(!i&&n!==void 0&&(i=t[n]),i)return i.value;throw new Error(`missing channel: ${e}`)}function $7(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return j1;case"descending":return K1}throw new Error(`invalid order: ${t}`)}function j1([t,e],[n,i]){return nn(e,i)||nn(t,n)}function K1([t,e],[n,i]){return Ss(e,i)||nn(t,n)}function Ep(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function z7(t){let e,n;return(...i)=>(((n==null?void 0:n.length)!==i.length||n.some((o,a)=>o!==i[a]))&&(n=i,e=t(...i)),e)}const N7=z7(t=>new Intl.NumberFormat(t));function O7(t="en-US"){const e=N7(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function I7(t){return A4(t,"Invalid Date")}function D7(t="en-US"){const e=O7(t);return n=>(n instanceof Date?I7:typeof n=="number"?e:pe)(n)}const xr=D7();let Ol=0,Il;function B7(){const t=Ol;return Ol=0,Il=void 0,t}function bi(t){t!==Il&&(Il=t,console.warn(t),++Ol)}const Te=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let R7=0;function $p(){return`plot-clip-${++R7}`}function Z7(t,{title:e,href:n,ariaLabel:i,ariaDescription:o,ariaHidden:a,target:u,fill:l,fillOpacity:c,stroke:h,strokeWidth:d,strokeOpacity:m,strokeLinejoin:g,strokeLinecap:_,strokeMiterlimit:v,strokeDasharray:b,strokeDashoffset:w,opacity:S,mixBlendMode:M,imageFilter:P,paintOrder:T,pointerEvents:k,shapeRendering:E,channels:z},{ariaLabel:I,fill:B="currentColor",fillOpacity:$,stroke:A="none",strokeOpacity:D,strokeWidth:U,strokeLinecap:Z,strokeLinejoin:O,strokeMiterlimit:Y,paintOrder:Q}){B===null&&(l=null,c=null),A===null&&(h=null,m=null),ge(B)?!ge(A)&&(!ge(l)||z!=null&&z.fill)&&(A="none"):ge(A)&&(!ge(h)||z!=null&&z.stroke)&&(B="none");const[V,tt]=Un(l,B),[F,W]=Me(c,$),[X,K]=Un(h,A),[ut,rt]=Me(m,D),[J,j]=Me(S);Eo(K)||(d===void 0&&(d=U),_===void 0&&(_=Z),g===void 0&&(g=O),v===void 0&&!o7(g)&&(v=Y),!Eo(tt)&&T===void 0&&(T=Q));const[ft,q]=Me(d);return B!==null&&(t.fill=oe(tt,"currentColor"),t.fillOpacity=Qr(W,1)),A!==null&&(t.stroke=oe(K,"none"),t.strokeWidth=Qr(q,1),t.strokeOpacity=Qr(rt,1),t.strokeLinejoin=oe(g,"miter"),t.strokeLinecap=oe(_,"butt"),t.strokeMiterlimit=Qr(v,4),t.strokeDasharray=oe(b,"none"),t.strokeDashoffset=oe(w,"0")),t.target=pe(u),t.ariaLabel=pe(I),t.ariaDescription=pe(o),t.ariaHidden=pe(a),t.opacity=Qr(j,1),t.mixBlendMode=oe(M,"normal"),t.imageFilter=oe(P,"none"),t.paintOrder=oe(T,"normal"),t.pointerEvents=oe(k,"auto"),t.shapeRendering=oe(E,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:i,optional:!0,filter:null},fill:{value:V,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:X,scale:"auto",optional:!0},strokeOpacity:{value:ut,scale:"auto",optional:!0},strokeWidth:{value:ft,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function F7(t,e){e&&t.filter(n=>w1(e[n])).append("title").call(U7,e)}function U7(t,e){e&&t.text(n=>xr(e[n]))}function Er(t,{target:e,tip:n},{ariaLabel:i,title:o,fill:a,fillOpacity:u,stroke:l,strokeOpacity:c,strokeWidth:h,opacity:d,href:m}){i&&Pt(t,"aria-label",g=>i[g]),a&&Pt(t,"fill",g=>a[g]),u&&Pt(t,"fill-opacity",g=>u[g]),l&&Pt(t,"stroke",g=>l[g]),c&&Pt(t,"stroke-opacity",g=>c[g]),h&&Pt(t,"stroke-width",g=>h[g]),d&&Pt(t,"opacity",g=>d[g]),m&&W7(t,g=>m[g],e),n||F7(t,o)}function J1(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=on(t,"clip",["frame","sphere"])),t}function H7(t,e,n,i){let o;const{clip:a=i.clip}=e;switch(a){case"frame":{const{width:u,height:l,marginLeft:c,marginRight:h,marginTop:d,marginBottom:m}=n,g=$p();o=`url(#${g})`,t=be("svg:g",i).call(_=>_.append("svg:clipPath").attr("id",g).append("rect").attr("x",c).attr("y",d).attr("width",u-h-c).attr("height",l-d-m)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:u}=i;if(!u)throw new Error('the "sphere" clip option requires a projection');const l=$p();o=`url(#${l})`,t.append("clipPath").attr("id",l).append("path").attr("d",fg(u)({type:"Sphere"}));break}}Pt(t,"aria-label",e.ariaLabel),Pt(t,"aria-description",e.ariaDescription),Pt(t,"aria-hidden",e.ariaHidden),Pt(t,"clip-path",o)}function Di(t,e,n,i){H7(t,e,n,i),Pt(t,"fill",e.fill),Pt(t,"fill-opacity",e.fillOpacity),Pt(t,"stroke",e.stroke),Pt(t,"stroke-width",e.strokeWidth),Pt(t,"stroke-opacity",e.strokeOpacity),Pt(t,"stroke-linejoin",e.strokeLinejoin),Pt(t,"stroke-linecap",e.strokeLinecap),Pt(t,"stroke-miterlimit",e.strokeMiterlimit),Pt(t,"stroke-dasharray",e.strokeDasharray),Pt(t,"stroke-dashoffset",e.strokeDashoffset),Pt(t,"shape-rendering",e.shapeRendering),Pt(t,"filter",e.imageFilter),Pt(t,"paint-order",e.paintOrder);const{pointerEvents:o=i.pointerSticky===!1?"none":void 0}=e;Pt(t,"pointer-events",o)}function Bi(t,e){q7(t,"mix-blend-mode",e.mixBlendMode),Pt(t,"opacity",e.opacity)}function W7(t,e,n){t.each(function(i){const o=e(i);if(o!=null){const a=this.ownerDocument.createElementNS(hr.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(hr.xlink,"href",o),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function Pt(t,e,n){n!=null&&t.attr(e,n)}function q7(t,e,n){n!=null&&t.style(e,n)}function ni(t,e,{x:n,y:i},o=Te,a=Te){o+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(o+=n.bandwidth()/2),i!=null&&i.bandwidth&&(a+=i.bandwidth()/2),(o||a)&&t.attr("transform",`translate(${o},${a})`)}function oe(t,e){if((t=pe(t))!==e)return t}function Qr(t,e){if((t=Ht(t))!==e)return t}const Y7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Cc(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!Y7.test(t))throw new Error(`invalid class name: ${t}`);return t}function Ac(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function cu({frameAnchor:t},{width:e,height:n,marginTop:i,marginRight:o,marginBottom:a,marginLeft:u}){return[/left$/.test(t)?u:/right$/.test(t)?e-o:(u+e-o)/2,/^top/.test(t)?i:/^bottom/.test(t)?n-a:(i+n-a)/2]}function Ec(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:J1(n)}}function be(t,{document:e}){return xe(Fs(t).call(e.documentElement))}const Q1=Math.PI,kn=2*Q1,zp=.618;function V7({projection:t,inset:e=0,insetTop:n=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e}={},u){if(t==null)return;if(typeof t.stream=="function")return t;let l,c,h="frame";if(ei(t)){let k;if({type:t,domain:c,inset:k,insetTop:n=k!==void 0?k:n,insetRight:i=k!==void 0?k:i,insetBottom:o=k!==void 0?k:o,insetLeft:a=k!==void 0?k:a,clip:h=h,...l}=t,t==null)return}typeof t!="function"&&({type:t}=ty(t));const{width:d,height:m,marginLeft:g,marginRight:_,marginTop:v,marginBottom:b}=u,w=d-g-_-a-i,S=m-v-b-n-o;if(t=t==null?void 0:t({width:w,height:S,clip:h,...l}),t==null)return;h=G7(h,g,v,d-_,m-b);let M=g+a,P=v+n,T;if(c!=null){const[[k,E],[z,I]]=fg(t).bounds(c),B=Math.min(w/(z-k),S/(I-E));B>0?(M-=(B*(k+z)-w)/2,P-=(B*(E+I)-S)/2,T=xl({point($,A){this.stream.point($*B+M,A*B+P)}})):bi("Warning: the projection could not be fit to the specified domain; using the default scale.")}return T??(T=M===0&&P===0?ey():xl({point(k,E){this.stream.point(k+M,E+P)}})),{stream:k=>t.stream(T.stream(h(k)))}}function ty(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Ge(S3,.7463,.4673);case"albers":return za(pg,.7463,.4673);case"azimuthal-equal-area":return Ge(P3,4,4);case"azimuthal-equidistant":return Ge(k3,kn,kn);case"conic-conformal":return za(E3,kn,kn);case"conic-equal-area":return za(ys,6.1702,2.9781);case"conic-equidistant":return za(N3,7.312,3.6282);case"equal-earth":return Ge(I3,5.4133,2.6347);case"equirectangular":return Ge($3,kn,Q1);case"gnomonic":return Ge(D3,3.4641,3.4641);case"identity":return{type:ey};case"reflect-y":return{type:X7};case"mercator":return Ge(C3,kn,kn);case"orthographic":return Ge(B3,2,2);case"stereographic":return Ge(R3,2,2);case"transverse-mercator":return Ge(Z3,kn,kn);default:throw new Error(`unknown projection type: ${t}`)}}function G7(t,e,n,i,o){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return K0(e,n,i,o);default:throw new Error(`unknown projection clip type: ${t}`)}}function Ge(t,e,n){return{type:({width:i,height:o,rotate:a,precision:u=.15,clip:l})=>{var h,d,m;const c=t();return u!=null&&((h=c.precision)==null||h.call(c,u)),a!=null&&((d=c.rotate)==null||d.call(c,a)),typeof l=="number"&&((m=c.clipAngle)==null||m.call(c,l)),c.scale(Math.min(i/e,o/n)),c.translate([i/2,o/2]),c},aspectRatio:n/e}}function za(t,e,n){const{type:i,aspectRatio:o}=Ge(t,e,n);return{type:a=>{const{parallels:u,domain:l,width:c,height:h}=a,d=i(a);return u!=null&&(d.parallels(u),l===void 0&&d.fitSize([c,h],{type:"Sphere"})),d},aspectRatio:o}}const ey=Xo({stream:t=>t}),X7=Xo(xl({point(t,e){this.stream.point(t,-e)}}));function j7(t,e,n,i){const o=n[t],a=n[e],u=o.length,l=n[t]=new Float64Array(u).fill(NaN),c=n[e]=new Float64Array(u).fill(NaN);let h;const d=i.stream({point(m,g){l[h]=m,c[h]=g}});for(h=0;h<u;++h)d.point(o[h],a[h])}function K7({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(ei(t)&&(t=t.type),t!=null)}function J7(t){if(typeof(t==null?void 0:t.stream)=="function")return zp;if(ei(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=ty(t);if(e)return e}return zp}}function Q7(t){const e=[],n=[],i={scale:"x",value:e},o={scale:"y",value:n},a={point(u,l){e.push(u),n.push(l)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const u of t.value)ci(u,a);return[i,o]}const ny=new Map([["accent",l4],["category10",f4],["dark2",c4],["paired",h4],["pastel1",d4],["pastel2",p4],["set1",m4],["set2",g4],["set3",_4],["tableau10",y4]]);function tM(t){return t!=null&&ny.has(`${t}`.toLowerCase())}const Np=new Map([...ny,["brbg",Cn(Qg,t_)],["prgn",Cn(e_,n_)],["piyg",Cn(i_,r_)],["puor",Cn(o_,a_)],["rdbu",Cn(Pl,xs)],["rdgy",Cn(s_,u_)],["rdylbu",Cn(kl,Ms)],["rdylgn",Cn(f_,l_)],["spectral",Cn(c_,h_)],["burd",Op(Pl,xs)],["buylrd",Op(kl,Ms)],["blues",Qt(D_,B_)],["greens",Qt(R_,Z_)],["greys",Qt(F_,U_)],["oranges",Qt(V_,G_)],["purples",Qt(H_,W_)],["reds",Qt(q_,Y_)],["turbo",An(e1)],["viridis",An(n1)],["magma",An(i1)],["inferno",An(r1)],["plasma",An(o1)],["cividis",An(X_)],["cubehelix",An(j_)],["warm",An(K_)],["cool",An(J_)],["bugn",Qt(d_,p_)],["bupu",Qt(m_,g_)],["gnbu",Qt(__,y_)],["orrd",Qt(v_,b_)],["pubu",Qt(M_,T_)],["pubugn",Qt(w_,x_)],["purd",Qt(L_,S_)],["rdpu",Qt(P_,k_)],["ylgn",Qt(E_,$_)],["ylgnbu",Qt(C_,A_)],["ylorbr",Qt(z_,N_)],["ylorrd",Qt(O_,I_)],["rainbow",Ip(Q_)],["sinebow",Ip(t1)]]);function Qt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Qe(e,n):t[n])}function Cn(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Qe(e,n):t[n])}function Op(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Qe(i=>e(1-i),n):t[n].slice().reverse())}function An(t){return({length:e})=>Qe(t,Math.max(2,Math.floor(e)))}function Ip(t){return({length:e})=>Qe(t,Math.floor(e)+1).slice(0,-1)}function iy(t){const e=`${t}`.toLowerCase();if(!Np.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Np.get(e)}function hu(t,e){const n=iy(t),i=typeof n=="function"?n({length:e}):n;return i.length!==e?i.slice(0,e):i}function eM(t,e="greys"){const n=new Set,[i,o]=hu(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(o);else if(a===!1)n.add(i);else return;return[...n]}const Dp=new Map([["brbg",t_],["prgn",n_],["piyg",r_],["puor",a_],["rdbu",xs],["rdgy",u_],["rdylbu",Ms],["rdylgn",l_],["spectral",h_],["burd",t=>xs(1-t)],["buylrd",t=>Ms(1-t)],["blues",B_],["greens",Z_],["greys",U_],["purples",W_],["reds",Y_],["oranges",G_],["turbo",e1],["viridis",n1],["magma",i1],["inferno",r1],["plasma",o1],["cividis",X_],["cubehelix",j_],["warm",K_],["cool",J_],["bugn",p_],["bupu",g_],["gnbu",y_],["orrd",b_],["pubugn",x_],["pubu",T_],["purd",S_],["rdpu",k_],["ylgnbu",A_],["ylgn",$_],["ylorbr",N_],["ylorrd",I_],["rainbow",Q_],["sinebow",t1]]);function $c(t){const e=`${t}`.toLowerCase();if(!Dp.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Dp.get(e)}const nM=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function iM(t){return t!=null&&nM.has(`${t}`.toLowerCase())}const ry=t=>e=>t(1-e),Tf=[0,1],Bp=new Map([["number",ue],["rgb",Pi],["hsl",l6],["hcl",d6],["lab",c6]]);function oy(t){const e=`${t}`.toLowerCase();if(!Bp.has(e))throw new Error(`unknown interpolator: ${e}`);return Bp.get(e)}function ta(t,e,n,{type:i,nice:o,clamp:a,zero:u,domain:l=sy(t,n),unknown:c,round:h,scheme:d,interval:m,range:g=Yt.get(t)===Ko?pM(n,l):Yt.get(t)===Jo?mM(n,l):Yt.get(t)===Qo?Tf:void 0,interpolate:_=Yt.get(t)===Wn?d==null&&g!==void 0?Pi:$c(d!==void 0?d:i==="cyclical"?"rainbow":"turbo"):h?ec:ue,reverse:v}){if(m=jo(m,i),(i==="cyclical"||i==="sequential")&&(i="linear"),typeof _!="function"&&(_=oy(_)),v=!!v,g!==void 0){const b=(l=ke(l)).length,w=(g=ke(g)).length;if(b!==w){if(_.length===1)throw new Error("invalid piecewise interpolator");_=Ws(_,g),g=void 0}}if(_.length===1?(v&&(_=ry(_),v=!1),g===void 0&&(g=Float64Array.from(l,(b,w)=>w/(l.length-1)),g.length===2&&(g=Tf)),e.interpolate((g===Tf?Xo:Nc)(_))):e.interpolate(_),u){const[b,w]=Fe(l);(b>0||w<0)&&(l=Co(l),wr(l)!==Math.sign(b)?l[l.length-1]=0:l[0]=0)}return v&&(l=Qa(l)),e.domain(l).unknown(c),o&&(e.nice(rM(o,i)),l=e.domain()),g!==void 0&&e.range(g),a&&e.clamp(a),{type:i,domain:l,range:g,scale:e,interpolate:_,interval:m}}function rM(t,e){return t===!0?void 0:typeof t=="number"?t:K4(t,e)}function oM(t,e,n){return ta(t,Lo(),e,n)}function aM(t,e,n){return ay(t,e,{...n,exponent:.5})}function ay(t,e,{exponent:n=1,...i}){return ta(t,zg().exponent(n),e,{...i,type:"pow"})}function sM(t,e,{base:n=10,domain:i=gM(e),...o}){return ta(t,Cg().base(n),e,{...o,domain:i})}function uM(t,e,{constant:n=1,...i}){return ta(t,Eg().constant(n),e,i)}function fM(t,e,{range:n,quantiles:i=n===void 0?5:(n=[...n]).length,n:o=i,scheme:a="rdylbu",domain:u=_M(e),unknown:l,interpolate:c,reverse:h}){return n===void 0&&(n=c!==void 0?Qe(c,o):Yt.get(t)===Wn?hu(a,o):void 0),u.length>0&&(u=Ng(u,n===void 0?{length:o}:n).quantiles()),zc(t,e,{domain:u,range:n,reverse:h,unknown:l})}function lM(t,e,{range:n,n:i=n===void 0?5:(n=[...n]).length,scheme:o="rdylbu",domain:a=sy(t,e),unknown:u,interpolate:l,reverse:c}){const[h,d]=Fe(a);let m;return n===void 0?(m=vo(h,d,i),m[0]<=h&&m.splice(0,1),m[m.length-1]>=d&&m.pop(),i=m.length+1,n=l!==void 0?Qe(l,i):Yt.get(t)===Wn?hu(o,i):void 0):(m=Qe(ue(h,d),i+1).slice(1,-1),h instanceof Date&&(m=m.map(g=>new Date(g)))),wr(ke(a))<0&&m.reverse(),zc(t,e,{domain:m,range:n,reverse:c,unknown:u})}function zc(t,e,{domain:n=[0],unknown:i,scheme:o="rdylbu",interpolate:a,range:u=a!==void 0?Qe(a,n.length+1):Yt.get(t)===Wn?hu(o,n.length+1):void 0,reverse:l}){n=ke(n);const c=wr(n);if(!isNaN(c)&&!cM(n,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return l&&(u=Qa(u)),{type:"threshold",scale:Og(c<0?Qa(n):n,u===void 0?[]:u).unknown(i),domain:n,range:u}}function cM(t,e){for(let n=1,i=t.length,o=t[0];n<i;++n){const a=Do(o,o=t[n]);if(a!==0&&a!==e)return!1}return!0}function hM(t){return{type:"identity",scale:f7(Yt.get(t))?Sg():e=>e}}function zo(t,e=x1){return t.length?[Dn(t,({value:n})=>n===void 0?n:Dn(n,e)),Je(t,({value:n})=>n===void 0?n:Je(n,e))]:[0,1]}function sy(t,e){const n=Yt.get(t);return(n===Ko||n===Qo||n===Jo?dM:zo)(e)}function dM(t){return[0,t.length?Je(t,({value:e})=>e===void 0?e:Je(e,x1)):1]}function pM(t,e){const n=t.find(({radius:u})=>u!==void 0);if(n!==void 0)return[0,n.radius];const i=Ja(t,.5,({value:u})=>u===void 0?NaN:Ja(u,.25,_c)),o=e.map(u=>3*Math.sqrt(u/i)),a=30/Je(o);return a<1?o.map(u=>u*a):o}function mM(t,e){const n=Hf(t,({value:a})=>a===void 0?NaN:Hf(a,Math.abs)),i=e.map(a=>12*a/n),o=60/Je(i);return o<1?i.map(a=>a*o):i}function gM(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return zo(t,_c);if(n<0)return zo(t,M1)}return[1,10]}function _M(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const i of n)e.push(i);return e}function Nc(t){return(e,n)=>i=>t(e+i*(n-e))}function du(t,e,n,i,{type:o,nice:a,clamp:u,domain:l=zo(i),unknown:c,pivot:h=0,scheme:d,range:m,symmetric:g=!0,interpolate:_=Yt.get(t)===Wn?d==null&&m!==void 0?Pi:$c(d!==void 0?d:"rdbu"):ue,reverse:v}){h=+h,l=ke(l);let[b,w]=l;if(l.length>2&&bi(`Warning: the diverging ${t} scale domain contains extra elements.`),Do(b,w)<0&&([b,w]=[w,b],v=!v),b=Math.min(b,h),w=Math.max(w,h),typeof _!="function"&&(_=oy(_)),m!==void 0&&(_=_.length===1?Nc(_)(...m):Ws(_,m)),v&&(_=ry(_)),g){const S=n.apply(h),M=S-n.apply(b),P=n.apply(w)-S;M<P?b=n.invert(S-P):M>P&&(w=n.invert(S+M))}return e.domain([b,h,w]).unknown(c).interpolator(_),u&&e.clamp(u),a&&e.nice(a),{type:o,domain:[b,w],pivot:h,interpolate:_,scale:e}}function yM(t,e,n){return du(t,Xg(),xM,e,n)}function vM(t,e,n){return uy(t,e,{...n,exponent:.5})}function uy(t,e,{exponent:n=1,...i}){return du(t,Jg().exponent(n=+n),LM(n),e,{...i,type:"diverging-pow"})}function bM(t,e,{base:n=10,pivot:i=1,domain:o=zo(e,i<0?M1:_c),...a}){return du(t,jg().base(n=+n),MM,e,{domain:o,pivot:i,...a})}function wM(t,e,{constant:n=1,...i}){return du(t,Kg().constant(n=+n),SM(n),e,i)}const xM={apply(t){return t},invert(t){return t}},MM={apply:Math.log,invert:Math.exp},TM={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function LM(t){return t===.5?TM:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function SM(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function fy(t,e,n,i){return ta(t,e,n,i)}function PM(t,e,n){return fy(t,s4(),e,n)}function kM(t,e,n){return fy(t,u4(),e,n)}const ea=Symbol("ordinal");function ly(t,e,n,{type:i,interval:o,domain:a,range:u,reverse:l,hint:c}){return o=jo(o,i),a===void 0&&(a=hy(n,o,t)),(i==="categorical"||i===ea)&&(i="ordinal"),l&&(a=Qa(a)),a=e.domain(a).domain(),u!==void 0&&(typeof u=="function"&&(u=u(a)),e.range(u)),{type:i,domain:a,range:u,scale:e,hint:c,interval:o}}function CM(t,e,{type:n,interval:i,domain:o,range:a,scheme:u,unknown:l,...c}){i=jo(i,n),o===void 0&&(o=hy(e,i,t));let h;if(Yt.get(t)===lu)h=$M(e),a=a===void 0?zM(h):ne(a,Lc);else if(Yt.get(t)===Wn&&(a===void 0&&(n==="ordinal"||n===ea)&&(a=eM(o,u),a!==void 0&&(u=void 0)),u===void 0&&a===void 0&&(u=n==="ordinal"?"turbo":"tableau10"),u!==void 0))if(a!==void 0){const d=$c(u),m=a[0],g=a[1]-a[0];a=({length:_})=>Qe(v=>d(m+g*v),_)}else a=iy(u);if(l===Tl)throw new Error(`implicit unknown on ${t} scale is not supported`);return ly(t,cc().unknown(l),e,{...c,type:n,domain:o,range:a,hint:h})}function AM(t,e,{align:n=.5,padding:i=.5,...o}){return cy(F3().align(n).padding(i),e,o,t)}function EM(t,e,{align:n=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=t==="fx"||t==="fy"?0:i,...u}){return cy(js().align(n).paddingInner(o).paddingOuter(a),e,u,t)}function cy(t,e,n,i){let{round:o}=n;return o!==void 0&&t.round(o=!!o),t=ly(i,t,e,n),t.round=o,t}function hy(t,e,n){const i=new Rs;for(const{value:o,domain:a}of t){if(a!==void 0)return a();if(o!==void 0)for(const u of o)i.add(u)}if(e!==void 0){const[o,a]=Fe(i).map(e.floor,e);return e.range(o,e.offset(a))}if(i.size>1e4&&Yt.get(n)===mn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return yo(i,nn)}function Rp(t,e){let n;for(const{hint:i}of t){const o=i==null?void 0:i[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}function $M(t){return{fill:Rp(t,"fill"),stroke:Rp(t,"stroke")}}function zM(t){return ge(t.fill)?C4:k4}function Dl(t,{label:e,inset:n=0,insetTop:i=n,insetRight:o=n,insetBottom:a=n,insetLeft:u=n,round:l,nice:c,clamp:h,zero:d,align:m,padding:g,projection:_,facet:{label:v=e}={},...b}={}){const w={};for(const[S,M]of t){const P=b[S],T=DM(S,M,{round:Yt.get(S)===mn?l:void 0,nice:c,clamp:h,zero:d,align:m,padding:g,projection:_,...P});if(T){let{label:k=S==="fx"||S==="fy"?v:e,percent:E,transform:z,inset:I,insetTop:B=I!==void 0?I:S==="y"?i:0,insetRight:$=I!==void 0?I:S==="x"?o:0,insetBottom:A=I!==void 0?I:S==="y"?a:0,insetLeft:D=I!==void 0?I:S==="x"?u:0}=P||{};if(z==null)z=void 0;else if(typeof z!="function")throw new Error("invalid scale transform; not a function");T.percent=!!E,T.label=k===void 0?OM(M,T):k,T.transform=z,S==="x"||S==="fx"?(T.insetLeft=+D,T.insetRight=+$):(S==="y"||S==="fy")&&(T.insetTop=+B,T.insetBottom=+A),w[S]=T}}return w}function Zp(t){const e={},n={scales:e};for(const[i,o]of Object.entries(t)){const{scale:a,type:u,interval:l,label:c}=o;e[i]=UM(o),n[i]=a,a.type=u,l!=null&&(a.interval=l),c!=null&&(a.label=c)}return n}function NM(t,e){const{x:n,y:i,fx:o,fy:a}=t,u=o||a?Oc(e):e;o&&Fp(o,u),a&&Up(a,u);const l=o||a?dy(t,e):e;n&&Fp(n,l),i&&Up(i,l)}function OM(t=[],e){let n;for(const{label:i}of t)if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}if(n!==void 0)return!Ri(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Oc(t){const{marginTop:e,marginRight:n,marginBottom:i,marginLeft:o,width:a,height:u,facet:{marginTop:l,marginRight:c,marginBottom:h,marginLeft:d}}=t;return{marginTop:Math.max(e,l),marginRight:Math.max(n,c),marginBottom:Math.max(i,h),marginLeft:Math.max(o,d),width:a,height:u}}function dy({fx:t,fy:e},n){const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:l,height:c}=Oc(n);return{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:t?t.scale.bandwidth()+u+o:l,height:e?e.scale.bandwidth()+i+a:c,facet:{width:l,height:c}}}function Fp(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:i}=t,{width:o,marginLeft:a=0,marginRight:u=0}=e,l=a+n,c=o-u-i;t.range=[l,Math.max(l,c)],Ri(t)||(t.range=my(t)),t.scale.range(t.range)}py(t)}function Up(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:i}=t,{height:o,marginTop:a=0,marginBottom:u=0}=e,l=a+n,c=o-u-i;t.range=[Math.max(l,c),l],Ri(t)?t.range.reverse():t.range=my(t),t.scale.range(t.range)}py(t)}function py(t){t.round===void 0&&RM(t)&&IM(t)<=30&&t.scale.round(!0)}function IM({scale:t}){const e=t.domain().length,[n,i]=t.range(),o=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),u=e-o,l=Math.abs(i-n)/Math.max(1,u+a*2);return(l-Math.floor(l))*u}function my(t){const e=t.scale.domain().length+gy(t);if(!(e>2))return t.range;const[n,i]=t.range;return Array.from({length:e},(o,a)=>n+a/(e-1)*(i-n))}function DM(t,e=[],n={}){const i=BM(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Ri({type:i})){const o=e.map(({value:a})=>a).filter(a=>a!==void 0);o.some(He)?bi(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${tr(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`):o.some(t7)?bi(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${tr(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`):o.some(e7)&&bi(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${tr(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${tr(i)}".`)}switch(n.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Na(e,n,Tp);break;case"identity":switch(Yt.get(t)){case mn:n=Na(e,n,Tp);break;case lu:n=Na(e,n,ZM);break}break;case"utc":case"time":n=Na(e,n,U4);break}switch(i){case"diverging":return yM(t,e,n);case"diverging-sqrt":return vM(t,e,n);case"diverging-pow":return uy(t,e,n);case"diverging-log":return bM(t,e,n);case"diverging-symlog":return wM(t,e,n);case"categorical":case"ordinal":case ea:return CM(t,e,n);case"cyclical":case"sequential":case"linear":return oM(t,e,n);case"sqrt":return aM(t,e,n);case"threshold":return zc(t,e,n);case"quantile":return fM(t,e,n);case"quantize":return lM(t,e,n);case"pow":return ay(t,e,n);case"log":return sM(t,e,n);case"symlog":return uM(t,e,n);case"utc":return kM(t,e,n);case"time":return PM(t,e,n);case"point":return AM(t,e,n);case"band":return EM(t,e,n);case"identity":return hM(t);case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}function tr(t){return typeof t=="symbol"?t.description:t}const Hp={toString:()=>"projection"};function BM(t,e,{type:n,domain:i,range:o,scheme:a,pivot:u,projection:l}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&l!=null&&(n=Hp);for(const{type:h}of e)if(h!==void 0){if(n===void 0)n=h;else if(n!==h)throw new Error(`scale incompatible with channel: ${n} !== ${h}`)}if(n===Hp)return;if(n!==void 0)return n;if(i===void 0&&!e.some(({value:h})=>h!==void 0))return;const c=Yt.get(t);if(c===Ko)return"sqrt";if(c===Qo||c===Jo)return"linear";if(c===lu)return"ordinal";if((i||o||[]).length>2)return Lf(c);if(i!==void 0){if(Lp(i))return Lf(c);if(He(i))return"utc"}else{const h=e.map(({value:d})=>d).filter(d=>d!==void 0);if(h.some(Lp))return Lf(c);if(h.some(He))return"utc"}if(c===Wn){if(u!=null||iM(a))return"diverging";if(tM(a))return"categorical"}return"linear"}function Lf(t){switch(t){case mn:return"point";case Wn:return ea;default:return"ordinal"}}function Ri({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===ea}function gy({type:t}){return t==="threshold"}function RM({type:t}){return t==="point"||t==="band"}function Mr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let i=1,o=e.length;i<o;++i)if(t(e[i])-n)return!1;return!0}function Na(t,{domain:e,...n},i){for(const o of t)o.value!==void 0&&(o.value=i(o.value));return{domain:e===void 0?e:i(e),...n}}function ZM(t){return ne(t,Lc)}function FM(t){return e=>{if(!Yt.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function UM({scale:t,type:e,domain:n,range:i,interpolate:o,interval:a,transform:u,percent:l,pivot:c}){if(e==="identity")return{type:"identity",apply:d=>d,invert:d=>d};const h=t.unknown?t.unknown():void 0;return{type:e,domain:Co(n),...i!==void 0&&{range:Co(i)},...u!==void 0&&{transform:u},...l&&{percent:l},...h!==void 0&&{unknown:h},...a!==void 0&&{interval:a},...o!==void 0&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:d=>t(d),...t.invert&&{invert:d=>t.invert(d)}}}function HM(t,e,n={}){let i=.5-Te,o=.5+Te,a=.5+Te,u=.5-Te;for(const{marginTop:b,marginRight:w,marginBottom:S,marginLeft:M}of e)b>i&&(i=b),w>o&&(o=w),S>a&&(a=S),M>u&&(u=M);let{margin:l,marginTop:c=l!==void 0?l:i,marginRight:h=l!==void 0?l:o,marginBottom:d=l!==void 0?l:a,marginLeft:m=l!==void 0?l:u}=n;c=+c,h=+h,d=+d,m=+m;let{width:g=640,height:_=WM(t,n,{width:g,marginTopDefault:i,marginRightDefault:o,marginBottomDefault:a,marginLeftDefault:u})+Math.max(0,c-i+d-a)}=n;g=+g,_=+_;const v={width:g,height:_,marginTop:c,marginRight:h,marginBottom:d,marginLeft:m};if(t.fx||t.fy){let{margin:b,marginTop:w=b!==void 0?b:c,marginRight:S=b!==void 0?b:h,marginBottom:M=b!==void 0?b:d,marginLeft:P=b!==void 0?b:m}=n.facet??{};w=+w,S=+S,M=+M,P=+P,v.facet={marginTop:w,marginRight:S,marginBottom:M,marginLeft:P}}return v}function WM({x:t,y:e,fy:n,fx:i},{projection:o,aspectRatio:a},{width:u,marginTopDefault:l,marginRightDefault:c,marginBottomDefault:h,marginLeftDefault:d}){const m=n?n.scale.domain().length:1,g=J7(o);if(g){const v=i?i.scale.domain().length:1,b=(1.1*m-.1)/(1.1*v-.1)*g,w=Math.max(.1,Math.min(10,b));return Math.round((u-d-c)*w+l+h)}const _=e?Ri(e)?e.scale.domain().length:Math.max(7,17/m):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const v=Wp("y",e)/(Wp("x",t)*a),b=i?i.scale.bandwidth():1,w=n?n.scale.bandwidth():1,S=b*(u-d-c)-t.insetLeft-t.insetRight;return(v*S+e.insetTop+e.insetBottom)/w+l+h}return!!(e||n)*Math.max(1,Math.min(60,_*m))*20+!!i*30+60}function Wp(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:i}=e;let o;switch(n){case"linear":case"utc":case"time":o=Number;break;case"pow":{const l=e.scale.exponent();o=c=>Math.pow(c,l);break}case"log":o=Math.log;break;case"point":case"band":return i.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,u]=Fe(i);return Math.abs(o(u)-o(a))}function qM(t,e){const{fx:n,fy:i}=Dl(t,e),o=n==null?void 0:n.scale.domain(),a=i==null?void 0:i.scale.domain();return o&&a?ww(o,a).map(([u,l],c)=>({x:u,y:l,i:c})):o?o.map((u,l)=>({x:u,i:l})):a?a.map((u,l)=>({y:u,i:l})):void 0}function YM(t,{x:e,y:n}){return e&&(e=Bl(e)),n&&(n=Bl(n)),t.filter(e&&n?i=>e.has(i.x)&&n.has(i.y):e?i=>e.has(i.x):i=>n.has(i.y)).sort(e&&n?(i,o)=>e.get(i.x)-e.get(o.x)||n.get(i.y)-n.get(o.y):e?(i,o)=>e.get(i.x)-e.get(o.x):(i,o)=>n.get(i.y)-n.get(o.y))}function Ic(t,{fx:e,fy:n}){const i=Hn(t),o=e==null?void 0:e.value,a=n==null?void 0:n.value;return e&&n?ar(i,u=>(u.fx=o[u[0]],u.fy=a[u[0]],u),u=>o[u],u=>a[u]):e?ar(i,u=>(u.fx=o[u[0]],u),u=>o[u]):ar(i,u=>(u.fy=a[u[0]],u),u=>a[u])}function VM(t,e,{marginTop:n,marginLeft:i}){return t&&e?({x:o,y:a})=>`translate(${t(o)-i},${e(a)-n})`:t?({x:o})=>`translate(${t(o)-i},0)`:({y:o})=>`translate(0,${e(o)-n})`}function GM(t){const e=[],n=new Uint32Array(jn(t,i=>i.length));for(const i of t){let o=0;for(const a of t)i!==a&&(n.set(a,o),o+=a.length);e.push(n.slice(0,o))}return e}const XM=new Map([["top",Sf],["right",Cf],["bottom",Pf],["left",kf],["top-left",Oa(Sf,kf)],["top-right",Oa(Sf,Cf)],["bottom-left",Oa(Pf,kf)],["bottom-right",Oa(Pf,Cf)],["top-empty",JM],["right-empty",e9],["bottom-empty",QM],["left-empty",t9],["empty",n9]]);function jM(t){if(t==null)return null;const e=XM.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const qp=new WeakMap;function Bl(t){let e=qp.get(t);return e||qp.set(t,e=new Ti(ne(t,(n,i)=>[n,i]))),e}function ii(t,e){return Bl(t).get(e)}function KM(t,e,n){return e=Ea(e),n=Ea(n),t.find(i=>Object.is(Ea(i.x),e)&&Object.is(Ea(i.y),n))}function pu(t,e,n){var i;return(i=KM(t,e,n))==null?void 0:i.empty}function Sf(t,{y:e},{y:n}){return e?ii(e,n)===0:!0}function Pf(t,{y:e},{y:n}){return e?ii(e,n)===e.length-1:!0}function kf(t,{x:e},{x:n}){return e?ii(e,n)===0:!0}function Cf(t,{x:e},{x:n}){return e?ii(e,n)===e.length-1:!0}function JM(t,{y:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ii(e,i);if(a>0)return pu(t,n,e[a-1])}function QM(t,{y:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ii(e,i);if(a<e.length-1)return pu(t,n,e[a+1])}function t9(t,{x:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ii(e,n);if(a>0)return pu(t,e[a-1],i)}function e9(t,{x:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ii(e,n);if(a<e.length-1)return pu(t,e[a+1],i)}function n9(t,e,{empty:n}){return n}function Oa(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Af(t,{channels:{fx:e,fy:n},groups:i}){return e&&n?t.map(({x:o,y:a})=>{var u;return((u=i.get(o))==null?void 0:u.get(a))??[]}):e?t.map(({x:o})=>i.get(o)??[]):t.map(({y:o})=>i.get(o)??[])}class wn{constructor(e,n={},i={},o){const{facet:a="auto",facetAnchor:u,fx:l,fy:c,sort:h,dx:d=0,dy:m=0,margin:g=0,marginTop:_=g,marginRight:v=g,marginBottom:b=g,marginLeft:w=g,clip:S=o==null?void 0:o.clip,channels:M,tip:P,render:T}=i;if(this.data=e,this.sort=Ao(h)?h:null,this.initializer=ks(i).initializer,this.transform=this.initializer?i.transform:Sc(i).transform,a===null||a===!1?this.facet=null:(this.facet=on(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===qa&&typeof l=="string"?[l]:l,this.fy=e===qa&&typeof c=="string"?[c]:c),this.facetAnchor=jM(u),n=B1(n),M!==void 0&&(n={...i9(M),...n}),o!==void 0&&(n={...Z7(this,i,o),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([k,E])=>{if(wc(E.value)){const{value:z,label:I=E.label,scale:B=E.scale}=E.value;E={...E,label:I,scale:B,value:z}}if(e===qa&&typeof E.value=="string"){const{value:z}=E;E={...E,value:[z]}}return[k,E]}).filter(([k,{value:E,optional:z}])=>{if(E!=null)return!0;if(z)return!1;throw new Error(`missing channel value: ${k}`)})),this.dx=+d,this.dy=+m,this.marginTop=+_,this.marginRight=+v,this.marginBottom=+b,this.marginLeft=+w,this.clip=J1(S),this.tip=r9(P),this.facet==="super"){if(l||c)throw new Error("super-faceting cannot use fx or fy");for(const k in this.channels){const{scale:E}=n[k];if(!(E!=="x"&&E!=="y"))throw new Error("super-faceting cannot use x or y")}}T!=null&&(this.render=yy(T,this.render))}initialize(e,n,i){let o=ke(this.data);e===void 0&&o!=null&&(e=[Hn(o)]);const a=e;this.transform!=null&&({facets:e,data:o}=this.transform(o,e,i),o=ke(o)),e!==void 0&&(e.original=a);const u=P7(this.channels,o);return this.sort!=null&&C7(o,e,u,n,this.sort),{data:o,facets:e,channels:u}}filter(e,n,i){for(const o in n){const{filter:a=$i}=n[o];if(a!==null){const u=i[o];e=e.filter(l=>a(u[l]))}}return e}project(e,n,i){for(const o in e)if(e[o].scale==="x"&&/^x|x$/.test(o)){const a=o.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&j7(o,a,n,i.projection)}}scale(e,n,i){const o=k7(e,n);return i.projection&&this.project(e,o,i),o}}function _y(...t){return t.plot=wn.prototype.plot,t}function yy(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,i,o,a,u,l){return t.call(this,n,i,o,a,u,(c,h,d,m,g)=>e.call(this,c,h,d,m,g,l))}}function i9(t){return Object.fromEntries(Object.entries(B1(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:uu(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function r9(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?on(t,"tip",["x","y","xy"]):t}function Dc(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:ei(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const Yp=new WeakMap;function Bc(t,e,{x:n,y:i,px:o,py:a,maxRadius:u=40,channels:l,render:c,...h}={}){return u=+u,o!=null&&(n??(n=null),l={...l,px:{value:o,scale:"x"}}),a!=null&&(i??(i=null),l={...l,py:{value:a,scale:"y"}}),{x:n,y:i,channels:l,...h,render:yy(function(d,m,g,_,v,b){v={...v,pointerSticky:!1};const w=v.ownerSVGElement,{data:S}=v.getMarkState(this);let M=Yp.get(w);M||Yp.set(w,M={sticky:!1,roots:[],renders:[]});let P=M.renders.push(K)-1;const{x:T,y:k,fx:E,fy:z}=m;let I=E?E(d.fx)-_.marginLeft:0,B=z?z(d.fy)-_.marginTop:0;T!=null&&T.bandwidth&&(I+=T.bandwidth()/2),k!=null&&k.bandwidth&&(B+=k.bandwidth()/2);const $=d.fi!=null;let A;if($){let j=M.facetStates;j||(M.facetStates=j=new Map),A=j.get(this),A||j.set(this,A=new Map)}const[D,U]=cu(this,_),{px:Z,py:O}=g,Y=Z?j=>Z[j]:vy(g,D),Q=O?j=>O[j]:by(g,U);let V,tt,F,W;function X(j,ft){if($)if(W&&(W=cancelAnimationFrame(W)),j==null)A.delete(d.fi);else{A.set(d.fi,ft),W=requestAnimationFrame(()=>{W=null;for(const[q,nt]of A)if(nt<ft||nt===ft&&q<d.fi){j=null;break}K(j)});return}K(j)}function K(j){if(V===j&&F===M.sticky)return;V=j,F=v.pointerSticky=M.sticky;const ft=V==null?[]:[V];$&&(ft.fx=d.fx,ft.fy=d.fy,ft.fi=d.fi);const q=b(ft,m,g,_,v);if(tt){if($){const nt=tt.parentNode,st=tt.getAttribute("transform"),H=q.getAttribute("transform");st?q.setAttribute("transform",st):q.removeAttribute("transform"),H?nt.setAttribute("transform",H):nt.removeAttribute("transform"),q.removeAttribute("aria-label"),q.removeAttribute("aria-description"),q.removeAttribute("aria-hidden")}tt.replaceWith(q)}return M.roots[P]=tt=q,V==null&&(A==null?void 0:A.size)>1||v.dispatchValue(V==null?null:S[V]),q}function ut(j){if(M.sticky||j.pointerType==="mouse"&&j.buttons===1)return;let[ft,q]=Vf(j);ft-=I,q-=B;const nt=ft<_.marginLeft||ft>_.width-_.marginRight?1:t,st=q<_.marginTop||q>_.height-_.marginBottom?1:e;let H=null,vt=u*u;for(const pt of d){const At=nt*(Y(pt)-ft),Et=st*(Q(pt)-q),lt=At*At+Et*Et;lt<=vt&&(H=pt,vt=lt)}if(H!=null&&(t!==1||e!==1)){const pt=Y(H)-ft,At=Q(H)-q;vt=pt*pt+At*At}X(H,vt)}function rt(j){j.pointerType==="mouse"&&V!=null&&(M.sticky&&M.roots.some(ft=>ft==null?void 0:ft.contains(j.target))||(M.sticky?(M.sticky=!1,M.renders.forEach(ft=>ft(null))):(M.sticky=!0,K(V)),j.stopImmediatePropagation()))}function J(j){j.pointerType==="mouse"&&(M.sticky||X(null))}return w.addEventListener("pointerenter",ut),w.addEventListener("pointermove",ut),w.addEventListener("pointerdown",rt),w.addEventListener("pointerleave",J),K(null)},c)}}function o9(t){return Bc(1,1,t)}function a9(t){return Bc(1,.01,t)}function s9(t){return Bc(.01,1,t)}function vy({x1:t,x2:e,x:n=t},i){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>i}function by({y1:t,y2:e,y:n=t},i){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>i}function wy(t){return Ri(t)&&t.interval===void 0?void 0:"tabular-nums"}function u9(t,e){let{label:n=t.label,tickSize:i=6,width:o=240,height:a=44+i,marginTop:u=18,marginRight:l=0,marginBottom:c=16+i,marginLeft:h=0,style:d,ticks:m=(o-h-l)/64,tickFormat:g,fontVariant:_=wy(t),round:v=!0,opacity:b,className:w}=e;const S=Ec(e);w=Cc(w),b=Me(b)[1],g===null&&(g=()=>null);const M=be("svg",S).attr("class",`${w}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",o).attr("height",a).attr("viewBox",`0 0 ${o} ${a}`).call(D=>D.append("style").text(`.${w}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${w}-ramp text {
  white-space: pre;
}`)).call(Ac,d);let P=D=>D.selectAll(".tick line").attr("y1",u+c-a),T;const k=v?(D,U)=>D.rangeRound(U):(D,U)=>D.range(U),{type:E,domain:z,range:I,interpolate:B,scale:$,pivot:A}=t;if(B){const D=I===void 0?B:Ws(B.length===1?Nc(B):B,I);T=k($.copy(),Qe(ue(h,o-l),Math.min(z.length+(A!==void 0),I===void 0?1/0:I.length)));const U=256,Z=S.document.createElement("canvas");Z.width=U,Z.height=1;const O=Z.getContext("2d");for(let Y=0,Q=U-1;Y<U;++Y)O.fillStyle=D(Y/Q),O.fillRect(Y,0,1,1);M.append("image").attr("opacity",b).attr("x",h).attr("y",u).attr("width",o-h-l).attr("height",a-u-c).attr("preserveAspectRatio","none").attr("xlink:href",Z.toDataURL())}else if(E==="threshold"){const D=z,U=g===void 0?Z=>Z:typeof g=="string"?Oe(g):g;T=k(Lo().domain([-1,I.length-1]),[h,o-l]),M.append("g").attr("fill-opacity",b).selectAll().data(I).enter().append("rect").attr("x",(Z,O)=>T(O-1)).attr("y",u).attr("width",(Z,O)=>T(O)-T(O-1)).attr("height",a-u-c).attr("fill",Z=>Z),m=ne(D,(Z,O)=>O),g=Z=>U(D[Z],Z)}else T=k(js().domain(z),[h,o-l]),M.append("g").attr("fill-opacity",b).selectAll().data(z).enter().append("rect").attr("x",T).attr("y",u).attr("width",Math.max(0,T.bandwidth()-1)).attr("height",a-u-c).attr("fill",$),P=()=>{};return M.append("g").attr("transform",`translate(0,${a-c})`).call(a0(T).ticks(Array.isArray(m)?null:m,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(i).tickValues(Array.isArray(m)?m:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",oe(_,"normal")).call(P).call(D=>D.select(".domain").remove()),n!==void 0&&M.append("text").attr("x",h).attr("y",u-6).attr("fill","currentColor").attr("font-weight","bold").text(n),M.node()}const xy=Math.PI/180;function My(t,{marker:e,markerStart:n=e,markerMid:i=e,markerEnd:o=e}={}){t.markerStart=Ef(n),t.markerMid=Ef(i),t.markerEnd=Ef(o)}function Ef(t){if(t==null||t===!1)return null;if(t===!0)return Gp;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Vp("auto");case"arrow-reverse":return Vp("auto-start-reverse");case"dot":return f9;case"circle":case"circle-fill":return Gp;case"circle-stroke":return l9}throw new Error(`invalid marker: ${t}`)}function Vp(t){return(e,n)=>be("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(i=>i.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function f9(t,e){return be("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Gp(t,e){return be("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function l9(t,e){return be("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let c9=0;function Ty(t,e,{stroke:n},i){return h9(t,e,n&&(o=>n[o]),i)}function h9(t,{markerStart:e,markerMid:n,markerEnd:i,stroke:o},a=()=>o,u){const l=new Map;function c(h){return function(d){const m=a(d);let g=l.get(h);g||l.set(h,g=new Map);let _=g.get(m);if(!_){const v=this.parentNode.insertBefore(h(m,u),this),b=`plot-marker-${++c9}`;v.setAttribute("id",b),g.set(m,_=`url(#${b})`)}return _}}e&&t.attr("marker-start",c(e)),n&&t.attr("marker-mid",c(n)),i&&t.attr("marker-end",c(i))}function Ly({inset:t,insetLeft:e,insetRight:n,...i}={}){return[e,n]=Py(t,e,n),{inset:t,insetLeft:e,insetRight:n,...i}}function Sy({inset:t,insetTop:e,insetBottom:n,...i}={}){return[e,n]=Py(t,e,n),{inset:t,insetTop:e,insetBottom:n,...i}}function Py(t,e,n){return t===void 0&&e===void 0&&n===void 0?Te?[1,0]:[.5,.5]:[e,n]}function ky(t,{interval:e}){return t={...uu(t)},t.interval=Mc(t.interval===void 0?e:t.interval),t}function Cy(t,e,n,i){const{[t]:o,[`${t}1`]:a,[`${t}2`]:u}=n,{value:l,interval:c}=ky(o,n);if(l==null||c==null&&!i)return n;const h=Ar(o);if(c==null){let _;const v={transform:b=>_||(_=te(b,l)),label:h};return{...n,[t]:void 0,[`${t}1`]:a===void 0?v:a,[`${t}2`]:u===void 0?v:u}}let d,m;function g(_){return m!==void 0&&_===d?m:m=ne(te(d=_,l),v=>c.floor(v))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:g,label:h}:a,[`${t}2`]:u===void 0?{transform:_=>g(_).map(v=>c.offset(v)),label:h}:u})}function Ay(t,e,n){const{[t]:i}=n,{value:o,interval:a}=ky(i,n);return o==null||a==null?n:e({...n,[t]:{label:Ar(i),transform:u=>{const l=ne(te(u,o),h=>a.floor(h)),c=l.map(h=>a.offset(h));return l.map(He(l)?(h,d)=>h==null||isNaN(h=+h)||(d=c[d],d==null)||isNaN(d=+d)?void 0:new Date((h+d)/2):(h,d)=>h==null||(d=c[d],d==null)?NaN:(+h+ +d)/2)}}})}function Ey(t={}){return Cy("x",Ly,t)}function d9(t={}){return Cy("y",Sy,t)}function p9(t={}){return Ay("x",Ly,t)}function m9(t={}){return Ay("y",Sy,t)}const $y={ariaLabel:"rule",fill:null,stroke:"currentColor"};class g9 extends wn{constructor(e,n={}){const{x:i,y1:o,y2:a,inset:u=0,insetTop:l=u,insetBottom:c=u}=n;super(e,{x:{value:i,scale:"x",optional:!0},y1:{value:o,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Dc(n,"x"),$y),this.insetTop=Ht(l),this.insetBottom=Ht(c),My(this,n)}render(e,n,i,o,a){const{x:u,y:l}=n,{x:c,y1:h,y2:d}=i,{width:m,height:g,marginTop:_,marginRight:v,marginLeft:b,marginBottom:w}=o,{insetTop:S,insetBottom:M}=this;return be("svg:g",a).call(Di,this,o,a).call(ni,this,{x:c&&u},Te,0).call(P=>P.selectAll().data(e).enter().append("line").call(Bi,this).attr("x1",c?T=>c[T]:(b+m-v)/2).attr("x2",c?T=>c[T]:(b+m-v)/2).attr("y1",h&&!Mr(l)?T=>h[T]+S:_+S).attr("y2",d&&!Mr(l)?l.bandwidth?T=>d[T]+l.bandwidth()-M:T=>d[T]-M:g-w-M).call(Er,this,i).call(Ty,this,i,a)).node()}}class _9 extends wn{constructor(e,n={}){const{x1:i,x2:o,y:a,inset:u=0,insetRight:l=u,insetLeft:c=u}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:!0},x2:{value:o,scale:"x",optional:!0}},Dc(n,"y"),$y),this.insetRight=Ht(l),this.insetLeft=Ht(c),My(this,n)}render(e,n,i,o,a){const{x:u,y:l}=n,{y:c,x1:h,x2:d}=i,{width:m,height:g,marginTop:_,marginRight:v,marginLeft:b,marginBottom:w}=o,{insetLeft:S,insetRight:M}=this;return be("svg:g",a).call(Di,this,o,a).call(ni,this,{y:c&&l},0,Te).call(P=>P.selectAll().data(e).enter().append("line").call(Bi,this).attr("x1",h&&!Mr(u)?T=>h[T]+S:b+S).attr("x2",d&&!Mr(u)?u.bandwidth?T=>d[T]+u.bandwidth()-M:T=>d[T]-M:m-v-M).attr("y1",c?T=>c[T]:(_+g-w)/2).attr("y2",c?T=>c[T]:(_+g-w)/2).call(Er,this,i).call(Ty,this,i,a)).node()}}function y9(t,e){let{x:n=ve,y:i,y1:o,y2:a,...u}=d9(e);return[o,a]=zy(i,o,a),new g9(t,{...u,x:n,y1:o,y2:a})}function v9(t,e){let{y:n=ve,x:i,x1:o,x2:a,...u}=Ey(e);return[o,a]=zy(i,o,a),new _9(t,{...u,y:n,x1:o,x2:a})}function zy(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Ny(t,...e){let n=e.length;for(let i=0,o=!0;i<n;++i)typeof e[i]!="function"&&(o&&(t=t.slice(),o=!1),t.splice(i,2,t[i]+e[i]+t[i+1]),e.splice(i,1),--i,--n);return i=>{let o=t[0];for(let a=0;a<n;++a)o+=e[a](i)+t[a+1];return o}}const b9={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Oy="";class Rc extends wn{constructor(e,n={}){const{x:i,y:o,text:a=Ii(e)&&I1(e)?ve:$1,frameAnchor:u,textAnchor:l=/right$/i.test(u)?"end":/left$/i.test(u)?"start":"middle",lineAnchor:c=/^top/i.test(u)?"top":/^bottom/i.test(u)?"bottom":"middle",lineHeight:h=1,lineWidth:d=1/0,textOverflow:m,monospace:g,fontFamily:_=g?"ui-monospace, monospace":void 0,fontSize:v,fontStyle:b,fontVariant:w,fontWeight:S,rotate:M}=n,[P,T]=Me(M,0),[k,E]=L9(v);if(super(e,{x:{value:i,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},fontSize:{value:k,optional:!0},rotate:{value:Q4(P),optional:!0},text:{value:a,filter:w1,optional:!0}},n,b9),this.rotate=T,this.textAnchor=oe(l,"middle"),this.lineAnchor=on(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+h,this.lineWidth=+d,this.textOverflow=Iy(m),this.monospace=!!g,this.fontFamily=pe(_),this.fontSize=E,this.fontStyle=pe(b),this.fontVariant=pe(w),this.fontWeight=pe(S),this.frameAnchor=Tc(u),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${d}`);this.splitLines=By(this),this.clipLine=Ry(this)}render(e,n,i,o,a){const{x:u,y:l}=n,{x:c,y:h,rotate:d,text:m,title:g,fontSize:_}=i,{rotate:v}=this,[b,w]=cu(this,o);return be("svg:g",a).call(Di,this,o,a).call(Dy,this,m,o).call(ni,this,{x:c&&u,y:h&&l}).call(S=>S.selectAll().data(e).enter().append("text").call(Bi,this).call(w9,this,m,g).attr("transform",Ny`translate(${c?M=>c[M]:b},${h?M=>h[M]:w})${d?M=>` rotate(${d[M]})`:v?` rotate(${v})`:""}`).call(Pt,"font-size",_&&(M=>_[M])).call(Er,this,i)).node()}}function Iy(t){return t==null?null:on(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function w9(t,e,n,i){if(!n)return;const{lineAnchor:o,lineHeight:a,textOverflow:u,splitLines:l,clipLine:c}=e;t.each(function(h){const d=l(xr(n[h])??"").map(c),m=d.length,g=o==="top"?.71:o==="bottom"?1-m:(164-m*100)/200;if(m>1){let _=0;for(let v=0;v<m;++v){if(++_,!d[v])continue;const b=this.ownerDocument.createElementNS(hr.svg,"tspan");b.setAttribute("x",0),v===_-1?b.setAttribute("y",`${(g+v)*a}em`):b.setAttribute("dy",`${_*a}em`),b.textContent=d[v],this.appendChild(b),_=0}}else g&&this.setAttribute("y",`${g*a}em`),this.textContent=d[0];if(u&&!i&&d[0]!==n[h]){const _=this.ownerDocument.createElementNS(hr.svg,"title");_.textContent=n[h],this.appendChild(_)}})}function Tr(t,{x:e,y:n,...i}={}){return i.frameAnchor===void 0&&([e,n]=su(e,n)),new Rc(t,{...i,x:e,y:n})}function Rl(t,{x:e=ve,...n}={}){return new Rc(t,m9({...n,x:e}))}function x9(t,{y:e=ve,...n}={}){return new Rc(t,p9({...n,y:e}))}function Dy(t,e,n){Pt(t,"text-anchor",e.textAnchor),Pt(t,"font-family",e.fontFamily),Pt(t,"font-size",e.fontSize),Pt(t,"font-style",e.fontStyle),Pt(t,"font-variant",e.fontVariant===void 0?M9(n):e.fontVariant),Pt(t,"font-weight",e.fontWeight)}function M9(t){return t&&(n7(t)||He(t))?"tabular-nums":void 0}const T9=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function L9(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),T9.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function S9(t,e,n){const i=[];let o,a=0;for(const[u,l,c]of P9(t)){if(o===void 0&&(o=u),a>o&&n(t,o,l)>e&&(i.push(t.slice(o,a)+(t[a-1]===Oy?"-":"")),o=u),c){i.push(t.slice(o,l)),o=void 0;continue}a=l}return i}function*P9(t){let e=0,n=0;const i=t.length;for(;n<i;){let o=1;switch(t[n]){case Oy:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++o;case`
`:yield[e,n,!0],n+=o,e=n;break;default:++n;break}}yield[e,n,!0]}const Xp={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Zc(t,e=0,n=t.length){let i=0;for(let o=e;o<n;o=$r(t,o))i+=Xp[t[o]]??(Fy(t,o)?120:Xp.e);return i}function Fc(t,e=0,n=t.length){let i=0;for(let o=e;o<n;o=$r(t,o))i+=Fy(t,o)?200:100;return i}function By({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const i=t?Fc:Zc,o=e*100;return a=>S9(a,o,i)}function Ry({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const i=t?Fc:Zc,o=e*100;switch(n){case"clip-start":return a=>Kp(a,o,i,"");case"clip-end":return a=>jp(a,o,i,"");case"ellipsis-start":return a=>Kp(a,o,i,fr);case"ellipsis-middle":return a=>k9(a,o,i,fr);case"ellipsis-end":return a=>jp(a,o,i,fr)}}const fr="";function Lr(t,e,n,i){const o=[];let a=0;for(let u=0,l=0,c=t.length;u<c;u=l){l=$r(t,u);const h=n(t,u,l);if(a+h>e){for(a+=i;a>e&&u>0;)l=u,u=o.pop(),a-=n(t,u,l);return[u,e-a]}a+=h,o.push(u)}return[-1,0]}function jp(t,e,n,i){t=t.trim();const o=n(i),[a]=Lr(t,e,n,o);return a<0?t:t.slice(0,a).trimEnd()+i}function k9(t,e,n,i){t=t.trim();const o=n(t);if(o<=e)return t;const a=n(i)/2,[u,l]=Lr(t,e/2,n,a),[c]=Lr(t,o-e/2-l+a,n,-a);return c<0?i:t.slice(0,u).trimEnd()+i+t.slice($r(t,c)).trimStart()}function Kp(t,e,n,i){t=t.trim();const o=n(t);if(o<=e)return t;const a=n(i),[u]=Lr(t,o-e+a,n,-a);return u<0?i:i+t.slice($r(t,u)).trimStart()}const Zl=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Jp=/\p{Extended_Pictographic}/uy;function $r(t,e){return e+=C9(t,e)?2:1,E9(t,e)&&(e=Zl.lastIndex),A9(t,e)?$r(t,e+1):e}function Zy(t,e){return t.charCodeAt(e)<128}function C9(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const i=t.charCodeAt(e+1);return i>=56320&&i<57344}return!1}function A9(t,e){return t.charCodeAt(e)===8205}function E9(t,e){return Zy(t,e)?!1:(Zl.lastIndex=e,Zl.test(t))}function Fy(t,e){return Zy(t,e)?!1:(Jp.lastIndex=e,Jp.test(t))}const $9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Uy=3.5,z9=Uy*5,Hy={draw(t,e,n){const i=e*n/z9;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-i,i-e),t.lineTo(0,-e),t.lineTo(i,i-e)}},N9={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},O9=new Map([["arrow",Hy],["spike",N9]]);function I9(t){return t&&typeof t.draw=="function"}function D9(t){if(I9(t))return t;const e=O9.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Wy extends wn{constructor(e,n={}){const{x:i,y:o,r:a=Uy,length:u,rotate:l,shape:c=Hy,anchor:h="middle",frameAnchor:d}=n,[m,g]=Me(u,12),[_,v]=Me(l,0);super(e,{x:{value:i,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},length:{value:m,scale:"length",optional:!0},rotate:{value:_,optional:!0}},n,$9),this.r=+a,this.length=g,this.rotate=v,this.shape=D9(c),this.anchor=on(h,"anchor",["start","middle","end"]),this.frameAnchor=Tc(d)}render(e,n,i,o,a){const{x:u,y:l}=n,{x:c,y:h,length:d,rotate:m}=i,{length:g,rotate:_,anchor:v,shape:b,r:w}=this,[S,M]=cu(this,o);return be("svg:g",a).call(Di,this,o,a).call(ni,this,{x:c&&u,y:h&&l}).call(P=>P.selectAll().data(e).enter().append("path").call(Bi,this).attr("transform",Ny`translate(${c?T=>c[T]:S},${h?T=>h[T]:M})${m?T=>` rotate(${m[T]})`:_?` rotate(${_})`:""}${v==="start"?"":v==="end"?d?T=>` translate(0,${d[T]})`:` translate(0,${g})`:d?T=>` translate(0,${d[T]/2})`:` translate(0,${g/2})`}`).attr("d",d?T=>{const k=sl();return b.draw(k,d[T],w),k}:(()=>{const T=sl();return b.draw(T,g,w),T})()).call(Er,this,i)).node()}}function B9(t,e={}){const{x:n=ve,...i}=e;return new Wy(t,{...i,x:n})}function R9(t,e={}){const{y:n=ve,...i}=e;return new Wy(t,{...i,y:n})}function ri(t,e){return arguments.length<2&&!Ii(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function mu({anchor:t}={},e){return t===void 0?e[0]:on(t,"anchor",e)}function qy(t){return mu(t,["left","right"])}function Yy(t){return mu(t,["right","left"])}function Vy(t){return mu(t,["bottom","top"])}function Gy(t){return mu(t,["top","bottom"])}function Xy(){const[t,e]=ri(...arguments);return Ky("y",qy(e),t,e)}function Z9(){const[t,e]=ri(...arguments);return Ky("fy",Yy(e),t,e)}function jy(){const[t,e]=ri(...arguments);return Jy("x",Vy(e),t,e)}function F9(){const[t,e]=ri(...arguments);return Jy("fx",Gy(e),t,e)}function Ky(t,e,n,{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:u=o,strokeWidth:l=1,fill:c=i,fillOpacity:h=o,textAnchor:d,textStroke:m,textStrokeOpacity:g,textStrokeWidth:_,tickSize:v=t==="y"?6:0,tickPadding:b,tickRotate:w,x:S,margin:M,marginTop:P=M===void 0?20:M,marginRight:T=M===void 0?e==="right"?40:0:M,marginBottom:k=M===void 0?20:M,marginLeft:E=M===void 0?e==="left"?40:0:M,label:z,labelAnchor:I,labelArrow:B,labelOffset:$,...A}){return v=Ht(v),b=Ht(b),w=Ht(w),I!==void 0&&(I=on(I,"labelAnchor",["center","top","bottom"])),B=av(B),_y(v&&!ge(a)?U9(t,e,n,{stroke:a,strokeOpacity:u,strokeWidth:l,tickSize:v,tickPadding:b,tickRotate:w,x:S,...A}):null,ge(c)?null:W9(t,e,n,{fill:c,fillOpacity:h,stroke:m,strokeOpacity:g,strokeWidth:_,textAnchor:d,tickSize:v,tickPadding:b,tickRotate:w,x:S,marginTop:P,marginRight:T,marginBottom:k,marginLeft:E,...A}),!ge(c)&&z!==null?Tr([],nv({fill:c,fillOpacity:h,...A},function(D,U,Z,O,Y){const Q=O[t],{marginTop:V,marginRight:tt,marginBottom:F,marginLeft:W}=t==="y"&&Y.inset||Y,X=I??(Q.bandwidth?"center":"top"),K=$??(e==="right"?tt:W)-3;return X==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=X,this.frameAnchor=`${X}-${e}`,this.rotate=0),this.dy=X==="top"?3-V:X==="bottom"?F-3:0,this.dx=e==="right"?K:-K,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[ov(t,Q,{anchor:e,label:z,labelAnchor:X,labelArrow:B})]}}}})):null)}function Jy(t,e,n,{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:u=o,strokeWidth:l=1,fill:c=i,fillOpacity:h=o,textAnchor:d,textStroke:m,textStrokeOpacity:g,textStrokeWidth:_,tickSize:v=t==="x"?6:0,tickPadding:b,tickRotate:w,y:S,margin:M,marginTop:P=M===void 0?e==="top"?30:0:M,marginRight:T=M===void 0?20:M,marginBottom:k=M===void 0?e==="bottom"?30:0:M,marginLeft:E=M===void 0?20:M,label:z,labelAnchor:I,labelArrow:B,labelOffset:$,...A}){return v=Ht(v),b=Ht(b),w=Ht(w),I!==void 0&&(I=on(I,"labelAnchor",["center","left","right"])),B=av(B),_y(v&&!ge(a)?H9(t,e,n,{stroke:a,strokeOpacity:u,strokeWidth:l,tickSize:v,tickPadding:b,tickRotate:w,y:S,...A}):null,ge(c)?null:q9(t,e,n,{fill:c,fillOpacity:h,stroke:m,strokeOpacity:g,strokeWidth:_,textAnchor:d,tickSize:v,tickPadding:b,tickRotate:w,y:S,marginTop:P,marginRight:T,marginBottom:k,marginLeft:E,...A}),!ge(c)&&z!==null?Tr([],nv({fill:c,fillOpacity:h,...A},function(D,U,Z,O,Y){const Q=O[t],{marginTop:V,marginRight:tt,marginBottom:F,marginLeft:W}=t==="x"&&Y.inset||Y,X=I??(Q.bandwidth?"center":"right"),K=$??(e==="top"?V:F)-3;return X==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${X}`,this.textAnchor=X==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-K:K,this.dx=X==="right"?tt-3:X==="left"?3-W:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[ov(t,Q,{anchor:e,label:z,labelAnchor:X,labelArrow:B})]}}}})):null)}function U9(t,e,n,{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:u=e+(t==="y"?"-empty":""),frameAnchor:l=e,tickSize:c,inset:h=0,insetLeft:d=h,insetRight:m=h,dx:g=0,y:_=t==="y"?void 0:null,...v}){return zr(R9,t,e,`${t}-axis tick`,n,{strokeWidth:i,strokeLinecap:o,strokeLinejoin:a,facetAnchor:u,frameAnchor:l,y:_,...v,dx:e==="left"?+g-Te+ +d:+g+Te-m,anchor:"start",length:c,shape:e==="left"?Q9:tT})}function H9(t,e,n,{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:u=e+(t==="x"?"-empty":""),frameAnchor:l=e,tickSize:c,inset:h=0,insetTop:d=h,insetBottom:m=h,dy:g=0,x:_=t==="x"?void 0:null,...v}){return zr(B9,t,e,`${t}-axis tick`,n,{strokeWidth:i,strokeLinejoin:a,strokeLinecap:o,facetAnchor:u,frameAnchor:l,x:_,...v,dy:e==="bottom"?+g-Te-m:+g+Te+ +d,anchor:"start",length:c,shape:e==="bottom"?K9:J9})}function W9(t,e,n,{facetAnchor:i=e+(t==="y"?"-empty":""),frameAnchor:o=e,tickSize:a,tickRotate:u=0,tickPadding:l=Math.max(3,9-a)+(Math.abs(u)>60?4*Math.cos(u*xy):0),text:c,textAnchor:h=Math.abs(u)>60?"middle":e==="left"?"end":"start",lineAnchor:d=u>60?"top":u<-60?"bottom":"middle",fontVariant:m,inset:g=0,insetLeft:_=g,insetRight:v=g,dx:b=0,y:w=t==="y"?void 0:null,...S}){return zr(x9,t,e,`${t}-axis tick label`,n,{facetAnchor:i,frameAnchor:o,text:c,textAnchor:h,lineAnchor:d,fontVariant:m,rotate:u,y:w,...S,dx:e==="left"?+b-a-l+ +_:+b+ +a+ +l-v},function(M,P,T,k,E){m===void 0&&(this.fontVariant=rv(M)),c===void 0&&(E.text=iv(M,P,T,k,e))})}function q9(t,e,n,{facetAnchor:i=e+(t==="x"?"-empty":""),frameAnchor:o=e,tickSize:a,tickRotate:u=0,tickPadding:l=Math.max(3,9-a)+(Math.abs(u)>=10?4*Math.cos(u*xy):0),text:c,textAnchor:h=Math.abs(u)>=10?u<0^e==="bottom"?"start":"end":"middle",lineAnchor:d=Math.abs(u)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:m,inset:g=0,insetTop:_=g,insetBottom:v=g,dy:b=0,x:w=t==="x"?void 0:null,...S}){return zr(Rl,t,e,`${t}-axis tick label`,n,{facetAnchor:i,frameAnchor:o,text:c===void 0?null:c,textAnchor:h,lineAnchor:d,fontVariant:m,rotate:u,x:w,...S,dy:e==="bottom"?+b+ +a+ +l-v:+b-a-l+ +_},function(M,P,T,k,E){m===void 0&&(this.fontVariant=rv(M)),c===void 0&&(E.text=iv(M,P,T,k,e))})}function Y9(){const[t,e]=ri(...arguments);return Qy("y",qy(e),t,e)}function V9(){const[t,e]=ri(...arguments);return Qy("fy",Yy(e),t,e)}function G9(){const[t,e]=ri(...arguments);return tv("x",Vy(e),t,e)}function X9(){const[t,e]=ri(...arguments);return tv("fx",Gy(e),t,e)}function Qy(t,e,n,{y:i=t==="y"?void 0:null,x:o=null,x1:a=e==="left"?o:null,x2:u=e==="right"?o:null,...l}){return zr(v9,t,e,`${t}-grid`,n,{y:i,x1:a,x2:u,...ev(l)})}function tv(t,e,n,{x:i=t==="x"?void 0:null,y:o=null,y1:a=e==="top"?o:null,y2:u=e==="bottom"?o:null,...l}){return zr(y9,t,e,`${t}-grid`,n,{x:i,y1:a,y2:u,...ev(l)})}function ev({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:i=e,strokeWidth:o=1,...a}){return{stroke:n,strokeOpacity:i,strokeWidth:o,...a}}function nv({fill:t,fillOpacity:e,fontFamily:n,fontSize:i,fontStyle:o,fontVariant:a,fontWeight:u,monospace:l,pointerEvents:c,shapeRendering:h,clip:d=!1},m){return[,t]=Un(t),[,e]=Me(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:i,fontStyle:o,fontVariant:a,fontWeight:u,monospace:l,pointerEvents:c,shapeRendering:h,clip:d,initializer:m}}function zr(t,e,n,i,o,a,u){let l;function c(m,g,_,v,b,w){const S=m==null&&(e==="fx"||e==="fy"),{[e]:M}=v;if(!M)throw new Error(`missing scale: ${e}`);const P=M.domain();let{interval:T,ticks:k,tickFormat:E,tickSpacing:z=e==="x"?80:35}=a;if(typeof k=="string"&&sv(M)&&(T=k,k=void 0),k===void 0&&(k=jo(T,M.type)??j9(M,z)),m==null){if(Ii(k))m=ke(k);else if(J4(k))m=$f(k,...Fe(P));else if(M.interval){let B=M.interval;if(M.ticks){const[$,A]=Fe(P),D=(A-$)/B[Go];B=bp(B,D/k)??B,m=$f(B,$,A)}else{m=P;const $=m.length;B=bp(B,$/k)??B,B!==M.interval&&(m=$f(B,...Fe(m)))}if(B===M.interval){const $=Math.round(m.length/k);$>1&&(m=m.filter((A,D)=>D%$===0))}}else M.ticks?m=M.ticks(k):m=P;if(!M.ticks&&m.length&&m!==P){const B=new Rs(P);m=m.filter($=>B.has($)),m.length||bi(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?g=[Hn(m)]:l[e]={scale:e,value:ve}}u==null||u.call(this,M,m,k,E,l);const I=Object.fromEntries(Object.entries(l).map(([B,$])=>[B,{...$,value:te(m,$.value)}]));return S&&(g=w.filterFacets(m,I)),{data:m,facets:g,channels:I}}const h=ks(a).initializer,d=t(o,ks({...a,initializer:c},h));return o==null?(l=d.channels,d.channels={}):l={},d.ariaLabel=i,d.clip===void 0&&(d.clip=!1),d}function j9(t,e){const[n,i]=Fe(t.range());return(i-n)/e}function iv(t,e,n,i,o){return{value:Uc(t,e,n,i,o)}}function Uc(t,e,n,i,o){return typeof i=="function"?i:i===void 0&&e&&He(e)?O4(e,o)??xr:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,i):i===void 0?xr:typeof i=="string"?(He(t.domain())?Vo:Oe)(i):Xo(i)}function $f(t,e,n){return t.range(e,t.offset(t.floor(n)))}const K9={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},J9={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},Q9={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},tT={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function rv(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function eT(t){return Math.sign(wr(t.domain()))*Math.sign(wr(t.range()))}function ov(t,e,{anchor:n,label:i=e.label,labelAnchor:o,labelArrow:a}={}){if(!(i==null||i.inferred&&sv(e)&&/^(date|time|year)$/i.test(i))){if(i=String(i),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[]/.test(i)),!a)return i;if(a===!0){const u=eT(e);u&&(a=/x$/.test(t)||o==="center"?/x$/.test(t)===u<0?"left":"right":u<0?"up":"down")}switch(a){case"left":return` ${i}`;case"right":return`${i} `;case"up":return n==="right"?`${i} `:` ${i}`;case"down":return n==="right"?`${i} `:` ${i}`}return i}}function av(t="auto"){return ge(t)?!1:typeof t=="boolean"?t:on(t,"labelArrow",["auto","up","right","down","left"])}function sv(t){return He(t.domain())}function Qp(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function nT(t,{opacity:e,...n}={}){if(!Ri(t)&&!gy(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return uv(t,n,(i,o,a,u)=>i.append("svg").attr("width",a).attr("height",u).attr("fill",o.scale).attr("fill-opacity",Me(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function iT(t,{fill:e=(h=>(h=t.hint)==null?void 0:h.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:i=(d=>(d=t.hint)==null?void 0:d.stroke)()!==void 0?t.hint.stroke:ge(e)?"currentColor":"none",strokeOpacity:o=1,strokeWidth:a=1.5,r:u=4.5,...l}={},c){const[m,g]=Un(e),[_,v]=Un(i),b=Qp(c,m),w=Qp(c,_),S=u*u*Math.PI;return n=Me(n)[1],o=Me(o)[1],a=Me(a)[1],uv(t,l,(M,P,T,k)=>M.append("svg").attr("viewBox","-8 -8 16 16").attr("width",T).attr("height",k).attr("fill",m==="color"?E=>b.scale(E):g).attr("fill-opacity",n).attr("stroke",_==="color"?E=>w.scale(E):v).attr("stroke-opacity",o).attr("stroke-width",a).append("path").attr("d",E=>{const z=sl();return t.scale(E).draw(z,S),z}))}function uv(t,e={},n){let{columns:i,tickFormat:o,fontVariant:a=wy(t),swatchSize:u=15,swatchWidth:l=u,swatchHeight:c=u,marginLeft:h=0,className:d,style:m,width:g}=e;const _=Ec(e);d=Cc(d),o=Uc(t.scale,t.domain,void 0,o);const v=be("div",_).attr("class",`${d}-swatches ${d}-swatches-${i!=null?"columns":"wrap"}`);let b;return i!=null?(b=`.${d}-swatches-columns .${d}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${d}-swatches-columns .${d}-swatch::before {
  flex-shrink: 0;
}
.${d}-swatches-columns .${d}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,v.style("columns",i).selectAll().data(t.domain).enter().append("div").attr("class",`${d}-swatch`).call(n,t,l,c).call(w=>w.append("div").attr("class",`${d}-swatch-label`).attr("title",o).text(o))):(b=`.${d}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${d}-swatches-wrap .${d}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,v.selectAll().data(t.domain).enter().append("span").attr("class",`${d}-swatch`).call(n,t,l,c).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),v.call(w=>w.insert("style","*").text(`.${d}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${d}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${b}`)).style("margin-left",h?`${+h}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",oe(a,"normal")).call(Ac,m).node()}const Fl=new Map([["symbol",iT],["color",lv],["opacity",oT]]);function rT(t,e,n={}){return(i,o)=>{if(!Fl.has(i))throw new Error(`unknown legend type: ${i}`);if(i in t)return Fl.get(i)(t[i],fv(e,n[i],o),a=>t[a])}}function fv({className:t,...e},{label:n,ticks:i,tickFormat:o}={},a){return a7(a,{className:t,...e},{label:n,ticks:i,tickFormat:o})}function lv(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return nT(t,n);case"ramp":return u9(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function oT({type:t,interpolate:e,...n},{legend:i=!0,color:o=Kn(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(i===!0&&(i="ramp"),`${i}`.toLowerCase()!=="ramp")throw new Error(`${i} opacity legends are not supported`);return lv({type:t,...n,interpolate:aT(o)},{legend:i,...a})}function aT(t){const{r:e,g:n,b:i}=Kn(t)||Kn(0,0,0);return o=>`rgba(${e},${n},${i},${o})`}function sT(t,e,n){const i=[];for(const[o,a]of Fl){const u=n[o];if(u!=null&&u.legend&&o in t){const l=a(t[o],fv(e,t[o],u),c=>t[c]);l!=null&&i.push(l)}}return i}const uT={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},fT={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class lT extends wn{constructor(e={}){const{anchor:n=null,inset:i=0,insetTop:o=i,insetRight:a=i,insetBottom:u=i,insetLeft:l=i,rx:c,ry:h}=e;super(qa,void 0,e,n==null?uT:fT),this.anchor=z1(n,"anchor",["top","right","bottom","left"]),this.insetTop=Ht(o),this.insetRight=Ht(a),this.insetBottom=Ht(u),this.insetLeft=Ht(l),this.rx=Ht(c),this.ry=Ht(h)}render(e,n,i,o,a){const{marginTop:u,marginRight:l,marginBottom:c,marginLeft:h,width:d,height:m}=o,{anchor:g,insetTop:_,insetRight:v,insetBottom:b,insetLeft:w,rx:S,ry:M}=this,P=h+w,T=d-l-v,k=u+_,E=m-c-b;return be(g?"svg:line":"svg:rect",a).datum(0).call(Di,this,o,a).call(Bi,this).call(Er,this,i).call(ni,this,{}).call(g==="left"?z=>z.attr("x1",P).attr("x2",P).attr("y1",k).attr("y2",E):g==="right"?z=>z.attr("x1",T).attr("x2",T).attr("y1",k).attr("y2",E):g==="top"?z=>z.attr("x1",P).attr("x2",T).attr("y1",k).attr("y2",k):g==="bottom"?z=>z.attr("x1",P).attr("x2",T).attr("y1",E).attr("y2",E):z=>z.attr("x",P).attr("y",k).attr("width",T-P).attr("height",E-k).attr("rx",S).attr("ry",M)).node()}}function cT(t){return new lT(t)}const zf={ariaLabel:"tip",fill:"white",stroke:"currentColor"},hT=new Set(["geometry","href","src","ariaLabel","scales"]);class dT extends wn{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Ii(e)&&I1(e)&&(n={...n,title:ve});const{x:i,y:o,x1:a,x2:u,y1:l,y2:c,anchor:h,monospace:d,fontFamily:m=d?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:_,fontVariant:v,fontWeight:b,lineHeight:w=1,lineWidth:S=20,frameAnchor:M,format:P,textAnchor:T="start",textOverflow:k,textPadding:E=8,title:z,pointerSize:I=12,pathFilter:B="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&u!=null?null:i,scale:"x",optional:!0},y:{value:l!=null&&c!=null?null:o,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:u==null},y1:{value:l,scale:"y",optional:c==null},x2:{value:u,scale:"x",optional:a==null},y2:{value:c,scale:"y",optional:l==null},title:{value:z,optional:!0}},n,zf),this.anchor=D1(h,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=Tc(M),this.textAnchor=oe(T,"middle"),this.textPadding=+E,this.pointerSize=+I,this.pathFilter=pe(B),this.lineHeight=+w,this.lineWidth=+S,this.textOverflow=Iy(k),this.monospace=!!d,this.fontFamily=pe(m),this.fontSize=Ht(g),this.fontStyle=pe(_),this.fontVariant=pe(v),this.fontWeight=pe(b);for(const $ in zf)$ in this.channels&&(this[$]=zf[$]);this.splitLines=By(this),this.clipLine=Ry(this),this.format={...P}}render(e,n,i,o,a){const u=this,{x:l,y:c,fx:h,fy:d}=n,{ownerSVGElement:m,document:g}=a,{anchor:_,monospace:v,lineHeight:b,lineWidth:w}=this,{textPadding:S,pointerSize:M,pathFilter:P}=this,{marginTop:T,marginLeft:k}=o,{x1:E,y1:z,x2:I,y2:B,x:$=E??I,y:A=z??B}=i,D=h?h(e.fx)-k:0,U=d?d(e.fy)-T:0,[Z,O]=cu(this,o),Y=vy(i,Z),Q=by(i,O),V=v?Fc:Zc,tt=V(fr);let F,W;"title"in i?(F=i.channels,W=vT):(F=yT.call(this,i,n),W=bT);const X=be("svg:g",a).call(Di,this,o,a).call(Dy,this).call(ni,this,{x:$&&l,y:A&&c}).call(rt=>rt.selectAll().data(e).enter().append("g").attr("transform",J=>`translate(${Math.round(Y(J))},${Math.round(Q(J))})`).call(Bi,this).call(J=>J.append("path").attr("filter",P)).call(J=>J.append("text").each(function(j){const ft=xe(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const q=W.call(u,j,e,F,n,i);if(typeof q=="string")for(const nt of u.splitLines(q))K(ft,{value:u.clipLine(nt)});else{const nt=new Set;for(const st of q){const{label:H=""}=st;H&&nt.has(H)||(nt.add(H),K(ft,st))}}})));function K(rt,{label:J,value:j,color:ft,opacity:q}){J??(J=""),j??(j="");const nt=ft!=null||q!=null;let st,H=w*100;const[vt]=Lr(J,H,V,tt);if(vt>=0)J=J.slice(0,vt).trimEnd()+fr,st=j.trim(),j="";else{(J||!j&&!nt)&&(j=" "+j);const[At]=Lr(j,H-V(J),V,tt);At>=0&&(j=j.slice(0,At).trimEnd()+fr,st=j.trim())}const pt=rt.append("tspan").attr("x",0).attr("dy",`${b}em`).text("");J&&pt.append("tspan").attr("font-weight","bold").text(J),j&&pt.append(()=>g.createTextNode(j)),nt&&pt.append("tspan").text(" ").attr("fill",ft).attr("fill-opacity",q).style("user-select","none"),st&&pt.append("title").text(st)}function ut(){const{width:rt,height:J}=o.facet??o;X.selectChildren().each(function(j){let{x:ft,width:q,height:nt}=this.getBBox();q=Math.round(q),nt=Math.round(nt);let st=_;if(st===void 0){st=u.previousAnchor;const pt=Y(j)+D,At=Q(j)+U,Et=pt+q+S*2<rt,lt=pt-q-S*2>0,Nt=At+nt+M+S*2+7<J,an=At-nt-M-S*2>0,we=(/-left$/.test(st)?Et||!lt:Et&&!lt)?"left":"right",Nr=(/^top-/.test(st)?Nt||!an:Nt&&!an)?"top":"bottom";st=u.previousAnchor=`${Nr}-${we}`}const H=this.firstChild,vt=this.lastChild;if(H.setAttribute("d",_T(st,M,S,q,nt)),ft)for(const pt of vt.childNodes)pt.setAttribute("x",-ft);vt.setAttribute("y",`${+mT(st,vt.childNodes.length,b).toFixed(6)}em`),vt.setAttribute("transform",`translate(${gT(st,M,S,q,nt)})`)}),X.attr("visibility",null)}return e.length&&(X.attr("visibility","hidden"),m.isConnected?Promise.resolve().then(ut):typeof requestAnimationFrame<"u"&&requestAnimationFrame(ut)),X.node()}}function pT(t,{x:e,y:n,...i}={}){return i.frameAnchor===void 0&&([e,n]=su(e,n)),new dT(t,{...i,x:e,y:n})}function mT(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function gT(t,e,n,i,o){switch(t){case"middle":return[-i/2,o/2];case"top-left":return[n,e+n];case"top":return[-i/2,e/2+n];case"top-right":return[-i-n,e+n];case"right":return[-e/2-i-n,o/2];case"bottom-left":return[n,-e-n];case"bottom":return[-i/2,-e/2-n];case"bottom-right":return[-i-n,-e-n];case"left":return[n+e/2,o/2]}}function _T(t,e,n,i,o){const a=i+n*2,u=o+n*2;switch(t){case"middle":return`M${-a/2},${-u/2}h${a}v${u}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${u}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${u}h${-a}v${-u}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${u}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-u/2}h${-a}v${u}h${a}v${e/2-u/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-u}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-u}h${-a}v${u}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-u}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-u/2}h${a}v${u}h${-a}v${e/2-u/2}z`}}function yT({channels:t},e){var o,a;const n={};let i=this.format;i=tm(i,t,"x"),i=tm(i,t,"y"),this.format=i;for(const u in i){const l=i[u];if(!(l===null||l===!1))if(u==="fx"||u==="fy")n[u]=!0;else{const c=Ep(t,u);c&&(n[u]=c)}}for(const u in t){if(u in n||u in i||hT.has(u))continue;const l=Ep(t,u);l&&(n[u]=l)}this.facet&&(e.fx&&!("fx"in i)&&(n.fx=!0),e.fy&&!("fy"in i)&&(n.fy=!0));for(const u in n){const l=this.format[u];if(typeof l=="string"){const c=((o=n[u])==null?void 0:o.value)??((a=e[u])==null?void 0:a.domain())??[];this.format[u]=(He(c)?Vo:Oe)(l)}else if(l===void 0||l===!0){const c=e[u];this.format[u]=c!=null&&c.bandwidth?Uc(c,c.domain()):xr}}return n}function tm(t,e,n){if(!(n in t))return t;const i=`${n}1`,o=`${n}2`;if((i in t||!(i in e))&&(o in t||!(o in e)))return t;const a=Object.entries(t),u=t[n];return a.splice(a.findIndex(([l])=>l===n)+1,0,[i,u],[o,u]),Object.fromEntries(a)}function vT(t,e,{title:n}){return xr(n.value[t],t)}function*bT(t,e,n,i,o){for(const a in n){if(a==="fx"||a==="fy"){yield{label:As(i,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const u=n[a];if(a==="x2"&&"x1"in n)yield{label:nm(i,n,"x"),value:em(this.format.x2,n.x1,u,t)};else if(a==="y2"&&"y1"in n)yield{label:nm(i,n,"y"),value:em(this.format.y2,n.y1,u,t)};else{const l=u.value[t],c=u.scale;if(!$i(l)&&c==null)continue;yield{label:As(i,n,a),value:this.format[a](l,t),color:c==="color"?o[a][t]:null,opacity:c==="opacity"?o[a][t]:null}}}}function em(t,e,n,i){var o;return(o=n.hint)!=null&&o.length?`${t(n.value[i]-e.value[i],i)}`:`${t(e.value[i],i)}${t(n.value[i],i)}`}function nm(t,e,n){const i=As(t,e,`${n}1`,n),o=As(t,e,`${n}2`,n);return i===o?i:`${i}${o}`}function As(t,e,n,i=n){const o=e[n],a=t[(o==null?void 0:o.scale)??n];return String((a==null?void 0:a.label)??(o==null?void 0:o.label)??i)}function cv(t={}){var tt;const{facet:e,style:n,title:i,subtitle:o,caption:a,ariaLabel:u,ariaDescription:l}=t,c=Cc(t.className),h=t.marks===void 0?[]:rm(t.marks);h.push(...kT(h));const d=ST(e,t),m=new Map;for(const F of h){const W=om(F,d,t);W&&m.set(F,W)}const g=new Map;d&&to(g,[d],t),to(g,m,t);const _=rm(CT(h,g,t));for(const F of _){const W=om(F,d,t);W&&m.set(F,W)}h.unshift(..._);let v=qM(g,t);if(v!==void 0){const F=d?Af(v,d):void 0;for(const X of h){if(X.facet===null||X.facet==="super")continue;const K=m.get(X);K!==void 0&&(K.facetsIndex=X.fx!=null||X.fy!=null?Af(v,K):F)}const W=new Set;for(const{facetsIndex:X}of m.values())X==null||X.forEach((K,ut)=>{(K==null?void 0:K.length)>0&&W.add(ut)});v.forEach(0<W.size&&W.size<v.length?(X,K)=>X.empty=!W.has(K):X=>X.empty=!1);for(const X of h)if(X.facet==="exclude"){const K=m.get(X);K!==void 0&&(K.facetsIndex=GM(K.facetsIndex))}}for(const F of Yt.keys())El(t[F])&&F!=="fx"&&F!=="fy"&&g.set(F,[]);const b=new Map;for(const F of h){if(b.has(F))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:W,channels:X}=m.get(F)??{},{data:K,facets:ut,channels:rt}=F.initialize(W,X,t);Hc(rt,t),b.set(F,{data:K,facets:ut,channels:rt})}const w=Dl(to(g,b,t),t),S=HM(w,h,t);NM(w,S);const M=Zp(w),{fx:P,fy:T}=M,k=P||T?dy(w,S):S,E=P||T?IT(M,S):S,z=Ec(t),I=z.document,B=Fs("svg").call(I.documentElement);let $=B;z.ownerSVGElement=B,z.className=c,z.projection=V7(t,k),z.filterFacets=(F,W)=>Af(v,{channels:W,groups:Ic(F,W)}),z.getMarkState=F=>{const W=b.get(F),X=m.get(F);return{...W,channels:{...W.channels,...X==null?void 0:X.channels}}},z.dispatchValue=F=>{$.value!==F&&($.value=F,$.dispatchEvent(new Event("input",{bubbles:!0})))};const A=new Set;for(const[F,W]of b)if(F.initializer!=null){const X=F.facet==="super"?E:k,K=F.initializer(W.data,W.facets,W.channels,M,X,z);if(K.data!==void 0&&(W.data=K.data),K.facets!==void 0&&(W.facets=K.facets),K.channels!==void 0){const{fx:ut,fy:rt,...J}=K.channels;LT(J),Object.assign(W.channels,J);for(const j of Object.values(J)){const{scale:ft}=j;ft!=null&&!u7(Yt.get(ft))&&(hv(j,t),A.add(ft))}(ut!=null||rt!=null)&&m.set(F,!0)}}if(A.size){const F=new Map;to(F,b,t,ut=>A.has(ut)),to(g,b,t,ut=>A.has(ut));const W=OT(Dl(F,t),w),{scales:X,...K}=Zp(W);Object.assign(w,W),Object.assign(M,K),Object.assign(M.scales,X)}let D,U;v!==void 0&&(D={x:P==null?void 0:P.domain(),y:T==null?void 0:T.domain()},v=YM(v,D),U=VM(P,T,S));for(const[F,W]of b)W.values=F.scale(W.channels,M,z);const{width:Z,height:O}=S;xe(B).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",Z).attr("height",O).attr("viewBox",`0 0 ${Z} ${O}`).attr("aria-label",u).attr("aria-description",l).call(F=>F.append("style").text(`.${c} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${c} text,
.${c} tspan {
  white-space: pre;
}`)).call(Ac,n);for(const F of h){const{channels:W,values:X,facets:K}=b.get(F);if(v===void 0||F.facet==="super"){let ut=null;if(K&&(ut=K[0],ut=F.filter(ut,W,X),ut.length===0))continue;const rt=F.render(ut,M,X,E,z);if(rt==null)continue;B.appendChild(rt)}else{let ut;for(const rt of v){if(!(((tt=F.facetAnchor)==null?void 0:tt.call(F,v,D,rt))??!rt.empty))continue;let J=null;if(K){const ft=m.has(F);if(J=K[ft?rt.i:0],J=F.filter(J,W,X),J.length===0)continue;!ft&&J===K[0]&&(J=G4(J)),J.fx=rt.x,J.fy=rt.y,J.fi=rt.i}const j=F.render(J,M,X,k,z);if(j!=null){(ut??(ut=xe(B).append("g"))).append(()=>j).datum(rt);for(const ft of["aria-label","aria-description","aria-hidden","transform"])j.hasAttribute(ft)&&(ut.attr(ft,j.getAttribute(ft)),j.removeAttribute(ft))}}ut==null||ut.selectChildren().attr("transform",U)}}const Y=sT(w,z,t),{figure:Q=i!=null||o!=null||a!=null||Y.length>0}=t;Q&&($=I.createElement("figure"),$.className=`${c}-figure`,$.style.maxWidth="initial",i!=null&&$.append(im(I,i,"h2")),o!=null&&$.append(im(I,o,"h3")),$.append(...Y,B),a!=null&&$.append(wT(I,a))),$.scale=FM(M.scales),$.legend=rT(w,z,t);const V=B7();return V>0&&xe(B).append("text").attr("x",Z).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${V.toLocaleString("en-US")} warning${V===1?"":"s"}. Please check the console.`),$}function im(t,e,n){if(e.ownerDocument)return e;const i=t.createElement(n);return i.append(e),i}function wT(t,e){const n=t.createElement("figcaption");return n.append(e),n}function xT({marks:t=[],...e}={}){return cv({...e,marks:[...t,this]})}wn.prototype.plot=xT;function rm(t){return t.flat(1/0).filter(e=>e!=null).map(MT)}function MT(t){return typeof t.render=="function"?t:new TT(t)}class TT extends wn{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Hc(t,e){for(const n in t)hv(t[n],e);return t}function hv(t,e){const{scale:n,transform:i=!0}=t;if(n==null||!i)return;const{type:o,percent:a,interval:u,transform:l=a?c=>c*100:O1(u,o)}=e[n]??{};l!=null&&(t.value=ne(t.value,l),t.transform=!1)}function LT(t){for(const e in t)X1(e,t[e])}function to(t,e,n,i=Z4){var o,a;for(const{channels:u}of e.values())for(const l in u){const c=u[l],{scale:h}=c;if(h!=null&&i(h))if(h==="projection"){if(!K7(n)){const d=((o=n.x)==null?void 0:o.domain)===void 0,m=((a=n.y)==null?void 0:a.domain)===void 0;if(d||m){const[g,_]=Q7(c);d&&Nf(t,"x",g),m&&Nf(t,"y",_)}}}else Nf(t,h,c)}return t}function Nf(t,e,n){const i=t.get(e);i!==void 0?i.push(n):t.set(e,[n])}function ST(t,e){if(t==null)return;const{x:n,y:i}=t;if(n==null&&i==null)return;const o=ke(t.data);if(o==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=$o(o,{value:n,scale:"fx"})),i!=null&&(a.fy=$o(o,{value:i,scale:"fy"})),Hc(a,e);const u=Ic(o,a);return{channels:a,groups:u,data:t.data}}function om(t,e,n){var c;if(t.facet===null||t.facet==="super")return;const{fx:i,fy:o}=t;if(i!=null||o!=null){const h=ke(t.data??i??o);if(h===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(h===null)return;const d={};return i!=null&&(d.fx=$o(h,{value:i,scale:"fx"})),o!=null&&(d.fy=$o(h,{value:o,scale:"fy"})),Hc(d,n),{channels:d,groups:Ic(h,d)}}if(e===void 0)return;const{channels:a,groups:u,data:l}=e;if(t.facet!=="auto"||t.data===l)return{channels:a,groups:u};l.length>0&&(u.size>1||u.size===1&&a.fx&&a.fy&&[...u][0][1].size>1)&&((c=ke(t.data))==null?void 0:c.length)===l.length&&bi(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function PT(t,e={}){return ks({...e,x:null,y:null},(n,i,o,a,u,l)=>l.getMarkState(t))}function kT(t){const e=[];for(const n of t){let i=n.tip;if(i){i===!0?i={}:typeof i=="string"&&(i={pointer:i});let{pointer:o}=i;o=/^x$/i.test(o)?a9:/^y$/i.test(o)?s9:o9,i=o(PT(n,i)),i.title=null;const a=pT(n.data,i);a.facet=n.facet,a.facetAnchor=n.facetAnchor,e.push(a)}}return e}function CT(t,e,n){let{projection:i,x:o={},y:a={},fx:u={},fy:l={},axis:c,grid:h,facet:d={},facet:{axis:m=c,grid:g}=d,x:{axis:_=c,grid:v=_===null?null:h}=o,y:{axis:b=c,grid:w=b===null?null:h}=a,fx:{axis:S=m,grid:M=S===null?null:g}=u,fy:{axis:P=m,grid:T=P===null?null:g}=l}=n;(i||!El(o)&&!am("x",t))&&(_=v=null),(i||!El(a)&&!am("y",t))&&(b=w=null),e.has("fx")||(S=M=null),e.has("fy")||(P=T=null),_===void 0&&(_=!Ba(t,"x")),b===void 0&&(b=!Ba(t,"y")),S===void 0&&(S=!Ba(t,"fx")),P===void 0&&(P=!Ba(t,"fy")),_===!0&&(_="bottom"),b===!0&&(b="left"),S===!0&&(S=_==="top"||_===null?"bottom":"top"),P===!0&&(P=b==="right"||b===null?"left":"right");const k=[];return Da(k,T,V9,l),Ia(k,P,Z9,"right","left",d,l),Da(k,M,X9,u),Ia(k,S,F9,"top","bottom",d,u),Da(k,w,Y9,a),Ia(k,b,Xy,"left","right",n,a),Da(k,v,G9,o),Ia(k,_,jy,"bottom","top",n,o),k}function Ia(t,e,n,i,o,a,u){if(!e)return;const l=AT(e);u=ET(l?i:e,a,u);const{line:c}=u;(n===Xy||n===jy)&&c&&!Eo(c)&&t.push(cT($T(u))),t.push(n(u)),l&&t.push(n({...u,anchor:o,label:null}))}function Da(t,e,n,i){!e||Eo(e)||t.push(n(zT(e,i)))}function AT(t){return/^\s*both\s*$/i.test(t)}function ET(t,e,{line:n=e.line,ticks:i,tickSize:o,tickSpacing:a,tickPadding:u,tickFormat:l,tickRotate:c,fontVariant:h,ariaLabel:d,ariaDescription:m,label:g=e.label,labelAnchor:_,labelArrow:v=e.labelArrow,labelOffset:b}){return{anchor:t,line:n,ticks:i,tickSize:o,tickSpacing:a,tickPadding:u,tickFormat:l,tickRotate:c,fontVariant:h,ariaLabel:d,ariaDescription:m,label:g,labelAnchor:_,labelArrow:v,labelOffset:b}}function $T(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function zT(t,{stroke:e=fu(t)?t:void 0,ticks:n=NT(t)?t:void 0,tickSpacing:i,ariaLabel:o,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:i,ariaLabel:o,ariaDescription:a}}function NT(t){switch(typeof t){case"number":return!0;case"string":return!fu(t)}return Ii(t)||typeof(t==null?void 0:t.range)=="function"}function Ba(t,e){const n=`${e}-axis `;return t.some(i=>{var o;return(o=i.ariaLabel)==null?void 0:o.startsWith(n)})}function am(t,e){for(const n of e)for(const i in n.channels){const{scale:o}=n.channels[i];if(o===t||o==="projection")return!0}return!1}function OT(t,e){for(const n in t){const i=t[n],o=e[n];i.label===void 0&&o&&(i.label=o.label)}return t}function IT({fx:t,fy:e},n){const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:l,height:c}=Oc(n),h=t&&sm(t),d=e&&sm(e);return{marginTop:e?d[0]:i,marginRight:t?l-h[1]:o,marginBottom:e?c-d[1]:a,marginLeft:t?h[0]:u,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:l,height:c}}function sm(t){const e=t.domain();let n=t(e[0]),i=t(e[e.length-1]);return i<n&&([n,i]=[i,n]),[n,i+t.bandwidth()]}function DT(t={}){return N1(t)?t:{...t,x:ve}}function BT(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,i=new Uint8Array(n);let o=0;for(const l of e)for(const c of l)i[c]&&++o,i[c]=1;if(o===0)return{data:t,facets:e};t=Co(t);const a=t[A1]=new Uint32Array(n+o);e=e.map(l=>Co(l,Uint32Array));let u=n;i.fill(0);for(const l of e)for(let c=0,h=l.length;c<h;++c){const d=l[c];i[d]?(l[c]=u,t[u]=t[d],a[u]=d,++u):a[d]=d,i[d]=1}return{data:t,facets:e}}function No(t={},e={}){arguments.length===1&&([t,e]=ZT(t));const{y1:n,y:i=n,x:o,...a}=e,[u,l,c,h]=UT(i,o,"y","x",t,a);return{...u,y1:n,y:l,x1:c,x2:h,x:j4(c,h)}}function RT({x:t,x1:e,x2:n,...i}={}){return i=Dc(i,"y"),e===void 0&&n===void 0?No({x:t,...i}):([e,n]=Y4(t,e,n),{...i,x1:e,x2:n})}function ZT(t){const{offset:e,order:n,reverse:i,...o}=t;return[{offset:e,order:n,reverse:i},o]}const FT={length:!0};function UT(t,e=R4,n,i,{offset:o,order:a,reverse:u},l){if(e===null)throw new Error(`stack requires ${i}`);const c=V4(l),[h,d]=nr(t),[m,g]=Ps(e),[_,v]=Ps(e);return m.hint=_.hint=FT,o=HT(o),a=YT(a,o,i),[Sc(l,(b,w,S)=>{({data:b,facets:w}=BT(b,w));const M=t==null?void 0:d($l(te(b,t),S==null?void 0:S[n])),P=te(b,e,Float64Array),T=te(b,c),k=a&&a(b,M,P,T),E=b.length,z=g(new Float64Array(E)),I=v(new Float64Array(E)),B=[];for(const $ of w){const A=M?Array.from(ql($,D=>M[D]).values()):[$];if(k)for(const D of A)D.sort(k);for(const D of A){let U=0,Z=0;u&&D.reverse();for(const O of D){const Y=P[O];Y<0?U=I[O]=(z[O]=U)+Y:Y>0?Z=I[O]=(z[O]=Z)+Y:I[O]=z[O]=Z}}B.push(A)}return o&&o(B,z,I,T),{data:b,facets:w}}),h,m,_]}function HT(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return WT;case"center":case"silhouette":return qT;case"wiggle":return pv}throw new Error(`unknown offset: ${t}`)}}function dv(t,e){let n=0,i=0;for(const o of t){const a=e[o];a<n&&(n=a),a>i&&(i=a)}return[n,i]}function WT(t,e,n){for(const i of t)for(const o of i){const[a,u]=dv(o,n);for(const l of o){const c=1/(u-a||1);e[l]=c*(e[l]-a),n[l]=c*(n[l]-a)}}}function qT(t,e,n){for(const i of t){for(const o of i){const[a,u]=dv(o,n);for(const l of o){const c=(u+a)/2;e[l]-=c,n[l]-=c}}mv(i,e,n)}gv(t,e,n)}function pv(t,e,n,i){for(const o of t){const a=new Ti;let u=0;for(const l of o){let c=-1;const h=l.map(_=>Math.abs(n[_]-e[_])),d=l.map(_=>{c=i?i[_]:++c;const v=n[_]-e[_],b=a.has(c)?v-a.get(c):0;return a.set(c,v),b}),m=[0,...xw(d)];for(const _ of l)e[_]+=u,n[_]+=u;const g=jn(h);g&&(u-=jn(h,(_,v)=>(d[v]/2+m[v])*_)/g)}mv(o,e,n)}gv(t,e,n)}function mv(t,e,n){const i=Dn(t,o=>Dn(o,a=>e[a]));for(const o of t)for(const a of o)e[a]-=i,n[a]-=i}function gv(t,e,n){const i=t.length;if(i===1)return;const o=t.map(l=>l.flat()),a=o.map(l=>(Dn(l,c=>e[c])+Je(l,c=>n[c]))/2),u=Dn(a);for(let l=0;l<i;l++){const c=u-a[l];for(const h of o[l])e[h]+=c,n[h]+=c}}function YT(t,e,n){if(t===void 0&&e===pv)return um(nn);if(t!=null){if(typeof t=="string"){const i=t.startsWith("-"),o=i?Ss:nn;switch((i?t.slice(1):t).toLowerCase()){case"value":case n:return VT(o);case"z":return GT(o);case"sum":return XT(o);case"appearance":return jT(o);case"inside-out":return um(o)}return fm(E1(t))}if(typeof t=="function")return(t.length===1?fm:KT)(t);if(Array.isArray(t))return JT(t);throw new Error(`invalid order: ${t}`)}}function VT(t){return(e,n,i)=>(o,a)=>t(i[o],i[a])}function GT(t){return(e,n,i,o)=>(a,u)=>t(o[a],o[u])}function XT(t){return gu(t,(e,n,i,o)=>Vl(Hn(e),a=>jn(a,u=>i[u]),a=>o[a]))}function jT(t){return gu(t,(e,n,i,o)=>Vl(Hn(e),a=>n[i0(a,u=>i[u])],a=>o[a]))}function um(t){return gu(t,(e,n,i,o)=>{const a=Hn(e),u=Vl(a,m=>n[i0(m,g=>i[g])],m=>o[m]),l=ar(a,m=>jn(m,g=>i[g]),m=>o[m]),c=[],h=[];let d=0;for(const m of u)d<0?(d+=l.get(m),c.push(m)):(d-=l.get(m),h.push(m));return h.reverse().concat(c)})}function fm(t){return e=>{const n=te(e,t);return(i,o)=>nn(n[i],n[o])}}function KT(t){return e=>(n,i)=>t(e[n],e[i])}function JT(t){return gu(nn,()=>t)}function gu(t,e){return(n,i,o,a)=>{if(!a)throw new Error("missing channel: z");const u=new Ti(e(n,i,o,a).map((l,c)=>[l,c]));return(l,c)=>t(u.get(a[l]),u.get(a[c]))}}class _v extends wn{constructor(e,n,i={},o){super(e,n,i,o);const{inset:a=0,insetTop:u=a,insetRight:l=a,insetBottom:c=a,insetLeft:h=a,rx:d,ry:m}=i;this.insetTop=Ht(u),this.insetRight=Ht(l),this.insetBottom=Ht(c),this.insetLeft=Ht(h),this.rx=oe(d,"auto"),this.ry=oe(m,"auto")}render(e,n,i,o,a){const{rx:u,ry:l}=this;return be("svg:g",a).call(Di,this,o,a).call(this._transform,this,n).call(c=>c.selectAll().data(e).enter().append("rect").call(Bi,this).attr("x",this._x(n,i,o)).attr("width",this._width(n,i,o)).attr("y",this._y(n,i,o)).attr("height",this._height(n,i,o)).call(Pt,"rx",u).call(Pt,"ry",l).call(Er,this,i)).node()}_x(e,{x:n},{marginLeft:i}){const{insetLeft:o}=this;return n?a=>n[a]+o:i+o}_y(e,{y:n},{marginTop:i}){const{insetTop:o}=this;return n?a=>n[a]+o:i+o}_width({x:e},{x:n},{marginRight:i,marginLeft:o,width:a}){const{insetLeft:u,insetRight:l}=this,c=n&&e?e.bandwidth():a-i-o;return Math.max(0,c-u-l)}_height({y:e},{y:n},{marginTop:i,marginBottom:o,height:a}){const{insetTop:u,insetBottom:l}=this,c=n&&e?e.bandwidth():a-i-o;return Math.max(0,c-u-l)}}const QT={ariaLabel:"bar"};class tL extends _v{constructor(e,n={}){const{x1:i,x2:o,y:a}=n;super(e,{x1:{value:i,scale:"x"},x2:{value:o,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,QT)}_transform(e,n,{x:i}){e.call(ni,n,{x:i},0,0)}_x({x:e},{x1:n,x2:i},{marginLeft:o}){const{insetLeft:a}=this;return Mr(e)?o+a:u=>Math.min(n[u],i[u])+a}_width({x:e},{x1:n,x2:i},{marginRight:o,marginLeft:a,width:u}){const{insetLeft:l,insetRight:c}=this;return Mr(e)?u-o-a-l-c:h=>Math.max(0,Math.abs(i[h]-n[h])-l-c)}}function Es(t,e={}){return q4(e)||(e={...e,y:$1,x2:ve}),new tL(t,RT(Ey(DT(e))))}const eL={ariaLabel:"cell"};class nL extends _v{constructor(e,{x:n,y:i,...o}={}){super(e,{x:{value:n,scale:"x",type:"band",optional:!0},y:{value:i,scale:"y",type:"band",optional:!0}},o,eL)}_transform(e,n){e.call(ni,n,{},0,0)}}function lm(t,{x:e,y:n,...i}={}){return[e,n]=su(e,n),new nL(t,{...i,x:e,y:n})}function cm(t){let e,n,i,o=[t[3]],a={};for(let u=0;u<o.length;u+=1)a=Ya(a,o[u]);return{c(){e=gt("div"),ed(e,a)},m(u,l){kt(u,e,l),n||(i=[lr(e,"click",function(){Oo(t[1])&&t[1].apply(this,arguments)}),Wb(t[2].call(null,e))],n=!0)},p(u,l){t=u,ed(e,a=ew(o,[l&8&&t[3]]))},d(u){u&&St(e),n=!1,Jn(i)}}}function iL(t){let e=t[0],n,i=cm(t);return{c(){i.c(),n=In()},m(o,a){i.m(o,a),kt(o,n,a)},p(o,[a]){a&1&&Ce(e,e=o[0])?(i.d(1),i=cm(o),i.c(),i.m(n.parentNode,n)):i.p(o,a)},i:Le,o:Le,d(o){o&&St(n),i.d(o)}}}function rL(t,e,n){const i=["options","handleClick"];let o=Qh(e,i),{options:a}=e,{handleClick:u=c=>{}}=e;function l(c){c.appendChild(cv(a))}return t.$$set=c=>{e=Ya(Ya({},e),Hb(c)),n(3,o=Qh(e,i)),"options"in c&&n(0,a=c.options),"handleClick"in c&&n(1,u=c.handleClick)},[a,u,l,o]}class Wc extends qe{constructor(e){super(),We(this,e,rL,iL,Ce,{options:0,handleClick:1})}}function oL(t){let e,n,i;return n=new Wc({props:{handleClick:t[1],options:{width:200,marginTop:10,color:{range:["rgb(104,175,252)","rgb(164 114 244)"],domain:t[4]==="wheelchair_boarding"?["1","2"]:["true","false"]},marks:[Es(t[0].features,Cs({x:"count",ariaLabel:t[5],stroke:t[6],fillOpacity:t[7]},{y:hm,fill:t[8]})),Tr([t[3]],{frameAnchor:"top",textAnchor:"start",fontSize:12,dx:-98,dy:-10}),Rl(t[0].features,No(Sp({x:"count",text:t[9],id:dm,ariaLabel:pm},{z:t[10],inset:.5,textAnchor:"middle",id:t[11],ariaLabel:t[12]})))],marginBottom:0,x:{label:t[3],axis:null},y:{axis:null},height:55,style:{cursor:"pointer"}}}}),{c(){e=gt("div"),qt(n.$$.fragment),at(e,"class","mx-1")},m(o,a){kt(o,e,a),Zt(n,e,null),i=!0},p(o,[a]){const u={};a&2&&(u.handleClick=o[1]),a&29&&(u.options={width:200,marginTop:10,color:{range:["rgb(104,175,252)","rgb(164 114 244)"],domain:o[4]==="wheelchair_boarding"?["1","2"]:["true","false"]},marks:[Es(o[0].features,Cs({x:"count",ariaLabel:o[5],stroke:o[6],fillOpacity:o[7]},{y:hm,fill:o[8]})),Tr([o[3]],{frameAnchor:"top",textAnchor:"start",fontSize:12,dx:-98,dy:-10}),Rl(o[0].features,No(Sp({x:"count",text:o[9],id:dm,ariaLabel:pm},{z:o[10],inset:.5,textAnchor:"middle",id:o[11],ariaLabel:o[12]})))],marginBottom:0,x:{label:o[3],axis:null},y:{axis:null},height:55,style:{cursor:"pointer"}}),n.$set(u)},i(o){i||(et(n.$$.fragment,o),i=!0)},o(o){ht(n.$$.fragment,o),i=!1},d(o){o&&St(e),Ft(n)}}}const hm=t=>1,dm=t=>t[0].id,pm=t=>t[0];function aL(t,e,n){let{data:i}=e,{handleClick:o}=e,{selected:a}=e,{label:u}=e,{prop:l}=e;const c=w=>w[0].properties[l],h=w=>`${w[0].properties[l]}`===a?"black":"none",d=w=>a?`${w[0].properties[l]}`===a?1:.5:.8,m=w=>`${w.properties[l]}`,g=w=>w[0].properties[l],_=w=>w.properties[l],v=w=>w.properties[l],b=w=>w.properties[l];return t.$$set=w=>{"data"in w&&n(0,i=w.data),"handleClick"in w&&n(1,o=w.handleClick),"selected"in w&&n(2,a=w.selected),"label"in w&&n(3,u=w.label),"prop"in w&&n(4,l=w.prop)},[i,o,a,u,l,c,h,d,m,g,_,v,b]}class sL extends qe{constructor(e){super(),We(this,e,aL,oL,Ce,{data:0,handleClick:1,selected:2,label:3,prop:4})}}function mm(t){let e;const n=t[4].default,i=$s(n,t,t[3],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&8)&&Ns(i,n,o,o[3],e?zs(n,o[3],a,null):Os(o[3]),null)},i(o){e||(et(i,o),e=!0)},o(o){ht(i,o),e=!1},d(o){i&&i.d(o)}}}function uL(t){let e,n,i=t[2]&&mm(t);return{c(){e=gt("div"),i&&i.c(),at(e,"use",t[0])},m(o,a){kt(o,e,a),i&&i.m(e,null),t[5](e),n=!0},p(o,[a]){o[2]?i?(i.p(o,a),a&4&&et(i,1)):(i=mm(o),i.c(),et(i,1),i.m(e,null)):i&&(fe(),ht(i,1,1,()=>{i=null}),le()),(!n||a&1)&&at(e,"use",o[0])},i(o){n||(et(i),n=!0)},o(o){ht(i),n=!1},d(o){o&&St(e),i&&i.d(),t[5](null)}}}function fL(t,e,n){let{$$slots:i={},$$scope:o}=e,a,u,l=!1,{startOpen:c=!1}=e;const{getLayer:h}=Wl("layer"),d=h();Sr(()=>{a=gi.popup().setContent(u),d&&(d.bindPopup(a),d.on("popupopen",()=>n(2,l=!0)),d.on("popupclose",()=>n(2,l=!1)),c&&(d==null||d.openPopup()))}),Is(()=>{d==null||d.unbindPopup(),a==null||a.remove(),a=void 0});function m(g){xi[g?"unshift":"push"](()=>{u=g,n(1,u)})}return t.$$set=g=>{"startOpen"in g&&n(0,c=g.startOpen),"$$scope"in g&&n(3,o=g.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&(c&&d?d==null||d.openPopup():d&&d.closePopup())},[c,u,l,o,i,m]}class qc extends qe{constructor(e){super(),We(this,e,fL,uL,Ce,{startOpen:0})}}function lL(t){let e;return{c(){e=gt("div"),at(e,"class","histogram mx-1 svelte-13skr5q")},m(n,i){kt(n,e,i),t[7](e)},p:Le,i:Le,o:Le,d(n){n&&St(e),t[7](null)}}}function cL(t,e,n){let{data:i=Array.from({length:100},(m,g)=>g)}=e,{width:o=200}=e,{height:a=75}=e,{tickFormat:u=Oe(".2s")}=e,{onUpdate:l=null}=e,{label:c="Value "}=e,h;Sr(()=>{const m={top:15,right:30,bottom:30,left:30},g=xe(h).append("svg").attr("width",o).attr("height",a),_=Lo().domain(Fe(i)).range([m.left,o-m.right]).nice(),v=zw().domain(_.domain()).thresholds(_.ticks(20))(i),b=Math.max(...v.map(k=>k.length)),w=Lo().domain([0,b]).nice().range([a-m.bottom,m.top]),S=g.selectAll("rect").data(v).enter().append("rect").attr("x",k=>_(k.x0)+1).attr("width",k=>Math.max(0,_(k.x1)-_(k.x0)-1)).attr("y",k=>w(k.length)).attr("height",k=>w(0)-w(k.length)).attr("fill","rgb(104,175,252)").attr("fill-opacity",.8),M=z5().extent([[m.left,m.top],[o-m.right,a-m.bottom]]).on("brush",P).on("end",T);g.append("g").attr("class","brush").call(M),g.append("text").attr("x",2).attr("y",9).attr("text-anchor","start").attr("font-size","12px").style("font-family","system-ui, sans-serif").text(c),g.append("g").attr("transform",`translate(0,${a-m.bottom})`).call(a0(_).ticks(4).tickFormat(u)),g.append("g").attr("transform",`translate(${m.left},0)`).call(Gw(w).ticks(2));function P(k){if(k.selection){const[E,z]=k.selection;S.attr("fill-opacity",I=>{const B=_(I.x0)+1;return B>=E&&B<=z?1:.3}),l&&l([_.invert(E),_.invert(z)])}}function T(k){k.selection||(S.attr("fill-opacity",1),l&&l(null))}});function d(m){xi[m?"unshift":"push"](()=>{h=m,n(0,h)})}return t.$$set=m=>{"data"in m&&n(1,i=m.data),"width"in m&&n(2,o=m.width),"height"in m&&n(3,a=m.height),"tickFormat"in m&&n(4,u=m.tickFormat),"onUpdate"in m&&n(5,l=m.onUpdate),"label"in m&&n(6,c=m.label)},[h,i,o,a,u,l,c,d]}class hL extends qe{constructor(e){super(),We(this,e,cL,lL,Ce,{data:1,width:2,height:3,tickFormat:4,onUpdate:5,label:6})}}function gm(t){let e;const n=t[4].default,i=$s(n,t,t[3],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&8)&&Ns(i,n,o,o[3],e?zs(n,o[3],a,null):Os(o[3]),null)},i(o){e||(et(i,o),e=!0)},o(o){ht(i,o),e=!1},d(o){i&&i.d(o)}}}function dL(t){let e,n,i=t[0]&&gm(t);return{c(){e=gt("div"),i&&i.c()},m(o,a){kt(o,e,a),i&&i.m(e,null),t[5](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&et(i,1)):(i=gm(o),i.c(),et(i,1),i.m(e,null)):i&&(fe(),ht(i,1,1,()=>{i=null}),le())},i(o){n||(et(i),n=!0)},o(o){ht(i),n=!1},d(o){o&&St(e),i&&i.d(),t[5](null)}}}function pL(t,e,n){let{$$slots:i={},$$scope:o}=e,{latLngs:a}=e,u,l;const{getMap:c}=Wl("map"),h=c();Hl("layer",{getLayer:()=>u}),Sr(()=>{h&&n(0,u=gi.polyline(a,{color:"black",weight:2,opacity:.8}).addTo(h))}),Is(()=>{u==null||u.remove(),n(0,u=void 0)});function d(m){xi[m?"unshift":"push"](()=>{l=m,n(1,l)})}return t.$$set=m=>{"latLngs"in m&&n(2,a=m.latLngs),"$$scope"in m&&n(3,o=m.$$scope)},[u,l,a,o,i,d]}class mL extends qe{constructor(e){super(),We(this,e,pL,dL,Ce,{latLngs:2})}}function gL(t){let e,n,i,o;return{c(){e=gt("button"),at(e,"class",n=td(`mx-2 my-1 p-1 hover:border-black border-solid border-1 border-black ${t[0]?"opacity-100":"opacity-30 hover:opacity-50"}`)+" svelte-10lm8cb"),go(e,"background-image","url("+t[2]+")")},m(a,u){kt(a,e,u),i||(o=lr(e,"click",qb(function(){Oo(t[1])&&t[1].apply(this,arguments)})),i=!0)},p(a,[u]){t=a,u&1&&n!==(n=td(`mx-2 my-1 p-1 hover:border-black border-solid border-1 border-black ${t[0]?"opacity-100":"opacity-30 hover:opacity-50"}`)+" svelte-10lm8cb")&&at(e,"class",n),u&4&&go(e,"background-image","url("+t[2]+")")},i:Le,o:Le,d(a){a&&St(e),i=!1,o()}}}function _L(t,e,n){let{checked:i=!0}=e,{onClick:o=()=>{}}=e,{imageUrl:a="./ttc.svg"}=e;return t.$$set=u=>{"checked"in u&&n(0,i=u.checked),"onClick"in u&&n(1,o=u.onClick),"imageUrl"in u&&n(2,a=u.imageUrl)},[i,o,a]}class Of extends qe{constructor(e){super(),We(this,e,_L,gL,Ce,{checked:0,onClick:1,imageUrl:2})}}function _m(t,e,n){const i=t.slice();return i[12]=e[n],i}function ym(t,e,n){const i=t.slice();return i[15]=e[n],i}function vm(t,e,n){const i=t.slice();return i[18]=e[n],i}function bm(t){let e,n,i,o,a=[],u=new Map,l,c,h=Ie(Object.keys(t[5][0]));const d=_=>_[18];for(let _=0;_<h.length;_+=1){let v=vm(t,h,_),b=d(v);u.set(b,a[_]=wm(b,v))}let m=Ie(t[5]),g=[];for(let _=0;_<m.length;_+=1)g[_]=Mm(_m(t,m,_));return{c(){e=gt("div"),n=gt("table"),i=gt("thead"),o=gt("tr");for(let _=0;_<a.length;_+=1)a[_].c();l=It(),c=gt("tbody");for(let _=0;_<g.length;_+=1)g[_].c();at(i,"class","sticky top-0 bg-white"),at(n,"class","min-w-full"),at(e,"class","border-gray mt-1 overflow-x-auto"),go(e,"max-height",xL)},m(_,v){kt(_,e,v),ct(e,n),ct(n,i),ct(i,o);for(let b=0;b<a.length;b+=1)a[b]&&a[b].m(o,null);ct(n,l),ct(n,c);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(c,null)},p(_,v){if(v&113&&(h=Ie(Object.keys(_[5][0])),a=Gm(a,v,d,1,_,h,u,o,Qb,wm,null,vm)),v&44){m=Ie(_[5]);let b;for(b=0;b<m.length;b+=1){const w=_m(_,m,b);g[b]?g[b].p(w,v):(g[b]=Mm(w),g[b].c(),g[b].m(c,null))}for(;b<g.length;b+=1)g[b].d(1);g.length=m.length}},d(_){_&&St(e);for(let v=0;v<a.length;v+=1)a[v].d();Va(g,_)}}}function yL(t){let e,n;return{c(){e=wi("svg"),n=wi("path"),at(n,"stroke-linecap","round"),at(n,"stroke-linejoin","round"),at(n,"stroke-width","2"),at(n,"d","M4 8h16M4 16h16"),at(e,"class","w-4 h-4 ml-1 text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity"),at(e,"fill","none"),at(e,"stroke","currentColor"),at(e,"viewBox","0 0 24 24"),at(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){kt(i,e,o),ct(e,n)},d(i){i&&St(e)}}}function vL(t){let e,n;return{c(){e=wi("svg"),n=wi("path"),at(n,"stroke-linecap","round"),at(n,"stroke-linejoin","round"),at(n,"stroke-width","2"),at(n,"d","M19 9l-7 7-7-7"),at(e,"class","w-4 h-4 ml-1 text-gray-600"),at(e,"fill","none"),at(e,"stroke","currentColor"),at(e,"viewBox","0 0 24 24"),at(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){kt(i,e,o),ct(e,n)},d(i){i&&St(e)}}}function bL(t){let e,n;return{c(){e=wi("svg"),n=wi("path"),at(n,"stroke-linecap","round"),at(n,"stroke-linejoin","round"),at(n,"stroke-width","2"),at(n,"d","M5 15l7-7 7 7"),at(e,"class","w-4 h-4 ml-1 text-gray-600"),at(e,"fill","none"),at(e,"stroke","currentColor"),at(e,"viewBox","0 0 24 24"),at(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){kt(i,e,o),ct(e,n)},d(i){i&&St(e)}}}function wm(t,e){let n,i,o,a=e[18]+"",u,l,c,h;function d(v,b){return v[18]===v[0]&&v[4]===1?bL:v[18]===v[0]&&v[4]===-1?vL:yL}let m=d(e),g=m(e);function _(){return e[10](e[18])}return{key:t,first:null,c(){n=gt("th"),i=gt("div"),g.c(),o=It(),u=Xe(a),l=It(),at(i,"class","flex items-center"),at(n,"class","cursor-pointer px-1 py-1 border truncate select-none svelte-16512im"),this.first=n},m(v,b){kt(v,n,b),ct(n,i),g.m(i,null),ct(i,o),ct(i,u),ct(n,l),c||(h=lr(n,"click",_),c=!0)},p(v,b){e=v,m!==(m=d(e))&&(g.d(1),g=m(e),g&&(g.c(),g.m(i,o))),b&32&&a!==(a=e[18]+"")&&Ga(u,a)},d(v){v&&St(n),g.d(),c=!1,h()}}}function xm(t){let e,n=t[15]+"",i;return{c(){e=gt("td"),i=Xe(n),at(e,"class","border px-1 py-1 truncate"),go(e,"max-width","240px")},m(o,a){kt(o,e,a),ct(e,i)},p(o,a){a&32&&n!==(n=o[15]+"")&&Ga(i,n)},d(o){o&&St(e)}}}function Mm(t){let e,n,i,o,a,u=Ie(Object.values(t[12])),l=[];for(let h=0;h<u.length;h+=1)l[h]=xm(ym(t,u,h));function c(){return t[11](t[12])}return{c(){e=gt("tr");for(let h=0;h<l.length;h+=1)l[h].c();n=It(),at(e,"class",i=`cursor-pointer ${t[12].index===t[2]?"bg-orange-300":"hover:bg-slate-100"}`)},m(h,d){kt(h,e,d);for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(e,null);ct(e,n),o||(a=lr(e,"click",c),o=!0)},p(h,d){if(t=h,d&32){u=Ie(Object.values(t[12]));let m;for(m=0;m<u.length;m+=1){const g=ym(t,u,m);l[m]?l[m].p(g,d):(l[m]=xm(g),l[m].c(),l[m].m(e,n))}for(;m<l.length;m+=1)l[m].d(1);l.length=u.length}d&36&&i!==(i=`cursor-pointer ${t[12].index===t[2]?"bg-orange-300":"hover:bg-slate-100"}`)&&at(e,"class",i)},d(h){h&&St(e),Va(l,h),o=!1,a()}}}function wL(t){let e,n,i,o,a,u=t[5].length+"",l,c,h,d,m,g,_,v,b,w,S,M,P,T,k,E,z,I,B,$,A,D=t[5]&&t[5].length>0&&bm(t);return{c(){e=gt("div"),n=gt("div"),i=gt("div"),o=Xe("NORCs filtered by the controls above and search below (currently "),a=gt("strong"),l=Xe(u),c=Xe(" rows"),h=Xe(`). Click column headers to sort (currently
      `),d=gt("em"),m=Xe(t[0]),g=Xe("."),_=Xe("). Click a row to zoom the map."),v=It(),b=gt("div"),w=gt("button"),w.textContent="Download Table",S=It(),M=gt("form"),P=gt("label"),P.textContent="Search stops or buildings",T=It(),k=gt("div"),E=gt("div"),E.innerHTML='<svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"></path></svg>',z=It(),I=gt("input"),B=It(),D&&D.c(),at(w,"type","button"),at(w,"class","py-2.5 px-5 me-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 whitespace-nowrap"),at(n,"class","border-t mt-2 pt-2 flex justify-between text-start"),at(P,"for","default-search"),at(P,"class","mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"),at(E,"class","absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"),at(I,"type","search"),at(I,"id","default-search"),at(I,"class","block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50"),at(I,"placeholder","Search stops or buildings"),at(k,"class","relative w-60"),at(M,"class","flex mb-2"),at(e,"class","mb-10")},m(U,Z){kt(U,e,Z),ct(e,n),ct(n,i),ct(i,o),ct(i,a),ct(a,l),ct(a,c),ct(i,h),ct(i,d),ct(d,m),ct(d,g),ct(i,_),ct(n,v),ct(n,b),ct(b,w),ct(e,S),ct(e,M),ct(M,P),ct(M,T),ct(M,k),ct(k,E),ct(k,z),ct(k,I),ct(e,B),D&&D.m(e,null),$||(A=[lr(w,"click",t[7]),lr(I,"input",t[9])],$=!0)},p(U,[Z]){Z&32&&u!==(u=U[5].length+"")&&Ga(l,u),Z&1&&Ga(m,U[0]),U[5]&&U[5].length>0?D?D.p(U,Z):(D=bm(U),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i:Le,o:Le,d(U){U&&St(e),D&&D.d(),$=!1,Jn(A)}}}let xL="400px";function ML(t,e,n){let i,o,{items:a=[]}=e,{sortBy:u=""}=e,{selectedRow:l}=e,{searchTerm:c=""}=e,{rowClick:h=()=>{}}=e;const d=b=>{u===b?n(4,i*=-1):n(0,u=b)};function m(){const w=Object.keys(o[0]).join(",")+`
`+o.map(T=>Object.values(T).join(",")).join(`
`),S=new Blob([w],{type:"text/csv"}),M=window.URL.createObjectURL(S),P=document.createElement("a");P.href=M,P.setAttribute("download","data.csv"),document.body.appendChild(P),P.click(),document.body.removeChild(P),window.URL.revokeObjectURL(M)}const g=b=>n(1,c=b.target.value),_=b=>d(b),v=b=>h(b);return t.$$set=b=>{"items"in b&&n(8,a=b.items),"sortBy"in b&&n(0,u=b.sortBy),"selectedRow"in b&&n(2,l=b.selectedRow),"searchTerm"in b&&n(1,c=b.searchTerm),"rowClick"in b&&n(3,h=b.rowClick)},t.$$.update=()=>{t.$$.dirty&275&&n(5,o=[...a].filter(b=>Object.values(b).filter(w=>typeof w=="string").join(" ").toLowerCase().includes(c.toLowerCase())).sort((b,w)=>b[u]>w[u]?i:b[u]<w[u]?-i:0))},n(4,i=-1),[u,c,l,h,i,o,d,m,a,g,_,v]}class TL extends qe{constructor(e){super(),We(this,e,ML,wL,Ce,{items:8,sortBy:0,selectedRow:2,searchTerm:1,rowClick:3})}}function LL(t){let e,n;return e=new Wc({props:{options:{marks:[Es(t[0],No({...Cs({x:"sum",reverse:!0},{y:t[2],x:t[1],z:t[3],sort:{y:"x",limit:40,reverse:!0},stroke:"white",fill:t[4],channels:{NORC:Tm,"Has bench or shelter":Lm},order:"x",tip:{format:{NORC:!0,y:!1,fill:!1}}}),reverse:!0}))],x:{label:"Number of seniors served"},marginLeft:t[5],width:t[6],marginTop:-5,title:t[7],color:{legend:!0,range:["rgb(104,175,252)","rgb(164 114 244)"],domain:[!0,!1]}}}}),{c(){qt(e.$$.fragment)},m(i,o){Zt(e,i,o),n=!0},p(i,[o]){const a={};o&255&&(a.options={marks:[Es(i[0],No({...Cs({x:"sum",reverse:!0},{y:i[2],x:i[1],z:i[3],sort:{y:"x",limit:40,reverse:!0},stroke:"white",fill:i[4],channels:{NORC:Tm,"Has bench or shelter":Lm},order:"x",tip:{format:{NORC:!0,y:!1,fill:!1}}}),reverse:!0}))],x:{label:"Number of seniors served"},marginLeft:i[5],width:i[6],marginTop:-5,title:i[7],color:{legend:!0,range:["rgb(104,175,252)","rgb(164 114 244)"],domain:[!0,!1]}}),e.$set(a)},i(i){n||(et(e.$$.fragment,i),n=!0)},o(i){ht(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}const Tm=t=>t[0].properties.Address,Lm=t=>t[0].properties.has_shelter_with_bench||t[0].properties.has_bench||t[0].properties.has_shelter;function SL(t,e,n){let{data:i}=e,{getX:o=m=>m.x}=e,{getY:a=m=>m.y}=e,{getZ:u=m=>m.z}=e,{getFill:l=m=>m.fill}=e,{marginLeft:c=300}=e,{width:h=600}=e,{title:d=""}=e;return t.$$set=m=>{"data"in m&&n(0,i=m.data),"getX"in m&&n(1,o=m.getX),"getY"in m&&n(2,a=m.getY),"getZ"in m&&n(3,u=m.getZ),"getFill"in m&&n(4,l=m.getFill),"marginLeft"in m&&n(5,c=m.marginLeft),"width"in m&&n(6,h=m.width),"title"in m&&n(7,d=m.title)},[i,o,a,u,l,c,h,d]}class If extends qe{constructor(e){super(),We(this,e,SL,LL,Ce,{data:0,getX:1,getY:2,getZ:3,getFill:4,marginLeft:5,width:6,title:7})}}function PL(t){let e,n;return e=new Wc({props:{options:{marks:[lm(t[2],$a({fill:"count",text:"count"},{x:t[3],y:t[4],tip:!0})),Tr(t[2],$a({text:"count"},{x:t[5],y:t[6],fill:"white",stroke:"black"}))],x:{label:t[0].replaceAll("_"," "),domain:[!1,!0]},y:{label:t[1].replaceAll("_"," "),domain:[!0,!1]},color:{scheme:"blues"},marginLeft:60,width:200,marginTop:80,marginBottom:50,style:{fontSize:"14px"}}}}),{c(){qt(e.$$.fragment)},m(i,o){Zt(e,i,o),n=!0},p(i,[o]){const a={};o&7&&(a.options={marks:[lm(i[2],$a({fill:"count",text:"count"},{x:i[3],y:i[4],tip:!0})),Tr(i[2],$a({text:"count"},{x:i[5],y:i[6],fill:"white",stroke:"black"}))],x:{label:i[0].replaceAll("_"," "),domain:[!1,!0]},y:{label:i[1].replaceAll("_"," "),domain:[!0,!1]},color:{scheme:"blues"},marginLeft:60,width:200,marginTop:80,marginBottom:50,style:{fontSize:"14px"}}),e.$set(a)},i(i){n||(et(e.$$.fragment,i),n=!0)},o(i){ht(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function kL(t,e,n){let{x:i="has_bench"}=e,{y:o="has_shelter"}=e,{data:a}=e;const u=d=>d.properties[i],l=d=>d.properties[o],c=d=>d.properties[i],h=d=>d.properties[o];return t.$$set=d=>{"x"in d&&n(0,i=d.x),"y"in d&&n(1,o=d.y),"data"in d&&n(2,a=d.data)},[i,o,a,u,l,c,h]}class Df extends qe{constructor(e){super(),We(this,e,kL,PL,Ce,{x:0,y:1,data:2})}}function Sm(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function Pm(t,e,n){const i=t.slice();return i[27]=e[n],i}function km(t,e,n){const i=t.slice();return i[27]=e[n],i}function Cm(t){let e,n,i,o,a=Ie(t[9]),u=[];for(let m=0;m<a.length;m+=1)u[m]=Am(km(t,a,m));const l=m=>ht(u[m],1,1,()=>{u[m]=null});let c=Ie(t[10]),h=[];for(let m=0;m<c.length;m+=1)h[m]=Em(Pm(t,c,m));const d=m=>ht(h[m],1,1,()=>{h[m]=null});return{c(){e=gt("div");for(let m=0;m<u.length;m+=1)u[m].c();n=It(),i=gt("div");for(let m=0;m<h.length;m+=1)h[m].c();at(e,"class","flex flex-wrap mt-3"),at(i,"class","flex flex-wrap mt-3")},m(m,g){kt(m,e,g);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(e,null);kt(m,n,g),kt(m,i,g);for(let _=0;_<h.length;_+=1)h[_]&&h[_].m(i,null);o=!0},p(m,g){if(g[0]&16901){a=Ie(m[9]);let _;for(_=0;_<a.length;_+=1){const v=km(m,a,_);u[_]?(u[_].p(v,g),et(u[_],1)):(u[_]=Am(v),u[_].c(),et(u[_],1),u[_].m(e,null))}for(fe(),_=a.length;_<u.length;_+=1)l(_);le()}if(g[0]&17409){c=Ie(m[10]);let _;for(_=0;_<c.length;_+=1){const v=Pm(m,c,_);h[_]?(h[_].p(v,g),et(h[_],1)):(h[_]=Em(v),h[_].c(),et(h[_],1),h[_].m(i,null))}for(fe(),_=c.length;_<h.length;_+=1)d(_);le()}},i(m){if(!o){for(let g=0;g<a.length;g+=1)et(u[g]);for(let g=0;g<c.length;g+=1)et(h[g]);o=!0}},o(m){u=u.filter(Boolean);for(let g=0;g<u.length;g+=1)ht(u[g]);h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)ht(h[g]);o=!1},d(m){m&&(St(e),St(n),St(i)),Va(u,m),Va(h,m)}}}function Am(t){var a;let e,n;function i(...u){return t[16](t[27],...u)}function o(...u){return t[17](t[27],...u)}return e=new sL({props:{prop:t[27].prop,label:t[27].label,selected:(a=t[2].find(i))==null?void 0:a.value,data:t[0],handleClick:o}}),{c(){qt(e.$$.fragment)},m(u,l){Zt(e,u,l),n=!0},p(u,l){var h;t=u;const c={};l[0]&4&&(c.selected=(h=t[2].find(i))==null?void 0:h.value),l[0]&1&&(c.data=t[0]),e.$set(c)},i(u){n||(et(e.$$.fragment,u),n=!0)},o(u){ht(e.$$.fragment,u),n=!1},d(u){Ft(e,u)}}}function Em(t){let e,n;function i(...a){return t[18](t[27],...a)}function o(...a){return t[19](t[27],...a)}return e=new hL({props:{data:t[0].features.map(i),label:`${t[27].label} `,onUpdate:o,tickFormat:t[27].tickFormat}}),{c(){qt(e.$$.fragment)},m(a,u){Zt(e,a,u),n=!0},p(a,u){t=a;const l={};u[0]&1&&(l.data=t[0].features.map(i)),e.$set(l)},i(a){n||(et(e.$$.fragment,a),n=!0)},o(a){ht(e.$$.fragment,a),n=!1},d(a){Ft(e,a)}}}function $m(t){let e=[],n=new Map,i,o,a=Ie(t[3]);const u=l=>l[24].properties.id;for(let l=0;l<a.length;l+=1){let c=Sm(t,a,l),h=u(c);n.set(h,e[l]=Dm(h,c))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();i=In()},m(l,c){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(l,c);kt(l,i,c),o=!0},p(l,c){c[0]&33002&&(a=Ie(l[3]),fe(),e=Gm(e,c,u,1,l,a,n,i.parentNode,tw,Dm,i,Sm),le())},i(l){if(!o){for(let c=0;c<a.length;c+=1)et(e[c]);o=!0}},o(l){for(let c=0;c<e.length;c+=1)ht(e[c]);o=!1},d(l){l&&St(i);for(let c=0;c<e.length;c+=1)e[c].d(l)}}}function zm(t){let e,n;return e=new Xm({props:{latLng:[+t[24].properties.latitude,+t[24].properties.longitude],radius:4,fillColor:"black",$$slots:{default:[AL]},$$scope:{ctx:t}}}),{c(){qt(e.$$.fragment)},m(i,o){Zt(e,i,o),n=!0},p(i,o){const a={};o[0]&8&&(a.latLng=[+i[24].properties.latitude,+i[24].properties.longitude]),o[0]&10|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(et(e.$$.fragment,i),n=!0)},o(i){ht(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function CL(t){let e,n=t[15](t[24])+"",i;return{c(){e=new Ul(!1),i=In(),e.a=i},m(o,a){e.m(n,o,a),kt(o,i,a)},p(o,a){a[0]&8&&n!==(n=o[15](o[24])+"")&&e.p(n)},d(o){o&&(St(i),e.d())}}}function AL(t){let e,n;return e=new qc({props:{startOpen:t[26]===t[1],$$slots:{default:[CL]},$$scope:{ctx:t}}}),{c(){qt(e.$$.fragment)},m(i,o){Zt(e,i,o),n=!0},p(i,o){const a={};o[0]&10&&(a.startOpen=i[26]===i[1]),o[0]&8|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(et(e.$$.fragment,i),n=!0)},o(i){ht(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function Nm(t){let e,n;return e=new Xm({props:{latLng:[+t[24].properties.stop_lat,+t[24].properties.stop_lon],radius:4,fillColor:"red",$$slots:{default:[$L]},$$scope:{ctx:t}}}),{c(){qt(e.$$.fragment)},m(i,o){Zt(e,i,o),n=!0},p(i,o){const a={};o[0]&8&&(a.latLng=[+i[24].properties.stop_lat,+i[24].properties.stop_lon]),o[0]&8|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(et(e.$$.fragment,i),n=!0)},o(i){ht(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function EL(t){let e,n=t[15](t[24])+"",i;return{c(){e=new Ul(!1),i=In(),e.a=i},m(o,a){e.m(n,o,a),kt(o,i,a)},p(o,a){a[0]&8&&n!==(n=o[15](o[24])+"")&&e.p(n)},d(o){o&&(St(i),e.d())}}}function $L(t){let e,n;return e=new qc({props:{$$slots:{default:[EL]},$$scope:{ctx:t}}}),{c(){qt(e.$$.fragment)},m(i,o){Zt(e,i,o),n=!0},p(i,o){const a={};o[0]&8|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(et(e.$$.fragment,i),n=!0)},o(i){ht(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function Om(t){let e,n,i=t[24].geometry&&Im(t);return{c(){i&&i.c(),e=In()},m(o,a){i&&i.m(o,a),kt(o,e,a),n=!0},p(o,a){o[24].geometry?i?(i.p(o,a),a[0]&8&&et(i,1)):(i=Im(o),i.c(),et(i,1),i.m(e.parentNode,e)):i&&(fe(),ht(i,1,1,()=>{i=null}),le())},i(o){n||(et(i),n=!0)},o(o){ht(i),n=!1},d(o){o&&St(e),i&&i.d(o)}}}function Im(t){let e,n;return e=new mL({props:{latLngs:t[24].geometry.coordinates.map(Um),$$slots:{default:[NL]},$$scope:{ctx:t}}}),{c(){qt(e.$$.fragment)},m(i,o){Zt(e,i,o),n=!0},p(i,o){const a={};o[0]&8&&(a.latLngs=i[24].geometry.coordinates.map(Um)),o[0]&8|o[1]&2&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(et(e.$$.fragment,i),n=!0)},o(i){ht(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function zL(t){let e,n=t[15](t[24])+"",i;return{c(){e=new Ul(!1),i=In(),e.a=i},m(o,a){e.m(n,o,a),kt(o,i,a)},p(o,a){a[0]&8&&n!==(n=o[15](o[24])+"")&&e.p(n)},d(o){o&&(St(i),e.d())}}}function NL(t){let e,n,i;return e=new qc({props:{$$slots:{default:[zL]},$$scope:{ctx:t}}}),{c(){qt(e.$$.fragment),n=It()},m(o,a){Zt(e,o,a),kt(o,n,a),i=!0},p(o,a){const u={};a[0]&8|a[1]&2&&(u.$$scope={dirty:a,ctx:o}),e.$set(u)},i(o){i||(et(e.$$.fragment,o),i=!0)},o(o){ht(e.$$.fragment,o),i=!1},d(o){o&&St(n),Ft(e,o)}}}function Dm(t,e){let n,i,o,a,u,l=e[7]&&zm(e),c=e[5]&&Nm(e),h=e[6]&&Om(e);return{key:t,first:null,c(){n=In(),l&&l.c(),i=It(),c&&c.c(),o=It(),h&&h.c(),a=In(),this.first=n},m(d,m){kt(d,n,m),l&&l.m(d,m),kt(d,i,m),c&&c.m(d,m),kt(d,o,m),h&&h.m(d,m),kt(d,a,m),u=!0},p(d,m){e=d,e[7]?l?(l.p(e,m),m[0]&128&&et(l,1)):(l=zm(e),l.c(),et(l,1),l.m(i.parentNode,i)):l&&(fe(),ht(l,1,1,()=>{l=null}),le()),e[5]?c?(c.p(e,m),m[0]&32&&et(c,1)):(c=Nm(e),c.c(),et(c,1),c.m(o.parentNode,o)):c&&(fe(),ht(c,1,1,()=>{c=null}),le()),e[6]?h?(h.p(e,m),m[0]&64&&et(h,1)):(h=Om(e),h.c(),et(h,1),h.m(a.parentNode,a)):h&&(fe(),ht(h,1,1,()=>{h=null}),le())},i(d){u||(et(l),et(c),et(h),u=!0)},o(d){ht(l),ht(c),ht(h),u=!1},d(d){d&&(St(n),St(i),St(o),St(a)),l&&l.d(d),c&&c.d(d),h&&h.d(d)}}}function OL(t){let e,n,i=t[3]&&$m(t);return{c(){i&&i.c(),e=In()},m(o,a){i&&i.m(o,a),kt(o,e,a),n=!0},p(o,a){o[3]?i?(i.p(o,a),a[0]&8&&et(i,1)):(i=$m(o),i.c(),et(i,1),i.m(e.parentNode,e)):i&&(fe(),ht(i,1,1,()=>{i=null}),le())},i(o){n||(et(i),n=!0)},o(o){ht(i),n=!1},d(o){o&&St(e),i&&i.d(o)}}}function Bm(t){let e,n;return e=new TL({props:{items:t[3].map(t[20]),sortBy:"Distance",rowClick:t[21],selectedRow:t[1]}}),{c(){qt(e.$$.fragment)},m(i,o){Zt(e,i,o),n=!0},p(i,o){const a={};o[0]&8&&(a.items=i[3].map(i[20])),o[0]&2&&(a.rowClick=i[21]),o[0]&2&&(a.selectedRow=i[1]),e.$set(a)},i(i){n||(et(e.$$.fragment,i),n=!0)},o(i){ht(e.$$.fragment,i),n=!1},d(i){Ft(e,i)}}}function Rm(t){let e,n,i,o,a,u,l;return n=new If({props:{data:t[0].features,getY:DL,getX:BL,getZ:RL,getFill:ZL,title:"Has shelter with bench"}}),o=new If({props:{data:t[0].features,getY:FL,getX:UL,getZ:HL,getFill:WL,marginLeft:0,width:300,title:"Has shelter"}}),u=new If({props:{data:t[0].features,getY:qL,getX:YL,getZ:VL,getFill:GL,marginLeft:0,width:300,title:"Has bench only"}}),{c(){e=gt("div"),qt(n.$$.fragment),i=It(),qt(o.$$.fragment),a=It(),qt(u.$$.fragment),at(e,"class","flex")},m(c,h){kt(c,e,h),Zt(n,e,null),ct(e,i),Zt(o,e,null),ct(e,a),Zt(u,e,null),l=!0},p(c,h){const d={};h[0]&1&&(d.data=c[0].features),n.$set(d);const m={};h[0]&1&&(m.data=c[0].features),o.$set(m);const g={};h[0]&1&&(g.data=c[0].features),u.$set(g)},i(c){l||(et(n.$$.fragment,c),et(o.$$.fragment,c),et(u.$$.fragment,c),l=!0)},o(c){ht(n.$$.fragment,c),ht(o.$$.fragment,c),ht(u.$$.fragment,c),l=!1},d(c){c&&St(e),Ft(n),Ft(o),Ft(u)}}}function Zm(t){let e,n,i,o,a,u,l;return n=new Df({props:{data:t[0].features,x:"has_shelter",y:"has_shelter_with_bench"}}),o=new Df({props:{data:t[0].features,x:"has_shelter",y:"has_bench"}}),u=new Df({props:{data:t[0].features,x:"has_shelter_with_bench",y:"has_bench"}}),{c(){e=gt("div"),qt(n.$$.fragment),i=It(),qt(o.$$.fragment),a=It(),qt(u.$$.fragment),at(e,"class","flex mb-16")},m(c,h){kt(c,e,h),Zt(n,e,null),ct(e,i),Zt(o,e,null),ct(e,a),Zt(u,e,null),l=!0},p(c,h){const d={};h[0]&1&&(d.data=c[0].features),n.$set(d);const m={};h[0]&1&&(m.data=c[0].features),o.$set(m);const g={};h[0]&1&&(g.data=c[0].features),u.$set(g)},i(c){l||(et(n.$$.fragment,c),et(o.$$.fragment,c),et(u.$$.fragment,c),l=!0)},o(c){ht(n.$$.fragment,c),ht(o.$$.fragment,c),ht(u.$$.fragment,c),l=!1},d(c){c&&St(e),Ft(n),Ft(o),Ft(u)}}}function IL(t){let e,n,i,o,a,u,l,c,h,d,m,g,_,v,b,w,S,M,P,T,k,E,z,I,B,$=t[0]&&Cm(t);d=new Of({props:{imageUrl:"ttc.svg",checked:t[5],onClick:t[11]}}),g=new Of({props:{imageUrl:"apartment.svg",checked:t[7],onClick:t[13]}}),v=new Of({props:{imageUrl:"route.svg",checked:t[6],onClick:t[12]}}),S=new fw({props:{view:t[8],zoom:t[4],$$slots:{default:[OL]},$$scope:{ctx:t}}});let A=t[3]&&Bm(t),D=t[0]&&Rm(t),U=t[0]&&Zm(t);return{c(){e=gt("div"),n=gt("h1"),n.textContent="Naturally Occuring Retirement Communities",i=It(),o=gt("p"),o.innerHTML="<em>Use the controls below to explore the data in the map and table.</em>",a=It(),$&&$.c(),u=It(),l=gt("div"),c=gt("div"),h=gt("form"),qt(d.$$.fragment),m=It(),qt(g.$$.fragment),_=It(),qt(v.$$.fragment),b=It(),w=gt("div"),qt(S.$$.fragment),M=It(),A&&A.c(),P=It(),T=gt("h1"),T.textContent="Stops",k=It(),E=gt("p"),E.innerHTML="<em>Top 40 stops by number of seniors served</em>",z=It(),D&&D.c(),I=It(),U&&U.c(),at(n,"class","flex pb-0 text-2xl"),at(o,"class","text-start border-b"),at(h,"class","flex flex-wrap"),go(c,"width","80px"),at(w,"class","w-[calc(100%-80px)] h-[calc(50vh)]"),at(l,"class","flex"),at(T,"class","flex pb-0 pt-2 text-2xl border-t"),at(E,"class","text-start m0"),at(e,"class","w-full")},m(Z,O){kt(Z,e,O),ct(e,n),ct(e,i),ct(e,o),ct(e,a),$&&$.m(e,null),ct(e,u),ct(e,l),ct(l,c),ct(c,h),Zt(d,h,null),ct(h,m),Zt(g,h,null),ct(h,_),Zt(v,h,null),ct(l,b),ct(l,w),Zt(S,w,null),ct(e,M),A&&A.m(e,null),ct(e,P),ct(e,T),ct(e,k),ct(e,E),ct(e,z),D&&D.m(e,null),ct(e,I),U&&U.m(e,null),B=!0},p(Z,O){Z[0]?$?($.p(Z,O),O[0]&1&&et($,1)):($=Cm(Z),$.c(),et($,1),$.m(e,u)):$&&(fe(),ht($,1,1,()=>{$=null}),le());const Y={};O[0]&32&&(Y.checked=Z[5]),d.$set(Y);const Q={};O[0]&128&&(Q.checked=Z[7]),g.$set(Q);const V={};O[0]&64&&(V.checked=Z[6]),v.$set(V);const tt={};O[0]&256&&(tt.view=Z[8]),O[0]&16&&(tt.zoom=Z[4]),O[0]&234|O[1]&2&&(tt.$$scope={dirty:O,ctx:Z}),S.$set(tt),Z[3]?A?(A.p(Z,O),O[0]&8&&et(A,1)):(A=Bm(Z),A.c(),et(A,1),A.m(e,P)):A&&(fe(),ht(A,1,1,()=>{A=null}),le()),Z[0]?D?(D.p(Z,O),O[0]&1&&et(D,1)):(D=Rm(Z),D.c(),et(D,1),D.m(e,I)):D&&(fe(),ht(D,1,1,()=>{D=null}),le()),Z[0]?U?(U.p(Z,O),O[0]&1&&et(U,1)):(U=Zm(Z),U.c(),et(U,1),U.m(e,null)):U&&(fe(),ht(U,1,1,()=>{U=null}),le())},i(Z){B||(et($),et(d.$$.fragment,Z),et(g.$$.fragment,Z),et(v.$$.fragment,Z),et(S.$$.fragment,Z),et(A),et(D),et(U),B=!0)},o(Z){ht($),ht(d.$$.fragment,Z),ht(g.$$.fragment,Z),ht(v.$$.fragment,Z),ht(S.$$.fragment,Z),ht(A),ht(D),ht(U),B=!1},d(Z){Z&&St(e),$&&$.d(),Ft(d),Ft(g),Ft(v),Ft(S),A&&A.d(),D&&D.d(),U&&U.d()}}}function Fm(t,e){return`http://maps.google.com/maps?q=&layer=c&cbll=${t},${e}&cbp=11,0,0,0,0`}const Um=t=>[+t[1],+t[0]],DL=t=>`${t.properties.stop_name} (#${t.properties.id})`,BL=t=>t.properties["Age 65+ Total"],RL=t=>t.properties.Address,ZL=t=>t.properties.has_shelter_with_bench,FL=t=>`${t.properties.stop_name} (#${t.properties.id})`,UL=t=>t.properties["Age 65+ Total"],HL=t=>t.properties.Address,WL=t=>t.properties.has_shelter,qL=t=>`${t.properties.stop_name} (#${t.properties.id})`,YL=t=>t.properties["Age 65+ Total"],VL=t=>t.properties.Address,GL=t=>t.properties.has_bench;function XL(t,e,n){let i,o,a=[43.70107,-79.397015],u=11,l=!0,c=!0,h=!0,d,m,g=[];const _=[{prop:"wheelchair_boarding",label:"Wheelchair boarding"},{prop:"has_shelter",label:"Has shelter"},{prop:"has_shelter_with_bench",label:"Has shelter with bench"},{prop:"has_bench",label:"Has bench"}],v=[{prop:"distance",label:"Distance",tickFormat:Oe(".2s")},{prop:"Age 65+ Total",label:"Num. Seniors",tickFormat:Oe(".2s")},{prop:"% of Seniors",label:"Pct. Seniors",tickFormat:Oe(".0%")}];Sr(async()=>{n(0,d=await fetch("./norcs_with_closest_stops_valhalla.geojson").then($=>$.json()))});function b(){n(5,l=!l)}function w(){n(6,c=!c)}function S(){n(7,h=!h)}function M($,A){g.find(D=>D.prop===$&&(D.value===A||A===null))?n(2,g=g.filter(D=>D.prop!==$)):n(2,g=[...g.filter(D=>D.prop!==$),{prop:$,value:A}])}function P($){return`
      <em>Building: </em><a target="_blank" href="${Fm($.properties.latitude,$.properties.longitude)}">${$.properties.Address}</a><br/>
      <em>Pct. Seniors: </em>${Oe(".1%")($.properties["% of Seniors"])}<br/>
<em>Stop</em>: <a target="_blank" href="${Fm($.properties.stop_lat,$.properties.stop_lon)}">${$.properties.stop_name}</a><br/>
      <em>Distance</em>: ${$.properties.distance}m
    `}const T=($,A)=>A.prop===$.prop,k=($,A)=>A.target.ariaLabel?M($.prop,A.target.ariaLabel):null,E=($,A)=>A.properties[$.prop],z=($,A)=>M($.prop,A),I=($,A)=>({Address:$.properties.Address,"Nearest Stop":$.properties.stop_name,Distance:+$.properties.distance,"# Seniors":$.properties["Age 65+ Total"],"# People":$.properties.All_Persons,"% seniors":Oe(".1%")($.properties["% of Seniors"]),"Wheelchair Boarding":$.properties.wheelchair_boarding,"Has Shelter":$.properties.has_shelter,"Shelter + Bench":$.properties.has_shelter_with_bench,"Has Bench":$.properties.has_bench,latitude:+$.properties.latitude,longitude:+$.properties.longitude,index:A}),B=$=>m===$.index?n(1,m=null):n(1,m=$.index);return t.$$.update=()=>{t.$$.dirty[0]&5&&n(3,i=d==null?void 0:d.features.filter($=>g.every(A=>typeof A.value=="string"?`${$.properties[A.prop]}`==A.value:Array.isArray(A.value)?$.properties[A.prop]>=A.value[0]&&$.properties[A.prop]<=A.value[1]:!1))),t.$$.dirty[0]&10&&n(8,o=m?[i[m].properties.latitude,i[m].properties.longitude]:a),t.$$.dirty[0]&2&&n(4,u=m?14:11)},[d,m,g,i,u,l,c,h,o,_,v,b,w,S,M,P,T,k,E,z,I,B]}class jL extends qe{constructor(e){super(),We(this,e,XL,IL,Ce,{},null,[-1,-1])}}new jL({target:document.getElementById("app")});
