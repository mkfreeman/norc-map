var Fb=Object.defineProperty;var Ub=(t,e,n)=>e in t?Fb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Yn=(t,e,n)=>(Ub(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function Le(){}function Ya(t,e){for(const n in e)t[n]=e[n];return t}function Wp(t){return t()}function Xh(){return Object.create(null)}function ti(t){t.forEach(Wp)}function Bo(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Hb(t){return Object.keys(t).length===0}function As(t,e,n,i){if(t){const o=qp(t,e,n,i);return t[0](o)}}function qp(t,e,n,i){return t[1]&&i?Ya(n.ctx.slice(),t[1](i(e))):n.ctx}function Es(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const a=[],u=Math.max(e.dirty.length,o.length);for(let c=0;c<u;c+=1)a[c]=e.dirty[c]|o[c];return a}return e.dirty|o}return e.dirty}function $s(t,e,n,i,o,a){if(o){const u=qp(e,n,i,a);t.p(u,o)}}function Ns(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function Wb(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function jh(t,e){const n={};e=new Set(e);for(const i in t)!e.has(i)&&i[0]!=="$"&&(n[i]=t[i]);return n}function Kh(t){return t??""}function qb(t){return t&&Bo(t.destroy)?t.destroy:Le}function lt(t,e){t.appendChild(e)}function Ct(t,e,n){t.insertBefore(e,n||null)}function kt(t){t.parentNode&&t.parentNode.removeChild(t)}function Rc(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _t(t){return document.createElement(t)}function Kn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ve(t){return document.createTextNode(t)}function Dt(){return Ve(" ")}function In(){return Ve("")}function hr(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function Vb(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ot(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Yb=["width","height"];function Jh(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Yb.indexOf(i)===-1?t[i]=e[i]:ot(t,i,e[i])}function Gb(t){return Array.from(t.childNodes)}function Ga(t,e){e=""+e,t.data!==e&&(t.data=e)}function vo(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Xb(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}class Zc{constructor(e=!1){Yn(this,"is_svg",!1);Yn(this,"e");Yn(this,"n");Yn(this,"t");Yn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,i=null){this.e||(this.is_svg?this.e=Kn(n.nodeName):this.e=_t(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)Ct(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(kt)}}let bo;function mo(t){bo=t}function Do(){if(!bo)throw new Error("Function called outside component initialization");return bo}function Cr(t){Do().$$.on_mount.push(t)}function zs(t){Do().$$.on_destroy.push(t)}function jb(){const t=Do();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const a=Xb(e,n,{cancelable:i});return o.slice().forEach(u=>{u.call(t,a)}),!a.defaultPrevented}return!0}}function Fc(t,e){return Do().$$.context.set(t,e),e}function Uc(t){return Do().$$.context.get(t)}const nr=[],xi=[];let sr=[];const Qh=[],Vp=Promise.resolve();let Nf=!1;function Yp(){Nf||(Nf=!0,Vp.then(Gp))}function Kb(){return Yp(),Vp}function zf(t){sr.push(t)}const Hu=new Set;let ji=0;function Gp(){if(ji!==0)return;const t=bo;do{try{for(;ji<nr.length;){const e=nr[ji];ji++,mo(e),Jb(e.$$)}}catch(e){throw nr.length=0,ji=0,e}for(mo(null),nr.length=0,ji=0;xi.length;)xi.pop()();for(let e=0;e<sr.length;e+=1){const n=sr[e];Hu.has(n)||(Hu.add(n),n())}sr.length=0}while(nr.length);for(;Qh.length;)Qh.pop()();Nf=!1,Hu.clear(),mo(t)}function Jb(t){if(t.fragment!==null){t.update(),ti(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(zf)}}function Qb(t){const e=[],n=[];sr.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),sr=e}const Za=new Set;let di;function pe(){di={r:0,c:[],p:di}}function ge(){di.r||ti(di.c),di=di.p}function ut(t,e){t&&t.i&&(Za.delete(t),t.i(e))}function pt(t,e,n,i){if(t&&t.o){if(Za.has(t))return;Za.add(t),di.c.push(()=>{Za.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function dn(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function tw(t,e){t.d(1),e.delete(t.key)}function ew(t,e){pt(t,1,1,()=>{e.delete(t.key)})}function Xp(t,e,n,i,o,a,u,c,l,h,d,p){let g=t.length,_=a.length,v=g;const w={};for(;v--;)w[t[v].key]=v;const b=[],T=new Map,M=new Map,S=[];for(v=_;v--;){const N=p(o,a,v),I=n(N);let $=u.get(I);$?i&&S.push(()=>$.p(N,e)):($=h(I,N),$.c()),T.set(I,b[v]=$),I in w&&M.set(I,Math.abs(v-w[I]))}const P=new Set,k=new Set;function A(N){ut(N,1),N.m(c,d),u.set(N.key,N),d=N.first,_--}for(;g&&_;){const N=b[_-1],I=t[g-1],$=N.key,O=I.key;N===I?(d=N.first,g--,_--):T.has(O)?!u.has($)||P.has($)?A(N):k.has(O)?g--:M.get($)>M.get(O)?(k.add($),A(N)):(P.add(O),g--):(l(I,u),g--)}for(;g--;){const N=t[g];T.has(N.key)||l(N,u)}for(;_;)A(b[_-1]);return ti(S),b}function nw(t,e){const n={},i={},o={$$scope:1};let a=t.length;for(;a--;){const u=t[a],c=e[a];if(c){for(const l in u)l in c||(i[l]=1);for(const l in c)o[l]||(n[l]=c[l],o[l]=1);t[a]=c}else for(const l in u)o[l]=1}for(const u in i)u in n||(n[u]=void 0);return n}function oe(t){t&&t.c()}function Jt(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),zf(()=>{const a=t.$$.on_mount.map(Wp).filter(Bo);t.$$.on_destroy?t.$$.on_destroy.push(...a):ti(a),t.$$.on_mount=[]}),o.forEach(zf)}function Qt(t,e){const n=t.$$;n.fragment!==null&&(Qb(n.after_update),ti(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function iw(t,e){t.$$.dirty[0]===-1&&(nr.push(t),Yp(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function tn(t,e,n,i,o,a,u=null,c=[-1]){const l=bo;mo(t);const h=t.$$={fragment:null,ctx:[],props:a,update:Le,not_equal:o,bound:Xh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Xh(),dirty:c,skip_bound:!1,root:e.target||l.$$.root};u&&u(h.root);let d=!1;if(h.ctx=n?n(t,e.props||{},(p,g,..._)=>{const v=_.length?_[0]:g;return h.ctx&&o(h.ctx[p],h.ctx[p]=v)&&(!h.skip_bound&&h.bound[p]&&h.bound[p](v),d&&iw(t,p)),g}):[],h.update(),d=!0,ti(h.before_update),h.fragment=i?i(h.ctx):!1,e.target){if(e.hydrate){const p=Gb(e.target);h.fragment&&h.fragment.l(p),p.forEach(kt)}else h.fragment&&h.fragment.c();e.intro&&ut(t.$$.fragment),Jt(t,e.target,e.anchor),Gp()}mo(l)}class en{constructor(){Yn(this,"$$");Yn(this,"$$set")}$destroy(){Qt(this,1),this.$destroy=Le}$on(e,n){if(!Bo(n))return Le;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Hb(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const rw="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(rw);var ow=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Of={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(ow,function(n){var i="1.9.4";function o(r){var s,f,m,y;for(f=1,m=arguments.length;f<m;f++){y=arguments[f];for(s in y)r[s]=y[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var m=f.call(arguments,2);return function(){return r.apply(s,m.length?m.concat(f.call(arguments)):arguments)}}var c=0;function l(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function h(r,s,f){var m,y,x,C;return C=function(){m=!1,y&&(x.apply(f,y),y=!1)},x=function(){m?y=arguments:(r.apply(f,arguments),setTimeout(C,s),m=!0)},x}function d(r,s,f){var m=s[1],y=s[0],x=m-y;return r===m&&f?r:((r-y)%x+x)%x+y}function p(){return!1}function g(r,s){if(s===!1)return r;var f=Math.pow(10,s===void 0?6:s);return Math.round(r*f)/f}function _(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function v(r){return _(r).split(/\s+/)}function w(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var f in s)r.options[f]=s[f];return r.options}function b(r,s,f){var m=[];for(var y in r)m.push(encodeURIComponent(f?y.toUpperCase():y)+"="+encodeURIComponent(r[y]));return(!s||s.indexOf("?")===-1?"?":"&")+m.join("&")}var T=/\{ *([\w_ -]+) *\}/g;function M(r,s){return r.replace(T,function(f,m){var y=s[m];if(y===void 0)throw new Error("No value provided for variable "+f);return typeof y=="function"&&(y=y(s)),y})}var S=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function P(r,s){for(var f=0;f<r.length;f++)if(r[f]===s)return f;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var N=0;function I(r){var s=+new Date,f=Math.max(0,16-(s-N));return N=s+f,window.setTimeout(r,f)}var $=window.requestAnimationFrame||A("RequestAnimationFrame")||I,O=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function E(r,s,f){if(f&&$===I)r.call(s);else return $.call(window,u(r,s))}function R(r){r&&O.call(window,r)}var F={__proto__:null,extend:o,create:a,bind:u,get lastId(){return c},stamp:l,throttle:h,wrapNum:d,falseFn:p,formatNum:g,trim:_,splitWords:v,setOptions:w,getParamString:b,template:M,isArray:S,indexOf:P,emptyImageUrl:k,requestFn:$,cancelFn:O,requestAnimFrame:E,cancelAnimFrame:R};function U(){}U.extend=function(r){var s=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=s.__super__=this.prototype,m=a(f);m.constructor=s,s.prototype=m;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(s[y]=this[y]);return r.statics&&o(s,r.statics),r.includes&&(B(r.includes),o.apply(null,[m].concat(r.includes))),o(m,r),delete m.statics,delete m.includes,m.options&&(m.options=f.options?a(f.options):{},o(m.options,r.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var x=0,C=m._initHooks.length;x<C;x++)m._initHooks[x].call(this)}},s},U.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},U.mergeOptions=function(r){return o(this.prototype.options,r),this},U.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function B(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=S(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(r,s,f){if(typeof r=="object")for(var m in r)this._on(m,r[m],s);else{r=v(r);for(var y=0,x=r.length;y<x;y++)this._on(r[y],s,f)}return this},off:function(r,s,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var m in r)this._off(m,r[m],s);else{r=v(r);for(var y=arguments.length===1,x=0,C=r.length;x<C;x++)y?this._off(r[x]):this._off(r[x],s,f)}return this},_on:function(r,s,f,m){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,f)===!1){f===this&&(f=void 0);var y={fn:s,ctx:f};m&&(y.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(y)}},_off:function(r,s,f){var m,y,x;if(this._events&&(m=this._events[r],!!m)){if(arguments.length===1){if(this._firingCount)for(y=0,x=m.length;y<x;y++)m[y].fn=p;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var C=this._listens(r,s,f);if(C!==!1){var z=m[C];this._firingCount&&(z.fn=p,this._events[r]=m=m.slice()),m.splice(C,1)}}},fire:function(r,s,f){if(!this.listens(r,f))return this;var m=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var y=this._events[r];if(y){this._firingCount=this._firingCount+1||1;for(var x=0,C=y.length;x<C;x++){var z=y[x],D=z.fn;z.once&&this.off(r,D,z.ctx),D.call(z.ctx||this,m)}this._firingCount--}}return f&&this._propagateEvent(m),this},listens:function(r,s,f,m){typeof r!="string"&&console.warn('"string" type argument expected');var y=s;typeof s!="function"&&(m=!!s,y=void 0,f=void 0);var x=this._events&&this._events[r];if(x&&x.length&&this._listens(r,y,f)!==!1)return!0;if(m){for(var C in this._eventParents)if(this._eventParents[C].listens(r,s,f,m))return!0}return!1},_listens:function(r,s,f){if(!this._events)return!1;var m=this._events[r]||[];if(!s)return!!m.length;f===this&&(f=void 0);for(var y=0,x=m.length;y<x;y++)if(m[y].fn===s&&m[y].ctx===f)return y;return!1},once:function(r,s,f){if(typeof r=="object")for(var m in r)this._on(m,r[m],s,!0);else{r=v(r);for(var y=0,x=r.length;y<x;y++)this._on(r[y],s,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[l(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[l(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var Q=U.extend(Y);function q(r,s,f){this.x=f?Math.round(r):r,this.y=f?Math.round(s):s}var et=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};q.prototype={clone:function(){return new q(this.x,this.y)},add:function(r){return this.clone()._add(Z(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(Z(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new q(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new q(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=et(this.x),this.y=et(this.y),this},distanceTo:function(r){r=Z(r);var s=r.x-this.x,f=r.y-this.y;return Math.sqrt(s*s+f*f)},equals:function(r){return r=Z(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=Z(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function Z(r,s,f){return r instanceof q?r:S(r)?new q(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new q(r.x,r.y):new q(r,s,f)}function W(r,s){if(r)for(var f=s?[r,s]:r,m=0,y=f.length;m<y;m++)this.extend(f[m])}W.prototype={extend:function(r){var s,f;if(!r)return this;if(r instanceof q||typeof r[0]=="number"||"x"in r)s=f=Z(r);else if(r=X(r),s=r.min,f=r.max,!s||!f)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=f.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,f;return typeof r[0]=="number"||r instanceof q?r=Z(r):r=X(r),r instanceof W?(s=r.min,f=r.max):s=f=r,s.x>=this.min.x&&f.x<=this.max.x&&s.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=X(r);var s=this.min,f=this.max,m=r.min,y=r.max,x=y.x>=s.x&&m.x<=f.x,C=y.y>=s.y&&m.y<=f.y;return x&&C},overlaps:function(r){r=X(r);var s=this.min,f=this.max,m=r.min,y=r.max,x=y.x>s.x&&m.x<f.x,C=y.y>s.y&&m.y<f.y;return x&&C},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,f=this.max,m=Math.abs(s.x-f.x)*r,y=Math.abs(s.y-f.y)*r;return X(Z(s.x-m,s.y-y),Z(f.x+m,f.y+y))},equals:function(r){return r?(r=X(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function X(r,s){return!r||r instanceof W?r:new W(r,s)}function K(r,s){if(r)for(var f=s?[r,s]:r,m=0,y=f.length;m<y;m++)this.extend(f[m])}K.prototype={extend:function(r){var s=this._southWest,f=this._northEast,m,y;if(r instanceof nt)m=r,y=r;else if(r instanceof K){if(m=r._southWest,y=r._northEast,!m||!y)return this}else return r?this.extend(J(r)||st(r)):this;return!s&&!f?(this._southWest=new nt(m.lat,m.lng),this._northEast=new nt(y.lat,y.lng)):(s.lat=Math.min(m.lat,s.lat),s.lng=Math.min(m.lng,s.lng),f.lat=Math.max(y.lat,f.lat),f.lng=Math.max(y.lng,f.lng)),this},pad:function(r){var s=this._southWest,f=this._northEast,m=Math.abs(s.lat-f.lat)*r,y=Math.abs(s.lng-f.lng)*r;return new K(new nt(s.lat-m,s.lng-y),new nt(f.lat+m,f.lng+y))},getCenter:function(){return new nt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new nt(this.getNorth(),this.getWest())},getSouthEast:function(){return new nt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof nt||"lat"in r?r=J(r):r=st(r);var s=this._southWest,f=this._northEast,m,y;return r instanceof K?(m=r.getSouthWest(),y=r.getNorthEast()):m=y=r,m.lat>=s.lat&&y.lat<=f.lat&&m.lng>=s.lng&&y.lng<=f.lng},intersects:function(r){r=st(r);var s=this._southWest,f=this._northEast,m=r.getSouthWest(),y=r.getNorthEast(),x=y.lat>=s.lat&&m.lat<=f.lat,C=y.lng>=s.lng&&m.lng<=f.lng;return x&&C},overlaps:function(r){r=st(r);var s=this._southWest,f=this._northEast,m=r.getSouthWest(),y=r.getNorthEast(),x=y.lat>s.lat&&m.lat<f.lat,C=y.lng>s.lng&&m.lng<f.lng;return x&&C},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=st(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function st(r,s){return r instanceof K?r:new K(r,s)}function nt(r,s,f){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,f!==void 0&&(this.alt=+f)}nt.prototype={equals:function(r,s){if(!r)return!1;r=J(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+g(this.lat,r)+", "+g(this.lng,r)+")"},distanceTo:function(r){return ft.distance(this,J(r))},wrap:function(){return ft.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,f=s/Math.cos(Math.PI/180*this.lat);return st([this.lat-s,this.lng-f],[this.lat+s,this.lng+f])},clone:function(){return new nt(this.lat,this.lng,this.alt)}};function J(r,s,f){return r instanceof nt?r:S(r)&&typeof r[0]!="object"?r.length===3?new nt(r[0],r[1],r[2]):r.length===2?new nt(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new nt(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new nt(r,s,f)}var j={latLngToPoint:function(r,s){var f=this.projection.project(r),m=this.scale(s);return this.transformation._transform(f,m)},pointToLatLng:function(r,s){var f=this.scale(s),m=this.transformation.untransform(r,f);return this.projection.unproject(m)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,f=this.scale(r),m=this.transformation.transform(s.min,f),y=this.transformation.transform(s.max,f);return new W(m,y)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?d(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?d(r.lat,this.wrapLat,!0):r.lat,m=r.alt;return new nt(f,s,m)},wrapLatLngBounds:function(r){var s=r.getCenter(),f=this.wrapLatLng(s),m=s.lat-f.lat,y=s.lng-f.lng;if(m===0&&y===0)return r;var x=r.getSouthWest(),C=r.getNorthEast(),z=new nt(x.lat-m,x.lng-y),D=new nt(C.lat-m,C.lng-y);return new K(z,D)}},ft=o({},j,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var f=Math.PI/180,m=r.lat*f,y=s.lat*f,x=Math.sin((s.lat-r.lat)*f/2),C=Math.sin((s.lng-r.lng)*f/2),z=x*x+Math.cos(m)*Math.cos(y)*C*C,D=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*D}}),V=6378137,tt={R:V,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,f=this.MAX_LATITUDE,m=Math.max(Math.min(f,r.lat),-f),y=Math.sin(m*s);return new q(this.R*r.lng*s,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(r){var s=180/Math.PI;return new nt((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=V*Math.PI;return new W([-r,-r],[r,r])}()};function at(r,s,f,m){if(S(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=f,this._d=m}at.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new q((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function H(r,s,f,m){return new at(r,s,f,m)}var vt=o({},ft,{code:"EPSG:3857",projection:tt,transformation:function(){var r=.5/(Math.PI*tt.R);return H(r,.5,-r,.5)}()}),dt=o({},vt,{code:"EPSG:900913"});function At(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Et(r,s){var f="",m,y,x,C,z,D;for(m=0,x=r.length;m<x;m++){for(z=r[m],y=0,C=z.length;y<C;y++)D=z[y],f+=(y?"L":"M")+D.x+" "+D.y;f+=s?ht.svg?"z":"x":""}return f||"M0 0"}var ct=document.documentElement.style,zt="ActiveXObject"in window,on=zt&&!document.addEventListener,we="msLaunchUri"in navigator&&!("documentMode"in document),Br=an("webkit"),Hl=an("android"),Wl=an("android 2")||an("android 3"),vv=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),bv=Hl&&an("Google")&&vv<537&&!("AudioNode"in window),mu=!!window.opera,ql=!we&&an("chrome"),Vl=an("gecko")&&!Br&&!mu&&!zt,wv=!ql&&an("safari"),Yl=an("phantom"),Gl="OTransition"in ct,xv=navigator.platform.indexOf("Win")===0,Xl=zt&&"transition"in ct,pu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Wl,jl="MozPerspective"in ct,Mv=!window.L_DISABLE_3D&&(Xl||pu||jl)&&!Gl&&!Yl,Dr=typeof orientation<"u"||an("mobile"),Tv=Dr&&Br,Lv=Dr&&pu,Kl=!window.PointerEvent&&window.MSPointerEvent,Jl=!!(window.PointerEvent||Kl),Ql="ontouchstart"in window||!!window.TouchEvent,Sv=!window.L_NO_TOUCH&&(Ql||Jl),Pv=Dr&&mu,kv=Dr&&Vl,Cv=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Av=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",p,s),window.removeEventListener("testPassiveEventSupport",p,s)}catch{}return r}(),Ev=function(){return!!document.createElement("canvas").getContext}(),gu=!!(document.createElementNS&&At("svg").createSVGRect),$v=!!gu&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Nv=!gu&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),zv=navigator.platform.indexOf("Mac")===0,Ov=navigator.platform.indexOf("Linux")===0;function an(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var ht={ie:zt,ielt9:on,edge:we,webkit:Br,android:Hl,android23:Wl,androidStock:bv,opera:mu,chrome:ql,gecko:Vl,safari:wv,phantom:Yl,opera12:Gl,win:xv,ie3d:Xl,webkit3d:pu,gecko3d:jl,any3d:Mv,mobile:Dr,mobileWebkit:Tv,mobileWebkit3d:Lv,msPointer:Kl,pointer:Jl,touch:Sv,touchNative:Ql,mobileOpera:Pv,mobileGecko:kv,retina:Cv,passiveEvents:Av,canvas:Ev,svg:gu,vml:Nv,inlineSvg:$v,mac:zv,linux:Ov},th=ht.msPointer?"MSPointerDown":"pointerdown",eh=ht.msPointer?"MSPointerMove":"pointermove",nh=ht.msPointer?"MSPointerUp":"pointerup",ih=ht.msPointer?"MSPointerCancel":"pointercancel",_u={touchstart:th,touchmove:eh,touchend:nh,touchcancel:ih},rh={touchstart:Fv,touchmove:ra,touchend:ra,touchcancel:ra},Fi={},oh=!1;function Iv(r,s,f){return s==="touchstart"&&Zv(),rh[s]?(f=rh[s].bind(this,f),r.addEventListener(_u[s],f,!1),f):(console.warn("wrong event specified:",s),p)}function Bv(r,s,f){if(!_u[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(_u[s],f,!1)}function Dv(r){Fi[r.pointerId]=r}function Rv(r){Fi[r.pointerId]&&(Fi[r.pointerId]=r)}function ah(r){delete Fi[r.pointerId]}function Zv(){oh||(document.addEventListener(th,Dv,!0),document.addEventListener(eh,Rv,!0),document.addEventListener(nh,ah,!0),document.addEventListener(ih,ah,!0),oh=!0)}function ra(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var f in Fi)s.touches.push(Fi[f]);s.changedTouches=[s],r(s)}}function Fv(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ie(s),ra(r,s)}function Uv(r){var s={},f,m;for(m in r)f=r[m],s[m]=f&&f.bind?f.bind(r):f;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Hv=200;function Wv(r,s){r.addEventListener("dblclick",s);var f=0,m;function y(x){if(x.detail!==1){m=x.detail;return}if(!(x.pointerType==="mouse"||x.sourceCapabilities&&!x.sourceCapabilities.firesTouchEvents)){var C=lh(x);if(!(C.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!C.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var z=Date.now();z-f<=Hv?(m++,m===2&&s(Uv(x))):m=1,f=z}}}return r.addEventListener("click",y),{dblclick:s,simDblclick:y}}function qv(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var yu=sa(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Rr=sa(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),sh=Rr==="webkitTransition"||Rr==="OTransition"?Rr+"End":"transitionend";function uh(r){return typeof r=="string"?document.getElementById(r):r}function Zr(r,s){var f=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!f||f==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(r,null);f=m?m[s]:null}return f==="auto"?null:f}function $t(r,s,f){var m=document.createElement(r);return m.className=s||"",f&&f.appendChild(m),m}function Rt(r){var s=r.parentNode;s&&s.removeChild(r)}function oa(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Ui(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function Hi(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function vu(r,s){if(r.classList!==void 0)return r.classList.contains(s);var f=aa(r);return f.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(f)}function xt(r,s){if(r.classList!==void 0)for(var f=v(s),m=0,y=f.length;m<y;m++)r.classList.add(f[m]);else if(!vu(r,s)){var x=aa(r);bu(r,(x?x+" ":"")+s)}}function Wt(r,s){r.classList!==void 0?r.classList.remove(s):bu(r,_((" "+aa(r)+" ").replace(" "+s+" "," ")))}function bu(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function aa(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ce(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&Vv(r,s)}function Vv(r,s){var f=!1,m="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(m)}catch{if(s===1)return}s=Math.round(s*100),f?(f.Enabled=s!==100,f.Opacity=s):r.style.filter+=" progid:"+m+"(opacity="+s+")"}function sa(r){for(var s=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in s)return r[f];return!1}function ai(r,s,f){var m=s||new q(0,0);r.style[yu]=(ht.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(f?" scale("+f+")":"")}function qt(r,s){r._leaflet_pos=s,ht.any3d?ai(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function si(r){return r._leaflet_pos||new q(0,0)}var Fr,Ur,wu;if("onselectstart"in document)Fr=function(){gt(window,"selectstart",ie)},Ur=function(){Bt(window,"selectstart",ie)};else{var Hr=sa(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Fr=function(){if(Hr){var r=document.documentElement.style;wu=r[Hr],r[Hr]="none"}},Ur=function(){Hr&&(document.documentElement.style[Hr]=wu,wu=void 0)}}function xu(){gt(window,"dragstart",ie)}function Mu(){Bt(window,"dragstart",ie)}var ua,Tu;function Lu(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(fa(),ua=r,Tu=r.style.outlineStyle,r.style.outlineStyle="none",gt(window,"keydown",fa))}function fa(){ua&&(ua.style.outlineStyle=Tu,ua=void 0,Tu=void 0,Bt(window,"keydown",fa))}function fh(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Su(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Yv={__proto__:null,TRANSFORM:yu,TRANSITION:Rr,TRANSITION_END:sh,get:uh,getStyle:Zr,create:$t,remove:Rt,empty:oa,toFront:Ui,toBack:Hi,hasClass:vu,addClass:xt,removeClass:Wt,setClass:bu,getClass:aa,setOpacity:Ce,testProp:sa,setTransform:ai,setPosition:qt,getPosition:si,get disableTextSelection(){return Fr},get enableTextSelection(){return Ur},disableImageDrag:xu,enableImageDrag:Mu,preventOutline:Lu,restoreOutline:fa,getSizedParentNode:fh,getScale:Su};function gt(r,s,f,m){if(s&&typeof s=="object")for(var y in s)ku(r,y,s[y],f);else{s=v(s);for(var x=0,C=s.length;x<C;x++)ku(r,s[x],f,m)}return this}var sn="_leaflet_events";function Bt(r,s,f,m){if(arguments.length===1)ch(r),delete r[sn];else if(s&&typeof s=="object")for(var y in s)Cu(r,y,s[y],f);else if(s=v(s),arguments.length===2)ch(r,function(z){return P(s,z)!==-1});else for(var x=0,C=s.length;x<C;x++)Cu(r,s[x],f,m);return this}function ch(r,s){for(var f in r[sn]){var m=f.split(/\d/)[0];(!s||s(m))&&Cu(r,m,null,null,f)}}var Pu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ku(r,s,f,m){var y=s+l(f)+(m?"_"+l(m):"");if(r[sn]&&r[sn][y])return this;var x=function(z){return f.call(m||r,z||window.event)},C=x;!ht.touchNative&&ht.pointer&&s.indexOf("touch")===0?x=Iv(r,s,x):ht.touch&&s==="dblclick"?x=Wv(r,x):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Pu[s]||s,x,ht.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(x=function(z){z=z||window.event,Eu(r,z)&&C(z)},r.addEventListener(Pu[s],x,!1)):r.addEventListener(s,C,!1):r.attachEvent("on"+s,x),r[sn]=r[sn]||{},r[sn][y]=x}function Cu(r,s,f,m,y){y=y||s+l(f)+(m?"_"+l(m):"");var x=r[sn]&&r[sn][y];if(!x)return this;!ht.touchNative&&ht.pointer&&s.indexOf("touch")===0?Bv(r,s,x):ht.touch&&s==="dblclick"?qv(r,x):"removeEventListener"in r?r.removeEventListener(Pu[s]||s,x,!1):r.detachEvent("on"+s,x),r[sn][y]=null}function ui(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Au(r){return ku(r,"wheel",ui),this}function Wr(r){return gt(r,"mousedown touchstart dblclick contextmenu",ui),r._leaflet_disable_click=!0,this}function ie(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function fi(r){return ie(r),ui(r),this}function lh(r){if(r.composedPath)return r.composedPath();for(var s=[],f=r.target;f;)s.push(f),f=f.parentNode;return s}function hh(r,s){if(!s)return new q(r.clientX,r.clientY);var f=Su(s),m=f.boundingClientRect;return new q((r.clientX-m.left)/f.x-s.clientLeft,(r.clientY-m.top)/f.y-s.clientTop)}var Gv=ht.linux&&ht.chrome?window.devicePixelRatio:ht.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function dh(r){return ht.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Gv:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Eu(r,s){var f=s.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var Xv={__proto__:null,on:gt,off:Bt,stopPropagation:ui,disableScrollPropagation:Au,disableClickPropagation:Wr,preventDefault:ie,stop:fi,getPropagationPath:lh,getMousePosition:hh,getWheelDelta:dh,isExternalTarget:Eu,addListener:gt,removeListener:Bt},mh=Q.extend({run:function(r,s,f,m){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=si(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,f=this._duration*1e3;s<f?this._runFrame(this._easeOut(s/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var f=this._startPos.add(this._offset.multiplyBy(r));s&&f._round(),qt(this._el,f),this.fire("step")},_complete:function(){R(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Pt=Q.extend({options:{crs:vt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=w(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(J(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Rr&&ht.any3d&&!ht.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),gt(this._proxy,sh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,f){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(J(r),s,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=o({animate:f.animate},f.zoom),f.pan=o({animate:f.animate,duration:f.duration},f.pan));var m=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,f.zoom):this._tryAnimatedPan(r,f.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(ht.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,f){var m=this.getZoomScale(s),y=this.getSize().divideBy(2),x=r instanceof q?r:this.latLngToContainerPoint(r),C=x.subtract(y).multiplyBy(1-1/m),z=this.containerPointToLatLng(y.add(C));return this.setView(z,s,{zoom:f})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():st(r);var f=Z(s.paddingTopLeft||s.padding||[0,0]),m=Z(s.paddingBottomRight||s.padding||[0,0]),y=this.getBoundsZoom(r,!1,f.add(m));if(y=typeof s.maxZoom=="number"?Math.min(s.maxZoom,y):y,y===1/0)return{center:r.getCenter(),zoom:y};var x=m.subtract(f).divideBy(2),C=this.project(r.getSouthWest(),y),z=this.project(r.getNorthEast(),y),D=this.unproject(C.add(z).divideBy(2).add(x),y);return{center:D,zoom:y}},fitBounds:function(r,s){if(r=st(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,s);return this.setView(f.center,f.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=Z(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new mh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){xt(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,f){if(f=f||{},f.animate===!1||!ht.any3d)return this.setView(r,s,f);this._stop();var m=this.project(this.getCenter()),y=this.project(r),x=this.getSize(),C=this._zoom;r=J(r),s=s===void 0?C:s;var z=Math.max(x.x,x.y),D=z*this.getZoomScale(C,s),G=y.distanceTo(m)||1,rt=1.42,mt=rt*rt;function Tt(Vt){var wa=Vt?-1:1,Bb=Vt?D:z,Db=D*D-z*z+wa*mt*mt*G*G,Rb=2*Bb*mt*G,Uu=Db/Rb,Gh=Math.sqrt(Uu*Uu+1)-Uu,Zb=Gh<1e-9?-18:Math.log(Gh);return Zb}function ce(Vt){return(Math.exp(Vt)-Math.exp(-Vt))/2}function Xt(Vt){return(Math.exp(Vt)+Math.exp(-Vt))/2}function Ee(Vt){return ce(Vt)/Xt(Vt)}var de=Tt(0);function Xi(Vt){return z*(Xt(de)/Xt(de+rt*Vt))}function Nb(Vt){return z*(Xt(de)*Ee(de+rt*Vt)-ce(de))/mt}function zb(Vt){return 1-Math.pow(1-Vt,1.5)}var Ob=Date.now(),Vh=(Tt(1)-de)/rt,Ib=f.duration?1e3*f.duration:1e3*Vh*.8;function Yh(){var Vt=(Date.now()-Ob)/Ib,wa=zb(Vt)*Vh;Vt<=1?(this._flyToFrame=E(Yh,this),this._move(this.unproject(m.add(y.subtract(m).multiplyBy(Nb(wa)/G)),C),this.getScaleZoom(z/Xi(wa),C),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Yh.call(this),this},flyToBounds:function(r,s){var f=this._getBoundsCenterZoom(r,s);return this.flyTo(f.center,f.zoom,s)},setMaxBounds:function(r){return r=st(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var f=this.getCenter(),m=this._limitCenter(f,this._zoom,st(r));return f.equals(m)||this.panTo(m,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var f=Z(s.paddingTopLeft||s.padding||[0,0]),m=Z(s.paddingBottomRight||s.padding||[0,0]),y=this.project(this.getCenter()),x=this.project(r),C=this.getPixelBounds(),z=X([C.min.add(f),C.max.subtract(m)]),D=z.getSize();if(!z.contains(x)){this._enforcingBounds=!0;var G=x.subtract(z.getCenter()),rt=z.extend(x).getSize().subtract(D);y.x+=G.x<0?-rt.x:rt.x,y.y+=G.y<0?-rt.y:rt.y,this.panTo(this.unproject(y),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),m=s.divideBy(2).round(),y=f.divideBy(2).round(),x=m.subtract(y);return!x.x&&!x.y?this:(r.animate&&r.pan?this.panBy(x):(r.pan&&this._rawPanBy(x),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),f=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,f,r):navigator.geolocation.getCurrentPosition(s,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,f=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,f=r.coords.longitude,m=new nt(s,f),y=m.toBounds(r.coords.accuracy*2),x=this._locateOptions;if(x.setView){var C=this.getBoundsZoom(y);this.setView(m,x.maxZoom?Math.min(C,x.maxZoom):C)}var z={latlng:m,bounds:y,timestamp:r.timestamp};for(var D in r.coords)typeof r.coords[D]=="number"&&(z[D]=r.coords[D]);this.fire("locationfound",z)}},addHandler:function(r,s){if(!s)return this;var f=this[r]=new s(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Rt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(R(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Rt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),m=$t("div",f,s||this._mapPane);return r&&(this._panes[r]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new K(s,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,f){r=st(r),f=Z(f||[0,0]);var m=this.getZoom()||0,y=this.getMinZoom(),x=this.getMaxZoom(),C=r.getNorthWest(),z=r.getSouthEast(),D=this.getSize().subtract(f),G=X(this.project(z,m),this.project(C,m)).getSize(),rt=ht.any3d?this.options.zoomSnap:1,mt=D.x/G.x,Tt=D.y/G.y,ce=s?Math.max(mt,Tt):Math.min(mt,Tt);return m=this.getScaleZoom(ce,m),rt&&(m=Math.round(m/(rt/100))*(rt/100),m=s?Math.ceil(m/rt)*rt:Math.floor(m/rt)*rt),Math.max(y,Math.min(x,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new q(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var f=this._getTopLeftPoint(r,s);return new W(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var f=this.options.crs;return s=s===void 0?this._zoom:s,f.scale(r)/f.scale(s)},getScaleZoom:function(r,s){var f=this.options.crs;s=s===void 0?this._zoom:s;var m=f.zoom(r*f.scale(s));return isNaN(m)?1/0:m},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(J(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Z(r),s)},layerPointToLatLng:function(r){var s=Z(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(J(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(J(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(st(r))},distance:function(r,s){return this.options.crs.distance(J(r),J(s))},containerPointToLayerPoint:function(r){return Z(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return Z(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(Z(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(J(r)))},mouseEventToContainerPoint:function(r){return hh(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=uh(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");gt(s,"scroll",this._onScroll,this),this._containerId=l(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&ht.any3d,xt(r,"leaflet-container"+(ht.touch?" leaflet-touch":"")+(ht.retina?" leaflet-retina":"")+(ht.ielt9?" leaflet-oldie":"")+(ht.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Zr(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qt(this._mapPane,new q(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xt(r.markerPane,"leaflet-zoom-hide"),xt(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,f){qt(this._mapPane,new q(0,0));var m=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var y=this._zoom!==s;this._moveStart(y,f)._move(r,s)._moveEnd(y),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,f,m){s===void 0&&(s=this._zoom);var y=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),m?f&&f.pinch&&this.fire("zoom",f):((y||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return R(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){qt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[l(this._container)]=this;var s=r?Bt:gt;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),ht.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){R(this._resizeRequest),this._resizeRequest=E(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var f=[],m,y=s==="mouseout"||s==="mouseover",x=r.target||r.srcElement,C=!1;x;){if(m=this._targets[l(x)],m&&(s==="click"||s==="preclick")&&this._draggableMoved(m)){C=!0;break}if(m&&m.listens(s,!0)&&(y&&!Eu(x,r)||(f.push(m),y))||x===this._container)break;x=x.parentNode}return!f.length&&!C&&!y&&this.listens(s,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var f=r.type;f==="mousedown"&&Lu(s),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,f){if(r.type==="click"){var m=o({},r);m.type="preclick",this._fireDOMEvent(m,m.type,f)}var y=this._findEventTargets(r,s);if(f){for(var x=[],C=0;C<f.length;C++)f[C].listens(s,!0)&&x.push(f[C]);y=x.concat(y)}if(y.length){s==="contextmenu"&&ie(r);var z=y[0],D={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var G=z.getLatLng&&(!z._radius||z._radius<=10);D.containerPoint=G?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(r),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=G?z.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(C=0;C<y.length;C++)if(y[C].fire(s,D,!0),D.originalEvent._stopped||y[C].options.bubblingMouseEvents===!1&&P(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return si(this._mapPane)||new q(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var f=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var f=this.getSize()._divideBy(2);return this.project(r,s)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,f){var m=this._getNewPixelOrigin(f,s);return this.project(r,s)._subtract(m)},_latLngBoundsToNewLayerBounds:function(r,s,f){var m=this._getNewPixelOrigin(f,s);return X([this.project(r.getSouthWest(),s)._subtract(m),this.project(r.getNorthWest(),s)._subtract(m),this.project(r.getSouthEast(),s)._subtract(m),this.project(r.getNorthEast(),s)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,f){if(!f)return r;var m=this.project(r,s),y=this.getSize().divideBy(2),x=new W(m.subtract(y),m.add(y)),C=this._getBoundsOffset(x,f,s);return Math.abs(C.x)<=1&&Math.abs(C.y)<=1?r:this.unproject(m.add(C),s)},_limitOffset:function(r,s){if(!s)return r;var f=this.getPixelBounds(),m=new W(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(m,s))},_getBoundsOffset:function(r,s,f){var m=X(this.project(s.getNorthEast(),f),this.project(s.getSouthWest(),f)),y=m.min.subtract(r.min),x=m.max.subtract(r.max),C=this._rebound(y.x,-x.x),z=this._rebound(y.y,-x.y);return new q(C,z)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),f=this.getMaxZoom(),m=ht.any3d?this.options.zoomSnap:1;return m&&(r=Math.round(r/m)*m),Math.max(s,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var f=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,s),!0)},_createAnimProxy:function(){var r=this._proxy=$t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var f=yu,m=this._proxy.style[f];ai(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),m===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Rt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();ai(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(s),y=this._getCenterOffset(r)._divideBy(1-1/m);return f.animate!==!0&&!this.getSize().contains(y)?!1:(E(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,f,m){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,xt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function jv(r,s){return new Pt(r,s)}var He=U.extend({options:{position:"topright"},initialize:function(r){w(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),f=this.getPosition(),m=r._controlCorners[f];return xt(s,"leaflet-control"),f.indexOf("bottom")!==-1?m.insertBefore(s,m.firstChild):m.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Rt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),qr=function(r){return new He(r)};Pt.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",f=this._controlContainer=$t("div",s+"control-container",this._container);function m(y,x){var C=s+y+" "+s+x;r[y+x]=$t("div",C,f)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Rt(this._controlCorners[r]);Rt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ph=He.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,f,m){return f<m?-1:m<f?1:0}},initialize:function(r,s,f){w(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in r)this._addLayer(r[m],m);for(m in s)this._addLayer(s[m],m,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return He.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(l(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){xt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(xt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Wt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=$t("div",r),f=this.options.collapsed;s.setAttribute("aria-haspopup",!0),Wr(s),Au(s);var m=this._section=$t("section",r+"-list");f&&(this._map.on("click",this.collapse,this),gt(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=$t("a",r+"-toggle",s);y.href="#",y.title="Layers",y.setAttribute("role","button"),gt(y,{keydown:function(x){x.keyCode===13&&this._expandSafely()},click:function(x){ie(x),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=$t("div",r+"-base",m),this._separator=$t("div",r+"-separator",m),this._overlaysList=$t("div",r+"-overlays",m),s.appendChild(m)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&l(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:f}),this.options.sortLayers&&this._layers.sort(u(function(m,y){return this.options.sortFunction(m.layer,y.layer,m.name,y.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;oa(this._baseLayersList),oa(this._overlaysList),this._layerControlInputs=[];var r,s,f,m,y=0;for(f=0;f<this._layers.length;f++)m=this._layers[f],this._addItem(m),s=s||m.overlay,r=r||!m.overlay,y+=m.overlay?0:1;return this.options.hideSingleBase&&(r=r&&y>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(l(r.target)),f=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,s)},_createRadioElement:function(r,s){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=f,m.firstChild},_addItem:function(r){var s=document.createElement("label"),f=this._map.hasLayer(r.layer),m;r.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=f):m=this._createRadioElement("leaflet-base-layers_"+l(this),f),this._layerControlInputs.push(m),m.layerId=l(r.layer),gt(m,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+r.name;var x=document.createElement("span");s.appendChild(x),x.appendChild(m),x.appendChild(y);var C=r.overlay?this._overlaysList:this._baseLayersList;return C.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,f,m=[],y=[];this._handlingClick=!0;for(var x=r.length-1;x>=0;x--)s=r[x],f=this._getLayer(s.layerId).layer,s.checked?m.push(f):s.checked||y.push(f);for(x=0;x<y.length;x++)this._map.hasLayer(y[x])&&this._map.removeLayer(y[x]);for(x=0;x<m.length;x++)this._map.hasLayer(m[x])||this._map.addLayer(m[x]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,f,m=this._map.getZoom(),y=r.length-1;y>=0;y--)s=r[y],f=this._getLayer(s.layerId).layer,s.disabled=f.options.minZoom!==void 0&&m<f.options.minZoom||f.options.maxZoom!==void 0&&m>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,gt(r,"click",ie),this.expand();var s=this;setTimeout(function(){Bt(r,"click",ie),s._preventClick=!1})}}),Kv=function(r,s,f){return new ph(r,s,f)},$u=He.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",f=$t("div",s+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,s+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,s+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,f,m,y){var x=$t("a",f,m);return x.innerHTML=r,x.href="#",x.title=s,x.setAttribute("role","button"),x.setAttribute("aria-label",s),Wr(x),gt(x,"click",fi),gt(x,"click",y,this),gt(x,"click",this._refocusOnMap,this),x},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";Wt(this._zoomInButton,s),Wt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(xt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(xt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pt.mergeOptions({zoomControl:!0}),Pt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $u,this.addControl(this.zoomControl))});var Jv=function(r){return new $u(r)},gh=He.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",f=$t("div",s),m=this.options;return this._addScales(m,s+"-line",f),r.on(m.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,f){r.metric&&(this._mScale=$t("div",s,f)),r.imperial&&(this._iScale=$t("div",s,f))},_update:function(){var r=this._map,s=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),f=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,f,s/r)},_updateImperial:function(r){var s=r*3.2808399,f,m,y;s>5280?(f=s/5280,m=this._getRoundNum(f),this._updateScale(this._iScale,m+" mi",m/f)):(y=this._getRoundNum(s),this._updateScale(this._iScale,y+" ft",y/s))},_updateScale:function(r,s,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),f=r/s;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,s*f}}),Qv=function(r){return new gh(r)},tb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nu=He.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ht.inlineSvg?tb+" ":"")+"Leaflet</a>"},initialize:function(r){w(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=$t("div","leaflet-control-attribution"),Wr(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Pt.mergeOptions({attributionControl:!0}),Pt.addInitHook(function(){this.options.attributionControl&&new Nu().addTo(this)});var eb=function(r){return new Nu(r)};He.Layers=ph,He.Zoom=$u,He.Scale=gh,He.Attribution=Nu,qr.layers=Kv,qr.zoom=Jv,qr.scale=Qv,qr.attribution=eb;var un=U.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});un.addTo=function(r,s){return r.addHandler(s,this),this};var nb={Events:Y},_h=ht.touch?"touchstart mousedown":"mousedown",qn=Q.extend({options:{clickTolerance:3},initialize:function(r,s,f,m){w(this,m),this._element=r,this._dragStartTarget=s||r,this._preventOutline=f},enable:function(){this._enabled||(gt(this._dragStartTarget,_h,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qn._dragging===this&&this.finishDrag(!0),Bt(this._dragStartTarget,_h,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!vu(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){qn._dragging===this&&this.finishDrag();return}if(!(qn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(qn._dragging=this,this._preventOutline&&Lu(this._element),xu(),Fr(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,f=fh(this._element);this._startPoint=new q(s.clientX,s.clientY),this._startPos=si(this._element),this._parentScale=Su(f);var m=r.type==="mousedown";gt(document,m?"mousemove":"touchmove",this._onMove,this),gt(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,f=new q(s.clientX,s.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,ie(r),this._moved||(this.fire("dragstart"),this._moved=!0,xt(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),qt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Wt(document.body,"leaflet-dragging"),this._lastTarget&&(Wt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Bt(document,"mousemove touchmove",this._onMove,this),Bt(document,"mouseup touchend touchcancel",this._onUp,this),Mu(),Ur();var s=this._moved&&this._moving;this._moving=!1,qn._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function yh(r,s,f){var m,y=[1,4,2,8],x,C,z,D,G,rt,mt,Tt;for(x=0,rt=r.length;x<rt;x++)r[x]._code=ci(r[x],s);for(z=0;z<4;z++){for(mt=y[z],m=[],x=0,rt=r.length,C=rt-1;x<rt;C=x++)D=r[x],G=r[C],D._code&mt?G._code&mt||(Tt=ca(G,D,mt,s,f),Tt._code=ci(Tt,s),m.push(Tt)):(G._code&mt&&(Tt=ca(G,D,mt,s,f),Tt._code=ci(Tt,s),m.push(Tt)),m.push(D));r=m}return r}function vh(r,s){var f,m,y,x,C,z,D,G,rt;if(!r||r.length===0)throw new Error("latlngs not passed");Ae(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var mt=J([0,0]),Tt=st(r),ce=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());ce<1700&&(mt=zu(r));var Xt=r.length,Ee=[];for(f=0;f<Xt;f++){var de=J(r[f]);Ee.push(s.project(J([de.lat-mt.lat,de.lng-mt.lng])))}for(z=D=G=0,f=0,m=Xt-1;f<Xt;m=f++)y=Ee[f],x=Ee[m],C=y.y*x.x-x.y*y.x,D+=(y.x+x.x)*C,G+=(y.y+x.y)*C,z+=C*3;z===0?rt=Ee[0]:rt=[D/z,G/z];var Xi=s.unproject(Z(rt));return J([Xi.lat+mt.lat,Xi.lng+mt.lng])}function zu(r){for(var s=0,f=0,m=0,y=0;y<r.length;y++){var x=J(r[y]);s+=x.lat,f+=x.lng,m++}return J([s/m,f/m])}var ib={__proto__:null,clipPolygon:yh,polygonCenter:vh,centroid:zu};function bh(r,s){if(!s||!r.length)return r.slice();var f=s*s;return r=ab(r,f),r=ob(r,f),r}function wh(r,s,f){return Math.sqrt(Vr(r,s,f,!0))}function rb(r,s,f){return Vr(r,s,f)}function ob(r,s){var f=r.length,m=typeof Uint8Array!=void 0+""?Uint8Array:Array,y=new m(f);y[0]=y[f-1]=1,Ou(r,y,s,0,f-1);var x,C=[];for(x=0;x<f;x++)y[x]&&C.push(r[x]);return C}function Ou(r,s,f,m,y){var x=0,C,z,D;for(z=m+1;z<=y-1;z++)D=Vr(r[z],r[m],r[y],!0),D>x&&(C=z,x=D);x>f&&(s[C]=1,Ou(r,s,f,m,C),Ou(r,s,f,C,y))}function ab(r,s){for(var f=[r[0]],m=1,y=0,x=r.length;m<x;m++)sb(r[m],r[y])>s&&(f.push(r[m]),y=m);return y<x-1&&f.push(r[x-1]),f}var xh;function Mh(r,s,f,m,y){var x=m?xh:ci(r,f),C=ci(s,f),z,D,G;for(xh=C;;){if(!(x|C))return[r,s];if(x&C)return!1;z=x||C,D=ca(r,s,z,f,y),G=ci(D,f),z===x?(r=D,x=G):(s=D,C=G)}}function ca(r,s,f,m,y){var x=s.x-r.x,C=s.y-r.y,z=m.min,D=m.max,G,rt;return f&8?(G=r.x+x*(D.y-r.y)/C,rt=D.y):f&4?(G=r.x+x*(z.y-r.y)/C,rt=z.y):f&2?(G=D.x,rt=r.y+C*(D.x-r.x)/x):f&1&&(G=z.x,rt=r.y+C*(z.x-r.x)/x),new q(G,rt,y)}function ci(r,s){var f=0;return r.x<s.min.x?f|=1:r.x>s.max.x&&(f|=2),r.y<s.min.y?f|=4:r.y>s.max.y&&(f|=8),f}function sb(r,s){var f=s.x-r.x,m=s.y-r.y;return f*f+m*m}function Vr(r,s,f,m){var y=s.x,x=s.y,C=f.x-y,z=f.y-x,D=C*C+z*z,G;return D>0&&(G=((r.x-y)*C+(r.y-x)*z)/D,G>1?(y=f.x,x=f.y):G>0&&(y+=C*G,x+=z*G)),C=r.x-y,z=r.y-x,m?C*C+z*z:new q(y,x)}function Ae(r){return!S(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Th(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ae(r)}function Lh(r,s){var f,m,y,x,C,z,D,G;if(!r||r.length===0)throw new Error("latlngs not passed");Ae(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var rt=J([0,0]),mt=st(r),Tt=mt.getNorthWest().distanceTo(mt.getSouthWest())*mt.getNorthEast().distanceTo(mt.getNorthWest());Tt<1700&&(rt=zu(r));var ce=r.length,Xt=[];for(f=0;f<ce;f++){var Ee=J(r[f]);Xt.push(s.project(J([Ee.lat-rt.lat,Ee.lng-rt.lng])))}for(f=0,m=0;f<ce-1;f++)m+=Xt[f].distanceTo(Xt[f+1])/2;if(m===0)G=Xt[0];else for(f=0,x=0;f<ce-1;f++)if(C=Xt[f],z=Xt[f+1],y=C.distanceTo(z),x+=y,x>m){D=(x-m)/y,G=[z.x-D*(z.x-C.x),z.y-D*(z.y-C.y)];break}var de=s.unproject(Z(G));return J([de.lat+rt.lat,de.lng+rt.lng])}var ub={__proto__:null,simplify:bh,pointToSegmentDistance:wh,closestPointOnSegment:rb,clipSegment:Mh,_getEdgeIntersection:ca,_getBitCode:ci,_sqClosestPointOnSegment:Vr,isFlat:Ae,_flat:Th,polylineCenter:Lh},Iu={project:function(r){return new q(r.lng,r.lat)},unproject:function(r){return new nt(r.y,r.x)},bounds:new W([-180,-90],[180,90])},Bu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,f=this.R,m=r.lat*s,y=this.R_MINOR/f,x=Math.sqrt(1-y*y),C=x*Math.sin(m),z=Math.tan(Math.PI/4-m/2)/Math.pow((1-C)/(1+C),x/2);return m=-f*Math.log(Math.max(z,1e-10)),new q(r.lng*s*f,m)},unproject:function(r){for(var s=180/Math.PI,f=this.R,m=this.R_MINOR/f,y=Math.sqrt(1-m*m),x=Math.exp(-r.y/f),C=Math.PI/2-2*Math.atan(x),z=0,D=.1,G;z<15&&Math.abs(D)>1e-7;z++)G=y*Math.sin(C),G=Math.pow((1-G)/(1+G),y/2),D=Math.PI/2-2*Math.atan(x*G)-C,C+=D;return new nt(C*s,r.x*s/f)}},fb={__proto__:null,LonLat:Iu,Mercator:Bu,SphericalMercator:tt},cb=o({},ft,{code:"EPSG:3395",projection:Bu,transformation:function(){var r=.5/(Math.PI*Bu.R);return H(r,.5,-r,.5)}()}),Sh=o({},ft,{code:"EPSG:4326",projection:Iu,transformation:H(1/180,1,-1/180,.5)}),lb=o({},j,{projection:Iu,transformation:H(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var f=s.lng-r.lng,m=s.lat-r.lat;return Math.sqrt(f*f+m*m)},infinite:!0});j.Earth=ft,j.EPSG3395=cb,j.EPSG3857=vt,j.EPSG900913=dt,j.EPSG4326=Sh,j.Simple=lb;var We=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[l(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[l(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var f=this.getEvents();s.on(f,this),this.once("remove",function(){s.off(f,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Pt.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=l(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=l(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return l(r)in this._layers},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},_addLayers:function(r){r=r?S(r)?r:[r]:[];for(var s=0,f=r.length;s<f;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[l(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=l(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,f=this._getZoomSpan();for(var m in this._zoomBoundLayers){var y=this._zoomBoundLayers[m].options;r=y.minZoom===void 0?r:Math.min(r,y.minZoom),s=y.maxZoom===void 0?s:Math.max(s,y.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wi=We.extend({initialize:function(r,s){w(this,s),this._layers={};var f,m;if(r)for(f=0,m=r.length;f<m;f++)this.addLayer(r[f])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),f,m;for(f in this._layers)m=this._layers[f],m[r]&&m[r].apply(m,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var f in this._layers)r.call(s,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return l(r)}}),hb=function(r,s){return new Wi(r,s)},xn=Wi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Wi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Wi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new K;for(var s in this._layers){var f=this._layers[s];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),db=function(r,s){return new xn(r,s)},qi=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){w(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(f,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(m,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(r,s){var f=this.options,m=f[s+"Size"];typeof m=="number"&&(m=[m,m]);var y=Z(m),x=Z(s==="shadow"&&f.shadowAnchor||f.iconAnchor||y&&y.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(f.className||""),x&&(r.style.marginLeft=-x.x+"px",r.style.marginTop=-x.y+"px"),y&&(r.style.width=y.x+"px",r.style.height=y.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return ht.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function mb(r){return new qi(r)}var Yr=qi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Yr.imagePath!="string"&&(Yr.imagePath=this._detectIconPath()),(this.options.imagePath||Yr.imagePath)+qi.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(f,m,y){var x=m.exec(f);return x&&x[y]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=$t("div","leaflet-default-icon-path",document.body),s=Zr(r,"background-image")||Zr(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Ph=un.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new qn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xt(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,f=s._map,m=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,x=si(s._icon),C=f.getPixelBounds(),z=f.getPixelOrigin(),D=X(C.min._subtract(z).add(y),C.max._subtract(z).subtract(y));if(!D.contains(x)){var G=Z((Math.max(D.max.x,x.x)-D.max.x)/(C.max.x-D.max.x)-(Math.min(D.min.x,x.x)-D.min.x)/(C.min.x-D.min.x),(Math.max(D.max.y,x.y)-D.max.y)/(C.max.y-D.max.y)-(Math.min(D.min.y,x.y)-D.min.y)/(C.min.y-D.min.y)).multiplyBy(m);f.panBy(G,{animate:!1}),this._draggable._newPos._add(G),this._draggable._startPos._add(G),qt(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=E(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(R(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,f=s._shadow,m=si(s._icon),y=s._map.layerPointToLatLng(m);f&&qt(f,m),s._latlng=y,r.latlng=y,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){R(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),la=We.extend({options:{icon:new Yr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){w(this,s),this._latlng=J(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=J(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),m=!1;f!==this._icon&&(this._icon&&this._removeIcon(),m=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),xt(f,s),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gt(f,"focus",this._panOnFocus,this);var y=r.icon.createShadow(this._shadow),x=!1;y!==this._shadow&&(this._removeShadow(),x=!0),y&&(xt(y,s),y.alt=""),this._shadow=y,r.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&x&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Bt(this._icon,"focus",this._panOnFocus,this),Rt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Rt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&qt(this._icon,r),this._shadow&&qt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(xt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ph)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ph(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ce(this._icon,r),this._shadow&&Ce(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,f=s.iconSize?Z(s.iconSize):Z(0,0),m=s.iconAnchor?Z(s.iconAnchor):Z(0,0);r.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:f.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function pb(r,s){return new la(r,s)}var Vn=We.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return w(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ha=Vn.extend({options:{fill:!0,radius:10},initialize:function(r,s){w(this,s),this._latlng=J(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=J(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return Vn.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,f=this._clickTolerance(),m=[r+f,s+f];this._pxBounds=new W(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function gb(r,s){return new ha(r,s)}var Du=ha.extend({initialize:function(r,s,f){if(typeof s=="number"&&(s=o({},f,{radius:s})),w(this,s),this._latlng=J(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Vn.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,f=this._map,m=f.options.crs;if(m.distance===ft.distance){var y=Math.PI/180,x=this._mRadius/ft.R/y,C=f.project([s+x,r]),z=f.project([s-x,r]),D=C.add(z).divideBy(2),G=f.unproject(D).lat,rt=Math.acos((Math.cos(x*y)-Math.sin(s*y)*Math.sin(G*y))/(Math.cos(s*y)*Math.cos(G*y)))/y;(isNaN(rt)||rt===0)&&(rt=x/Math.cos(Math.PI/180*s)),this._point=D.subtract(f.getPixelOrigin()),this._radius=isNaN(rt)?0:D.x-f.project([G,r-rt]).x,this._radiusY=D.y-C.y}else{var mt=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(mt).x}this._updateBounds()}});function _b(r,s,f){return new Du(r,s,f)}var Mn=Vn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){w(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,f=null,m=Vr,y,x,C=0,z=this._parts.length;C<z;C++)for(var D=this._parts[C],G=1,rt=D.length;G<rt;G++){y=D[G-1],x=D[G];var mt=m(r,y,x,!0);mt<s&&(s=mt,f=m(r,y,x))}return f&&(f.distance=Math.sqrt(s)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=J(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new K,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Ae(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],f=Ae(r),m=0,y=r.length;m<y;m++)f?(s[m]=J(r[m]),this._bounds.extend(s[m])):s[m]=this._convertLatLngs(r[m]);return s},_project:function(){var r=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new q(r,r);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,f){var m=r[0]instanceof nt,y=r.length,x,C;if(m){for(C=[],x=0;x<y;x++)C[x]=this._map.latLngToLayerPoint(r[x]),f.extend(C[x]);s.push(C)}else for(x=0;x<y;x++)this._projectLatlngs(r[x],s,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,f,m,y,x,C,z,D;for(f=0,y=0,x=this._rings.length;f<x;f++)for(D=this._rings[f],m=0,C=D.length;m<C-1;m++)z=Mh(D[m],D[m+1],r,m,!0),z&&(s[y]=s[y]||[],s[y].push(z[0]),(z[1]!==D[m+1]||m===C-2)&&(s[y].push(z[1]),y++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,f=0,m=r.length;f<m;f++)r[f]=bh(r[f],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var f,m,y,x,C,z,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,x=this._parts.length;f<x;f++)for(z=this._parts[f],m=0,C=z.length,y=C-1;m<C;y=m++)if(!(!s&&m===0)&&wh(r,z[y],z[m])<=D)return!0;return!1}});function yb(r,s){return new Mn(r,s)}Mn._flat=Th;var Vi=Mn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=Mn.prototype._convertLatLngs.call(this,r),f=s.length;return f>=2&&s[0]instanceof nt&&s[0].equals(s[f-1])&&s.pop(),s},_setLatLngs:function(r){Mn.prototype._setLatLngs.call(this,r),Ae(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ae(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,f=new q(s,s);if(r=new W(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,y=this._rings.length,x;m<y;m++)x=yh(this._rings[m],r,!0),x.length&&this._parts.push(x)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,f,m,y,x,C,z,D,G;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(x=0,D=this._parts.length;x<D;x++)for(f=this._parts[x],C=0,G=f.length,z=G-1;C<G;z=C++)m=f[C],y=f[z],m.y>r.y!=y.y>r.y&&r.x<(y.x-m.x)*(r.y-m.y)/(y.y-m.y)+m.x&&(s=!s);return s||Mn.prototype._containsPoint.call(this,r,!0)}});function vb(r,s){return new Vi(r,s)}var Tn=xn.extend({initialize:function(r,s){w(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=S(r)?r:r.features,f,m,y;if(s){for(f=0,m=s.length;f<m;f++)y=s[f],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var x=this.options;if(x.filter&&!x.filter(r))return this;var C=da(r,x);return C?(C.feature=ga(r),C.defaultOptions=C.options,this.resetStyle(C),x.onEachFeature&&x.onEachFeature(r,C),this.addLayer(C)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function da(r,s){var f=r.type==="Feature"?r.geometry:r,m=f?f.coordinates:null,y=[],x=s&&s.pointToLayer,C=s&&s.coordsToLatLng||Ru,z,D,G,rt;if(!m&&!f)return null;switch(f.type){case"Point":return z=C(m),kh(x,r,z,s);case"MultiPoint":for(G=0,rt=m.length;G<rt;G++)z=C(m[G]),y.push(kh(x,r,z,s));return new xn(y);case"LineString":case"MultiLineString":return D=ma(m,f.type==="LineString"?0:1,C),new Mn(D,s);case"Polygon":case"MultiPolygon":return D=ma(m,f.type==="Polygon"?1:2,C),new Vi(D,s);case"GeometryCollection":for(G=0,rt=f.geometries.length;G<rt;G++){var mt=da({geometry:f.geometries[G],type:"Feature",properties:r.properties},s);mt&&y.push(mt)}return new xn(y);case"FeatureCollection":for(G=0,rt=f.features.length;G<rt;G++){var Tt=da(f.features[G],s);Tt&&y.push(Tt)}return new xn(y);default:throw new Error("Invalid GeoJSON object.")}}function kh(r,s,f,m){return r?r(s,f):new la(f,m&&m.markersInheritOptions&&m)}function Ru(r){return new nt(r[1],r[0],r[2])}function ma(r,s,f){for(var m=[],y=0,x=r.length,C;y<x;y++)C=s?ma(r[y],s-1,f):(f||Ru)(r[y]),m.push(C);return m}function Zu(r,s){return r=J(r),r.alt!==void 0?[g(r.lng,s),g(r.lat,s),g(r.alt,s)]:[g(r.lng,s),g(r.lat,s)]}function pa(r,s,f,m){for(var y=[],x=0,C=r.length;x<C;x++)y.push(s?pa(r[x],Ae(r[x])?0:s-1,f,m):Zu(r[x],m));return!s&&f&&y.length>0&&y.push(y[0].slice()),y}function Yi(r,s){return r.feature?o({},r.feature,{geometry:s}):ga(s)}function ga(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Fu={toGeoJSON:function(r){return Yi(this,{type:"Point",coordinates:Zu(this.getLatLng(),r)})}};la.include(Fu),Du.include(Fu),ha.include(Fu),Mn.include({toGeoJSON:function(r){var s=!Ae(this._latlngs),f=pa(this._latlngs,s?1:0,!1,r);return Yi(this,{type:(s?"Multi":"")+"LineString",coordinates:f})}}),Vi.include({toGeoJSON:function(r){var s=!Ae(this._latlngs),f=s&&!Ae(this._latlngs[0]),m=pa(this._latlngs,f?2:s?1:0,!0,r);return s||(m=[m]),Yi(this,{type:(f?"Multi":"")+"Polygon",coordinates:m})}}),Wi.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(f){s.push(f.toGeoJSON(r).geometry.coordinates)}),Yi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var f=s==="GeometryCollection",m=[];return this.eachLayer(function(y){if(y.toGeoJSON){var x=y.toGeoJSON(r);if(f)m.push(x.geometry);else{var C=ga(x);C.type==="FeatureCollection"?m.push.apply(m,C.features):m.push(C)}}}),f?Yi(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Ch(r,s){return new Tn(r,s)}var bb=Ch,_a=We.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,f){this._url=r,this._bounds=st(s),w(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Rt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Ui(this._image),this},bringToBack:function(){return this._map&&Hi(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=st(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:$t("img");if(xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=p,s.onmousemove=p,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;ai(this._image,f,s)},_reset:function(){var r=this._image,s=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=s.getSize();qt(r,s.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Ce(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),wb=function(r,s,f){return new _a(r,s,f)},Ah=_a.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:$t("video");if(xt(s,"leaflet-image-layer"),this._zoomAnimated&&xt(s,"leaflet-zoom-animated"),this.options.className&&xt(s,this.options.className),s.onselectstart=p,s.onmousemove=p,s.onloadeddata=u(this.fire,this,"load"),r){for(var f=s.getElementsByTagName("source"),m=[],y=0;y<f.length;y++)m.push(f[y].src);this._url=f.length>0?m:[s.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var x=0;x<this._url.length;x++){var C=$t("source");C.src=this._url[x],s.appendChild(C)}}});function xb(r,s,f){return new Ah(r,s,f)}var Eh=_a.extend({_initImage:function(){var r=this._image=this._url;xt(r,"leaflet-image-layer"),this._zoomAnimated&&xt(r,"leaflet-zoom-animated"),this.options.className&&xt(r,this.options.className),r.onselectstart=p,r.onmousemove=p}});function Mb(r,s,f){return new Eh(r,s,f)}var fn=We.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof nt||S(r))?(this._latlng=J(r),w(this,s)):(w(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ce(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ce(this._container,1),this.bringToFront(),this.options.interactive&&(xt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ce(this._container,0),this._removeTimeout=setTimeout(u(Rt,void 0,this._container),200)):Rt(this._container),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=J(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ui(this._container),this},bringToBack:function(){return this._map&&Hi(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof xn){s=null;var f=this._source._layers;for(var m in f)if(f[m]._map){s=f[m];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=Z(this.options.offset),f=this._getAnchor();this._zoomAnimated?qt(this._container,r.add(f)):s=s.add(r).add(f);var m=this._containerBottom=-s.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=m+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Pt.include({_initOverlay:function(r,s,f,m){var y=s;return y instanceof r||(y=new r(m).setContent(s)),f&&y.setLatLng(f),y}}),We.include({_initOverlay:function(r,s,f,m){var y=f;return y instanceof r?(w(y,m),y._source=this):(y=s&&!m?s:new r(m,this),y.setContent(f)),y}});var ya=fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,fn.prototype.openOn.call(this,r)},onAdd:function(r){fn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vn||this._source.on("preclick",ui))},onRemove:function(r){fn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vn||this._source.off("preclick",ui))},getEvents:function(){var r=fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=$t("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=$t("div",r+"-content-wrapper",s);if(this._contentNode=$t("div",r+"-content",f),Wr(s),Au(this._contentNode),gt(s,"contextmenu",ui),this._tipContainer=$t("div",r+"-tip-container",s),this._tip=$t("div",r+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=$t("a",r+"-close-button",s);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',gt(m,"click",function(y){ie(y),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),s.width=f+1+"px",s.whiteSpace="",s.height="";var m=r.offsetHeight,y=this.options.maxHeight,x="leaflet-popup-scrolled";y&&m>y?(s.height=y+"px",xt(r,x)):Wt(r,x),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();qt(this._container,s.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(Zr(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+s,m=this._containerWidth,y=new q(this._containerLeft,-f-this._containerBottom);y._add(si(this._container));var x=r.layerPointToContainerPoint(y),C=Z(this.options.autoPanPadding),z=Z(this.options.autoPanPaddingTopLeft||C),D=Z(this.options.autoPanPaddingBottomRight||C),G=r.getSize(),rt=0,mt=0;x.x+m+D.x>G.x&&(rt=x.x+m-G.x+D.x),x.x-rt-z.x<0&&(rt=x.x-z.x),x.y+f+D.y>G.y&&(mt=x.y+f-G.y+D.y),x.y-mt-z.y<0&&(mt=x.y-z.y),(rt||mt)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([rt,mt]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tb=function(r,s){return new ya(r,s)};Pt.mergeOptions({closePopupOnClick:!0}),Pt.include({openPopup:function(r,s,f){return this._initOverlay(ya,r,s,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),We.include({bindPopup:function(r,s){return this._popup=this._initOverlay(ya,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof xn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){fi(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof Vn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var va=fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){fn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){fn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=fn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$t("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,f,m=this._map,y=this._container,x=m.latLngToContainerPoint(m.getCenter()),C=m.layerPointToContainerPoint(r),z=this.options.direction,D=y.offsetWidth,G=y.offsetHeight,rt=Z(this.options.offset),mt=this._getAnchor();z==="top"?(s=D/2,f=G):z==="bottom"?(s=D/2,f=0):z==="center"?(s=D/2,f=G/2):z==="right"?(s=0,f=G/2):z==="left"?(s=D,f=G/2):C.x<x.x?(z="right",s=0,f=G/2):(z="left",s=D+(rt.x+mt.x)*2,f=G/2),r=r.subtract(Z(s,f,!0)).add(rt).add(mt),Wt(y,"leaflet-tooltip-right"),Wt(y,"leaflet-tooltip-left"),Wt(y,"leaflet-tooltip-top"),Wt(y,"leaflet-tooltip-bottom"),xt(y,"leaflet-tooltip-"+z),qt(y,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ce(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lb=function(r,s){return new va(r,s)};Pt.include({openTooltip:function(r,s,f){return this._initOverlay(va,r,s,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),We.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(va,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[s](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof xn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(gt(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),gt(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,f,m;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),m=this._map.containerPointToLayerPoint(f),s=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(s)}});var $h=qi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(oa(s),s.appendChild(f.html)):s.innerHTML=f.html!==!1?f.html:"",f.bgPos){var m=Z(f.bgPos);s.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function Sb(r){return new $h(r)}qi.Default=Yr;var Gr=We.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ht.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){w(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Rt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ui(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Hi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof q?r:new q(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,f=-r(-1/0,1/0),m=0,y=s.length,x;m<y;m++)x=s[m].style.zIndex,s[m]!==this._container&&x&&(f=r(f,+x));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ht.ielt9){Ce(this._container,this.options.opacity);var r=+new Date,s=!1,f=!1;for(var m in this._tiles){var y=this._tiles[m];if(!(!y.current||!y.loaded)){var x=Math.min(1,(r-y.loaded)/200);Ce(y.el,x),x<1?s=!0:(y.active?f=!0:this._onOpaqueTile(y),y.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),s&&(R(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=$t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=s-Math.abs(r-f),this._onUpdateLevel(f)):(Rt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var m=this._levels[r],y=this._map;return m||(m=this._levels[r]={},m.el=$t("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=s,m.origin=y.project(y.unproject(y.getPixelOrigin()),r).round(),m.zoom=r,this._setZoomTransform(m,y.getCenter(),y.getZoom()),p(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var r,s,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var m=s.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Rt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,f,m){var y=Math.floor(r/2),x=Math.floor(s/2),C=f-1,z=new q(+y,+x);z.z=+C;var D=this._tileCoordsToKey(z),G=this._tiles[D];return G&&G.active?(G.retain=!0,!0):(G&&G.loaded&&(G.retain=!0),C>m?this._retainParent(y,x,C,m):!1)},_retainChildren:function(r,s,f,m){for(var y=2*r;y<2*r+2;y++)for(var x=2*s;x<2*s+2;x++){var C=new q(y,x);C.z=f+1;var z=this._tileCoordsToKey(C),D=this._tiles[z];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);f+1<m&&this._retainChildren(y,x,f+1,m)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,f,m){var y=Math.round(s);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var x=this.options.updateWhenZooming&&y!==this._tileZoom;(!m||x)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,s)},_setZoomTransform:function(r,s,f){var m=this._map.getZoomScale(f,r.zoom),y=r.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(s,f)).round();ht.any3d?ai(r.el,y,m):qt(r.el,y)},_resetGrid:function(){var r=this._map,s=r.options.crs,f=this._tileSize=this.getTileSize(),m=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],m).x/f.x),Math.ceil(r.project([0,s.wrapLng[1]],m).x/f.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],m).y/f.x),Math.ceil(r.project([s.wrapLat[1],0],m).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,f=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),m=s.getZoomScale(f,this._tileZoom),y=s.project(r,this._tileZoom).floor(),x=s.getSize().divideBy(m*2);return new W(y.subtract(x),y.add(x))},_update:function(r){var s=this._map;if(s){var f=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(r),y=this._pxBoundsToTileRange(m),x=y.getCenter(),C=[],z=this.options.keepBuffer,D=new W(y.getBottomLeft().subtract([z,-z]),y.getTopRight().add([z,-z]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var G in this._tiles){var rt=this._tiles[G].coords;(rt.z!==this._tileZoom||!D.contains(new q(rt.x,rt.y)))&&(this._tiles[G].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var mt=y.min.y;mt<=y.max.y;mt++)for(var Tt=y.min.x;Tt<=y.max.x;Tt++){var ce=new q(Tt,mt);if(ce.z=this._tileZoom,!!this._isValidTile(ce)){var Xt=this._tiles[this._tileCoordsToKey(ce)];Xt?Xt.current=!0:C.push(ce)}}if(C.sort(function(de,Xi){return de.distanceTo(x)-Xi.distanceTo(x)}),C.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ee=document.createDocumentFragment();for(Tt=0;Tt<C.length;Tt++)this._addTile(C[Tt],Ee);this._level.el.appendChild(Ee)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var f=this._globalTileRange;if(!s.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!s.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(r);return st(this.options.bounds).overlaps(m)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,f=this.getTileSize(),m=r.scaleBy(f),y=m.add(f),x=s.unproject(m,r.z),C=s.unproject(y,r.z);return[x,C]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),f=new K(s[0],s[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),f=new q(+s[0],+s[1]);return f.z=+s[2],f},_removeTile:function(r){var s=this._tiles[r];s&&(Rt(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){xt(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=p,r.onmousemove=p,ht.ielt9&&this.options.opacity<1&&Ce(r,this.options.opacity)},_addTile:function(r,s){var f=this._getTilePos(r),m=this._tileCoordsToKey(r),y=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(y),this.createTile.length<2&&E(u(this._tileReady,this,r,null,y)),qt(y,f),this._tiles[m]={el:y,coords:r,current:!0},s.appendChild(y),this.fire("tileloadstart",{tile:y,coords:r})},_tileReady:function(r,s,f){s&&this.fire("tileerror",{error:s,tile:f,coords:r});var m=this._tileCoordsToKey(r);f=this._tiles[m],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Ce(f.el,0),R(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),s||(xt(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ht.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new q(this._wrapX?d(r.x,this._wrapX):r.x,this._wrapY?d(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new W(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Pb(r){return new Gr(r)}var Gi=Gr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=w(this,s),s.detectRetina&&ht.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var f=document.createElement("img");return gt(f,"load",u(this._tileOnLoad,this,s,f)),gt(f,"error",u(this._tileOnError,this,s,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var s={r:ht.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=f),s["-y"]=f}return M(this._url,o(s,this.options))},_tileOnLoad:function(r,s){ht.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,f){var m=this.options.errorTileUrl;m&&s.getAttribute("src")!==m&&(s.src=m),r(f,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,f=this.options.zoomReverse,m=this.options.zoomOffset;return f&&(r=s-r),r+m},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=p,s.onerror=p,!s.complete)){s.src=k;var f=this._tiles[r].coords;Rt(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:f})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",k),Gr.prototype._removeTile.call(this,r)},_tileReady:function(r,s,f){if(!(!this._map||f&&f.getAttribute("src")===k))return Gr.prototype._tileReady.call(this,r,s,f)}});function Nh(r,s){return new Gi(r,s)}var zh=Gi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var f=o({},this.defaultWmsParams);for(var m in s)m in this.options||(f[m]=s[m]);s=w(this,s);var y=s.detectRetina&&ht.retina?2:1,x=this.getTileSize();f.width=x.x*y,f.height=x.y*y,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Gi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),f=this._crs,m=X(f.project(s[0]),f.project(s[1])),y=m.min,x=m.max,C=(this._wmsVersion>=1.3&&this._crs===Sh?[y.y,y.x,x.y,x.x]:[y.x,y.y,x.x,x.y]).join(","),z=Gi.prototype.getTileUrl.call(this,r);return z+b(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+C},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function kb(r,s){return new zh(r,s)}Gi.WMS=zh,Nh.wms=kb;var Ln=We.extend({options:{padding:.1},initialize:function(r){w(this,r),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var f=this._map.getZoomScale(s,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,s),x=m.multiplyBy(-f).add(y).subtract(this._map._getNewPixelOrigin(r,s));ht.any3d?ai(this._container,x,f):qt(this._container,x)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),f=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new W(f,f.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Oh=Ln.extend({options:{tolerance:0},getEvents:function(){var r=Ln.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");gt(r,"mousemove",this._onMouseMove,this),gt(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),gt(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){R(this._redrawRequest),delete this._ctx,Rt(this._container),Bt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var r=this._bounds,s=this._container,f=r.getSize(),m=ht.retina?2:1;qt(s,r.min),s.width=m*f.x,s.height=m*f.y,s.style.width=f.x+"px",s.style.height=f.y+"px",ht.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[l(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,f=s.next,m=s.prev;f?f.prev=m:this._drawLast=m,m?m.next=f:this._drawFirst=f,delete r._order,delete this._layers[l(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),f=[],m,y;for(y=0;y<s.length;y++){if(m=Number(s[y]),isNaN(m))return;f.push(m)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var f=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)r=m.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var f,m,y,x,C=r._parts,z=C.length,D=this._ctx;if(z){for(D.beginPath(),f=0;f<z;f++){for(m=0,y=C[f].length;m<y;m++)x=C[f][m],D[m?"lineTo":"moveTo"](x.x,x.y);s&&D.closePath()}this._fillStroke(D,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,f=this._ctx,m=Math.max(Math.round(r._radius),1),y=(Math.max(Math.round(r._radiusY),1)||m)/m;y!==1&&(f.save(),f.scale(1,y)),f.beginPath(),f.arc(s.x,s.y/y,m,0,Math.PI*2,!1),y!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,s){var f=s.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),f,m,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(m=f);this._fireEvent(m?[m]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var f,m,y=this._drawFirst;y;y=y.next)f=y.layer,f.options.interactive&&f._containsPoint(s)&&(m=f);m!==this._hoveredLayer&&(this._handleMouseOut(r),m&&(xt(this._container,"leaflet-interactive"),this._fireEvent([m],r,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,f){this._map._fireDOMEvent(s,f||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var f=s.next,m=s.prev;if(f)f.prev=m;else return;m?m.next=f:f&&(this._drawFirst=f),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var f=s.next,m=s.prev;if(m)m.next=f;else return;f?f.prev=m:m&&(this._drawLast=m),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function Ih(r){return ht.canvas?new Oh(r):null}var Xr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Cb={_initContainer:function(){this._container=$t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ln.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=Xr("shape");xt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=Xr("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[l(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Rt(s),r.removeInteractiveTarget(s),delete this._layers[l(r)]},_updateStyle:function(r){var s=r._stroke,f=r._fill,m=r.options,y=r._container;y.stroked=!!m.stroke,y.filled=!!m.fill,m.stroke?(s||(s=r._stroke=Xr("stroke")),y.appendChild(s),s.weight=m.weight+"px",s.color=m.color,s.opacity=m.opacity,m.dashArray?s.dashStyle=S(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=m.lineCap.replace("butt","flat"),s.joinstyle=m.lineJoin):s&&(y.removeChild(s),r._stroke=null),m.fill?(f||(f=r._fill=Xr("fill")),y.appendChild(f),f.color=m.fillColor||m.color,f.opacity=m.fillOpacity):f&&(y.removeChild(f),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),f=Math.round(r._radius),m=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+f+","+m+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){Ui(r._container)},_bringToBack:function(r){Hi(r._container)}},ba=ht.vml?Xr:At,jr=Ln.extend({_initContainer:function(){this._container=ba("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ba("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Rt(this._container),Bt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ln.prototype._update.call(this);var r=this._bounds,s=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,f.setAttribute("width",s.x),f.setAttribute("height",s.y)),qt(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=ba("path");r.options.className&&xt(s,r.options.className),r.options.interactive&&xt(s,"leaflet-interactive"),this._updateStyle(r),this._layers[l(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Rt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[l(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,f=r.options;s&&(f.stroke?(s.setAttribute("stroke",f.color),s.setAttribute("stroke-opacity",f.opacity),s.setAttribute("stroke-width",f.weight),s.setAttribute("stroke-linecap",f.lineCap),s.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?s.setAttribute("stroke-dasharray",f.dashArray):s.removeAttribute("stroke-dasharray"),f.dashOffset?s.setAttribute("stroke-dashoffset",f.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),f.fill?(s.setAttribute("fill",f.fillColor||f.color),s.setAttribute("fill-opacity",f.fillOpacity),s.setAttribute("fill-rule",f.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,Et(r._parts,s))},_updateCircle:function(r){var s=r._point,f=Math.max(Math.round(r._radius),1),m=Math.max(Math.round(r._radiusY),1)||f,y="a"+f+","+m+" 0 1,0 ",x=r._empty()?"M0 0":"M"+(s.x-f)+","+s.y+y+f*2+",0 "+y+-f*2+",0 ";this._setPath(r,x)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){Ui(r._path)},_bringToBack:function(r){Hi(r._path)}});ht.vml&&jr.include(Cb);function Bh(r){return ht.svg||ht.vml?new jr(r):null}Pt.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&Ih(r)||Bh(r)}});var Dh=Vi.extend({initialize:function(r,s){Vi.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=st(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Ab(r,s){return new Dh(r,s)}jr.create=ba,jr.pointsToPath=Et,Tn.geometryToLayer=da,Tn.coordsToLatLng=Ru,Tn.coordsToLatLngs=ma,Tn.latLngToCoords=Zu,Tn.latLngsToCoords=pa,Tn.getFeature=Yi,Tn.asFeature=ga,Pt.mergeOptions({boxZoom:!0});var Rh=un.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Bt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Rt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Fr(),xu(),this._startPoint=this._map.mouseEventToContainerPoint(r),gt(document,{contextmenu:fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=$t("div","leaflet-zoom-box",this._container),xt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new W(this._point,this._startPoint),f=s.getSize();qt(this._box,s.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Rt(this._box),Wt(this._container,"leaflet-crosshair")),Ur(),Mu(),Bt(document,{contextmenu:fi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pt.addInitHook("addHandler","boxZoom",Rh),Pt.mergeOptions({doubleClickZoom:!0});var Zh=un.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,f=s.getZoom(),m=s.options.zoomDelta,y=r.originalEvent.shiftKey?f-m:f+m;s.options.doubleClickZoom==="center"?s.setZoom(y):s.setZoomAround(r.containerPoint,y)}});Pt.addInitHook("addHandler","doubleClickZoom",Zh),Pt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Fh=un.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new qn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}xt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wt(this._map._container,"leaflet-grab"),Wt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=st(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),f=this._initialWorldOffset,m=this._draggable._newPos.x,y=(m-s+f)%r+s-f,x=(m+s+f)%r-s-f,C=Math.abs(y+f)<Math.abs(x+f)?y:x;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=C},_onDragEnd:function(r){var s=this._map,f=s.options,m=!f.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),m)s.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),x=(this._lastTime-this._times[0])/1e3,C=f.easeLinearity,z=y.multiplyBy(C/x),D=z.distanceTo([0,0]),G=Math.min(f.inertiaMaxSpeed,D),rt=z.multiplyBy(G/D),mt=G/(f.inertiaDeceleration*C),Tt=rt.multiplyBy(-mt/2).round();!Tt.x&&!Tt.y?s.fire("moveend"):(Tt=s._limitOffset(Tt,s.options.maxBounds),E(function(){s.panBy(Tt,{duration:mt,easeLinearity:C,noMoveStart:!0,animate:!0})}))}}});Pt.addInitHook("addHandler","dragging",Fh),Pt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Uh=un.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),gt(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Bt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,f=r.scrollTop||s.scrollTop,m=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(m,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},f=this.keyCodes,m,y;for(m=0,y=f.left.length;m<y;m++)s[f.left[m]]=[-1*r,0];for(m=0,y=f.right.length;m<y;m++)s[f.right[m]]=[r,0];for(m=0,y=f.down.length;m<y;m++)s[f.down[m]]=[0,r];for(m=0,y=f.up.length;m<y;m++)s[f.up[m]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},f=this.keyCodes,m,y;for(m=0,y=f.zoomIn.length;m<y;m++)s[f.zoomIn[m]]=r;for(m=0,y=f.zoomOut.length;m<y;m++)s[f.zoomOut[m]]=-r},_addHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Bt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,f=this._map,m;if(s in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(m=this._panKeys[s],r.shiftKey&&(m=Z(m).multiplyBy(3)),f.options.maxBounds&&(m=f._limitOffset(Z(m),f.options.maxBounds)),f.options.worldCopyJump){var y=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(m)));f.panTo(y)}else f.panBy(m)}else if(s in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;fi(r)}}});Pt.addInitHook("addHandler","keyboard",Uh),Pt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Hh=un.extend({addHooks:function(){gt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Bt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=dh(r),f=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var m=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),m),fi(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,x=f?Math.ceil(y/f)*f:y,C=r._limitZoom(s+(this._delta>0?x:-x))-s;this._delta=0,this._startTime=null,C&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+C):r.setZoomAround(this._lastMousePos,s+C))}});Pt.addInitHook("addHandler","scrollWheelZoom",Hh);var Eb=600;Pt.mergeOptions({tapHold:ht.touchNative&&ht.safari&&ht.mobile,tapTolerance:15});var Wh=un.extend({addHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Bt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new q(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(gt(document,"touchend",ie),gt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Eb),gt(document,"touchend touchcancel contextmenu",this._cancel,this),gt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Bt(document,"touchend",ie),Bt(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Bt(document,"touchend touchcancel contextmenu",this._cancel,this),Bt(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new q(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});f._simulated=!0,s.target.dispatchEvent(f)}});Pt.addInitHook("addHandler","tapHold",Wh),Pt.mergeOptions({touchZoom:ht.touch,bounceAtZoomLimits:!0});var qh=un.extend({addHooks:function(){xt(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Bt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var f=s.mouseEventToContainerPoint(r.touches[0]),m=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(f.add(m)._divideBy(2))),this._startDist=f.distanceTo(m),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),gt(document,"touchmove",this._onTouchMove,this),gt(document,"touchend touchcancel",this._onTouchEnd,this),ie(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,f=s.mouseEventToContainerPoint(r.touches[0]),m=s.mouseEventToContainerPoint(r.touches[1]),y=f.distanceTo(m)/this._startDist;if(this._zoom=s.getScaleZoom(y,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&y<1||this._zoom>s.getMaxZoom()&&y>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var x=f._add(m)._divideBy(2)._subtract(this._centerPoint);if(y===1&&x.x===0&&x.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(x),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),R(this._animRequest);var C=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=E(C,this,!0),ie(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,R(this._animRequest),Bt(document,"touchmove",this._onTouchMove,this),Bt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pt.addInitHook("addHandler","touchZoom",qh),Pt.BoxZoom=Rh,Pt.DoubleClickZoom=Zh,Pt.Drag=Fh,Pt.Keyboard=Uh,Pt.ScrollWheelZoom=Hh,Pt.TapHold=Wh,Pt.TouchZoom=qh,n.Bounds=W,n.Browser=ht,n.CRS=j,n.Canvas=Oh,n.Circle=Du,n.CircleMarker=ha,n.Class=U,n.Control=He,n.DivIcon=$h,n.DivOverlay=fn,n.DomEvent=Xv,n.DomUtil=Yv,n.Draggable=qn,n.Evented=Q,n.FeatureGroup=xn,n.GeoJSON=Tn,n.GridLayer=Gr,n.Handler=un,n.Icon=qi,n.ImageOverlay=_a,n.LatLng=nt,n.LatLngBounds=K,n.Layer=We,n.LayerGroup=Wi,n.LineUtil=ub,n.Map=Pt,n.Marker=la,n.Mixin=nb,n.Path=Vn,n.Point=q,n.PolyUtil=ib,n.Polygon=Vi,n.Polyline=Mn,n.Popup=ya,n.PosAnimation=mh,n.Projection=fb,n.Rectangle=Dh,n.Renderer=Ln,n.SVG=jr,n.SVGOverlay=Eh,n.TileLayer=Gi,n.Tooltip=va,n.Transformation=at,n.Util=F,n.VideoOverlay=Ah,n.bind=u,n.bounds=X,n.canvas=Ih,n.circle=_b,n.circleMarker=gb,n.control=qr,n.divIcon=Sb,n.extend=o,n.featureGroup=db,n.geoJSON=Ch,n.geoJson=bb,n.gridLayer=Pb,n.icon=mb,n.imageOverlay=wb,n.latLng=J,n.latLngBounds=st,n.layerGroup=hb,n.map=jv,n.marker=pb,n.point=Z,n.polygon=vb,n.polyline=yb,n.popup=Tb,n.rectangle=Ab,n.setOptions=w,n.stamp=l,n.svg=Bh,n.svgOverlay=Mb,n.tileLayer=Nh,n.tooltip=Lb,n.transformation=H,n.version=i,n.videoOverlay=xb;var $b=window.L;n.noConflict=function(){return window.L=$b,this},window.L=n})})(Of,Of.exports);var sw=Of.exports;const _i=aw(sw);function td(t){let e;const n=t[6].default,i=As(n,t,t[5],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&32)&&$s(i,n,o,o[5],e?Es(n,o[5],a,null):Ns(o[5]),null)},i(o){e||(ut(i,o),e=!0)},o(o){pt(i,o),e=!1},d(o){i&&i.d(o)}}}function uw(t){let e,n,i=t[0]&&td(t);return{c(){e=_t("div"),i&&i.c(),ot(e,"class","w-full h-full")},m(o,a){Ct(o,e,a),i&&i.m(e,null),t[7](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ut(i,1)):(i=td(o),i.c(),ut(i,1),i.m(e,null)):i&&(pe(),pt(i,1,1,()=>{i=null}),ge())},i(o){n||(ut(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[7](null)}}}function fw(t,e,n){let{$$slots:i={},$$scope:o}=e,{bounds:a=void 0}=e,{view:u=void 0}=e,{zoom:c=void 0}=e;const l=jb();let h,d;Cr(()=>{if(!a&&(!u||!c))throw new Error("Must set either bounds, or view and zoom.");n(0,h=_i.map(d).on("zoom",g=>l("zoom",g)).on("popupopen",async g=>{await Kb(),g.popup.update()})),_i.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy;<a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a>,&copy;<a href="https://carto.com/attributions" target="_blank">CARTO</a>'}).addTo(h)}),zs(()=>{h==null||h.remove(),n(0,h=void 0)}),Fc("map",{getMap:()=>h});function p(g){xi[g?"unshift":"push"](()=>{d=g,n(1,d)})}return t.$$set=g=>{"bounds"in g&&n(2,a=g.bounds),"view"in g&&n(3,u=g.view),"zoom"in g&&n(4,c=g.zoom),"$$scope"in g&&n(5,o=g.$$scope)},t.$$.update=()=>{t.$$.dirty&29&&h&&(a?h.fitBounds(a):u&&c&&h.setView(u,c,{animate:!0}))},[h,d,a,u,c,o,i,p]}class cw extends en{constructor(e){super(),tn(this,e,fw,uw,Ue,{bounds:2,view:3,zoom:4})}}function ed(t){let e;const n=t[8].default,i=As(n,t,t[7],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&128)&&$s(i,n,o,o[7],e?Es(n,o[7],a,null):Ns(o[7]),null)},i(o){e||(ut(i,o),e=!0)},o(o){pt(i,o),e=!1},d(o){i&&i.d(o)}}}function lw(t){let e,n,i=t[0]&&ed(t);return{c(){e=_t("div"),i&&i.c()},m(o,a){Ct(o,e,a),i&&i.m(e,null),t[9](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ut(i,1)):(i=ed(o),i.c(),ut(i,1),i.m(e,null)):i&&(pe(),pt(i,1,1,()=>{i=null}),ge())},i(o){n||(ut(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[9](null)}}}function hw(t,e,n){let{$$slots:i={},$$scope:o}=e,{latLng:a}=e,{iconUrl:u}=e,{iconSize:c=[50,50]}=e,{radius:l=4}=e,{fillColor:h="blue"}=e,d,p;const{getMap:g}=Uc("map"),_=g();Fc("layer",{getLayer:()=>d});function v(){n(0,d=_?u?_i.marker(a,{icon:_i.icon({iconUrl:u,iconSize:c})}).addTo(_):_i.circleMarker(a,{radius:l,fillColor:h,stroke:!1,fillOpacity:.6}).addTo(_):void 0)}Cr(()=>{_&&v()}),zs(()=>{d==null||d.remove(),n(0,d=void 0)});function w(b){xi[b?"unshift":"push"](()=>{p=b,n(1,p)})}return t.$$set=b=>{"latLng"in b&&n(2,a=b.latLng),"iconUrl"in b&&n(3,u=b.iconUrl),"iconSize"in b&&n(4,c=b.iconSize),"radius"in b&&n(5,l=b.radius),"fillColor"in b&&n(6,h=b.fillColor),"$$scope"in b&&n(7,o=b.$$scope)},[d,p,a,u,c,l,h,o,i,w]}class jp extends en{constructor(e){super(),tn(this,e,hw,lw,Ue,{latLng:2,iconUrl:3,iconSize:4,radius:5,fillColor:6})}}function _e(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ro(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Os(t){let e,n,i;t.length!==2?(e=_e,n=(c,l)=>_e(t(c),l),i=(c,l)=>t(c)-l):(e=t===_e||t===Ro?t:dw,n=t,i=t);function o(c,l,h=0,d=c.length){if(h<d){if(e(l,l)!==0)return d;do{const p=h+d>>>1;n(c[p],l)<0?h=p+1:d=p}while(h<d)}return h}function a(c,l,h=0,d=c.length){if(h<d){if(e(l,l)!==0)return d;do{const p=h+d>>>1;n(c[p],l)<=0?h=p+1:d=p}while(h<d)}return h}function u(c,l,h=0,d=c.length){const p=o(c,l,h,d-1);return p>h&&i(c[p-1],l)>-i(c[p],l)?p-1:p}return{left:o,center:u,right:a}}function dw(){return 0}function Kp(t){return t===null?NaN:+t}function*mw(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let i of t)(i=e(i,++n,t))!=null&&(i=+i)>=i&&(yield i)}}const pw=Os(_e),gw=pw.right;Os(Kp).center;const Is=gw;function _w(t,e){let n=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&++n;else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&++n}return n}function yw(t){return t.length|0}function vw(t){return!(t>0)}function bw(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function ww(t){return e=>t(...e)}function xw(...t){const e=typeof t[t.length-1]=="function"&&ww(t.pop());t=t.map(bw);const n=t.map(yw),i=t.length-1,o=new Array(i+1).fill(0),a=[];if(i<0||n.some(vw))return a;for(;;){a.push(o.map((c,l)=>t[l][c]));let u=i;for(;++o[u]===n[u];){if(u===0)return e?a.map(e):a;o[u--]=0}}}function Mw(t,e){var n=0,i=0;return Float64Array.from(t,e===void 0?o=>n+=+o||0:o=>n+=+e(o,i++,t)||0)}function Jp(t,e){let n=0,i,o=0,a=0;if(e===void 0)for(let u of t)u!=null&&(u=+u)>=u&&(i=u-o,o+=i/++n,a+=i*(u-o));else{let u=-1;for(let c of t)(c=e(c,++u,t))!=null&&(c=+c)>=c&&(i=c-o,o+=i/++n,a+=i*(c-o))}if(n>1)return a/(n-1)}function Tw(t,e){const n=Jp(t,e);return n&&Math.sqrt(n)}function Re(t,e){let n,i;if(e===void 0)for(const o of t)o!=null&&(n===void 0?o>=o&&(n=i=o):(n>o&&(n=o),i<o&&(i=o)));else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(n===void 0?a>=a&&(n=i=a):(n>a&&(n=a),i<a&&(i=a)))}return[n,i]}class Mi{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const a=n[o],u=e+a,c=Math.abs(e)<Math.abs(a)?e-(u-a):a-(u-e);c&&(n[i++]=c),e=u}return n[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let n=this._n,i,o,a,u=0;if(n>0){for(u=e[--n];n>0&&(i=u,o=e[--n],u=i+o,a=o-(u-i),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(o=a*2,i=u+o,o==i-u&&(u=i))}return u}}class Ti extends Map{constructor(e,n=e0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[i,o]of e)this.set(i,o)}get(e){return super.get(If(this,e))}has(e){return super.has(If(this,e))}set(e,n){return super.set(Qp(this,e),n)}delete(e){return super.delete(t0(this,e))}}class Bs extends Set{constructor(e,n=e0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const i of e)this.add(i)}has(e){return super.has(If(this,e))}add(e){return super.add(Qp(this,e))}delete(e){return super.delete(t0(this,e))}}function If({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):n}function Qp({_intern:t,_key:e},n){const i=e(n);return t.has(i)?t.get(i):(t.set(i,n),n)}function t0({_intern:t,_key:e},n){const i=e(n);return t.has(i)&&(n=t.get(i),t.delete(i)),n}function e0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Xa(t){return t}function Hc(t,...e){return Wc(t,Xa,Xa,e)}function ur(t,e,...n){return Wc(t,Xa,e,n)}function Lw(t,e,...n){return Wc(t,Array.from,e,n)}function Wc(t,e,n,i){return function o(a,u){if(u>=i.length)return n(a);const c=new Ti,l=i[u++];let h=-1;for(const d of a){const p=l(d,++h,a),g=c.get(p);g?g.push(d):c.set(p,[d])}for(const[d,p]of c)c.set(d,o(p,u));return e(c)}(t,0)}function Sw(t,e){return Array.from(e,n=>t[n])}function wo(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const i=Uint32Array.from(t,(o,a)=>a);return e.length>1?(e=e.map(o=>t.map(o)),i.sort((o,a)=>{for(const u of e){const c=ja(u[o],u[a]);if(c)return c}})):(n=t.map(n),i.sort((o,a)=>ja(n[o],n[a]))),Sw(t,i)}return t.sort(n0(n))}function n0(t=_e){if(t===_e)return ja;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const i=t(e,n);return i||i===0?i:(t(n,n)===0)-(t(e,e)===0)}}function ja(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function qc(t,e,n){return(e.length!==2?wo(ur(t,e,n),([i,o],[a,u])=>_e(o,u)||_e(i,a)):wo(Hc(t,n),([i,o],[a,u])=>e(o,u)||_e(i,a))).map(([i])=>i)}var Pw=Array.prototype,kw=Pw.slice;function Wu(t){return()=>t}const Cw=Math.sqrt(50),Aw=Math.sqrt(10),Ew=Math.sqrt(2);function Ka(t,e,n){const i=(e-t)/Math.max(0,n),o=Math.floor(Math.log10(i)),a=i/Math.pow(10,o),u=a>=Cw?10:a>=Aw?5:a>=Ew?2:1;let c,l,h;return o<0?(h=Math.pow(10,-o)/u,c=Math.round(t*h),l=Math.round(e*h),c/h<t&&++c,l/h>e&&--l,h=-h):(h=Math.pow(10,o)*u,c=Math.round(t/h),l=Math.round(e/h),c*h<t&&++c,l*h>e&&--l),l<c&&.5<=n&&n<2?Ka(t,e,n*2):[c,l,h]}function xo(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const i=e<t,[o,a,u]=i?Ka(e,t,n):Ka(t,e,n);if(!(a>=o))return[];const c=a-o+1,l=new Array(c);if(i)if(u<0)for(let h=0;h<c;++h)l[h]=(a-h)/-u;else for(let h=0;h<c;++h)l[h]=(a-h)*u;else if(u<0)for(let h=0;h<c;++h)l[h]=(o+h)/-u;else for(let h=0;h<c;++h)l[h]=(o+h)*u;return l}function dr(t,e,n){return e=+e,t=+t,n=+n,Ka(t,e,n)[2]}function Bf(t,e,n){e=+e,t=+t,n=+n;const i=e<t,o=i?dr(e,t,n):dr(t,e,n);return(i?-1:1)*(o<0?1/-o:o)}function $w(t,e,n){let i;for(;;){const o=dr(t,e,n);if(o===i||o===0||!isFinite(o))return[t,e];o>0?(t=Math.floor(t/o)*o,e=Math.ceil(e/o)*o):o<0&&(t=Math.ceil(t*o)/o,e=Math.floor(e*o)/o),i=o}}function Nw(t){return Math.max(1,Math.ceil(Math.log(_w(t))/Math.LN2)+1)}function zw(){var t=Xa,e=Re,n=Nw;function i(o){Array.isArray(o)||(o=Array.from(o));var a,u=o.length,c,l,h=new Array(u);for(a=0;a<u;++a)h[a]=t(o[a],a,o);var d=e(h),p=d[0],g=d[1],_=n(h,p,g);if(!Array.isArray(_)){const S=g,P=+_;if(e===Re&&([p,g]=$w(p,g,P)),_=xo(p,g,P),_[0]<=p&&(l=dr(p,g,P)),_[_.length-1]>=g)if(S>=g&&e===Re){const k=dr(p,g,P);isFinite(k)&&(k>0?g=(Math.floor(g/k)+1)*k:k<0&&(g=(Math.ceil(g*-k)+1)/-k))}else _.pop()}for(var v=_.length,w=0,b=v;_[w]<=p;)++w;for(;_[b-1]>g;)--b;(w||b<v)&&(_=_.slice(w,b),v=b-w);var T=new Array(v+1),M;for(a=0;a<=v;++a)M=T[a]=[],M.x0=a>0?_[a-1]:p,M.x1=a<v?_[a]:g;if(isFinite(l)){if(l>0)for(a=0;a<u;++a)(c=h[a])!=null&&p<=c&&c<=g&&T[Math.min(v,Math.floor((c-p)/l))].push(o[a]);else if(l<0){for(a=0;a<u;++a)if((c=h[a])!=null&&p<=c&&c<=g){const S=Math.floor((p-c)*l);T[Math.min(v,S+(_[S]<=c))].push(o[a])}}}else for(a=0;a<u;++a)(c=h[a])!=null&&p<=c&&c<=g&&T[Is(_,c,0,v)].push(o[a]);return T}return i.value=function(o){return arguments.length?(t=typeof o=="function"?o:Wu(o),i):t},i.domain=function(o){return arguments.length?(e=typeof o=="function"?o:Wu([o[0],o[1]]),i):e},i.thresholds=function(o){return arguments.length?(n=typeof o=="function"?o:Wu(Array.isArray(o)?kw.call(o):o),i):n},i}function Xe(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Ow(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,i=o);return i}function Bn(t,e){let n;if(e===void 0)for(const i of t)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}function Iw(t,e){let n,i=-1,o=-1;if(e===void 0)for(const a of t)++o,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);else for(let a of t)(a=e(a,++o,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,i=o);return i}function i0(t,e,n=0,i=1/0,o){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),i=Math.floor(Math.min(t.length-1,i)),!(n<=e&&e<=i))return t;for(o=o===void 0?ja:n0(o);i>n;){if(i-n>600){const l=i-n+1,h=e-n+1,d=Math.log(l),p=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*p*(l-p)/l)*(h-l/2<0?-1:1),_=Math.max(n,Math.floor(e-h*p/l+g)),v=Math.min(i,Math.floor(e+(l-h)*p/l+g));i0(t,e,_,v,o)}const a=t[e];let u=n,c=i;for(Kr(t,n,e),o(t[i],a)>0&&Kr(t,n,i);u<c;){for(Kr(t,u,c),++u,--c;o(t[u],a)<0;)++u;for(;o(t[c],a)>0;)--c}o(t[n],a)===0?Kr(t,n,c):(++c,Kr(t,c,i)),c<=e&&(n=c+1),e<=c&&(i=c-1)}return t}function Kr(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function r0(t,e=_e){let n,i=!1;if(e.length===1){let o;for(const a of t){const u=e(a);(i?_e(u,o)>0:_e(u,u)===0)&&(n=a,o=u,i=!0)}}else for(const o of t)(i?e(o,n)>0:e(o,o)===0)&&(n=o,i=!0);return n}function Ja(t,e,n){if(t=Float64Array.from(mw(t,n)),!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return Bn(t);if(e>=1)return Xe(t);var i,o=(i-1)*e,a=Math.floor(o),u=Xe(i0(t,a).subarray(0,a+1)),c=Bn(t.subarray(a+1));return u+(c-u)*(o-a)}}function Bw(t,e,n=Kp){if(!(!(i=t.length)||isNaN(e=+e))){if(e<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,o=(i-1)*e,a=Math.floor(o),u=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return u+(c-u)*(o-a)}}function Dw(t,e){let n=0,i=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(++n,i+=o);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}function Df(t,e){return Ja(t,.5,e)}function*Rw(t){for(const e of t)yield*e}function o0(t){return Array.from(Rw(t))}function Zw(t,e){const n=new Ti;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let u of t)(u=e(u,++a,t))!=null&&u>=u&&n.set(u,(n.get(u)||0)+1)}let i,o=0;for(const[a,u]of n)u>o&&(o=u,i=a);return i}function Fw(t,e=Uw){const n=[];let i,o=!1;for(const a of t)o&&n.push(e(i,a)),i=a,o=!0;return n}function Uw(t,e){return[t,e]}function Rf(t,e,n){t=+t,e=+e,n=(o=arguments.length)<2?(e=t,t=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(o);++i<o;)a[i]=t+i*n;return a}function Jn(t,e){let n=0;if(e===void 0)for(let i of t)(i=+i)&&(n+=i);else{let i=-1;for(let o of t)(o=+e(o,++i,t))&&(n+=o)}return n}function Qa(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Hw(t){return t}var qu=1,Vu=2,Zf=3,ro=4,nd=1e-6;function Ww(t){return"translate("+t+",0)"}function qw(t){return"translate(0,"+t+")"}function Vw(t){return e=>+t(e)}function Yw(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Gw(){return!this.__axis}function a0(t,e){var n=[],i=null,o=null,a=6,u=6,c=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,h=t===qu||t===ro?-1:1,d=t===ro||t===Vu?"x":"y",p=t===qu||t===Zf?Ww:qw;function g(_){var v=i??(e.ticks?e.ticks.apply(e,n):e.domain()),w=o??(e.tickFormat?e.tickFormat.apply(e,n):Hw),b=Math.max(a,0)+c,T=e.range(),M=+T[0]+l,S=+T[T.length-1]+l,P=(e.bandwidth?Yw:Vw)(e.copy(),l),k=_.selection?_.selection():_,A=k.selectAll(".domain").data([null]),N=k.selectAll(".tick").data(v,e).order(),I=N.exit(),$=N.enter().append("g").attr("class","tick"),O=N.select("line"),E=N.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge($),O=O.merge($.append("line").attr("stroke","currentColor").attr(d+"2",h*a)),E=E.merge($.append("text").attr("fill","currentColor").attr(d,h*b).attr("dy",t===qu?"0em":t===Zf?"0.71em":"0.32em")),_!==k&&(A=A.transition(_),N=N.transition(_),O=O.transition(_),E=E.transition(_),I=I.transition(_).attr("opacity",nd).attr("transform",function(R){return isFinite(R=P(R))?p(R+l):this.getAttribute("transform")}),$.attr("opacity",nd).attr("transform",function(R){var F=this.parentNode.__axis;return p((F&&isFinite(F=F(R))?F:P(R))+l)})),I.remove(),A.attr("d",t===ro||t===Vu?u?"M"+h*u+","+M+"H"+l+"V"+S+"H"+h*u:"M"+l+","+M+"V"+S:u?"M"+M+","+h*u+"V"+l+"H"+S+"V"+h*u:"M"+M+","+l+"H"+S),N.attr("opacity",1).attr("transform",function(R){return p(P(R)+l)}),O.attr(d+"2",h*a),E.attr(d,h*b).text(w),k.filter(Gw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Vu?"start":t===ro?"end":"middle"),k.each(function(){this.__axis=P})}return g.scale=function(_){return arguments.length?(e=_,g):e},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(_){return arguments.length?(n=_==null?[]:Array.from(_),g):n.slice()},g.tickValues=function(_){return arguments.length?(i=_==null?null:Array.from(_),g):i&&i.slice()},g.tickFormat=function(_){return arguments.length?(o=_,g):o},g.tickSize=function(_){return arguments.length?(a=u=+_,g):a},g.tickSizeInner=function(_){return arguments.length?(a=+_,g):a},g.tickSizeOuter=function(_){return arguments.length?(u=+_,g):u},g.tickPadding=function(_){return arguments.length?(c=+_,g):c},g.offset=function(_){return arguments.length?(l=+_,g):l},g}function s0(t){return a0(Zf,t)}function Xw(t){return a0(ro,t)}var jw={value:()=>{}};function Vc(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Fa(n)}function Fa(t){this._=t}function Kw(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Fa.prototype=Vc.prototype={constructor:Fa,on:function(t,e){var n=this._,i=Kw(t+"",n),o,a=-1,u=i.length;if(arguments.length<2){for(;++a<u;)if((o=(t=i[a]).type)&&(o=Jw(n[o],t.name)))return o;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<u;)if(o=(t=i[a]).type)n[o]=id(n[o],t.name,e);else if(e==null)for(o in n)n[o]=id(n[o],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Fa(t)},call:function(t,e){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],i=0,o=a.length;i<o;++i)a[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],o=0,a=i.length;o<a;++o)i[o].value.apply(e,n)}};function Jw(t,e){for(var n=0,i=t.length,o;n<i;++n)if((o=t[n]).name===e)return o.value}function id(t,e,n){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=jw,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ff="http://www.w3.org/1999/xhtml";const mr={svg:"http://www.w3.org/2000/svg",xhtml:Ff,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ds(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),mr.hasOwnProperty(e)?{space:mr[e],local:t}:t}function Qw(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ff&&e.documentElement.namespaceURI===Ff?e.createElement(t):e.createElementNS(n,t)}}function t2(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Rs(t){var e=Ds(t);return(e.local?t2:Qw)(e)}function e2(){}function Yc(t){return t==null?e2:function(){return this.querySelector(t)}}function n2(t){typeof t!="function"&&(t=Yc(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=new Array(u),l,h,d=0;d<u;++d)(l=a[d])&&(h=t.call(l,l.__data__,d,a))&&("__data__"in l&&(h.__data__=l.__data__),c[d]=h);return new Se(i,this._parents)}function i2(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function r2(){return[]}function u0(t){return t==null?r2:function(){return this.querySelectorAll(t)}}function o2(t){return function(){return i2(t.apply(this,arguments))}}function a2(t){typeof t=="function"?t=o2(t):t=u0(t);for(var e=this._groups,n=e.length,i=[],o=[],a=0;a<n;++a)for(var u=e[a],c=u.length,l,h=0;h<c;++h)(l=u[h])&&(i.push(t.call(l,l.__data__,h,u)),o.push(l));return new Se(i,o)}function f0(t){return function(){return this.matches(t)}}function c0(t){return function(e){return e.matches(t)}}var s2=Array.prototype.find;function u2(t){return function(){return s2.call(this.children,t)}}function f2(){return this.firstElementChild}function c2(t){return this.select(t==null?f2:u2(typeof t=="function"?t:c0(t)))}var l2=Array.prototype.filter;function h2(){return Array.from(this.children)}function d2(t){return function(){return l2.call(this.children,t)}}function m2(t){return this.selectAll(t==null?h2:d2(typeof t=="function"?t:c0(t)))}function p2(t){typeof t!="function"&&(t=f0(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=[],l,h=0;h<u;++h)(l=a[h])&&t.call(l,l.__data__,h,a)&&c.push(l);return new Se(i,this._parents)}function l0(t){return new Array(t.length)}function g2(){return new Se(this._enter||this._groups.map(l0),this._parents)}function ts(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ts.prototype={constructor:ts,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _2(t){return function(){return t}}function y2(t,e,n,i,o,a){for(var u=0,c,l=e.length,h=a.length;u<h;++u)(c=e[u])?(c.__data__=a[u],i[u]=c):n[u]=new ts(t,a[u]);for(;u<l;++u)(c=e[u])&&(o[u]=c)}function v2(t,e,n,i,o,a,u){var c,l,h=new Map,d=e.length,p=a.length,g=new Array(d),_;for(c=0;c<d;++c)(l=e[c])&&(g[c]=_=u.call(l,l.__data__,c,e)+"",h.has(_)?o[c]=l:h.set(_,l));for(c=0;c<p;++c)_=u.call(t,a[c],c,a)+"",(l=h.get(_))?(i[c]=l,l.__data__=a[c],h.delete(_)):n[c]=new ts(t,a[c]);for(c=0;c<d;++c)(l=e[c])&&h.get(g[c])===l&&(o[c]=l)}function b2(t){return t.__data__}function w2(t,e){if(!arguments.length)return Array.from(this,b2);var n=e?v2:y2,i=this._parents,o=this._groups;typeof t!="function"&&(t=_2(t));for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),h=0;h<a;++h){var d=i[h],p=o[h],g=p.length,_=x2(t.call(d,d&&d.__data__,h,i)),v=_.length,w=c[h]=new Array(v),b=u[h]=new Array(v),T=l[h]=new Array(g);n(d,p,w,b,T,_,e);for(var M=0,S=0,P,k;M<v;++M)if(P=w[M]){for(M>=S&&(S=M+1);!(k=b[S])&&++S<v;);P._next=k||null}}return u=new Se(u,i),u._enter=c,u._exit=l,u}function x2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function M2(){return new Se(this._exit||this._groups.map(l0),this._parents)}function T2(t,e,n){var i=this.enter(),o=this,a=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(o=e(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function L2(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,o=n.length,a=i.length,u=Math.min(o,a),c=new Array(o),l=0;l<u;++l)for(var h=n[l],d=i[l],p=h.length,g=c[l]=new Array(p),_,v=0;v<p;++v)(_=h[v]||d[v])&&(g[v]=_);for(;l<o;++l)c[l]=n[l];return new Se(c,this._parents)}function S2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],o=i.length-1,a=i[o],u;--o>=0;)(u=i[o])&&(a&&u.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(u,a),a=u);return this}function P2(t){t||(t=k2);function e(p,g){return p&&g?t(p.__data__,g.__data__):!p-!g}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var u=n[a],c=u.length,l=o[a]=new Array(c),h,d=0;d<c;++d)(h=u[d])&&(l[d]=h);l.sort(e)}return new Se(o,this._parents).order()}function k2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function C2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function A2(){return Array.from(this)}function E2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length;o<a;++o){var u=i[o];if(u)return u}return null}function $2(){let t=0;for(const e of this)++t;return t}function N2(){return!this.node()}function z2(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var o=e[n],a=0,u=o.length,c;a<u;++a)(c=o[a])&&t.call(c,c.__data__,a,o);return this}function O2(t){return function(){this.removeAttribute(t)}}function I2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function B2(t,e){return function(){this.setAttribute(t,e)}}function D2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function R2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Z2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function F2(t,e){var n=Ds(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?I2:O2:typeof e=="function"?n.local?Z2:R2:n.local?D2:B2)(n,e))}function h0(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function U2(t){return function(){this.style.removeProperty(t)}}function H2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function W2(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function q2(t,e,n){return arguments.length>1?this.each((e==null?U2:typeof e=="function"?W2:H2)(t,e,n??"")):pr(this.node(),t)}function pr(t,e){return t.style.getPropertyValue(e)||h0(t).getComputedStyle(t,null).getPropertyValue(e)}function V2(t){return function(){delete this[t]}}function Y2(t,e){return function(){this[t]=e}}function G2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function X2(t,e){return arguments.length>1?this.each((e==null?V2:typeof e=="function"?G2:Y2)(t,e)):this.node()[t]}function d0(t){return t.trim().split(/^|\s+/)}function Gc(t){return t.classList||new m0(t)}function m0(t){this._node=t,this._names=d0(t.getAttribute("class")||"")}m0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function p0(t,e){for(var n=Gc(t),i=-1,o=e.length;++i<o;)n.add(e[i])}function g0(t,e){for(var n=Gc(t),i=-1,o=e.length;++i<o;)n.remove(e[i])}function j2(t){return function(){p0(this,t)}}function K2(t){return function(){g0(this,t)}}function J2(t,e){return function(){(e.apply(this,arguments)?p0:g0)(this,t)}}function Q2(t,e){var n=d0(t+"");if(arguments.length<2){for(var i=Gc(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof e=="function"?J2:e?j2:K2)(n,e))}function tx(){this.textContent=""}function ex(t){return function(){this.textContent=t}}function nx(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ix(t){return arguments.length?this.each(t==null?tx:(typeof t=="function"?nx:ex)(t)):this.node().textContent}function rx(){this.innerHTML=""}function ox(t){return function(){this.innerHTML=t}}function ax(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function sx(t){return arguments.length?this.each(t==null?rx:(typeof t=="function"?ax:ox)(t)):this.node().innerHTML}function ux(){this.nextSibling&&this.parentNode.appendChild(this)}function fx(){return this.each(ux)}function cx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lx(){return this.each(cx)}function hx(t){var e=typeof t=="function"?t:Rs(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function dx(){return null}function mx(t,e){var n=typeof t=="function"?t:Rs(t),i=e==null?dx:typeof e=="function"?e:Yc(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function px(){var t=this.parentNode;t&&t.removeChild(this)}function gx(){return this.each(px)}function _x(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function yx(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function vx(t){return this.select(t?yx:_x)}function bx(t){return arguments.length?this.property("__data__",t):this.node().__data__}function wx(t){return function(e){t.call(this,e,this.__data__)}}function xx(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function Mx(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,o=e.length,a;n<o;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++i]=a;++i?e.length=i:delete this.__on}}}function Tx(t,e,n){return function(){var i=this.__on,o,a=wx(e);if(i){for(var u=0,c=i.length;u<c;++u)if((o=i[u]).type===t.type&&o.name===t.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=e;return}}this.addEventListener(t.type,a,n),o={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(o):this.__on=[o]}}function Lx(t,e,n){var i=xx(t+""),o,a=i.length,u;if(arguments.length<2){var c=this.node().__on;if(c){for(var l=0,h=c.length,d;l<h;++l)for(o=0,d=c[l];o<a;++o)if((u=i[o]).type===d.type&&u.name===d.name)return d.value}return}for(c=e?Tx:Mx,o=0;o<a;++o)this.each(c(i[o],e,n));return this}function _0(t,e,n){var i=h0(t),o=i.CustomEvent;typeof o=="function"?o=new o(e,n):(o=i.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function Sx(t,e){return function(){return _0(this,t,e)}}function Px(t,e){return function(){return _0(this,t,e.apply(this,arguments))}}function kx(t,e){return this.each((typeof e=="function"?Px:Sx)(t,e))}function*Cx(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],o=0,a=i.length,u;o<a;++o)(u=i[o])&&(yield u)}var y0=[null];function Se(t,e){this._groups=t,this._parents=e}function Zo(){return new Se([[document.documentElement]],y0)}function Ax(){return this}Se.prototype=Zo.prototype={constructor:Se,select:n2,selectAll:a2,selectChild:c2,selectChildren:m2,filter:p2,data:w2,enter:g2,exit:M2,join:T2,merge:L2,selection:Ax,order:S2,sort:P2,call:C2,nodes:A2,node:E2,size:$2,empty:N2,each:z2,attr:F2,style:q2,property:X2,classed:Q2,text:ix,html:sx,raise:fx,lower:lx,append:hx,insert:mx,remove:gx,clone:vx,datum:bx,on:Lx,dispatch:kx,[Symbol.iterator]:Cx};function xe(t){return typeof t=="string"?new Se([[document.querySelector(t)]],[document.documentElement]):new Se([[t]],y0)}function Ex(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Uf(t,e){if(t=Ex(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(e.getScreenCTM().inverse()),[i.x,i.y]}if(e.getBoundingClientRect){var o=e.getBoundingClientRect();return[t.clientX-o.left-e.clientLeft,t.clientY-o.top-e.clientTop]}}return[t.pageX,t.pageY]}const Hf={capture:!0,passive:!1};function Wf(t){t.preventDefault(),t.stopImmediatePropagation()}function $x(t){var e=t.document.documentElement,n=xe(t).on("dragstart.drag",Wf,Hf);"onselectstart"in e?n.on("selectstart.drag",Wf,Hf):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Nx(t,e){var n=t.document.documentElement,i=xe(t).on("dragstart.drag",null);e&&(i.on("click.drag",Wf,Hf),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ar(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Fo(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ei(){}var Li=.7,gr=1/Li,fr="\\s*([+-]?\\d+)\\s*",Mo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zx=/^#([0-9a-f]{3,8})$/,Ox=new RegExp(`^rgb\\(${fr},${fr},${fr}\\)$`),Ix=new RegExp(`^rgb\\(${gn},${gn},${gn}\\)$`),Bx=new RegExp(`^rgba\\(${fr},${fr},${fr},${Mo}\\)$`),Dx=new RegExp(`^rgba\\(${gn},${gn},${gn},${Mo}\\)$`),Rx=new RegExp(`^hsl\\(${Mo},${gn},${gn}\\)$`),Zx=new RegExp(`^hsla\\(${Mo},${gn},${gn},${Mo}\\)$`),rd={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ar(ei,Si,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:od,formatHex:od,formatHex8:Fx,formatHsl:Ux,formatRgb:ad,toString:ad});function od(){return this.rgb().formatHex()}function Fx(){return this.rgb().formatHex8()}function Ux(){return v0(this).formatHsl()}function ad(){return this.rgb().formatRgb()}function Si(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=zx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sd(e):n===3?new te(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?xa(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?xa(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ox.exec(t))?new te(e[1],e[2],e[3],1):(e=Ix.exec(t))?new te(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bx.exec(t))?xa(e[1],e[2],e[3],e[4]):(e=Dx.exec(t))?xa(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rx.exec(t))?cd(e[1],e[2]/100,e[3]/100,1):(e=Zx.exec(t))?cd(e[1],e[2]/100,e[3]/100,e[4]):rd.hasOwnProperty(t)?sd(rd[t]):t==="transparent"?new te(NaN,NaN,NaN,0):null}function sd(t){return new te(t>>16&255,t>>8&255,t&255,1)}function xa(t,e,n,i){return i<=0&&(t=e=n=NaN),new te(t,e,n,i)}function Xc(t){return t instanceof ei||(t=Si(t)),t?(t=t.rgb(),new te(t.r,t.g,t.b,t.opacity)):new te}function Qn(t,e,n,i){return arguments.length===1?Xc(t):new te(t,e,n,i??1)}function te(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Ar(te,Qn,Fo(ei,{brighter(t){return t=t==null?gr:Math.pow(gr,t),new te(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Li:Math.pow(Li,t),new te(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new te(yi(this.r),yi(this.g),yi(this.b),es(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ud,formatHex:ud,formatHex8:Hx,formatRgb:fd,toString:fd}));function ud(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}`}function Hx(){return`#${mi(this.r)}${mi(this.g)}${mi(this.b)}${mi((isNaN(this.opacity)?1:this.opacity)*255)}`}function fd(){const t=es(this.opacity);return`${t===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${t===1?")":`, ${t})`}`}function es(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mi(t){return t=yi(t),(t<16?"0":"")+t.toString(16)}function cd(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ye(t,e,n,i)}function v0(t){if(t instanceof Ye)return new Ye(t.h,t.s,t.l,t.opacity);if(t instanceof ei||(t=Si(t)),!t)return new Ye;if(t instanceof Ye)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,o=Math.min(e,n,i),a=Math.max(e,n,i),u=NaN,c=a-o,l=(a+o)/2;return c?(e===a?u=(n-i)/c+(n<i)*6:n===a?u=(i-e)/c+2:u=(e-n)/c+4,c/=l<.5?a+o:2-a-o,u*=60):c=l>0&&l<1?0:u,new Ye(u,c,l,t.opacity)}function qf(t,e,n,i){return arguments.length===1?v0(t):new Ye(t,e,n,i??1)}function Ye(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Ar(Ye,qf,Fo(ei,{brighter(t){return t=t==null?gr:Math.pow(gr,t),new Ye(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Li:Math.pow(Li,t),new Ye(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,o=2*n-i;return new te(Yu(t>=240?t-240:t+120,o,i),Yu(t,o,i),Yu(t<120?t+240:t-120,o,i),this.opacity)},clamp(){return new Ye(ld(this.h),Ma(this.s),Ma(this.l),es(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=es(this.opacity);return`${t===1?"hsl(":"hsla("}${ld(this.h)}, ${Ma(this.s)*100}%, ${Ma(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ld(t){return t=(t||0)%360,t<0?t+360:t}function Ma(t){return Math.max(0,Math.min(1,t||0))}function Yu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const b0=Math.PI/180,w0=180/Math.PI,ns=18,x0=.96422,M0=1,T0=.82521,L0=4/29,cr=6/29,S0=3*cr*cr,Wx=cr*cr*cr;function P0(t){if(t instanceof _n)return new _n(t.l,t.a,t.b,t.opacity);if(t instanceof Nn)return k0(t);t instanceof te||(t=Xc(t));var e=Ku(t.r),n=Ku(t.g),i=Ku(t.b),o=Gu((.2225045*e+.7168786*n+.0606169*i)/M0),a,u;return e===n&&n===i?a=u=o:(a=Gu((.4360747*e+.3850649*n+.1430804*i)/x0),u=Gu((.0139322*e+.0971045*n+.7141733*i)/T0)),new _n(116*o-16,500*(a-o),200*(o-u),t.opacity)}function Vf(t,e,n,i){return arguments.length===1?P0(t):new _n(t,e,n,i??1)}function _n(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}Ar(_n,Vf,Fo(ei,{brighter(t){return new _n(this.l+ns*(t??1),this.a,this.b,this.opacity)},darker(t){return new _n(this.l-ns*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=x0*Xu(e),t=M0*Xu(t),n=T0*Xu(n),new te(ju(3.1338561*e-1.6168667*t-.4906146*n),ju(-.9787684*e+1.9161415*t+.033454*n),ju(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Gu(t){return t>Wx?Math.pow(t,1/3):t/S0+L0}function Xu(t){return t>cr?t*t*t:S0*(t-L0)}function ju(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ku(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function qx(t){if(t instanceof Nn)return new Nn(t.h,t.c,t.l,t.opacity);if(t instanceof _n||(t=P0(t)),t.a===0&&t.b===0)return new Nn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*w0;return new Nn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Yf(t,e,n,i){return arguments.length===1?qx(t):new Nn(t,e,n,i??1)}function Nn(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}function k0(t){if(isNaN(t.h))return new _n(t.l,0,0,t.opacity);var e=t.h*b0;return new _n(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ar(Nn,Yf,Fo(ei,{brighter(t){return new Nn(this.h,this.c,this.l+ns*(t??1),this.opacity)},darker(t){return new Nn(this.h,this.c,this.l-ns*(t??1),this.opacity)},rgb(){return k0(this).rgb()}}));var C0=-.14861,jc=1.78277,Kc=-.29227,Zs=-.90649,To=1.97294,hd=To*Zs,dd=To*jc,md=jc*Kc-Zs*C0;function Vx(t){if(t instanceof vi)return new vi(t.h,t.s,t.l,t.opacity);t instanceof te||(t=Xc(t));var e=t.r/255,n=t.g/255,i=t.b/255,o=(md*i+hd*e-dd*n)/(md+hd-dd),a=i-o,u=(To*(n-o)-Kc*a)/Zs,c=Math.sqrt(u*u+a*a)/(To*o*(1-o)),l=c?Math.atan2(u,a)*w0-120:NaN;return new vi(l<0?l+360:l,c,o,t.opacity)}function yn(t,e,n,i){return arguments.length===1?Vx(t):new vi(t,e,n,i??1)}function vi(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Ar(vi,yn,Fo(ei,{brighter(t){return t=t==null?gr:Math.pow(gr,t),new vi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Li:Math.pow(Li,t),new vi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*b0,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),o=Math.sin(t);return new te(255*(e+n*(C0*i+jc*o)),255*(e+n*(Kc*i+Zs*o)),255*(e+n*(To*i)),this.opacity)}}));function Yx(t,e,n,i,o){var a=t*t,u=a*t;return((1-3*t+3*a-u)*e+(4-6*a+3*u)*n+(1+3*t+3*a-3*u)*i+u*o)/6}function Gx(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),o=t[i],a=t[i+1],u=i>0?t[i-1]:2*o-a,c=i<e-1?t[i+2]:2*a-o;return Yx((n-i/e)*e,u,o,a,c)}}const Fs=t=>()=>t;function A0(t,e){return function(n){return t+n*e}}function Xx(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Jc(t,e){var n=e-t;return n?A0(t,n>180||n<-180?n-360*Math.round(n/360):n):Fs(isNaN(t)?e:t)}function jx(t){return(t=+t)==1?fe:function(e,n){return n-e?Xx(e,n,t):Fs(isNaN(e)?n:e)}}function fe(t,e){var n=e-t;return n?A0(t,n):Fs(isNaN(t)?e:t)}const Pi=function t(e){var n=jx(e);function i(o,a){var u=n((o=Qn(o)).r,(a=Qn(a)).r),c=n(o.g,a.g),l=n(o.b,a.b),h=fe(o.opacity,a.opacity);return function(d){return o.r=u(d),o.g=c(d),o.b=l(d),o.opacity=h(d),o+""}}return i.gamma=t,i}(1);function Kx(t){return function(e){var n=e.length,i=new Array(n),o=new Array(n),a=new Array(n),u,c;for(u=0;u<n;++u)c=Qn(e[u]),i[u]=c.r||0,o[u]=c.g||0,a[u]=c.b||0;return i=t(i),o=t(o),a=t(a),c.opacity=1,function(l){return c.r=i(l),c.g=o(l),c.b=a(l),c+""}}}var Jx=Kx(Gx);function Qx(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,i=e.slice(),o;return function(a){for(o=0;o<n;++o)i[o]=t[o]*(1-a)+e[o]*a;return i}}function t6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function e6(t,e){var n=e?e.length:0,i=t?Math.min(n,t.length):0,o=new Array(i),a=new Array(n),u;for(u=0;u<i;++u)o[u]=Er(t[u],e[u]);for(;u<n;++u)a[u]=e[u];return function(c){for(u=0;u<i;++u)a[u]=o[u](c);return a}}function n6(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function ue(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function i6(t,e){var n={},i={},o;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(o in e)o in t?n[o]=Er(t[o],e[o]):i[o]=e[o];return function(a){for(o in n)i[o]=n[o](a);return i}}var Gf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ju=new RegExp(Gf.source,"g");function r6(t){return function(){return t}}function o6(t){return function(e){return t(e)+""}}function E0(t,e){var n=Gf.lastIndex=Ju.lastIndex=0,i,o,a,u=-1,c=[],l=[];for(t=t+"",e=e+"";(i=Gf.exec(t))&&(o=Ju.exec(e));)(a=o.index)>n&&(a=e.slice(n,a),c[u]?c[u]+=a:c[++u]=a),(i=i[0])===(o=o[0])?c[u]?c[u]+=o:c[++u]=o:(c[++u]=null,l.push({i:u,x:ue(i,o)})),n=Ju.lastIndex;return n<e.length&&(a=e.slice(n),c[u]?c[u]+=a:c[++u]=a),c.length<2?l[0]?o6(l[0].x):r6(e):(e=l.length,function(h){for(var d=0,p;d<e;++d)c[(p=l[d]).i]=p.x(h);return c.join("")})}function Er(t,e){var n=typeof e,i;return e==null||n==="boolean"?Fs(e):(n==="number"?ue:n==="string"?(i=Si(e))?(e=i,Pi):E0:e instanceof Si?Pi:e instanceof Date?n6:t6(e)?Qx:Array.isArray(e)?e6:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?i6:ue)(t,e)}function Qc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var pd=180/Math.PI,Xf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $0(t,e,n,i,o,a){var u,c,l;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(c=Math.sqrt(n*n+i*i))&&(n/=c,i/=c,l/=c),t*i<e*n&&(t=-t,e=-e,l=-l,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(e,t)*pd,skewX:Math.atan(l)*pd,scaleX:u,scaleY:c}}var Ta;function a6(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xf:$0(e.a,e.b,e.c,e.d,e.e,e.f)}function s6(t){return t==null||(Ta||(Ta=document.createElementNS("http://www.w3.org/2000/svg","g")),Ta.setAttribute("transform",t),!(t=Ta.transform.baseVal.consolidate()))?Xf:(t=t.matrix,$0(t.a,t.b,t.c,t.d,t.e,t.f))}function N0(t,e,n,i){function o(h){return h.length?h.pop()+" ":""}function a(h,d,p,g,_,v){if(h!==p||d!==g){var w=_.push("translate(",null,e,null,n);v.push({i:w-4,x:ue(h,p)},{i:w-2,x:ue(d,g)})}else(p||g)&&_.push("translate("+p+e+g+n)}function u(h,d,p,g){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),g.push({i:p.push(o(p)+"rotate(",null,i)-2,x:ue(h,d)})):d&&p.push(o(p)+"rotate("+d+i)}function c(h,d,p,g){h!==d?g.push({i:p.push(o(p)+"skewX(",null,i)-2,x:ue(h,d)}):d&&p.push(o(p)+"skewX("+d+i)}function l(h,d,p,g,_,v){if(h!==p||d!==g){var w=_.push(o(_)+"scale(",null,",",null,")");v.push({i:w-4,x:ue(h,p)},{i:w-2,x:ue(d,g)})}else(p!==1||g!==1)&&_.push(o(_)+"scale("+p+","+g+")")}return function(h,d){var p=[],g=[];return h=t(h),d=t(d),a(h.translateX,h.translateY,d.translateX,d.translateY,p,g),u(h.rotate,d.rotate,p,g),c(h.skewX,d.skewX,p,g),l(h.scaleX,h.scaleY,d.scaleX,d.scaleY,p,g),h=d=null,function(_){for(var v=-1,w=g.length,b;++v<w;)p[(b=g[v]).i]=b.x(_);return p.join("")}}}var u6=N0(a6,"px, ","px)","deg)"),f6=N0(s6,", ",")",")");function c6(t){return function(e,n){var i=t((e=qf(e)).h,(n=qf(n)).h),o=fe(e.s,n.s),a=fe(e.l,n.l),u=fe(e.opacity,n.opacity);return function(c){return e.h=i(c),e.s=o(c),e.l=a(c),e.opacity=u(c),e+""}}}const l6=c6(Jc);function h6(t,e){var n=fe((t=Vf(t)).l,(e=Vf(e)).l),i=fe(t.a,e.a),o=fe(t.b,e.b),a=fe(t.opacity,e.opacity);return function(u){return t.l=n(u),t.a=i(u),t.b=o(u),t.opacity=a(u),t+""}}function d6(t){return function(e,n){var i=t((e=Yf(e)).h,(n=Yf(n)).h),o=fe(e.c,n.c),a=fe(e.l,n.l),u=fe(e.opacity,n.opacity);return function(c){return e.h=i(c),e.c=o(c),e.l=a(c),e.opacity=u(c),e+""}}}const m6=d6(Jc);function z0(t){return function e(n){n=+n;function i(o,a){var u=t((o=yn(o)).h,(a=yn(a)).h),c=fe(o.s,a.s),l=fe(o.l,a.l),h=fe(o.opacity,a.opacity);return function(d){return o.h=u(d),o.s=c(d),o.l=l(Math.pow(d,n)),o.opacity=h(d),o+""}}return i.gamma=e,i}(1)}z0(Jc);var tl=z0(fe);function Us(t,e){e===void 0&&(e=t,t=Er);for(var n=0,i=e.length-1,o=e[0],a=new Array(i<0?0:i);n<i;)a[n]=t(o,o=e[++n]);return function(u){var c=Math.max(0,Math.min(i-1,Math.floor(u*=i)));return a[c](u-c)}}function je(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n}var _r=0,oo=0,Jr=0,O0=1e3,is,ao,rs=0,ki=0,Hs=0,Lo=typeof performance=="object"&&performance.now?performance:Date,I0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function el(){return ki||(I0(p6),ki=Lo.now()+Hs)}function p6(){ki=0}function os(){this._call=this._time=this._next=null}os.prototype=B0.prototype={constructor:os,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?el():+n)+(e==null?0:+e),!this._next&&ao!==this&&(ao?ao._next=this:is=this,ao=this),this._call=t,this._time=n,jf()},stop:function(){this._call&&(this._call=null,this._time=1/0,jf())}};function B0(t,e,n){var i=new os;return i.restart(t,e,n),i}function g6(){el(),++_r;for(var t=is,e;t;)(e=ki-t._time)>=0&&t._call.call(void 0,e),t=t._next;--_r}function gd(){ki=(rs=Lo.now())+Hs,_r=oo=0;try{g6()}finally{_r=0,y6(),ki=0}}function _6(){var t=Lo.now(),e=t-rs;e>O0&&(Hs-=e,rs=t)}function y6(){for(var t,e=is,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:is=n);ao=t,jf(i)}function jf(t){if(!_r){oo&&(oo=clearTimeout(oo));var e=t-ki;e>24?(t<1/0&&(oo=setTimeout(gd,t-Lo.now()-Hs)),Jr&&(Jr=clearInterval(Jr))):(Jr||(rs=Lo.now(),Jr=setInterval(_6,O0)),_r=1,I0(gd))}}function _d(t,e,n){var i=new os;return e=e==null?0:+e,i.restart(o=>{i.stop(),t(o+e)},e,n),i}var v6=Vc("start","end","cancel","interrupt"),b6=[],D0=0,yd=1,Kf=2,Ua=3,vd=4,Jf=5,Ha=6;function Ws(t,e,n,i,o,a){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;w6(t,n,{name:e,index:i,group:o,on:v6,tween:b6,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:D0})}function nl(t,e){var n=nn(t,e);if(n.state>D0)throw new Error("too late; already scheduled");return n}function vn(t,e){var n=nn(t,e);if(n.state>Ua)throw new Error("too late; already running");return n}function nn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function w6(t,e,n){var i=t.__transition,o;i[e]=n,n.timer=B0(a,0,n.time);function a(h){n.state=yd,n.timer.restart(u,n.delay,n.time),n.delay<=h&&u(h-n.delay)}function u(h){var d,p,g,_;if(n.state!==yd)return l();for(d in i)if(_=i[d],_.name===n.name){if(_.state===Ua)return _d(u);_.state===vd?(_.state=Ha,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete i[d]):+d<e&&(_.state=Ha,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete i[d])}if(_d(function(){n.state===Ua&&(n.state=vd,n.timer.restart(c,n.delay,n.time),c(h))}),n.state=Kf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Kf){for(n.state=Ua,o=new Array(g=n.tween.length),d=0,p=-1;d<g;++d)(_=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(o[++p]=_);o.length=p+1}}function c(h){for(var d=h<n.duration?n.ease.call(null,h/n.duration):(n.timer.restart(l),n.state=Jf,1),p=-1,g=o.length;++p<g;)o[p].call(t,d);n.state===Jf&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Ha,n.timer.stop(),delete i[e];for(var h in i)return;delete t.__transition}}function Qf(t,e){var n=t.__transition,i,o,a=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((i=n[u]).name!==e){a=!1;continue}o=i.state>Kf&&i.state<Jf,i.state=Ha,i.timer.stop(),i.on.call(o?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[u]}a&&delete t.__transition}}function x6(t){return this.each(function(){Qf(this,t)})}function M6(t,e){var n,i;return function(){var o=vn(this,t),a=o.tween;if(a!==n){i=n=a;for(var u=0,c=i.length;u<c;++u)if(i[u].name===e){i=i.slice(),i.splice(u,1);break}}o.tween=i}}function T6(t,e,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=vn(this,t),u=a.tween;if(u!==i){o=(i=u).slice();for(var c={name:e,value:n},l=0,h=o.length;l<h;++l)if(o[l].name===e){o[l]=c;break}l===h&&o.push(c)}a.tween=o}}function L6(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=nn(this.node(),n).tween,o=0,a=i.length,u;o<a;++o)if((u=i[o]).name===t)return u.value;return null}return this.each((e==null?M6:T6)(n,t,e))}function il(t,e,n){var i=t._id;return t.each(function(){var o=vn(this,i);(o.value||(o.value={}))[e]=n.apply(this,arguments)}),function(o){return nn(o,i).value[e]}}function R0(t,e){var n;return(typeof e=="number"?ue:e instanceof Si?Pi:(n=Si(e))?(e=n,Pi):E0)(t,e)}function S6(t){return function(){this.removeAttribute(t)}}function P6(t){return function(){this.removeAttributeNS(t.space,t.local)}}function k6(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttribute(t);return u===o?null:u===i?a:a=e(i=u,n)}}function C6(t,e,n){var i,o=n+"",a;return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===i?a:a=e(i=u,n)}}function A6(t,e,n){var i,o,a;return function(){var u,c=n(this),l;return c==null?void this.removeAttribute(t):(u=this.getAttribute(t),l=c+"",u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c)))}}function E6(t,e,n){var i,o,a;return function(){var u,c=n(this),l;return c==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),l=c+"",u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c)))}}function $6(t,e){var n=Ds(t),i=n==="transform"?f6:R0;return this.attrTween(t,typeof e=="function"?(n.local?E6:A6)(n,i,il(this,"attr."+t,e)):e==null?(n.local?P6:S6)(n):(n.local?C6:k6)(n,i,e))}function N6(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function z6(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function O6(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&z6(t,a)),n}return o._value=e,o}function I6(t,e){var n,i;function o(){var a=e.apply(this,arguments);return a!==i&&(n=(i=a)&&N6(t,a)),n}return o._value=e,o}function B6(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=Ds(t);return this.tween(n,(i.local?O6:I6)(i,e))}function D6(t,e){return function(){nl(this,t).delay=+e.apply(this,arguments)}}function R6(t,e){return e=+e,function(){nl(this,t).delay=e}}function Z6(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?D6:R6)(e,t)):nn(this.node(),e).delay}function F6(t,e){return function(){vn(this,t).duration=+e.apply(this,arguments)}}function U6(t,e){return e=+e,function(){vn(this,t).duration=e}}function H6(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?F6:U6)(e,t)):nn(this.node(),e).duration}function W6(t,e){if(typeof e!="function")throw new Error;return function(){vn(this,t).ease=e}}function q6(t){var e=this._id;return arguments.length?this.each(W6(e,t)):nn(this.node(),e).ease}function V6(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;vn(this,t).ease=n}}function Y6(t){if(typeof t!="function")throw new Error;return this.each(V6(this._id,t))}function G6(t){typeof t!="function"&&(t=f0(t));for(var e=this._groups,n=e.length,i=new Array(n),o=0;o<n;++o)for(var a=e[o],u=a.length,c=i[o]=[],l,h=0;h<u;++h)(l=a[h])&&t.call(l,l.__data__,h,a)&&c.push(l);return new Dn(i,this._parents,this._name,this._id)}function X6(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,o=n.length,a=Math.min(i,o),u=new Array(i),c=0;c<a;++c)for(var l=e[c],h=n[c],d=l.length,p=u[c]=new Array(d),g,_=0;_<d;++_)(g=l[_]||h[_])&&(p[_]=g);for(;c<i;++c)u[c]=e[c];return new Dn(u,this._parents,this._name,this._id)}function j6(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function K6(t,e,n){var i,o,a=j6(e)?nl:vn;return function(){var u=a(this,t),c=u.on;c!==i&&(o=(i=c).copy()).on(e,n),u.on=o}}function J6(t,e){var n=this._id;return arguments.length<2?nn(this.node(),n).on.on(t):this.each(K6(n,t,e))}function Q6(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function t3(){return this.on("end.remove",Q6(this._id))}function e3(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Yc(t));for(var i=this._groups,o=i.length,a=new Array(o),u=0;u<o;++u)for(var c=i[u],l=c.length,h=a[u]=new Array(l),d,p,g=0;g<l;++g)(d=c[g])&&(p=t.call(d,d.__data__,g,c))&&("__data__"in d&&(p.__data__=d.__data__),h[g]=p,Ws(h[g],e,n,g,h,nn(d,n)));return new Dn(a,this._parents,e,n)}function n3(t){var e=this._name,n=this._id;typeof t!="function"&&(t=u0(t));for(var i=this._groups,o=i.length,a=[],u=[],c=0;c<o;++c)for(var l=i[c],h=l.length,d,p=0;p<h;++p)if(d=l[p]){for(var g=t.call(d,d.__data__,p,l),_,v=nn(d,n),w=0,b=g.length;w<b;++w)(_=g[w])&&Ws(_,e,n,w,g,v);a.push(g),u.push(d)}return new Dn(a,u,e,n)}var i3=Zo.prototype.constructor;function r3(){return new i3(this._groups,this._parents)}function o3(t,e){var n,i,o;return function(){var a=pr(this,t),u=(this.style.removeProperty(t),pr(this,t));return a===u?null:a===n&&u===i?o:o=e(n=a,i=u)}}function Z0(t){return function(){this.style.removeProperty(t)}}function a3(t,e,n){var i,o=n+"",a;return function(){var u=pr(this,t);return u===o?null:u===i?a:a=e(i=u,n)}}function s3(t,e,n){var i,o,a;return function(){var u=pr(this,t),c=n(this),l=c+"";return c==null&&(l=c=(this.style.removeProperty(t),pr(this,t))),u===l?null:u===i&&l===o?a:(o=l,a=e(i=u,c))}}function u3(t,e){var n,i,o,a="style."+e,u="end."+a,c;return function(){var l=vn(this,t),h=l.on,d=l.value[a]==null?c||(c=Z0(e)):void 0;(h!==n||o!==d)&&(i=(n=h).copy()).on(u,o=d),l.on=i}}function f3(t,e,n){var i=(t+="")=="transform"?u6:R0;return e==null?this.styleTween(t,o3(t,i)).on("end.style."+t,Z0(t)):typeof e=="function"?this.styleTween(t,s3(t,i,il(this,"style."+t,e))).each(u3(this._id,t)):this.styleTween(t,a3(t,i,e),n).on("end.style."+t,null)}function c3(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function l3(t,e,n){var i,o;function a(){var u=e.apply(this,arguments);return u!==o&&(i=(o=u)&&c3(t,u,n)),i}return a._value=e,a}function h3(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,l3(t,e,n??""))}function d3(t){return function(){this.textContent=t}}function m3(t){return function(){var e=t(this);this.textContent=e??""}}function p3(t){return this.tween("text",typeof t=="function"?m3(il(this,"text",t)):d3(t==null?"":t+""))}function g3(t){return function(e){this.textContent=t.call(this,e)}}function _3(t){var e,n;function i(){var o=t.apply(this,arguments);return o!==n&&(e=(n=o)&&g3(o)),e}return i._value=t,i}function y3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,_3(t))}function v3(){for(var t=this._name,e=this._id,n=F0(),i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],c=u.length,l,h=0;h<c;++h)if(l=u[h]){var d=nn(l,e);Ws(l,t,n,h,u,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Dn(i,this._parents,t,n)}function b3(){var t,e,n=this,i=n._id,o=n.size();return new Promise(function(a,u){var c={value:u},l={value:function(){--o===0&&a()}};n.each(function(){var h=vn(this,i),d=h.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(c),e._.interrupt.push(c),e._.end.push(l)),h.on=e}),o===0&&a()})}var w3=0;function Dn(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function F0(){return++w3}var Sn=Zo.prototype;Dn.prototype={constructor:Dn,select:e3,selectAll:n3,selectChild:Sn.selectChild,selectChildren:Sn.selectChildren,filter:G6,merge:X6,selection:r3,transition:v3,call:Sn.call,nodes:Sn.nodes,node:Sn.node,size:Sn.size,empty:Sn.empty,each:Sn.each,on:J6,attr:$6,attrTween:B6,style:f3,styleTween:h3,text:p3,textTween:y3,remove:t3,tween:L6,delay:Z6,duration:H6,ease:q6,easeVarying:Y6,end:b3,[Symbol.iterator]:Sn[Symbol.iterator]};function x3(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var M3={time:null,delay:0,duration:250,ease:x3};function T3(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function L3(t){var e,n;t instanceof Dn?(e=t._id,t=t._name):(e=F0(),(n=M3).time=el(),t=t==null?null:t+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var u=i[a],c=u.length,l,h=0;h<c;++h)(l=u[h])&&Ws(l,t,e,h,u,n||T3(l,e));return new Dn(i,this._parents,t,e)}Zo.prototype.interrupt=x6;Zo.prototype.transition=L3;const Qu=t=>()=>t;function S3(t,{sourceEvent:e,target:n,selection:i,mode:o,dispatch:a}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:o,enumerable:!0,configurable:!0},_:{value:a}})}function P3(t){t.stopImmediatePropagation()}function tf(t){t.preventDefault(),t.stopImmediatePropagation()}var bd={name:"drag"},ef={name:"space"},Ki={name:"handle"},Ji={name:"center"};const{abs:wd,max:ae,min:se}=Math;function xd(t){return[+t[0],+t[1]]}function Md(t){return[xd(t[0]),xd(t[1])]}var Wa={name:"x",handles:["w","e"].map(as),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},nf={name:"y",handles:["n","s"].map(as),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Pn={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Td={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Ld={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},k3={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},C3={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function as(t){return{type:t}}function A3(t){return!t.ctrlKey&&!t.button}function E3(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function $3(){return navigator.maxTouchPoints||"ontouchstart"in this}function rf(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function N3(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function z3(){return O3(Wa)}function O3(t){var e=E3,n=A3,i=$3,o=!0,a=Vc("start","brush","end"),u=6,c;function l(b){var T=b.property("__brush",w).selectAll(".overlay").data([as("overlay")]);T.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Pn.overlay).merge(T).each(function(){var S=rf(this).extent;xe(this).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1])}),b.selectAll(".selection").data([as("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Pn.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var M=b.selectAll(".handle").data(t.handles,function(S){return S.type});M.exit().remove(),M.enter().append("rect").attr("class",function(S){return"handle handle--"+S.type}).attr("cursor",function(S){return Pn[S.type]}),b.each(h).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(i).on("touchstart.brush",g).on("touchmove.brush",_).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(b,T,M){b.tween?b.on("start.brush",function(S){d(this,arguments).beforestart().start(S)}).on("interrupt.brush end.brush",function(S){d(this,arguments).end(S)}).tween("brush",function(){var S=this,P=S.__brush,k=d(S,arguments),A=P.selection,N=t.input(typeof T=="function"?T.apply(this,arguments):T,P.extent),I=Er(A,N);function $(O){P.selection=O===1&&N===null?null:I(O),h.call(S),k.brush()}return A!==null&&N!==null?$:$(1)}):b.each(function(){var S=this,P=arguments,k=S.__brush,A=t.input(typeof T=="function"?T.apply(S,P):T,k.extent),N=d(S,P).beforestart();Qf(S),k.selection=A===null?null:A,h.call(S),N.start(M).brush(M).end(M)})},l.clear=function(b,T){l.move(b,null,T)};function h(){var b=xe(this),T=rf(this).selection;T?(b.selectAll(".selection").style("display",null).attr("x",T[0][0]).attr("y",T[0][1]).attr("width",T[1][0]-T[0][0]).attr("height",T[1][1]-T[0][1]),b.selectAll(".handle").style("display",null).attr("x",function(M){return M.type[M.type.length-1]==="e"?T[1][0]-u/2:T[0][0]-u/2}).attr("y",function(M){return M.type[0]==="s"?T[1][1]-u/2:T[0][1]-u/2}).attr("width",function(M){return M.type==="n"||M.type==="s"?T[1][0]-T[0][0]+u:u}).attr("height",function(M){return M.type==="e"||M.type==="w"?T[1][1]-T[0][1]+u:u})):b.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(b,T,M){var S=b.__brush.emitter;return S&&(!M||!S.clean)?S:new p(b,T,M)}function p(b,T,M){this.that=b,this.args=T,this.state=b.__brush,this.active=0,this.clean=M}p.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(b,T){return this.starting?(this.starting=!1,this.emit("start",b,T)):this.emit("brush",b),this},brush:function(b,T){return this.emit("brush",b,T),this},end:function(b,T){return--this.active===0&&(delete this.state.emitter,this.emit("end",b,T)),this},emit:function(b,T,M){var S=xe(this.that).datum();a.call(b,this.that,new S3(b,{sourceEvent:T,target:l,selection:t.output(this.state.selection),mode:M,dispatch:a}),S)}};function g(b){if(c&&!b.touches||!n.apply(this,arguments))return;var T=this,M=b.target.__data__.type,S=(o&&b.metaKey?M="overlay":M)==="selection"?bd:o&&b.altKey?Ji:Ki,P=t===nf?null:k3[M],k=t===Wa?null:C3[M],A=rf(T),N=A.extent,I=A.selection,$=N[0][0],O,E,R=N[0][1],F,U,B=N[1][0],Y,Q,q=N[1][1],et,Z,W=0,X=0,K,st=P&&k&&o&&b.shiftKey,nt,J,j=Array.from(b.touches||[b],ct=>{const zt=ct.identifier;return ct=Uf(ct,T),ct.point0=ct.slice(),ct.identifier=zt,ct});Qf(T);var ft=d(T,arguments,!0).beforestart();if(M==="overlay"){I&&(K=!0);const ct=[j[0],j[1]||j[0]];A.selection=I=[[O=t===nf?$:se(ct[0][0],ct[1][0]),F=t===Wa?R:se(ct[0][1],ct[1][1])],[Y=t===nf?B:ae(ct[0][0],ct[1][0]),et=t===Wa?q:ae(ct[0][1],ct[1][1])]],j.length>1&&vt(b)}else O=I[0][0],F=I[0][1],Y=I[1][0],et=I[1][1];E=O,U=F,Q=Y,Z=et;var V=xe(T).attr("pointer-events","none"),tt=V.selectAll(".overlay").attr("cursor",Pn[M]);if(b.touches)ft.moved=H,ft.ended=dt;else{var at=xe(b.view).on("mousemove.brush",H,!0).on("mouseup.brush",dt,!0);o&&at.on("keydown.brush",At,!0).on("keyup.brush",Et,!0),$x(b.view)}h.call(T),ft.start(b,S.name);function H(ct){for(const zt of ct.changedTouches||[ct])for(const on of j)on.identifier===zt.identifier&&(on.cur=Uf(zt,T));if(st&&!nt&&!J&&j.length===1){const zt=j[0];wd(zt.cur[0]-zt[0])>wd(zt.cur[1]-zt[1])?J=!0:nt=!0}for(const zt of j)zt.cur&&(zt[0]=zt.cur[0],zt[1]=zt.cur[1]);K=!0,tf(ct),vt(ct)}function vt(ct){const zt=j[0],on=zt.point0;var we;switch(W=zt[0]-on[0],X=zt[1]-on[1],S){case ef:case bd:{P&&(W=ae($-O,se(B-Y,W)),E=O+W,Q=Y+W),k&&(X=ae(R-F,se(q-et,X)),U=F+X,Z=et+X);break}case Ki:{j[1]?(P&&(E=ae($,se(B,j[0][0])),Q=ae($,se(B,j[1][0])),P=1),k&&(U=ae(R,se(q,j[0][1])),Z=ae(R,se(q,j[1][1])),k=1)):(P<0?(W=ae($-O,se(B-O,W)),E=O+W,Q=Y):P>0&&(W=ae($-Y,se(B-Y,W)),E=O,Q=Y+W),k<0?(X=ae(R-F,se(q-F,X)),U=F+X,Z=et):k>0&&(X=ae(R-et,se(q-et,X)),U=F,Z=et+X));break}case Ji:{P&&(E=ae($,se(B,O-W*P)),Q=ae($,se(B,Y+W*P))),k&&(U=ae(R,se(q,F-X*k)),Z=ae(R,se(q,et+X*k)));break}}Q<E&&(P*=-1,we=O,O=Y,Y=we,we=E,E=Q,Q=we,M in Td&&tt.attr("cursor",Pn[M=Td[M]])),Z<U&&(k*=-1,we=F,F=et,et=we,we=U,U=Z,Z=we,M in Ld&&tt.attr("cursor",Pn[M=Ld[M]])),A.selection&&(I=A.selection),nt&&(E=I[0][0],Q=I[1][0]),J&&(U=I[0][1],Z=I[1][1]),(I[0][0]!==E||I[0][1]!==U||I[1][0]!==Q||I[1][1]!==Z)&&(A.selection=[[E,U],[Q,Z]],h.call(T),ft.brush(ct,S.name))}function dt(ct){if(P3(ct),ct.touches){if(ct.touches.length)return;c&&clearTimeout(c),c=setTimeout(function(){c=null},500)}else Nx(ct.view,K),at.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);V.attr("pointer-events","all"),tt.attr("cursor",Pn.overlay),A.selection&&(I=A.selection),N3(I)&&(A.selection=null,h.call(T)),ft.end(ct,S.name)}function At(ct){switch(ct.keyCode){case 16:{st=P&&k;break}case 18:{S===Ki&&(P&&(Y=Q-W*P,O=E+W*P),k&&(et=Z-X*k,F=U+X*k),S=Ji,vt(ct));break}case 32:{(S===Ki||S===Ji)&&(P<0?Y=Q-W:P>0&&(O=E-W),k<0?et=Z-X:k>0&&(F=U-X),S=ef,tt.attr("cursor",Pn.selection),vt(ct));break}default:return}tf(ct)}function Et(ct){switch(ct.keyCode){case 16:{st&&(nt=J=st=!1,vt(ct));break}case 18:{S===Ji&&(P<0?Y=Q:P>0&&(O=E),k<0?et=Z:k>0&&(F=U),S=Ki,vt(ct));break}case 32:{S===ef&&(ct.altKey?(P&&(Y=Q-W*P,O=E+W*P),k&&(et=Z-X*k,F=U+X*k),S=Ji):(P<0?Y=Q:P>0&&(O=E),k<0?et=Z:k>0&&(F=U),S=Ki),tt.attr("cursor",Pn[M]),vt(ct));break}default:return}tf(ct)}}function _(b){d(this,arguments).moved(b)}function v(b){d(this,arguments).ended(b)}function w(){var b=this.__brush||{selection:null};return b.extent=Md(e.apply(this,arguments)),b.dim=t,b}return l.extent=function(b){return arguments.length?(e=typeof b=="function"?b:Qu(Md(b)),l):e},l.filter=function(b){return arguments.length?(n=typeof b=="function"?b:Qu(!!b),l):n},l.touchable=function(b){return arguments.length?(i=typeof b=="function"?b:Qu(!!b),l):i},l.handleSize=function(b){return arguments.length?(u=+b,l):u},l.keyModifiers=function(b){return arguments.length?(o=!!b,l):o},l.on=function(){var b=a.on.apply(a,arguments);return b===a?l:b},l}const tc=Math.PI,ec=2*tc,li=1e-6,I3=ec-li;function U0(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function B3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return U0;const n=10**e;return function(i){this._+=i[0];for(let o=1,a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}class D3{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?U0:B3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,i,o){this._append`Q${+e},${+n},${this._x1=+i},${this._y1=+o}`}bezierCurveTo(e,n,i,o,a,u){this._append`C${+e},${+n},${+i},${+o},${this._x1=+a},${this._y1=+u}`}arcTo(e,n,i,o,a){if(e=+e,n=+n,i=+i,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let u=this._x1,c=this._y1,l=i-e,h=o-n,d=u-e,p=c-n,g=d*d+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>li)if(!(Math.abs(p*l-h*d)>li)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let _=i-u,v=o-c,w=l*l+h*h,b=_*_+v*v,T=Math.sqrt(w),M=Math.sqrt(g),S=a*Math.tan((tc-Math.acos((w+g-b)/(2*T*M)))/2),P=S/M,k=S/T;Math.abs(P-1)>li&&this._append`L${e+P*d},${n+P*p}`,this._append`A${a},${a},0,0,${+(p*_>d*v)},${this._x1=e+k*l},${this._y1=n+k*h}`}}arc(e,n,i,o,a,u){if(e=+e,n=+n,i=+i,u=!!u,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(o),l=i*Math.sin(o),h=e+c,d=n+l,p=1^u,g=u?o-a:a-o;this._x1===null?this._append`M${h},${d}`:(Math.abs(this._x1-h)>li||Math.abs(this._y1-d)>li)&&this._append`L${h},${d}`,i&&(g<0&&(g=g%ec+ec),g>I3?this._append`A${i},${i},0,1,${p},${e-c},${n-l}A${i},${i},0,1,${p},${this._x1=h},${this._y1=d}`:g>li&&this._append`A${i},${i},0,${+(g>=tc)},${p},${this._x1=e+i*Math.cos(a)},${this._y1=n+i*Math.sin(a)}`)}rect(e,n,i,o){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${i=+i}v${+o}h${-i}Z`}toString(){return this._}}function nc(t=3){return new D3(+t)}function R3(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ss(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function yr(t){return t=ss(Math.abs(t)),t?t[1]:NaN}function Z3(t,e){return function(n,i){for(var o=n.length,a=[],u=0,c=t[0],l=0;o>0&&c>0&&(l+c+1>i&&(c=Math.max(1,i-l)),a.push(n.substring(o-=c,o+c)),!((l+=c+1)>i));)c=t[u=(u+1)%t.length];return a.reverse().join(e)}}function F3(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var U3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function So(t){if(!(e=U3.exec(t)))throw new Error("invalid format: "+t);var e;return new rl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}So.prototype=rl.prototype;function rl(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}rl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function H3(t){t:for(var e=t.length,n=1,i=-1,o;n<e;++n)switch(t[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+t[n])break t;i>0&&(i=0);break}return i>0?t.slice(0,i)+t.slice(o+1):t}var H0;function W3(t,e){var n=ss(t,e);if(!n)return t+"";var i=n[0],o=n[1],a=o-(H0=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+ss(t,Math.max(0,e+a-1))[0]}function Sd(t,e){var n=ss(t,e);if(!n)return t+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const Pd={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:R3,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Sd(t*100,e),r:Sd,s:W3,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kd(t){return t}var Cd=Array.prototype.map,Ad=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function q3(t){var e=t.grouping===void 0||t.thousands===void 0?kd:Z3(Cd.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",i=t.currency===void 0?"":t.currency[1]+"",o=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?kd:F3(Cd.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function h(p){p=So(p);var g=p.fill,_=p.align,v=p.sign,w=p.symbol,b=p.zero,T=p.width,M=p.comma,S=p.precision,P=p.trim,k=p.type;k==="n"?(M=!0,k="g"):Pd[k]||(S===void 0&&(S=12),P=!0,k="g"),(b||g==="0"&&_==="=")&&(b=!0,g="0",_="=");var A=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",N=w==="$"?i:/[%p]/.test(k)?u:"",I=Pd[k],$=/[defgprs%]/.test(k);S=S===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function O(E){var R=A,F=N,U,B,Y;if(k==="c")F=I(E)+F,E="";else{E=+E;var Q=E<0||1/E<0;if(E=isNaN(E)?l:I(Math.abs(E),S),P&&(E=H3(E)),Q&&+E==0&&v!=="+"&&(Q=!1),R=(Q?v==="("?v:c:v==="-"||v==="("?"":v)+R,F=(k==="s"?Ad[8+H0/3]:"")+F+(Q&&v==="("?")":""),$){for(U=-1,B=E.length;++U<B;)if(Y=E.charCodeAt(U),48>Y||Y>57){F=(Y===46?o+E.slice(U+1):E.slice(U))+F,E=E.slice(0,U);break}}}M&&!b&&(E=e(E,1/0));var q=R.length+E.length+F.length,et=q<T?new Array(T-q+1).join(g):"";switch(M&&b&&(E=e(et+E,et.length?T-F.length:1/0),et=""),_){case"<":E=R+E+F+et;break;case"=":E=R+et+E+F;break;case"^":E=et.slice(0,q=et.length>>1)+R+E+F+et.slice(q);break;default:E=et+R+E+F;break}return a(E)}return O.toString=function(){return p+""},O}function d(p,g){var _=h((p=So(p),p.type="f",p)),v=Math.max(-8,Math.min(8,Math.floor(yr(g)/3)))*3,w=Math.pow(10,-v),b=Ad[8+v/3];return function(T){return _(w*T)+b}}return{format:h,formatPrefix:d}}var La,ze,W0;V3({thousands:",",grouping:[3],currency:["$",""]});function V3(t){return La=q3(t),ze=La.format,W0=La.formatPrefix,La}function Y3(t){return Math.max(0,-yr(Math.abs(t)))}function G3(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yr(e)/3)))*3-yr(Math.abs(t)))}function X3(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yr(e)-yr(t))+1}var bt=1e-6,q0=1e-12,Lt=Math.PI,Ut=Lt/2,Ed=Lt/4,Pe=Lt*2,le=180/Lt,Zt=Lt/180,Ot=Math.abs,$r=Math.atan,Rn=Math.atan2,Mt=Math.cos,V0=Math.exp,us=Math.log,of=Math.pow,yt=Math.sin,Oe=Math.sign||function(t){return t>0?1:t<0?-1:0},ye=Math.sqrt,ol=Math.tan;function Y0(t){return t>1?0:t<-1?Lt:Math.acos(t)}function Ze(t){return t>1?Ut:t<-1?-Ut:Math.asin(t)}function Ie(){}function fs(t,e){t&&Nd.hasOwnProperty(t.type)&&Nd[t.type](t,e)}var $d={Feature:function(t,e){fs(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,o=n.length;++i<o;)fs(n[i].geometry,e)}},Nd={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){ic(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)ic(n[i],e,0)},Polygon:function(t,e){zd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,o=n.length;++i<o;)zd(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,o=n.length;++i<o;)fs(n[i],e)}};function ic(t,e,n){var i=-1,o=t.length-n,a;for(e.lineStart();++i<o;)a=t[i],e.point(a[0],a[1],a[2]);e.lineEnd()}function zd(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)ic(t[n],e,1);e.polygonEnd()}function hi(t,e){t&&$d.hasOwnProperty(t.type)?$d[t.type](t,e):fs(t,e)}function rc(t){return[Rn(t[1],t[0]),Ze(t[2])]}function vr(t){var e=t[0],n=t[1],i=Mt(n);return[i*Mt(e),i*yt(e),yt(n)]}function Sa(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function cs(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function af(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Pa(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function oc(t){var e=ye(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ac(t,e){function n(i,o){return i=t(i,o),e(i[0],i[1])}return t.invert&&e.invert&&(n.invert=function(i,o){return i=e.invert(i,o),i&&t.invert(i[0],i[1])}),n}function sc(t,e){return Ot(t)>Lt&&(t-=Math.round(t/Pe)*Pe),[t,e]}sc.invert=sc;function G0(t,e,n){return(t%=Pe)?e||n?ac(Id(t),Bd(e,n)):Id(t):e||n?Bd(e,n):sc}function Od(t){return function(e,n){return e+=t,Ot(e)>Lt&&(e-=Math.round(e/Pe)*Pe),[e,n]}}function Id(t){var e=Od(t);return e.invert=Od(-t),e}function Bd(t,e){var n=Mt(t),i=yt(t),o=Mt(e),a=yt(e);function u(c,l){var h=Mt(l),d=Mt(c)*h,p=yt(c)*h,g=yt(l),_=g*n+d*i;return[Rn(p*o-_*a,d*n-g*i),Ze(_*o+p*a)]}return u.invert=function(c,l){var h=Mt(l),d=Mt(c)*h,p=yt(c)*h,g=yt(l),_=g*o-p*a;return[Rn(p*o+g*a,d*n+_*i),Ze(_*n-d*i)]},u}function j3(t){t=G0(t[0]*Zt,t[1]*Zt,t.length>2?t[2]*Zt:0);function e(n){return n=t(n[0]*Zt,n[1]*Zt),n[0]*=le,n[1]*=le,n}return e.invert=function(n){return n=t.invert(n[0]*Zt,n[1]*Zt),n[0]*=le,n[1]*=le,n},e}function K3(t,e,n,i,o,a){if(n){var u=Mt(e),c=yt(e),l=i*n;o==null?(o=e+i*Pe,a=e-l/2):(o=Dd(u,o),a=Dd(u,a),(i>0?o<a:o>a)&&(o+=i*Pe));for(var h,d=o;i>0?d>a:d<a;d-=l)h=rc([u,-c*Mt(d),-c*yt(d)]),t.point(h[0],h[1])}}function Dd(t,e){e=vr(e),e[0]-=t,oc(e);var n=Y0(-e[1]);return((-e[2]<0?-n:n)+Pe-bt)%Pe}function X0(){var t=[],e;return{point:function(n,i,o){e.push([n,i,o])},lineStart:function(){t.push(e=[])},lineEnd:Ie,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function qa(t,e){return Ot(t[0]-e[0])<bt&&Ot(t[1]-e[1])<bt}function ka(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function j0(t,e,n,i,o){var a=[],u=[],c,l;if(t.forEach(function(v){if(!((w=v.length-1)<=0)){var w,b=v[0],T=v[w],M;if(qa(b,T)){if(!b[2]&&!T[2]){for(o.lineStart(),c=0;c<w;++c)o.point((b=v[c])[0],b[1]);o.lineEnd();return}T[0]+=2*bt}a.push(M=new ka(b,v,null,!0)),u.push(M.o=new ka(b,null,M,!1)),a.push(M=new ka(T,v,null,!1)),u.push(M.o=new ka(T,null,M,!0))}}),!!a.length){for(u.sort(e),Rd(a),Rd(u),c=0,l=u.length;c<l;++c)u[c].e=n=!n;for(var h=a[0],d,p;;){for(var g=h,_=!0;g.v;)if((g=g.n)===h)return;d=g.z,o.lineStart();do{if(g.v=g.o.v=!0,g.e){if(_)for(c=0,l=d.length;c<l;++c)o.point((p=d[c])[0],p[1]);else i(g.x,g.n.x,1,o);g=g.n}else{if(_)for(d=g.p.z,c=d.length-1;c>=0;--c)o.point((p=d[c])[0],p[1]);else i(g.x,g.p.x,-1,o);g=g.p}g=g.o,d=g.z,_=!_}while(!g.v);o.lineEnd()}}}function Rd(t){if(e=t.length){for(var e,n=0,i=t[0],o;++n<e;)i.n=o=t[n],o.p=i,i=o;i.n=o=t[0],o.p=i}}function sf(t){return Ot(t[0])<=Lt?t[0]:Oe(t[0])*((Ot(t[0])+Lt)%Pe-Lt)}function J3(t,e){var n=sf(e),i=e[1],o=yt(i),a=[yt(n),-Mt(n),0],u=0,c=0,l=new Mi;o===1?i=Ut+bt:o===-1&&(i=-Ut-bt);for(var h=0,d=t.length;h<d;++h)if(g=(p=t[h]).length)for(var p,g,_=p[g-1],v=sf(_),w=_[1]/2+Ed,b=yt(w),T=Mt(w),M=0;M<g;++M,v=P,b=A,T=N,_=S){var S=p[M],P=sf(S),k=S[1]/2+Ed,A=yt(k),N=Mt(k),I=P-v,$=I>=0?1:-1,O=$*I,E=O>Lt,R=b*A;if(l.add(Rn(R*$*yt(O),T*N+R*Mt(O))),u+=E?I+$*Pe:I,E^v>=n^P>=n){var F=cs(vr(_),vr(S));oc(F);var U=cs(a,F);oc(U);var B=(E^I>=0?-1:1)*Ze(U[2]);(i>B||i===B&&(F[0]||F[1]))&&(c+=E^I>=0?1:-1)}}return(u<-bt||u<bt&&l<-q0)^c&1}function K0(t,e,n,i){return function(o){var a=e(o),u=X0(),c=e(u),l=!1,h,d,p,g={point:_,lineStart:w,lineEnd:b,polygonStart:function(){g.point=T,g.lineStart=M,g.lineEnd=S,d=[],h=[]},polygonEnd:function(){g.point=_,g.lineStart=w,g.lineEnd=b,d=o0(d);var P=J3(h,i);d.length?(l||(o.polygonStart(),l=!0),j0(d,t5,P,n,o)):P&&(l||(o.polygonStart(),l=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),l&&(o.polygonEnd(),l=!1),d=h=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function _(P,k){t(P,k)&&o.point(P,k)}function v(P,k){a.point(P,k)}function w(){g.point=v,a.lineStart()}function b(){g.point=_,a.lineEnd()}function T(P,k){p.push([P,k]),c.point(P,k)}function M(){c.lineStart(),p=[]}function S(){T(p[0][0],p[0][1]),c.lineEnd();var P=c.clean(),k=u.result(),A,N=k.length,I,$,O;if(p.pop(),h.push(p),p=null,!!N){if(P&1){if($=k[0],(I=$.length-1)>0){for(l||(o.polygonStart(),l=!0),o.lineStart(),A=0;A<I;++A)o.point((O=$[A])[0],O[1]);o.lineEnd()}return}N>1&&P&2&&k.push(k.pop().concat(k.shift())),d.push(k.filter(Q3))}}return g}}function Q3(t){return t.length>1}function t5(t,e){return((t=t.x)[0]<0?t[1]-Ut-bt:Ut-t[1])-((e=e.x)[0]<0?e[1]-Ut-bt:Ut-e[1])}const Zd=K0(function(){return!0},e5,i5,[-Lt,-Ut]);function e5(t){var e=NaN,n=NaN,i=NaN,o;return{lineStart:function(){t.lineStart(),o=1},point:function(a,u){var c=a>0?Lt:-Lt,l=Ot(a-e);Ot(l-Lt)<bt?(t.point(e,n=(n+u)/2>0?Ut:-Ut),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(c,n),t.point(a,n),o=0):i!==c&&l>=Lt&&(Ot(e-i)<bt&&(e-=i*bt),Ot(a-c)<bt&&(a-=c*bt),n=n5(e,n,a,u),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(c,n),o=0),t.point(e=a,n=u),i=c},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-o}}}function n5(t,e,n,i){var o,a,u=yt(t-n);return Ot(u)>bt?$r((yt(e)*(a=Mt(i))*yt(n)-yt(i)*(o=Mt(e))*yt(t))/(o*a*u)):(e+i)/2}function i5(t,e,n,i){var o;if(t==null)o=n*Ut,i.point(-Lt,o),i.point(0,o),i.point(Lt,o),i.point(Lt,0),i.point(Lt,-o),i.point(0,-o),i.point(-Lt,-o),i.point(-Lt,0),i.point(-Lt,o);else if(Ot(t[0]-e[0])>bt){var a=t[0]<e[0]?Lt:-Lt;o=n*a/2,i.point(-a,o),i.point(0,o),i.point(a,o)}else i.point(e[0],e[1])}function r5(t){var e=Mt(t),n=6*Zt,i=e>0,o=Ot(e)>bt;function a(d,p,g,_){K3(_,t,n,g,d,p)}function u(d,p){return Mt(d)*Mt(p)>e}function c(d){var p,g,_,v,w;return{lineStart:function(){v=_=!1,w=1},point:function(b,T){var M=[b,T],S,P=u(b,T),k=i?P?0:h(b,T):P?h(b+(b<0?Lt:-Lt),T):0;if(!p&&(v=_=P)&&d.lineStart(),P!==_&&(S=l(p,M),(!S||qa(p,S)||qa(M,S))&&(M[2]=1)),P!==_)w=0,P?(d.lineStart(),S=l(M,p),d.point(S[0],S[1])):(S=l(p,M),d.point(S[0],S[1],2),d.lineEnd()),p=S;else if(o&&p&&i^P){var A;!(k&g)&&(A=l(M,p,!0))&&(w=0,i?(d.lineStart(),d.point(A[0][0],A[0][1]),d.point(A[1][0],A[1][1]),d.lineEnd()):(d.point(A[1][0],A[1][1]),d.lineEnd(),d.lineStart(),d.point(A[0][0],A[0][1],3)))}P&&(!p||!qa(p,M))&&d.point(M[0],M[1]),p=M,_=P,g=k},lineEnd:function(){_&&d.lineEnd(),p=null},clean:function(){return w|(v&&_)<<1}}}function l(d,p,g){var _=vr(d),v=vr(p),w=[1,0,0],b=cs(_,v),T=Sa(b,b),M=b[0],S=T-M*M;if(!S)return!g&&d;var P=e*T/S,k=-e*M/S,A=cs(w,b),N=Pa(w,P),I=Pa(b,k);af(N,I);var $=A,O=Sa(N,$),E=Sa($,$),R=O*O-E*(Sa(N,N)-1);if(!(R<0)){var F=ye(R),U=Pa($,(-O-F)/E);if(af(U,N),U=rc(U),!g)return U;var B=d[0],Y=p[0],Q=d[1],q=p[1],et;Y<B&&(et=B,B=Y,Y=et);var Z=Y-B,W=Ot(Z-Lt)<bt,X=W||Z<bt;if(!W&&q<Q&&(et=Q,Q=q,q=et),X?W?Q+q>0^U[1]<(Ot(U[0]-B)<bt?Q:q):Q<=U[1]&&U[1]<=q:Z>Lt^(B<=U[0]&&U[0]<=Y)){var K=Pa($,(-O+F)/E);return af(K,N),[U,rc(K)]}}}function h(d,p){var g=i?t:Lt-t,_=0;return d<-g?_|=1:d>g&&(_|=2),p<-g?_|=4:p>g&&(_|=8),_}return K0(u,c,a,i?[0,-t]:[-Lt,t-Lt])}function o5(t,e,n,i,o,a){var u=t[0],c=t[1],l=e[0],h=e[1],d=0,p=1,g=l-u,_=h-c,v;if(v=n-u,!(!g&&v>0)){if(v/=g,g<0){if(v<d)return;v<p&&(p=v)}else if(g>0){if(v>p)return;v>d&&(d=v)}if(v=o-u,!(!g&&v<0)){if(v/=g,g<0){if(v>p)return;v>d&&(d=v)}else if(g>0){if(v<d)return;v<p&&(p=v)}if(v=i-c,!(!_&&v>0)){if(v/=_,_<0){if(v<d)return;v<p&&(p=v)}else if(_>0){if(v>p)return;v>d&&(d=v)}if(v=a-c,!(!_&&v<0)){if(v/=_,_<0){if(v>p)return;v>d&&(d=v)}else if(_>0){if(v<d)return;v<p&&(p=v)}return d>0&&(t[0]=u+d*g,t[1]=c+d*_),p<1&&(e[0]=u+p*g,e[1]=c+p*_),!0}}}}}var so=1e9,Ca=-so;function J0(t,e,n,i){function o(h,d){return t<=h&&h<=n&&e<=d&&d<=i}function a(h,d,p,g){var _=0,v=0;if(h==null||(_=u(h,p))!==(v=u(d,p))||l(h,d)<0^p>0)do g.point(_===0||_===3?t:n,_>1?i:e);while((_=(_+p+4)%4)!==v);else g.point(d[0],d[1])}function u(h,d){return Ot(h[0]-t)<bt?d>0?0:3:Ot(h[0]-n)<bt?d>0?2:1:Ot(h[1]-e)<bt?d>0?1:0:d>0?3:2}function c(h,d){return l(h.x,d.x)}function l(h,d){var p=u(h,1),g=u(d,1);return p!==g?p-g:p===0?d[1]-h[1]:p===1?h[0]-d[0]:p===2?h[1]-d[1]:d[0]-h[0]}return function(h){var d=h,p=X0(),g,_,v,w,b,T,M,S,P,k,A,N={point:I,lineStart:R,lineEnd:F,polygonStart:O,polygonEnd:E};function I(B,Y){o(B,Y)&&d.point(B,Y)}function $(){for(var B=0,Y=0,Q=_.length;Y<Q;++Y)for(var q=_[Y],et=1,Z=q.length,W=q[0],X,K,st=W[0],nt=W[1];et<Z;++et)X=st,K=nt,W=q[et],st=W[0],nt=W[1],K<=i?nt>i&&(st-X)*(i-K)>(nt-K)*(t-X)&&++B:nt<=i&&(st-X)*(i-K)<(nt-K)*(t-X)&&--B;return B}function O(){d=p,g=[],_=[],A=!0}function E(){var B=$(),Y=A&&B,Q=(g=o0(g)).length;(Y||Q)&&(h.polygonStart(),Y&&(h.lineStart(),a(null,null,1,h),h.lineEnd()),Q&&j0(g,c,B,a,h),h.polygonEnd()),d=h,g=_=v=null}function R(){N.point=U,_&&_.push(v=[]),k=!0,P=!1,M=S=NaN}function F(){g&&(U(w,b),T&&P&&p.rejoin(),g.push(p.result())),N.point=I,P&&d.lineEnd()}function U(B,Y){var Q=o(B,Y);if(_&&v.push([B,Y]),k)w=B,b=Y,T=Q,k=!1,Q&&(d.lineStart(),d.point(B,Y));else if(Q&&P)d.point(B,Y);else{var q=[M=Math.max(Ca,Math.min(so,M)),S=Math.max(Ca,Math.min(so,S))],et=[B=Math.max(Ca,Math.min(so,B)),Y=Math.max(Ca,Math.min(so,Y))];o5(q,et,t,e,n,i)?(P||(d.lineStart(),d.point(q[0],q[1])),d.point(et[0],et[1]),Q||d.lineEnd(),A=!1):Q&&(d.lineStart(),d.point(B,Y),A=!1)}M=B,S=Y,P=Q}return N}}const uc=t=>t;var uf=new Mi,fc=new Mi,Q0,tg,cc,lc,Xn={point:Ie,lineStart:Ie,lineEnd:Ie,polygonStart:function(){Xn.lineStart=a5,Xn.lineEnd=u5},polygonEnd:function(){Xn.lineStart=Xn.lineEnd=Xn.point=Ie,uf.add(Ot(fc)),fc=new Mi},result:function(){var t=uf/2;return uf=new Mi,t}};function a5(){Xn.point=s5}function s5(t,e){Xn.point=eg,Q0=cc=t,tg=lc=e}function eg(t,e){fc.add(lc*t-cc*e),cc=t,lc=e}function u5(){eg(Q0,tg)}const Fd=Xn;var br=1/0,ls=br,Po=-br,hs=Po,f5={point:c5,lineStart:Ie,lineEnd:Ie,polygonStart:Ie,polygonEnd:Ie,result:function(){var t=[[br,ls],[Po,hs]];return Po=hs=-(ls=br=1/0),t}};function c5(t,e){t<br&&(br=t),t>Po&&(Po=t),e<ls&&(ls=e),e>hs&&(hs=e)}const ds=f5;var hc=0,dc=0,uo=0,ms=0,ps=0,rr=0,mc=0,pc=0,fo=0,ng,ig,ln,hn,Ge={point:Ci,lineStart:Ud,lineEnd:Hd,polygonStart:function(){Ge.lineStart=d5,Ge.lineEnd=m5},polygonEnd:function(){Ge.point=Ci,Ge.lineStart=Ud,Ge.lineEnd=Hd},result:function(){var t=fo?[mc/fo,pc/fo]:rr?[ms/rr,ps/rr]:uo?[hc/uo,dc/uo]:[NaN,NaN];return hc=dc=uo=ms=ps=rr=mc=pc=fo=0,t}};function Ci(t,e){hc+=t,dc+=e,++uo}function Ud(){Ge.point=l5}function l5(t,e){Ge.point=h5,Ci(ln=t,hn=e)}function h5(t,e){var n=t-ln,i=e-hn,o=ye(n*n+i*i);ms+=o*(ln+t)/2,ps+=o*(hn+e)/2,rr+=o,Ci(ln=t,hn=e)}function Hd(){Ge.point=Ci}function d5(){Ge.point=p5}function m5(){rg(ng,ig)}function p5(t,e){Ge.point=rg,Ci(ng=ln=t,ig=hn=e)}function rg(t,e){var n=t-ln,i=e-hn,o=ye(n*n+i*i);ms+=o*(ln+t)/2,ps+=o*(hn+e)/2,rr+=o,o=hn*t-ln*e,mc+=o*(ln+t),pc+=o*(hn+e),fo+=o*3,Ci(ln=t,hn=e)}const Wd=Ge;function og(t){this._context=t}og.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Pe);break}}},result:Ie};var gc=new Mi,ff,ag,sg,co,lo,gs={point:Ie,lineStart:function(){gs.point=g5},lineEnd:function(){ff&&ug(ag,sg),gs.point=Ie},polygonStart:function(){ff=!0},polygonEnd:function(){ff=null},result:function(){var t=+gc;return gc=new Mi,t}};function g5(t,e){gs.point=ug,ag=co=t,sg=lo=e}function ug(t,e){co-=t,lo-=e,gc.add(ye(co*co+lo*lo)),co=t,lo=e}const qd=gs;let Vd,_s,Yd,Gd;class Xd{constructor(e){this._append=e==null?fg:_5(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==Yd||this._append!==_s){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Yd=i,_s=this._append,Gd=this._,this._=o}this._+=Gd;break}}}result(){const e=this._;return this._="",e.length?e:null}}function fg(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _5(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return fg;if(e!==Vd){const n=10**e;Vd=e,_s=function(o){let a=1;this._+=o[0];for(const u=o.length;a<u;++a)this._+=Math.round(arguments[a]*n)/n+o[a]}}return _s}function cg(t,e){let n=3,i=4.5,o,a;function u(c){return c&&(typeof i=="function"&&a.pointRadius(+i.apply(this,arguments)),hi(c,o(a))),a.result()}return u.area=function(c){return hi(c,o(Fd)),Fd.result()},u.measure=function(c){return hi(c,o(qd)),qd.result()},u.bounds=function(c){return hi(c,o(ds)),ds.result()},u.centroid=function(c){return hi(c,o(Wd)),Wd.result()},u.projection=function(c){return arguments.length?(o=c==null?(t=null,uc):(t=c).stream,u):t},u.context=function(c){return arguments.length?(a=c==null?(e=null,new Xd(n)):new og(e=c),typeof i!="function"&&a.pointRadius(i),u):e},u.pointRadius=function(c){return arguments.length?(i=typeof c=="function"?c:(a.pointRadius(+c),+c),u):i},u.digits=function(c){if(!arguments.length)return n;if(c==null)n=null;else{const l=Math.floor(c);if(!(l>=0))throw new RangeError(`invalid digits: ${c}`);n=l}return e===null&&(a=new Xd(n)),u},u.projection(t).digits(n).context(e)}function _c(t){return{stream:qs(t)}}function qs(t){return function(e){var n=new yc;for(var i in t)n[i]=t[i];return n.stream=e,n}}function yc(){}yc.prototype={constructor:yc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function al(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),hi(n,t.stream(ds)),e(ds.result()),i!=null&&t.clipExtent(i),t}function sl(t,e,n){return al(t,function(i){var o=e[1][0]-e[0][0],a=e[1][1]-e[0][1],u=Math.min(o/(i[1][0]-i[0][0]),a/(i[1][1]-i[0][1])),c=+e[0][0]+(o-u*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(a-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([c,l])},n)}function lg(t,e,n){return sl(t,[[0,0],e],n)}function hg(t,e,n){return al(t,function(i){var o=+e,a=o/(i[1][0]-i[0][0]),u=(o-a*(i[1][0]+i[0][0]))/2,c=-a*i[0][1];t.scale(150*a).translate([u,c])},n)}function dg(t,e,n){return al(t,function(i){var o=+e,a=o/(i[1][1]-i[0][1]),u=-a*i[0][0],c=(o-a*(i[1][1]+i[0][1]))/2;t.scale(150*a).translate([u,c])},n)}var jd=16,y5=Mt(30*Zt);function Kd(t,e){return+e?b5(t,e):v5(t)}function v5(t){return qs({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function b5(t,e){function n(i,o,a,u,c,l,h,d,p,g,_,v,w,b){var T=h-i,M=d-o,S=T*T+M*M;if(S>4*e&&w--){var P=u+g,k=c+_,A=l+v,N=ye(P*P+k*k+A*A),I=Ze(A/=N),$=Ot(Ot(A)-1)<bt||Ot(a-p)<bt?(a+p)/2:Rn(k,P),O=t($,I),E=O[0],R=O[1],F=E-i,U=R-o,B=M*F-T*U;(B*B/S>e||Ot((T*F+M*U)/S-.5)>.3||u*g+c*_+l*v<y5)&&(n(i,o,a,u,c,l,E,R,$,P/=N,k/=N,A,w,b),b.point(E,R),n(E,R,$,P,k,A,h,d,p,g,_,v,w,b))}}return function(i){var o,a,u,c,l,h,d,p,g,_,v,w,b={point:T,lineStart:M,lineEnd:P,polygonStart:function(){i.polygonStart(),b.lineStart=k},polygonEnd:function(){i.polygonEnd(),b.lineStart=M}};function T(I,$){I=t(I,$),i.point(I[0],I[1])}function M(){p=NaN,b.point=S,i.lineStart()}function S(I,$){var O=vr([I,$]),E=t(I,$);n(p,g,d,_,v,w,p=E[0],g=E[1],d=I,_=O[0],v=O[1],w=O[2],jd,i),i.point(p,g)}function P(){b.point=T,i.lineEnd()}function k(){M(),b.point=A,b.lineEnd=N}function A(I,$){S(o=I,$),a=p,u=g,c=_,l=v,h=w,b.point=S}function N(){n(p,g,d,_,v,w,a,u,o,c,l,h,jd,i),b.lineEnd=P,P()}return b}}var w5=qs({point:function(t,e){this.stream.point(t*Zt,e*Zt)}});function x5(t){return qs({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}function M5(t,e,n,i,o){function a(u,c){return u*=i,c*=o,[e+t*u,n-t*c]}return a.invert=function(u,c){return[(u-e)/t*i,(n-c)/t*o]},a}function Jd(t,e,n,i,o,a){if(!a)return M5(t,e,n,i,o);var u=Mt(a),c=yt(a),l=u*t,h=c*t,d=u/t,p=c/t,g=(c*n-u*e)/t,_=(c*e+u*n)/t;function v(w,b){return w*=i,b*=o,[l*w-h*b+e,n-h*w-l*b]}return v.invert=function(w,b){return[i*(d*w-p*b+g),o*(_-p*w-d*b)]},v}function ni(t){return mg(function(){return t})()}function mg(t){var e,n=150,i=480,o=250,a=0,u=0,c=0,l=0,h=0,d,p=0,g=1,_=1,v=null,w=Zd,b=null,T,M,S,P=uc,k=.5,A,N,I,$,O;function E(B){return I(B[0]*Zt,B[1]*Zt)}function R(B){return B=I.invert(B[0],B[1]),B&&[B[0]*le,B[1]*le]}E.stream=function(B){return $&&O===B?$:$=w5(x5(d)(w(A(P(O=B)))))},E.preclip=function(B){return arguments.length?(w=B,v=void 0,U()):w},E.postclip=function(B){return arguments.length?(P=B,b=T=M=S=null,U()):P},E.clipAngle=function(B){return arguments.length?(w=+B?r5(v=B*Zt):(v=null,Zd),U()):v*le},E.clipExtent=function(B){return arguments.length?(P=B==null?(b=T=M=S=null,uc):J0(b=+B[0][0],T=+B[0][1],M=+B[1][0],S=+B[1][1]),U()):b==null?null:[[b,T],[M,S]]},E.scale=function(B){return arguments.length?(n=+B,F()):n},E.translate=function(B){return arguments.length?(i=+B[0],o=+B[1],F()):[i,o]},E.center=function(B){return arguments.length?(a=B[0]%360*Zt,u=B[1]%360*Zt,F()):[a*le,u*le]},E.rotate=function(B){return arguments.length?(c=B[0]%360*Zt,l=B[1]%360*Zt,h=B.length>2?B[2]%360*Zt:0,F()):[c*le,l*le,h*le]},E.angle=function(B){return arguments.length?(p=B%360*Zt,F()):p*le},E.reflectX=function(B){return arguments.length?(g=B?-1:1,F()):g<0},E.reflectY=function(B){return arguments.length?(_=B?-1:1,F()):_<0},E.precision=function(B){return arguments.length?(A=Kd(N,k=B*B),U()):ye(k)},E.fitExtent=function(B,Y){return sl(E,B,Y)},E.fitSize=function(B,Y){return lg(E,B,Y)},E.fitWidth=function(B,Y){return hg(E,B,Y)},E.fitHeight=function(B,Y){return dg(E,B,Y)};function F(){var B=Jd(n,0,0,g,_,p).apply(null,e(a,u)),Y=Jd(n,i-B[0],o-B[1],g,_,p);return d=G0(c,l,h),N=ac(e,Y),I=ac(d,N),A=Kd(N,k),U()}function U(){return $=O=null,E}return function(){return e=t.apply(this,arguments),E.invert=e.invert&&R,F()}}function ul(t){var e=0,n=Lt/3,i=mg(t),o=i(e,n);return o.parallels=function(a){return arguments.length?i(e=a[0]*Zt,n=a[1]*Zt):[e*le,n*le]},o}function T5(t){var e=Mt(t);function n(i,o){return[i*e,yt(o)/e]}return n.invert=function(i,o){return[i/e,Ze(o*e)]},n}function L5(t,e){var n=yt(t),i=(n+yt(e))/2;if(Ot(i)<bt)return T5(t);var o=1+n*(2*i-n),a=ye(o)/i;function u(c,l){var h=ye(o-2*i*yt(l))/i;return[h*yt(c*=i),a-h*Mt(c)]}return u.invert=function(c,l){var h=a-l,d=Rn(c,Ot(h))*Oe(h);return h*i<0&&(d-=Lt*Oe(c)*Oe(h)),[d/i,Ze((o-(c*c+h*h)*i*i)/(2*i))]},u}function ys(){return ul(L5).scale(155.424).center([0,33.6442])}function pg(){return ys().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function S5(t){var e=t.length;return{point:function(n,i){for(var o=-1;++o<e;)t[o].point(n,i)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function P5(){var t,e,n=pg(),i,o=ys().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,u=ys().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c,l,h={point:function(g,_){l=[g,_]}};function d(g){var _=g[0],v=g[1];return l=null,i.point(_,v),l||(a.point(_,v),l)||(c.point(_,v),l)}d.invert=function(g){var _=n.scale(),v=n.translate(),w=(g[0]-v[0])/_,b=(g[1]-v[1])/_;return(b>=.12&&b<.234&&w>=-.425&&w<-.214?o:b>=.166&&b<.234&&w>=-.214&&w<-.115?u:n).invert(g)},d.stream=function(g){return t&&e===g?t:t=S5([n.stream(e=g),o.stream(g),u.stream(g)])},d.precision=function(g){return arguments.length?(n.precision(g),o.precision(g),u.precision(g),p()):n.precision()},d.scale=function(g){return arguments.length?(n.scale(g),o.scale(g*.35),u.scale(g),d.translate(n.translate())):n.scale()},d.translate=function(g){if(!arguments.length)return n.translate();var _=n.scale(),v=+g[0],w=+g[1];return i=n.translate(g).clipExtent([[v-.455*_,w-.238*_],[v+.455*_,w+.238*_]]).stream(h),a=o.translate([v-.307*_,w+.201*_]).clipExtent([[v-.425*_+bt,w+.12*_+bt],[v-.214*_-bt,w+.234*_-bt]]).stream(h),c=u.translate([v-.205*_,w+.212*_]).clipExtent([[v-.214*_+bt,w+.166*_+bt],[v-.115*_-bt,w+.234*_-bt]]).stream(h),p()},d.fitExtent=function(g,_){return sl(d,g,_)},d.fitSize=function(g,_){return lg(d,g,_)},d.fitWidth=function(g,_){return hg(d,g,_)},d.fitHeight=function(g,_){return dg(d,g,_)};function p(){return t=e=null,d}return d.scale(1070)}function gg(t){return function(e,n){var i=Mt(e),o=Mt(n),a=t(i*o);return a===1/0?[2,0]:[a*o*yt(e),a*yt(n)]}}function Uo(t){return function(e,n){var i=ye(e*e+n*n),o=t(i),a=yt(o),u=Mt(o);return[Rn(e*a,i*u),Ze(i&&n*a/i)]}}var _g=gg(function(t){return ye(2/(1+t))});_g.invert=Uo(function(t){return 2*Ze(t/2)});function k5(){return ni(_g).scale(124.75).clipAngle(180-.001)}var yg=gg(function(t){return(t=Y0(t))&&t/yt(t)});yg.invert=Uo(function(t){return t});function C5(){return ni(yg).scale(79.4188).clipAngle(180-.001)}function Vs(t,e){return[t,us(ol((Ut+e)/2))]}Vs.invert=function(t,e){return[t,2*$r(V0(e))-Ut]};function A5(){return vg(Vs).scale(961/Pe)}function vg(t){var e=ni(t),n=e.center,i=e.scale,o=e.translate,a=e.clipExtent,u=null,c,l,h;e.scale=function(p){return arguments.length?(i(p),d()):i()},e.translate=function(p){return arguments.length?(o(p),d()):o()},e.center=function(p){return arguments.length?(n(p),d()):n()},e.clipExtent=function(p){return arguments.length?(p==null?u=c=l=h=null:(u=+p[0][0],c=+p[0][1],l=+p[1][0],h=+p[1][1]),d()):u==null?null:[[u,c],[l,h]]};function d(){var p=Lt*i(),g=e(j3(e.rotate()).invert([0,0]));return a(u==null?[[g[0]-p,g[1]-p],[g[0]+p,g[1]+p]]:t===Vs?[[Math.max(g[0]-p,u),c],[Math.min(g[0]+p,l),h]]:[[u,Math.max(g[1]-p,c)],[l,Math.min(g[1]+p,h)]])}return d()}function Aa(t){return ol((Ut+t)/2)}function E5(t,e){var n=Mt(t),i=t===e?yt(t):us(n/Mt(e))/us(Aa(e)/Aa(t)),o=n*of(Aa(t),i)/i;if(!i)return Vs;function a(u,c){o>0?c<-Ut+bt&&(c=-Ut+bt):c>Ut-bt&&(c=Ut-bt);var l=o/of(Aa(c),i);return[l*yt(i*u),o-l*Mt(i*u)]}return a.invert=function(u,c){var l=o-c,h=Oe(i)*ye(u*u+l*l),d=Rn(u,Ot(l))*Oe(l);return l*i<0&&(d-=Lt*Oe(u)*Oe(l)),[d/i,2*$r(of(o/h,1/i))-Ut]},a}function $5(){return ul(E5).scale(109.5).parallels([30,30])}function vs(t,e){return[t,e]}vs.invert=vs;function N5(){return ni(vs).scale(152.63)}function z5(t,e){var n=Mt(t),i=t===e?yt(t):(n-Mt(e))/(e-t),o=n/i+t;if(Ot(i)<bt)return vs;function a(u,c){var l=o-c,h=i*u;return[l*yt(h),o-l*Mt(h)]}return a.invert=function(u,c){var l=o-c,h=Rn(u,Ot(l))*Oe(l);return l*i<0&&(h-=Lt*Oe(u)*Oe(l)),[h/i,o-Oe(i)*ye(u*u+l*l)]},a}function O5(){return ul(z5).scale(131.154).center([0,13.9389])}var po=1.340264,go=-.081106,_o=893e-6,yo=.003796,bs=ye(3)/2,I5=12;function bg(t,e){var n=Ze(bs*yt(e)),i=n*n,o=i*i*i;return[t*Mt(n)/(bs*(po+3*go*i+o*(7*_o+9*yo*i))),n*(po+go*i+o*(_o+yo*i))]}bg.invert=function(t,e){for(var n=e,i=n*n,o=i*i*i,a=0,u,c,l;a<I5&&(c=n*(po+go*i+o*(_o+yo*i))-e,l=po+3*go*i+o*(7*_o+9*yo*i),n-=u=c/l,i=n*n,o=i*i*i,!(Ot(u)<q0));++a);return[bs*t*(po+3*go*i+o*(7*_o+9*yo*i))/Mt(n),Ze(yt(n)/bs)]};function B5(){return ni(bg).scale(177.158)}function wg(t,e){var n=Mt(e),i=Mt(t)*n;return[n*yt(t)/i,yt(e)/i]}wg.invert=Uo($r);function D5(){return ni(wg).scale(144.049).clipAngle(60)}function xg(t,e){return[Mt(e)*yt(t),yt(e)]}xg.invert=Uo(Ze);function R5(){return ni(xg).scale(249.5).clipAngle(90+bt)}function Mg(t,e){var n=Mt(e),i=1+Mt(t)*n;return[n*yt(t)/i,yt(e)/i]}Mg.invert=Uo(function(t){return 2*$r(t)});function Z5(){return ni(Mg).scale(250).clipAngle(142)}function Tg(t,e){return[us(ol((Ut+e)/2)),-t]}Tg.invert=function(t,e){return[-e,2*$r(V0(t))-Ut]};function F5(){var t=vg(Tg),e=t.center,n=t.rotate;return t.center=function(i){return arguments.length?e([-i[1],i[0]]):(i=e(),[i[1],-i[0]])},t.rotate=function(i){return arguments.length?n([i[0],i[1],i.length>2?i[2]+90:90]):(i=n(),[i[0],i[1],i[2]-90])},n([0,0,90]).scale(159.155)}function bn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ys(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vc=Symbol("implicit");function fl(){var t=new Ti,e=[],n=[],i=vc;function o(a){let u=t.get(a);if(u===void 0){if(i!==vc)return i;t.set(a,u=e.push(a)-1)}return n[u%n.length]}return o.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Ti;for(const u of a)t.has(u)||t.set(u,e.push(u)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return fl(e,n).unknown(i)},bn.apply(o,arguments),o}function Gs(){var t=fl().unknown(void 0),e=t.domain,n=t.range,i=0,o=1,a,u,c=!1,l=0,h=0,d=.5;delete t.unknown;function p(){var g=e().length,_=o<i,v=_?o:i,w=_?i:o;a=(w-v)/Math.max(1,g-l+h*2),c&&(a=Math.floor(a)),v+=(w-v-a*(g-l))*d,u=a*(1-l),c&&(v=Math.round(v),u=Math.round(u));var b=Rf(g).map(function(T){return v+a*T});return n(_?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([i,o]=g,i=+i,o=+o,p()):[i,o]},t.rangeRound=function(g){return[i,o]=g,i=+i,o=+o,c=!0,p()},t.bandwidth=function(){return u},t.step=function(){return a},t.round=function(g){return arguments.length?(c=!!g,p()):c},t.padding=function(g){return arguments.length?(l=Math.min(1,h=+g),p()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),p()):l},t.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),p()):d},t.copy=function(){return Gs(e(),[i,o]).round(c).paddingInner(l).paddingOuter(h).align(d)},bn.apply(p(),arguments)}function Lg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Lg(e())},t}function U5(){return Lg(Gs.apply(null,arguments).paddingInner(1))}function H5(t){return function(){return t}}function bc(t){return+t}var Qd=[0,1];function Be(t){return t}function wc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:H5(isNaN(e)?NaN:.5)}function W5(t,e){var n;return t>e&&(n=t,t=e,e=n),function(i){return Math.max(t,Math.min(e,i))}}function q5(t,e,n){var i=t[0],o=t[1],a=e[0],u=e[1];return o<i?(i=wc(o,i),a=n(u,a)):(i=wc(i,o),a=n(a,u)),function(c){return a(i(c))}}function V5(t,e,n){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),u=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<i;)o[u]=wc(t[u],t[u+1]),a[u]=n(e[u],e[u+1]);return function(c){var l=Is(t,c,1,i)-1;return a[l](o[l](c))}}function Ho(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xs(){var t=Qd,e=Qd,n=Er,i,o,a,u=Be,c,l,h;function d(){var g=Math.min(t.length,e.length);return u!==Be&&(u=W5(t[0],t[g-1])),c=g>2?V5:q5,l=h=null,p}function p(g){return g==null||isNaN(g=+g)?a:(l||(l=c(t.map(i),e,n)))(i(u(g)))}return p.invert=function(g){return u(o((h||(h=c(e,t.map(i),ue)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,bc),d()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=Qc,d()},p.clamp=function(g){return arguments.length?(u=g?!0:Be,d()):u!==Be},p.interpolate=function(g){return arguments.length?(n=g,d()):n},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,_){return i=g,o=_,d()}}function Sg(){return Xs()(Be,Be)}function Y5(t,e,n,i){var o=Bf(t,e,n),a;switch(i=So(i??",f"),i.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(e));return i.precision==null&&!isNaN(a=G3(o,u))&&(i.precision=a),W0(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=X3(o,Math.max(Math.abs(t),Math.abs(e))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=Y3(o))&&(i.precision=a-(i.type==="%")*2);break}}return ze(i)}function Wo(t){var e=t.domain;return t.ticks=function(n){var i=e();return xo(i[0],i[i.length-1],n??10)},t.tickFormat=function(n,i){var o=e();return Y5(o[0],o[o.length-1],n??10,i)},t.nice=function(n){n==null&&(n=10);var i=e(),o=0,a=i.length-1,u=i[o],c=i[a],l,h,d=10;for(c<u&&(h=u,u=c,c=h,h=o,o=a,a=h);d-- >0;){if(h=dr(u,c,n),h===l)return i[o]=u,i[a]=c,e(i);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;l=h}return t},t}function ko(){var t=Sg();return t.copy=function(){return Ho(t,ko())},bn.apply(t,arguments),Wo(t)}function Pg(t){var e;function n(i){return i==null||isNaN(i=+i)?e:i}return n.invert=n,n.domain=n.range=function(i){return arguments.length?(t=Array.from(i,bc),n):t.slice()},n.unknown=function(i){return arguments.length?(e=i,n):e},n.copy=function(){return Pg(t).unknown(e)},t=arguments.length?Array.from(t,bc):[0,1],Wo(n)}function kg(t,e){t=t.slice();var n=0,i=t.length-1,o=t[n],a=t[i],u;return a<o&&(u=n,n=i,i=u,u=o,o=a,a=u),t[n]=e.floor(o),t[i]=e.ceil(a),t}function tm(t){return Math.log(t)}function em(t){return Math.exp(t)}function G5(t){return-Math.log(-t)}function X5(t){return-Math.exp(-t)}function j5(t){return isFinite(t)?+("1e"+t):t<0?0:t}function K5(t){return t===10?j5:t===Math.E?Math.exp:e=>Math.pow(t,e)}function J5(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function nm(t){return(e,n)=>-t(-e,n)}function Cg(t){const e=t(tm,em),n=e.domain;let i=10,o,a;function u(){return o=J5(i),a=K5(i),n()[0]<0?(o=nm(o),a=nm(a),t(G5,X5)):t(tm,em),e}return e.base=function(c){return arguments.length?(i=+c,u()):i},e.domain=function(c){return arguments.length?(n(c),u()):n()},e.ticks=c=>{const l=n();let h=l[0],d=l[l.length-1];const p=d<h;p&&([h,d]=[d,h]);let g=o(h),_=o(d),v,w;const b=c==null?10:+c;let T=[];if(!(i%1)&&_-g<b){if(g=Math.floor(g),_=Math.ceil(_),h>0){for(;g<=_;++g)for(v=1;v<i;++v)if(w=g<0?v/a(-g):v*a(g),!(w<h)){if(w>d)break;T.push(w)}}else for(;g<=_;++g)for(v=i-1;v>=1;--v)if(w=g>0?v/a(-g):v*a(g),!(w<h)){if(w>d)break;T.push(w)}T.length*2<b&&(T=xo(h,d,b))}else T=xo(g,_,Math.min(_-g,b)).map(a);return p?T.reverse():T},e.tickFormat=(c,l)=>{if(c==null&&(c=10),l==null&&(l=i===10?"s":","),typeof l!="function"&&(!(i%1)&&(l=So(l)).precision==null&&(l.trim=!0),l=ze(l)),c===1/0)return l;const h=Math.max(1,i*c/e.ticks().length);return d=>{let p=d/a(Math.round(o(d)));return p*i<i-.5&&(p*=i),p<=h?l(d):""}},e.nice=()=>n(kg(n(),{floor:c=>a(Math.floor(o(c))),ceil:c=>a(Math.ceil(o(c)))})),e}function Ag(){const t=Cg(Xs()).domain([1,10]);return t.copy=()=>Ho(t,Ag()).base(t.base()),bn.apply(t,arguments),t}function im(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rm(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Eg(t){var e=1,n=t(im(e),rm(e));return n.constant=function(i){return arguments.length?t(im(e=+i),rm(e)):e},Wo(n)}function $g(){var t=Eg(Xs());return t.copy=function(){return Ho(t,$g()).constant(t.constant())},bn.apply(t,arguments)}function om(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Q5(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function t8(t){return t<0?-t*t:t*t}function Ng(t){var e=t(Be,Be),n=1;function i(){return n===1?t(Be,Be):n===.5?t(Q5,t8):t(om(n),om(1/n))}return e.exponent=function(o){return arguments.length?(n=+o,i()):n},Wo(e)}function zg(){var t=Ng(Xs());return t.copy=function(){return Ho(t,zg()).exponent(t.exponent())},bn.apply(t,arguments),t}function Og(){var t=[],e=[],n=[],i;function o(){var u=0,c=Math.max(1,e.length);for(n=new Array(c-1);++u<c;)n[u-1]=Bw(t,u/c);return a}function a(u){return u==null||isNaN(u=+u)?i:e[Is(n,u)]}return a.invertExtent=function(u){var c=e.indexOf(u);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let c of u)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(_e),o()},a.range=function(u){return arguments.length?(e=Array.from(u),o()):e.slice()},a.unknown=function(u){return arguments.length?(i=u,a):i},a.quantiles=function(){return n.slice()},a.copy=function(){return Og().domain(t).range(e).unknown(i)},bn.apply(a,arguments)}function Ig(){var t=[.5],e=[0,1],n,i=1;function o(a){return a!=null&&a<=a?e[Is(t,a,0,i)]:n}return o.domain=function(a){return arguments.length?(t=Array.from(a),i=Math.min(t.length,e.length-1),o):t.slice()},o.range=function(a){return arguments.length?(e=Array.from(a),i=Math.min(t.length,e.length-1),o):e.slice()},o.invertExtent=function(a){var u=e.indexOf(a);return[t[u-1],t[u]]},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return Ig().domain(t).range(e).unknown(n)},bn.apply(o,arguments)}const cf=new Date,lf=new Date;function Yt(t,e,n,i){function o(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(t(a=new Date(+a)),a),o.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),o.round=a=>{const u=o(a),c=o.ceil(a);return a-u<c-a?u:c},o.offset=(a,u)=>(e(a=new Date(+a),u==null?1:Math.floor(u)),a),o.range=(a,u,c)=>{const l=[];if(a=o.ceil(a),c=c==null?1:Math.floor(c),!(a<u)||!(c>0))return l;let h;do l.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<u);return l},o.filter=a=>Yt(u=>{if(u>=u)for(;t(u),!a(u);)u.setTime(u-1)},(u,c)=>{if(u>=u)if(c<0)for(;++c<=0;)for(;e(u,-1),!a(u););else for(;--c>=0;)for(;e(u,1),!a(u););}),n&&(o.count=(a,u)=>(cf.setTime(+a),lf.setTime(+u),t(cf),t(lf),Math.floor(n(cf,lf))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(i?u=>i(u)%a===0:u=>o.count(0,u)%a===0):o)),o}const ws=Yt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);ws.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):ws);ws.range;const zn=1e3,De=zn*60,On=De*60,Zn=On*24,cl=Zn*7,am=Zn*30,hf=Zn*365,mn=Yt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*zn)},(t,e)=>(e-t)/zn,t=>t.getUTCSeconds());mn.range;const js=Yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zn)},(t,e)=>{t.setTime(+t+e*De)},(t,e)=>(e-t)/De,t=>t.getMinutes());js.range;const qo=Yt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*De)},(t,e)=>(e-t)/De,t=>t.getUTCMinutes());qo.range;const Ks=Yt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*zn-t.getMinutes()*De)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getHours());Ks.range;const Vo=Yt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*On)},(t,e)=>(e-t)/On,t=>t.getUTCHours());Vo.range;const Ni=Yt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*De)/Zn,t=>t.getDate()-1);Ni.range;const Js=Yt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zn,t=>t.getUTCDate()-1);Js.range;const Qs=Yt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Zn,t=>Math.floor(t/Zn));Qs.range;function zi(t){return Yt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*De)/cl)}const wr=zi(0),Co=zi(1),Bg=zi(2),Dg=zi(3),Ai=zi(4),Rg=zi(5),Zg=zi(6);wr.range;Co.range;Bg.range;Dg.range;Ai.range;Rg.range;Zg.range;function Oi(t){return Yt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/cl)}const xr=Oi(0),Ao=Oi(1),Fg=Oi(2),Ug=Oi(3),Ei=Oi(4),Hg=Oi(5),Wg=Oi(6);xr.range;Ao.range;Fg.range;Ug.range;Ei.range;Hg.range;Wg.range;const Yo=Yt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Yo.range;const Go=Yt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Go.range;const Ke=Yt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ke.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ke.range;const Je=Yt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Je.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Je.range;function qg(t,e,n,i,o,a){const u=[[mn,1,zn],[mn,5,5*zn],[mn,15,15*zn],[mn,30,30*zn],[a,1,De],[a,5,5*De],[a,15,15*De],[a,30,30*De],[o,1,On],[o,3,3*On],[o,6,6*On],[o,12,12*On],[i,1,Zn],[i,2,2*Zn],[n,1,cl],[e,1,am],[e,3,3*am],[t,1,hf]];function c(h,d,p){const g=d<h;g&&([h,d]=[d,h]);const _=p&&typeof p.range=="function"?p:l(h,d,p),v=_?_.range(h,+d+1):[];return g?v.reverse():v}function l(h,d,p){const g=Math.abs(d-h)/p,_=Os(([,,b])=>b).right(u,g);if(_===u.length)return t.every(Bf(h/hf,d/hf,p));if(_===0)return ws.every(Math.max(Bf(h,d,p),1));const[v,w]=u[g/u[_-1][2]<u[_][2]/g?_-1:_];return v.every(w)}return[c,l]}const[e8,n8]=qg(Je,Go,xr,Qs,Vo,qo),[i8,r8]=qg(Ke,Yo,wr,Ni,Ks,js);function df(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function mf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function o8(t){var e=t.dateTime,n=t.date,i=t.time,o=t.periods,a=t.days,u=t.shortDays,c=t.months,l=t.shortMonths,h=to(o),d=eo(o),p=to(a),g=eo(a),_=to(u),v=eo(u),w=to(c),b=eo(c),T=to(l),M=eo(l),S={a:Q,A:q,b:et,B:Z,c:null,d:hm,e:hm,f:k8,g:D8,G:Z8,H:L8,I:S8,j:P8,L:Vg,m:C8,M:A8,p:W,q:X,Q:pm,s:gm,S:E8,u:$8,U:N8,V:z8,w:O8,W:I8,x:null,X:null,y:B8,Y:R8,Z:F8,"%":mm},P={a:K,A:st,b:nt,B:J,c:null,d:dm,e:dm,f:q8,g:e4,G:i4,H:U8,I:H8,j:W8,L:Gg,m:V8,M:Y8,p:j,q:ft,Q:pm,s:gm,S:G8,u:X8,U:j8,V:K8,w:J8,W:Q8,x:null,X:null,y:t4,Y:n4,Z:r4,"%":mm},k={a:O,A:E,b:R,B:F,c:U,d:cm,e:cm,f:w8,g:fm,G:um,H:lm,I:lm,j:_8,L:b8,m:g8,M:y8,p:$,q:p8,Q:M8,s:T8,S:v8,u:c8,U:l8,V:h8,w:f8,W:d8,x:B,X:Y,y:fm,Y:um,Z:m8,"%":x8};S.x=A(n,S),S.X=A(i,S),S.c=A(e,S),P.x=A(n,P),P.X=A(i,P),P.c=A(e,P);function A(V,tt){return function(at){var H=[],vt=-1,dt=0,At=V.length,Et,ct,zt;for(at instanceof Date||(at=new Date(+at));++vt<At;)V.charCodeAt(vt)===37&&(H.push(V.slice(dt,vt)),(ct=sm[Et=V.charAt(++vt)])!=null?Et=V.charAt(++vt):ct=Et==="e"?" ":"0",(zt=tt[Et])&&(Et=zt(at,ct)),H.push(Et),dt=vt+1);return H.push(V.slice(dt,vt)),H.join("")}}function N(V,tt){return function(at){var H=Qr(1900,void 0,1),vt=I(H,V,at+="",0),dt,At;if(vt!=at.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(tt&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(dt=mf(Qr(H.y,0,1)),At=dt.getUTCDay(),dt=At>4||At===0?Ao.ceil(dt):Ao(dt),dt=Js.offset(dt,(H.V-1)*7),H.y=dt.getUTCFullYear(),H.m=dt.getUTCMonth(),H.d=dt.getUTCDate()+(H.w+6)%7):(dt=df(Qr(H.y,0,1)),At=dt.getDay(),dt=At>4||At===0?Co.ceil(dt):Co(dt),dt=Ni.offset(dt,(H.V-1)*7),H.y=dt.getFullYear(),H.m=dt.getMonth(),H.d=dt.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),At="Z"in H?mf(Qr(H.y,0,1)).getUTCDay():df(Qr(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(At+5)%7:H.w+H.U*7-(At+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,mf(H)):df(H)}}function I(V,tt,at,H){for(var vt=0,dt=tt.length,At=at.length,Et,ct;vt<dt;){if(H>=At)return-1;if(Et=tt.charCodeAt(vt++),Et===37){if(Et=tt.charAt(vt++),ct=k[Et in sm?tt.charAt(vt++):Et],!ct||(H=ct(V,at,H))<0)return-1}else if(Et!=at.charCodeAt(H++))return-1}return H}function $(V,tt,at){var H=h.exec(tt.slice(at));return H?(V.p=d.get(H[0].toLowerCase()),at+H[0].length):-1}function O(V,tt,at){var H=_.exec(tt.slice(at));return H?(V.w=v.get(H[0].toLowerCase()),at+H[0].length):-1}function E(V,tt,at){var H=p.exec(tt.slice(at));return H?(V.w=g.get(H[0].toLowerCase()),at+H[0].length):-1}function R(V,tt,at){var H=T.exec(tt.slice(at));return H?(V.m=M.get(H[0].toLowerCase()),at+H[0].length):-1}function F(V,tt,at){var H=w.exec(tt.slice(at));return H?(V.m=b.get(H[0].toLowerCase()),at+H[0].length):-1}function U(V,tt,at){return I(V,e,tt,at)}function B(V,tt,at){return I(V,n,tt,at)}function Y(V,tt,at){return I(V,i,tt,at)}function Q(V){return u[V.getDay()]}function q(V){return a[V.getDay()]}function et(V){return l[V.getMonth()]}function Z(V){return c[V.getMonth()]}function W(V){return o[+(V.getHours()>=12)]}function X(V){return 1+~~(V.getMonth()/3)}function K(V){return u[V.getUTCDay()]}function st(V){return a[V.getUTCDay()]}function nt(V){return l[V.getUTCMonth()]}function J(V){return c[V.getUTCMonth()]}function j(V){return o[+(V.getUTCHours()>=12)]}function ft(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var tt=A(V+="",S);return tt.toString=function(){return V},tt},parse:function(V){var tt=N(V+="",!1);return tt.toString=function(){return V},tt},utcFormat:function(V){var tt=A(V+="",P);return tt.toString=function(){return V},tt},utcParse:function(V){var tt=N(V+="",!0);return tt.toString=function(){return V},tt}}}var sm={"-":"",_:" ",0:"0"},ne=/^\s*\d+/,a8=/^%/,s8=/[\\^$*+?|[\]().{}]/g;function Nt(t,e,n){var i=t<0?"-":"",o=(i?-t:t)+"",a=o.length;return i+(a<n?new Array(n-a+1).join(e)+o:o)}function u8(t){return t.replace(s8,"\\$&")}function to(t){return new RegExp("^(?:"+t.map(u8).join("|")+")","i")}function eo(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function f8(t,e,n){var i=ne.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function c8(t,e,n){var i=ne.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function l8(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function h8(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function d8(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function um(t,e,n){var i=ne.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function fm(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function m8(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function p8(t,e,n){var i=ne.exec(e.slice(n,n+1));return i?(t.q=i[0]*3-3,n+i[0].length):-1}function g8(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function cm(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function _8(t,e,n){var i=ne.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function lm(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function y8(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function v8(t,e,n){var i=ne.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function b8(t,e,n){var i=ne.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function w8(t,e,n){var i=ne.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function x8(t,e,n){var i=a8.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function M8(t,e,n){var i=ne.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function T8(t,e,n){var i=ne.exec(e.slice(n));return i?(t.s=+i[0],n+i[0].length):-1}function hm(t,e){return Nt(t.getDate(),e,2)}function L8(t,e){return Nt(t.getHours(),e,2)}function S8(t,e){return Nt(t.getHours()%12||12,e,2)}function P8(t,e){return Nt(1+Ni.count(Ke(t),t),e,3)}function Vg(t,e){return Nt(t.getMilliseconds(),e,3)}function k8(t,e){return Vg(t,e)+"000"}function C8(t,e){return Nt(t.getMonth()+1,e,2)}function A8(t,e){return Nt(t.getMinutes(),e,2)}function E8(t,e){return Nt(t.getSeconds(),e,2)}function $8(t){var e=t.getDay();return e===0?7:e}function N8(t,e){return Nt(wr.count(Ke(t)-1,t),e,2)}function Yg(t){var e=t.getDay();return e>=4||e===0?Ai(t):Ai.ceil(t)}function z8(t,e){return t=Yg(t),Nt(Ai.count(Ke(t),t)+(Ke(t).getDay()===4),e,2)}function O8(t){return t.getDay()}function I8(t,e){return Nt(Co.count(Ke(t)-1,t),e,2)}function B8(t,e){return Nt(t.getFullYear()%100,e,2)}function D8(t,e){return t=Yg(t),Nt(t.getFullYear()%100,e,2)}function R8(t,e){return Nt(t.getFullYear()%1e4,e,4)}function Z8(t,e){var n=t.getDay();return t=n>=4||n===0?Ai(t):Ai.ceil(t),Nt(t.getFullYear()%1e4,e,4)}function F8(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Nt(e/60|0,"0",2)+Nt(e%60,"0",2)}function dm(t,e){return Nt(t.getUTCDate(),e,2)}function U8(t,e){return Nt(t.getUTCHours(),e,2)}function H8(t,e){return Nt(t.getUTCHours()%12||12,e,2)}function W8(t,e){return Nt(1+Js.count(Je(t),t),e,3)}function Gg(t,e){return Nt(t.getUTCMilliseconds(),e,3)}function q8(t,e){return Gg(t,e)+"000"}function V8(t,e){return Nt(t.getUTCMonth()+1,e,2)}function Y8(t,e){return Nt(t.getUTCMinutes(),e,2)}function G8(t,e){return Nt(t.getUTCSeconds(),e,2)}function X8(t){var e=t.getUTCDay();return e===0?7:e}function j8(t,e){return Nt(xr.count(Je(t)-1,t),e,2)}function Xg(t){var e=t.getUTCDay();return e>=4||e===0?Ei(t):Ei.ceil(t)}function K8(t,e){return t=Xg(t),Nt(Ei.count(Je(t),t)+(Je(t).getUTCDay()===4),e,2)}function J8(t){return t.getUTCDay()}function Q8(t,e){return Nt(Ao.count(Je(t)-1,t),e,2)}function t4(t,e){return Nt(t.getUTCFullYear()%100,e,2)}function e4(t,e){return t=Xg(t),Nt(t.getUTCFullYear()%100,e,2)}function n4(t,e){return Nt(t.getUTCFullYear()%1e4,e,4)}function i4(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ei(t):Ei.ceil(t),Nt(t.getUTCFullYear()%1e4,e,4)}function r4(){return"+0000"}function mm(){return"%"}function pm(t){return+t}function gm(t){return Math.floor(+t/1e3)}var Qi,ll,Xo;o4({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function o4(t){return Qi=o8(t),ll=Qi.format,Qi.parse,Xo=Qi.utcFormat,Qi.utcParse,Qi}function a4(t){return new Date(t)}function s4(t){return t instanceof Date?+t:+new Date(+t)}function hl(t,e,n,i,o,a,u,c,l,h){var d=Sg(),p=d.invert,g=d.domain,_=h(".%L"),v=h(":%S"),w=h("%I:%M"),b=h("%I %p"),T=h("%a %d"),M=h("%b %d"),S=h("%B"),P=h("%Y");function k(A){return(l(A)<A?_:c(A)<A?v:u(A)<A?w:a(A)<A?b:i(A)<A?o(A)<A?T:M:n(A)<A?S:P)(A)}return d.invert=function(A){return new Date(p(A))},d.domain=function(A){return arguments.length?g(Array.from(A,s4)):g().map(a4)},d.ticks=function(A){var N=g();return t(N[0],N[N.length-1],A??10)},d.tickFormat=function(A,N){return N==null?k:h(N)},d.nice=function(A){var N=g();return(!A||typeof A.range!="function")&&(A=e(N[0],N[N.length-1],A??10)),A?g(kg(N,A)):d},d.copy=function(){return Ho(d,hl(t,e,n,i,o,a,u,c,l,h))},d}function u4(){return bn.apply(hl(i8,r8,Ke,Yo,wr,Ni,Ks,js,mn,ll).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f4(){return bn.apply(hl(e8,n8,Je,Go,xr,Js,Vo,qo,mn,Xo).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eu(){var t=0,e=.5,n=1,i=1,o,a,u,c,l,h=Be,d,p=!1,g;function _(w){return isNaN(w=+w)?g:(w=.5+((w=+d(w))-a)*(i*w<i*a?c:l),h(p?Math.max(0,Math.min(1,w)):w))}_.domain=function(w){return arguments.length?([t,e,n]=w,o=d(t=+t),a=d(e=+e),u=d(n=+n),c=o===a?0:.5/(a-o),l=a===u?0:.5/(u-a),i=a<o?-1:1,_):[t,e,n]},_.clamp=function(w){return arguments.length?(p=!!w,_):p},_.interpolator=function(w){return arguments.length?(h=w,_):h};function v(w){return function(b){var T,M,S;return arguments.length?([T,M,S]=b,h=Us(w,[T,M,S]),_):[h(0),h(.5),h(1)]}}return _.range=v(Er),_.rangeRound=v(Qc),_.unknown=function(w){return arguments.length?(g=w,_):g},function(w){return d=w,o=w(t),a=w(e),u=w(n),c=o===a?0:.5/(a-o),l=a===u?0:.5/(u-a),i=a<o?-1:1,_}}function jg(){var t=Wo(eu()(Be));return t.copy=function(){return tu(t,jg())},Ys.apply(t,arguments)}function Kg(){var t=Cg(eu()).domain([.1,1,10]);return t.copy=function(){return tu(t,Kg()).base(t.base())},Ys.apply(t,arguments)}function Jg(){var t=Eg(eu());return t.copy=function(){return tu(t,Jg()).constant(t.constant())},Ys.apply(t,arguments)}function Qg(){var t=Ng(eu());return t.copy=function(){return tu(t,Qg()).exponent(t.exponent())},Ys.apply(t,arguments)}function wt(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(i*6,++i*6);return n}const c4=wt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),l4=wt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),h4=wt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),d4=wt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),m4=wt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),p4=wt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),g4=wt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),_4=wt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),y4=wt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),v4=wt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),It=t=>Jx(t[t.length-1]);var t_=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(wt);const e_=It(t_);var n_=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(wt);const i_=It(n_);var r_=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(wt);const o_=It(r_);var a_=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(wt);const s_=It(a_);var xc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(wt);const xs=It(xc);var u_=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(wt);const f_=It(u_);var Mc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(wt);const Ms=It(Mc);var c_=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(wt);const l_=It(c_);var h_=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(wt);const d_=It(h_);var m_=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(wt);const p_=It(m_);var g_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(wt);const __=It(g_);var y_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(wt);const v_=It(y_);var b_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(wt);const w_=It(b_);var x_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(wt);const M_=It(x_);var T_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(wt);const L_=It(T_);var S_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(wt);const P_=It(S_);var k_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(wt);const C_=It(k_);var A_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(wt);const E_=It(A_);var $_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(wt);const N_=It($_);var z_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(wt);const O_=It(z_);var I_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(wt);const B_=It(I_);var Mr=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(wt);const D_=It(Mr);var R_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(wt);const Z_=It(R_);var F_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(wt);const U_=It(F_);var H_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(wt);const W_=It(H_);var q_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(wt);const V_=It(q_);var Y_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(wt);const G_=It(Y_);function X_(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const j_=tl(yn(300,.5,0),yn(-240,.5,1));var K_=tl(yn(-100,.75,.35),yn(80,1.5,.8)),J_=tl(yn(260,.75,.35),yn(80,1.5,.8)),Ea=yn();function Q_(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Ea.h=360*t-100,Ea.s=1.5-1.5*e,Ea.l=.8-.9*e,Ea+""}var $a=Qn(),b4=Math.PI/3,w4=Math.PI*2/3;function t1(t){var e;return t=(.5-t)*Math.PI,$a.r=255*(e=Math.sin(t))*e,$a.g=255*(e=Math.sin(t+b4))*e,$a.b=255*(e=Math.sin(t+w4))*e,$a+""}function e1(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function nu(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const n1=nu(wt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var i1=nu(wt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),r1=nu(wt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),o1=nu(wt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const a1=Math.cos,dl=Math.min,Ts=Math.sin,Gt=Math.sqrt,Ls=Math.PI,iu=2*Ls,x4=Gt(3),s1={draw(t,e){const n=Gt(e+dl(e/28,.75))*.59436,i=n/2,o=i*x4;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-o,-i),t.lineTo(o,i),t.moveTo(-o,i),t.lineTo(o,-i)}},ml={draw(t,e){const n=Gt(e/Ls);t.moveTo(n,0),t.arc(0,0,n,0,iu)}},u1={draw(t,e){const n=Gt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},f1=Gt(1/3),M4=f1*2,c1={draw(t,e){const n=Gt(e/M4),i=n*f1;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},l1={draw(t,e){const n=Gt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},h1={draw(t,e){const n=Gt(e-dl(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},d1={draw(t,e){const n=Gt(e),i=-n/2;t.rect(i,i,n,n)}},m1={draw(t,e){const n=Gt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},T4=.8908130915292852,p1=Ts(Ls/10)/Ts(7*Ls/10),L4=Ts(iu/10)*p1,S4=-a1(iu/10)*p1,g1={draw(t,e){const n=Gt(e*T4),i=L4*n,o=S4*n;t.moveTo(0,-n),t.lineTo(i,o);for(let a=1;a<5;++a){const u=iu*a/5,c=a1(u),l=Ts(u);t.lineTo(l*n,-c*n),t.lineTo(c*i-l*o,l*i+c*o)}t.closePath()}},pf=Gt(3),_1={draw(t,e){const n=-Gt(e/(pf*3));t.moveTo(0,n*2),t.lineTo(-pf*n,-n),t.lineTo(pf*n,-n),t.closePath()}},P4=Gt(3),y1={draw(t,e){const n=Gt(e)*.6824,i=n/2,o=n*P4/2;t.moveTo(0,-n),t.lineTo(o,i),t.lineTo(-o,i),t.closePath()}},$e=-.5,Ne=Gt(3)/2,Tc=1/Gt(12),k4=(Tc/2+1)*3,v1={draw(t,e){const n=Gt(e/k4),i=n/2,o=n*Tc,a=i,u=n*Tc+n,c=-a,l=u;t.moveTo(i,o),t.lineTo(a,u),t.lineTo(c,l),t.lineTo($e*i-Ne*o,Ne*i+$e*o),t.lineTo($e*a-Ne*u,Ne*a+$e*u),t.lineTo($e*c-Ne*l,Ne*c+$e*l),t.lineTo($e*i+Ne*o,$e*o-Ne*i),t.lineTo($e*a+Ne*u,$e*u-Ne*a),t.lineTo($e*c+Ne*l,$e*l-Ne*c),t.closePath()}},b1={draw(t,e){const n=Gt(e-dl(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},C4=[ml,u1,c1,d1,g1,_1,v1],A4=[ml,h1,b1,y1,s1,m1,l1];function ho(t,e,n){this.k=t,this.x=e,this.y=n}ho.prototype={constructor:ho,scale:function(t){return t===1?this:new ho(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ho(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ho.prototype;function $i(t){return t!=null&&!Number.isNaN(t)}function Qe(t,e){return+$i(e)-+$i(t)||_e(t,e)}function Ss(t,e){return+$i(e)-+$i(t)||Ro(t,e)}function w1(t){return t!=null&&`${t}`!=""}function x1(t){return isFinite(t)?t:NaN}function pl(t){return t>0&&isFinite(t)?t:NaN}function M1(t){return t<0&&isFinite(t)?t:NaN}function E4(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),i=t.getUTCMinutes(),o=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${$4(t.getUTCFullYear())}-${$n(t.getUTCMonth()+1,2)}-${$n(t.getUTCDate(),2)}${n||i||o||a?`T${$n(n,2)}:${$n(i,2)}${o||a?`:${$n(o,2)}${a?`.${$n(a,3)}`:""}`:""}Z`:""}`}function $4(t){return t<0?`-${$n(-t,6)}`:t>9999?`+${$n(t,6)}`:$n(t,4)}function $n(t,e){return`${t}`.padStart(e,"0")}const N4=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function T1(t,e){return N4.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const or=1e3,pi=or*60,gi=pi*60,Fn=gi*24,cn=Fn*7,bi=Fn*30,Gn=Fn*365,gf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",or],["5 seconds",5*or],["15 seconds",15*or],["30 seconds",30*or],["minute",pi],["5 minutes",5*pi],["15 minutes",15*pi],["30 minutes",30*pi],["hour",gi],["3 hours",3*gi],["6 hours",6*gi],["12 hours",12*gi],["day",Fn],["2 days",2*Fn],["week",cn],["2 weeks",2*cn],["month",bi],["3 months",3*bi],["6 months",6*bi],["year",Gn],["2 years",2*Gn],["5 years",5*Gn],["10 years",10*Gn],["20 years",20*Gn],["50 years",50*Gn],["100 years",100*Gn]],gl=new Map([["second",or],["minute",pi],["hour",gi],["day",Fn],["monday",cn],["tuesday",cn],["wednesday",cn],["thursday",cn],["friday",cn],["saturday",cn],["sunday",cn],["week",cn],["month",bi],["year",Gn]]),L1=new Map([["second",mn],["minute",js],["hour",Ks],["day",Ni],["monday",Co],["tuesday",Bg],["wednesday",Dg],["thursday",Ai],["friday",Rg],["saturday",Zg],["sunday",wr],["week",wr],["month",Yo],["year",Ke]]),S1=new Map([["second",mn],["minute",qo],["hour",Vo],["day",Qs],["monday",Ao],["tuesday",Fg],["wednesday",Ug],["thursday",Ei],["friday",Hg],["saturday",Wg],["sunday",xr],["week",xr],["month",Go],["year",Je]]),jo=Symbol("intervalDuration"),ru=Symbol("intervalType");for(const[t,e]of L1)e[jo]=gl.get(t),e[ru]="time";for(const[t,e]of S1)e[jo]=gl.get(t),e[ru]="utc";const z4=[["year",Je,"utc"],["year",Ke,"time"],["month",Go,"utc"],["month",Yo,"time"],["day",Qs,"utc",6*bi],["day",Ni,"time",6*bi],["hour",Vo,"utc",3*Fn],["minute",qo,"utc",6*gi],["second",mn,"utc",30*pi]];function P1(t,e,n){let i=`${t}`.toLowerCase();i.endsWith("s")&&(i=i.slice(0,-1));let o=1;const a=/^(?:(\d+)\s+)/.exec(i);switch(a&&(i=i.slice(a[0].length),o=+a[1]),i){case"quarter":i="month",o*=3;break;case"half":i="month",o*=6;break}let u=e.get(i);if(!u)throw new Error(`unknown interval: ${t}`);if(o>1){if(!u.every)throw new Error(`non-periodic interval: ${i}`);u=u.every(o),u[jo]=gl.get(i)*o,u[ru]=n}return u}function k1(t){return P1(t,L1,"time")}function C1(t){return P1(t,S1,"utc")}function _m(t,e){if(!(e>1))return;const n=t[jo];if(!gf.some(([,o])=>o===n)||n%Fn===0&&Fn<n&&n<bi)return;const[i]=gf[Os(([,o])=>Math.log(o)).center(gf,Math.log(n*e))];return(t[ru]==="time"?k1:C1)(i)}function ym(t,e,n){const i=e==="time"?ll:Xo;if(n==null)return i(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const o=O4(n);switch(t){case"millisecond":return tr(i(".%L"),i(":%M:%S"),o);case"second":return tr(i(":%S"),i("%-I:%M"),o);case"minute":return tr(i("%-I:%M"),i("%p"),o);case"hour":return tr(i("%-I %p"),i("%b %-d"),o);case"day":return tr(i("%-d"),i("%b"),o);case"month":return tr(i("%b"),i("%Y"),o);case"year":return i("%Y")}throw new Error("unable to format time ticks")}function O4(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function I4(t,e){const n=Xe(Fw(t,(i,o)=>Math.abs(o-i)));if(n<1e3)return ym("millisecond","utc",e);for(const[i,o,a,u]of z4){if(n>u||i==="hour"&&!n)break;if(t.every(c=>o.floor(c)>=c))return ym(i,a,e)}}function tr(t,e,n){return(i,o,a)=>{const u=t(i,o),c=e(i,o),l=o-Tr(a);return o!==l&&a[l]!==void 0&&c===e(a[l],l)?u:n(u,c)}}const Eo=Object.getPrototypeOf(Uint8Array),B4=Object.prototype.toString,A1=Symbol("reindex");function Kt(t,e,n){const i=typeof e;return i==="string"?vm(t,E1(e),n):i==="function"?vm(t,e,n):i==="number"||e instanceof Date||i==="boolean"?ee(t,Ko(e),n):typeof(e==null?void 0:e.transform)=="function"?bm(e.transform(t),n):D4(bm(e,n),t==null?void 0:t[A1])}function D4(t,e){return e?bl(t,e):t}function vm(t,e,n){return ee(t,(n==null?void 0:n.prototype)instanceof Eo?R4(e):e,n)}function bm(t,e){return e===void 0?ke(t):t instanceof e?t:e.prototype instanceof Eo&&!(t instanceof Eo)?e.from(t,yl):e.from(t)}function R4(t){return(e,n)=>yl(t(e,n))}const Va=[null],E1=t=>e=>e[t],$1={transform:Hn},ve={transform:t=>t},Z4=()=>1,F4=()=>!0,he=t=>t==null?t:`${t}`,Ft=t=>t==null?t:+t,_l=t=>t?t[0]:void 0,Lc=t=>t?t[1]:void 0,Ko=t=>()=>t;function U4(t){const e=+`${t}`.slice(1)/100;return(n,i)=>Ja(n,e,i)}function wm(t){return t instanceof Eo?t:ee(t,yl,Float64Array)}function yl(t){return t==null?NaN:Number(t)}function H4(t){return ee(t,W4)}function W4(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?T1(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function Un(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:au(t)?[void 0,t]:[t,void 0]}function Me(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function N1(t,e,n){if(t!=null)return rn(t,e,n)}function rn(t,e,n){const i=`${t}`.toLowerCase();if(!n.includes(i))throw new Error(`invalid ${e}: ${t}`);return i}function ke(t){return t==null||t instanceof Array||t instanceof Eo?t:Array.from(t)}function ee(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function $o(t,e=Array){return t instanceof e?t.slice():e.from(t)}function z1({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function q4({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function V4(t){return z1(t)||q4(t)||t.interval!==void 0}function ii(t){return(t==null?void 0:t.toString)===B4}function Sc(t){return ii(t)&&(t.type!==void 0||t.domain!==void 0)}function vl(t){return ii(t)&&typeof t.transform!="function"}function No(t){return vl(t)&&t.value===void 0&&t.channel===void 0}function Y4(t,e,n,i=ve){return e===void 0&&n===void 0?(e=0,n=t===void 0?i:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function O1(t,e){return t===void 0&&e===void 0?[_l,Lc]:[t,e]}function G4({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Un(e)),t===void 0&&([t]=Un(n)),t}function Hn(t){const e=t.length,n=new Uint32Array(e);for(let i=0;i<e;++i)n[i]=i;return n}function bl(t,e){return ee(e,n=>t[n],t.constructor)}function X4(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Na(t){return t!==null&&typeof t=="object"?t.valueOf():t}function j4(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function Ps(t){let e;return[{transform:()=>e,label:Nr(t)},n=>e=n]}function ir(t){return t==null?[t]:Ps(t)}function Nr(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function K4(t,e){return{transform(n){const i=t.transform(n),o=e.transform(n);return Fe(i)||Fe(o)?ee(i,(a,u)=>new Date((+i[u]+ +o[u])/2)):ee(i,(a,u)=>(+i[u]+ +o[u])/2,Float64Array)},label:t.label}}function Pc(t,e){const n=I1(e==null?void 0:e.interval,e==null?void 0:e.type);return n?ee(t,n):t}function I1(t,e){const n=wl(t,e);return n&&(i=>$i(i)?n.floor(i):i)}function wl(t,e){if(t!=null){if(typeof t=="number"){0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:i=>Math.floor(i*n)/n,offset:i=>(i*n+1)/n,range:(i,o)=>Rf(Math.ceil(i*n),o*n).map(a=>a/n)}:{floor:i=>Math.floor(i/n)*n,offset:i=>i+n,range:(i,o)=>Rf(Math.ceil(i/n),o/n).map(a=>a*n)}}if(typeof t=="string")return(e==="time"?k1:C1)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Jo(t,e){if(t=wl(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function J4(t,e){if(t=Jo(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function Q4(t){return typeof(t==null?void 0:t.range)=="function"}function ou(t){return t===void 0||vl(t)?t:{value:t}}function t7(t){return t==null?null:{transform:e=>Kt(e,t,Float64Array),label:Nr(t)}}function Ii(t){return t&&typeof t[Symbol.iterator]=="function"}function B1(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function xm(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Fe(t){for(const e of t)if(e!=null)return e instanceof Date}function e7(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&T1(e)}function n7(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function i7(t){for(const e of t)if(e!=null)return typeof e=="number"}function _f(t,e){let n;for(const i of t)if(i!=null){if(!e(i))return!1;n=!0}return n}const r7=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function au(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||r7.has(t))}function o7(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function me(t){return t==null||zo(t)}function zo(t){return/^\s*none\s*$/i.test(t)}function a7(t){return/^\s*round\s*$/i.test(t)}function D1(t,e){return N1(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function xl(t="middle"){return D1(t,"frameAnchor")}function Tr(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Ro(e,n)}function s7(t={},...e){let n=t;for(const i of e)for(const o in i)if(n[o]===void 0){const a=i[o];n===t?n={...n,[o]:a}:n[o]=a}return n}function u7(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:i}=n;if(i==null)throw new Error("missing name");const o=`${i}`;if(o==="__proto__")throw new Error(`illegal name: ${o}`);if(e.has(o))throw new Error(`duplicate name: ${o}`);return e.add(o),[i,n]}))}function R1(t){return Ii(t)?u7(t):t}const pn=Symbol("position"),Wn=Symbol("color"),Qo=Symbol("radius"),ta=Symbol("length"),ea=Symbol("opacity"),su=Symbol("symbol"),Z1=Symbol("projection"),Ht=new Map([["x",pn],["y",pn],["fx",pn],["fy",pn],["r",Qo],["color",Wn],["opacity",ea],["symbol",su],["length",ta],["projection",Z1]]);function f7(t){return t===pn||t===Z1}function c7(t){return t===pn||t===Qo||t===ta||t===ea}const l7=Math.sqrt(3),h7=2/l7,d7={draw(t,e){const n=Math.sqrt(e/Math.PI),i=n*h7,o=i/2;t.moveTo(0,i),t.lineTo(n,o),t.lineTo(n,-o),t.lineTo(0,-i),t.lineTo(-n,-o),t.lineTo(-n,o),t.closePath()}},F1=new Map([["asterisk",s1],["circle",ml],["cross",u1],["diamond",c1],["diamond2",l1],["hexagon",d7],["plus",h1],["square",d1],["square2",m1],["star",g1],["times",b1],["triangle",_1],["triangle2",y1],["wye",v1]]);function U1(t){return t&&typeof t.draw=="function"}function m7(t){return U1(t)?!0:typeof t!="string"?!1:F1.has(t.toLowerCase())}function Ml(t){if(t==null||U1(t))return t;const e=F1.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function Tl({filter:t,sort:e,reverse:n,transform:i,initializer:o,...a}={},u){if(i===void 0&&(t!=null&&(i=H1(t)),e!=null&&!No(e)&&(i=yf(i,q1(e))),n&&(i=yf(i,W1))),u!=null&&o!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||No(e))&&{sort:e},transform:yf(i,u)}}function ks({filter:t,sort:e,reverse:n,initializer:i,...o}={},a){return i===void 0&&(t!=null&&(i=H1(t)),e!=null&&!No(e)&&(i=vf(i,q1(e))),n&&(i=vf(i,W1))),{...o,...(e===null||No(e))&&{sort:e},initializer:vf(i,a)}}function yf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,i,o){return{data:n,facets:i}=t.call(this,n,i,o),e.call(this,ke(n),i,o)}}function vf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,i,o,...a){let u,c,l,h,d,p;return{data:c=n,facets:l=i,channels:u}=t.call(this,n,i,o,...a),{data:d=c,facets:p=l,channels:h}=e.call(this,c,l,{...o,...u},...a),{data:d,facets:p,channels:{...u,...h}}}}function H1(t){return(e,n)=>{const i=Kt(e,t);return{data:e,facets:n.map(o=>o.filter(a=>i[a]))}}}function W1(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function q1(t){return(typeof t=="function"&&t.length!==1?p7:g7)(t)}function p7(t){return(e,n)=>{const i=(o,a)=>t(e[o],e[a]);return{data:e,facets:n.map(o=>o.slice().sort(i))}}}function g7(t){let e,n;({channel:e,value:t,order:n}={...ou(t)});const i=e==null?void 0:e.startsWith("-");if(i&&(e=e.slice(1)),n===void 0&&(n=i?Ss:Qe),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Qe;break;case"descending":n=Ss;break;default:throw new Error(`invalid order: ${n}`)}return(o,a,u)=>{let c;if(e===void 0)c=Kt(o,t);else{if(u===void 0)throw new Error("channel sort requires an initializer");if(c=u[e],!c)return{};c=c.value}const l=(h,d)=>n(c[h],c[d]);return{data:o,facets:a.map(h=>h.slice().sort(l))}}}function Mm(t,e){return V1(null,null,t,e)}function ar(t={x:"count"},e={}){const{y:n=ve}=e;if(n==null)throw new Error("missing channel: y");return V1(null,n,t,e)}function V1(t,e,{data:n=X1,filter:i,sort:o,reverse:a,...u}={},c={}){u=_7(u,c),n=Ll(n,ve),o=o==null?void 0:Y1("sort",o,c),i=i==null?void 0:G1("filter",i,c);const[l,h]=ir(t),[d,p]=ir(e),{z:g,fill:_,stroke:v,x1:w,x2:b,y1:T,y2:M,...S}=c,[P,k]=ir(g),[A]=Un(_),[N]=Un(v),[I,$]=ir(A),[O,E]=ir(N);return{..."z"in c&&{z:P||g},..."fill"in c&&{fill:I||_},..."stroke"in c&&{stroke:O||v},...Tl(S,(R,F,U)=>{const B=Pc(Kt(R,t),U==null?void 0:U.x),Y=Pc(Kt(R,e),U==null?void 0:U.y),Q=Kt(R,g),q=Kt(R,A),et=Kt(R,N),Z=b7(u,{z:Q,fill:q,stroke:et}),W=[],X=[],K=B&&h([]),st=Y&&p([]),nt=Q&&k([]),J=q&&$([]),j=et&&E([]);let ft=0;for(const V of u)V.initialize(R);o&&o.initialize(R),i&&i.initialize(R);for(const V of F){const tt=[];for(const at of u)at.scope("facet",V);o&&o.scope("facet",V),i&&i.scope("facet",V);for(const[at,H]of bf(V,Z))for(const[vt,dt]of bf(H,Y))for(const[At,Et]of bf(dt,B))if(!(i&&!i.reduce(Et))){tt.push(ft++),X.push(n.reduceIndex(Et,R)),B&&K.push(At),Y&&st.push(vt),Q&&nt.push(Z===Q?at:Q[Et[0]]),q&&J.push(Z===q?at:q[Et[0]]),et&&j.push(Z===et?at:et[Et[0]]);for(const ct of u)ct.reduce(Et);o&&o.reduce(Et)}W.push(tt)}return w7(W,o,a),{data:X,facets:W}}),...!Tm(u,"x")&&(l?{x:l}:{x1:w,x2:b}),...!Tm(u,"y")&&(d?{y:d}:{y1:T,y2:M}),...Object.fromEntries(u.map(({name:R,output:F})=>[R,F]))}}function Tm(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function _7(t,e,n=Y1){const i=Object.entries(t);return e.title!=null&&t.title===void 0&&i.push(["title",T7]),e.href!=null&&t.href===void 0&&i.push(["href",j1]),i.filter(([,o])=>o!==void 0).map(([o,a])=>a===null?y7(o):n(o,a,e))}function Y1(t,e,n,i=G1){let o;ii(e)&&"reduce"in e&&(o=e.scale,e=e.reduce);const a=i(t,e,n),[u,c]=Ps(a.label);let l;return{name:t,output:o===void 0?u:{value:u,scale:o},initialize(h){a.initialize(h),l=c([])},scope(h,d){a.scope(h,d)},reduce(h,d){l.push(a.reduce(h,d))}}}function y7(t){return{name:t,initialize(){},scope(){},reduce(){}}}function G1(t,e,n,i=Ll){const o=j4(t,n),a=i(e,o);let u,c;return{label:Nr(a===kc?null:o,a.label),initialize(l){u=o===void 0?l:Kt(l,o),a.scope==="data"&&(c=a.reduceIndex(Hn(l),u))},scope(l,h){a.scope===l&&(c=a.reduceIndex(h,u))},reduce(l,h){return a.scope==null?a.reduceIndex(l,u,h):a.reduceIndex(l,u,c,h)}}}function bf(t,e){return e?wo(Hc(t,n=>e[n]),_l):[[,t]]}function Ll(t,e,n=v7){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&ii(t))return x7(t);if(typeof t=="function")return M7(t);if(/^p\d{2}$/i.test(t))return En(U4(t));switch(`${t}`.toLowerCase()){case"first":return j1;case"last":return L7;case"identity":return X1;case"count":return kc;case"distinct":return S7;case"sum":return e==null?kc:P7;case"proportion":return Sm(e,"data");case"proportion-facet":return Sm(e,"facet");case"deviation":return En(Tw);case"min":return En(Bn);case"min-index":return En(Iw);case"max":return En(Xe);case"max-index":return En(Ow);case"mean":return Lm(Dw);case"median":return Lm(Df);case"variance":return En(Jp);case"mode":return En(Zw)}return n(t)}function v7(t){throw new Error(`invalid reduce: ${t}`)}function b7(t,e){for(const n in e){const i=e[n];if(i!==void 0&&!t.some(o=>o.name===n))return i}}function w7(t,e,n){if(e){const i=e.output.transform(),o=(a,u)=>Qe(i[a],i[u]);t.forEach(a=>a.sort(o))}n&&t.forEach(i=>i.reverse())}function x7(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function M7(t){return{reduceIndex(e,n,i){return t(bl(n,e),i)}}}function En(t){return{reduceIndex(e,n){return t(e,i=>n[i])}}}function Lm(t){return{reduceIndex(e,n){const i=t(e,o=>n[o]);return Fe(n)?new Date(i):i}}}const X1={reduceIndex(t,e){return bl(e,t)}},j1={reduceIndex(t,e){return e[t[0]]}},T7={reduceIndex(t,e){const i=wo(ur(t,a=>a.length,a=>e[a]),Lc),o=i.slice(-5).reverse();if(o.length<i.length){const a=i.slice(0,-4);o[5-1]=[` ${a.length.toLocaleString("en-US")} more`,Jn(a,Lc)]}return o.map(([a,u])=>`${a} (${u.toLocaleString("en-US")})`).join(`
`)}},L7={reduceIndex(t,e){return e[t[t.length-1]]}},kc={label:"Frequency",reduceIndex(t){return t.length}},S7={label:"Distinct",reduceIndex(t,e){const n=new Bs;for(const i of t)n.add(e[i]);return n.size}},P7=En(Jn);function Sm(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,i,o=1)=>n.length/o}:{scope:e,reduceIndex:(n,i,o=1)=>Jn(n,a=>i[a])/o}}function Oo(t,{scale:e,type:n,value:i,filter:o,hint:a,label:u=Nr(i)},c){return a===void 0&&typeof(i==null?void 0:i.transform)=="function"&&(a=i.hint),K1(c,{scale:e,type:n,value:Kt(t,i),label:u,filter:o,hint:a})}function k7(t,e){return Object.fromEntries(Object.entries(t).map(([n,i])=>[n,Oo(e,i,n)]))}function C7(t,e){const n=Object.fromEntries(Object.entries(t).map(([i,{scale:o,value:a}])=>{const u=o==null?null:e[o];return[i,u==null?a:ee(a,u)]}));return n.channels=t,n}function K1(t,e){const{scale:n,value:i}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&_f(i,au)?null:"color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&_f(i,o7)?null:"opacity";break;case"symbol":n!==!0&&_f(i,m7)?(e.scale=null,e.value=ee(i,Ml)):e.scale="symbol";break;default:e.scale=Ht.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!Ht.has(n))throw new Error(`unknown scale: ${n}`);return e}function A7(t,e,n,i,o){const{order:a,reverse:u,reduce:c=!0,limit:l}=o;for(const h in o){if(!Ht.has(h))continue;let{value:d,order:p=a,reverse:g=u,reduce:_=c,limit:v=l}=ou(o[h]);const w=d==null?void 0:d.startsWith("-");if(w&&(d=d.slice(1)),p=p===void 0?w!==(d==="width"||d==="height")?Q1:J1:N7(p),_==null||_===!1)continue;const b=h==="fx"||h==="fy"?$7(e,i[h]):E7(n,h);if(!b)throw new Error(`missing channel for scale: ${h}`);const T=b.value,[M=0,S=1/0]=Ii(v)?v:v<0?[v]:[0,v];if(d==null)b.domain=()=>{let P=Array.from(new Bs(T));return g&&(P=P.reverse()),(M!==0||S!==1/0)&&(P=P.slice(M,S)),P};else{const P=d==="data"?t:d==="height"?Pm(n,"y1","y2"):d==="width"?Pm(n,"x1","x2"):Cc(n,d,d==="y"?"y2":d==="x"?"x2":void 0),k=Ll(_===!0?"max":_,P);b.domain=()=>{let A=Lw(Hn(T),N=>k.reduceIndex(N,P),N=>T[N]);return p&&A.sort(p),g&&A.reverse(),(M!==0||S!==1/0)&&(A=A.slice(M,S)),A.map(_l)}}}}function E7(t,e){for(const n in t){const i=t[n];if(i.scale===e)return i}}function $7(t,e){const n=t.original;if(n===t)return e;const i=e.value,o=e.value=[];for(let a=0;a<n.length;++a){const u=i[n[a][0]];for(const c of t[a])o[c]=u}return e}function Pm(t,e,n){const i=Cc(t,e),o=Cc(t,n);return ee(o,(a,u)=>Math.abs(a-i[u]),Float64Array)}function Cc(t,e,n){let i=t[e];if(!i&&n!==void 0&&(i=t[n]),i)return i.value;throw new Error(`missing channel: ${e}`)}function N7(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return J1;case"descending":return Q1}throw new Error(`invalid order: ${t}`)}function J1([t,e],[n,i]){return Qe(e,i)||Qe(t,n)}function Q1([t,e],[n,i]){return Ss(e,i)||Qe(t,n)}function km(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}function z7(t){let e,n;return(...i)=>(((n==null?void 0:n.length)!==i.length||n.some((o,a)=>o!==i[a]))&&(n=i,e=t(...i)),e)}const O7=z7(t=>new Intl.NumberFormat(t));function I7(t="en-US"){const e=O7(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function B7(t){return E4(t,"Invalid Date")}function D7(t="en-US"){const e=I7(t);return n=>(n instanceof Date?B7:typeof n=="number"?e:he)(n)}const Lr=D7();let Ac=0,Ec;function R7(){const t=Ac;return Ac=0,Ec=void 0,t}function wi(t){t!==Ec&&(Ec=t,console.warn(t),++Ac)}const Te=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Z7=0;function Cm(){return`plot-clip-${++Z7}`}function F7(t,{title:e,href:n,ariaLabel:i,ariaDescription:o,ariaHidden:a,target:u,fill:c,fillOpacity:l,stroke:h,strokeWidth:d,strokeOpacity:p,strokeLinejoin:g,strokeLinecap:_,strokeMiterlimit:v,strokeDasharray:w,strokeDashoffset:b,opacity:T,mixBlendMode:M,imageFilter:S,paintOrder:P,pointerEvents:k,shapeRendering:A,channels:N},{ariaLabel:I,fill:$="currentColor",fillOpacity:O,stroke:E="none",strokeOpacity:R,strokeWidth:F,strokeLinecap:U,strokeLinejoin:B,strokeMiterlimit:Y,paintOrder:Q}){$===null&&(c=null,l=null),E===null&&(h=null,p=null),me($)?!me(E)&&(!me(c)||N!=null&&N.fill)&&(E="none"):me(E)&&(!me(h)||N!=null&&N.stroke)&&($="none");const[q,et]=Un(c,$),[Z,W]=Me(l,O),[X,K]=Un(h,E),[st,nt]=Me(p,R),[J,j]=Me(T);zo(K)||(d===void 0&&(d=F),_===void 0&&(_=U),g===void 0&&(g=B),v===void 0&&!a7(g)&&(v=Y),!zo(et)&&P===void 0&&(P=Q));const[ft,V]=Me(d);return $!==null&&(t.fill=re(et,"currentColor"),t.fillOpacity=no(W,1)),E!==null&&(t.stroke=re(K,"none"),t.strokeWidth=no(V,1),t.strokeOpacity=no(nt,1),t.strokeLinejoin=re(g,"miter"),t.strokeLinecap=re(_,"butt"),t.strokeMiterlimit=no(v,4),t.strokeDasharray=re(w,"none"),t.strokeDashoffset=re(b,"0")),t.target=he(u),t.ariaLabel=he(I),t.ariaDescription=he(o),t.ariaHidden=he(a),t.opacity=no(j,1),t.mixBlendMode=re(M,"normal"),t.imageFilter=re(S,"none"),t.paintOrder=re(P,"normal"),t.pointerEvents=re(k,"auto"),t.shapeRendering=re(A,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:i,optional:!0,filter:null},fill:{value:q,scale:"auto",optional:!0},fillOpacity:{value:Z,scale:"auto",optional:!0},stroke:{value:X,scale:"auto",optional:!0},strokeOpacity:{value:st,scale:"auto",optional:!0},strokeWidth:{value:ft,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function U7(t,e){e&&t.filter(n=>w1(e[n])).append("title").call(H7,e)}function H7(t,e){e&&t.text(n=>Lr(e[n]))}function zr(t,{target:e,tip:n},{ariaLabel:i,title:o,fill:a,fillOpacity:u,stroke:c,strokeOpacity:l,strokeWidth:h,opacity:d,href:p}){i&&St(t,"aria-label",g=>i[g]),a&&St(t,"fill",g=>a[g]),u&&St(t,"fill-opacity",g=>u[g]),c&&St(t,"stroke",g=>c[g]),l&&St(t,"stroke-opacity",g=>l[g]),h&&St(t,"stroke-width",g=>h[g]),d&&St(t,"opacity",g=>d[g]),p&&q7(t,g=>p[g],e),n||U7(t,o)}function ty(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=rn(t,"clip",["frame","sphere"])),t}function W7(t,e,n,i){let o;const{clip:a=i.clip}=e;switch(a){case"frame":{const{width:u,height:c,marginLeft:l,marginRight:h,marginTop:d,marginBottom:p}=n,g=Cm();o=`url(#${g})`,t=be("svg:g",i).call(_=>_.append("svg:clipPath").attr("id",g).append("rect").attr("x",l).attr("y",d).attr("width",u-h-l).attr("height",c-d-p)).each(function(){this.appendChild(t.node()),t.node=()=>this});break}case"sphere":{const{projection:u}=i;if(!u)throw new Error('the "sphere" clip option requires a projection');const c=Cm();o=`url(#${c})`,t.append("clipPath").attr("id",c).append("path").attr("d",cg(u)({type:"Sphere"}));break}}St(t,"aria-label",e.ariaLabel),St(t,"aria-description",e.ariaDescription),St(t,"aria-hidden",e.ariaHidden),St(t,"clip-path",o)}function Bi(t,e,n,i){W7(t,e,n,i),St(t,"fill",e.fill),St(t,"fill-opacity",e.fillOpacity),St(t,"stroke",e.stroke),St(t,"stroke-width",e.strokeWidth),St(t,"stroke-opacity",e.strokeOpacity),St(t,"stroke-linejoin",e.strokeLinejoin),St(t,"stroke-linecap",e.strokeLinecap),St(t,"stroke-miterlimit",e.strokeMiterlimit),St(t,"stroke-dasharray",e.strokeDasharray),St(t,"stroke-dashoffset",e.strokeDashoffset),St(t,"shape-rendering",e.shapeRendering),St(t,"filter",e.imageFilter),St(t,"paint-order",e.paintOrder);const{pointerEvents:o=i.pointerSticky===!1?"none":void 0}=e;St(t,"pointer-events",o)}function Di(t,e){V7(t,"mix-blend-mode",e.mixBlendMode),St(t,"opacity",e.opacity)}function q7(t,e,n){t.each(function(i){const o=e(i);if(o!=null){const a=this.ownerDocument.createElementNS(mr.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(mr.xlink,"href",o),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function St(t,e,n){n!=null&&t.attr(e,n)}function V7(t,e,n){n!=null&&t.style(e,n)}function Ri(t,e,{x:n,y:i},o=Te,a=Te){o+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(o+=n.bandwidth()/2),i!=null&&i.bandwidth&&(a+=i.bandwidth()/2),(o||a)&&t.attr("transform",`translate(${o},${a})`)}function re(t,e){if((t=he(t))!==e)return t}function no(t,e){if((t=Ft(t))!==e)return t}const Y7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Sl(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!Y7.test(t))throw new Error(`invalid class name: ${t}`);return t}function Pl(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function uu({frameAnchor:t},{width:e,height:n,marginTop:i,marginRight:o,marginBottom:a,marginLeft:u}){return[/left$/.test(t)?u:/right$/.test(t)?e-o:(u+e-o)/2,/^top/.test(t)?i:/^bottom/.test(t)?n-a:(i+n-a)/2]}function kl(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:ty(n)}}function be(t,{document:e}){return xe(Rs(t).call(e.documentElement))}const ey=Math.PI,kn=2*ey,Am=.618;function G7({projection:t,inset:e=0,insetTop:n=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e}={},u){if(t==null)return;if(typeof t.stream=="function")return t;let c,l,h="frame";if(ii(t)){let k;if({type:t,domain:l,inset:k,insetTop:n=k!==void 0?k:n,insetRight:i=k!==void 0?k:i,insetBottom:o=k!==void 0?k:o,insetLeft:a=k!==void 0?k:a,clip:h=h,...c}=t,t==null)return}typeof t!="function"&&({type:t}=ny(t));const{width:d,height:p,marginLeft:g,marginRight:_,marginTop:v,marginBottom:w}=u,b=d-g-_-a-i,T=p-v-w-n-o;if(t=t==null?void 0:t({width:b,height:T,clip:h,...c}),t==null)return;h=X7(h,g,v,d-_,p-w);let M=g+a,S=v+n,P;if(l!=null){const[[k,A],[N,I]]=cg(t).bounds(l),$=Math.min(b/(N-k),T/(I-A));$>0?(M-=($*(k+N)-b)/2,S-=($*(A+I)-T)/2,P=_c({point(O,E){this.stream.point(O*$+M,E*$+S)}})):wi("Warning: the projection could not be fit to the specified domain; using the default scale.")}return P??(P=M===0&&S===0?iy():_c({point(k,A){this.stream.point(k+M,A+S)}})),{stream:k=>t.stream(P.stream(h(k)))}}function ny(t){switch(`${t}`.toLowerCase()){case"albers-usa":return qe(P5,.7463,.4673);case"albers":return za(pg,.7463,.4673);case"azimuthal-equal-area":return qe(k5,4,4);case"azimuthal-equidistant":return qe(C5,kn,kn);case"conic-conformal":return za($5,kn,kn);case"conic-equal-area":return za(ys,6.1702,2.9781);case"conic-equidistant":return za(O5,7.312,3.6282);case"equal-earth":return qe(B5,5.4133,2.6347);case"equirectangular":return qe(N5,kn,ey);case"gnomonic":return qe(D5,3.4641,3.4641);case"identity":return{type:iy};case"reflect-y":return{type:j7};case"mercator":return qe(A5,kn,kn);case"orthographic":return qe(R5,2,2);case"stereographic":return qe(Z5,2,2);case"transverse-mercator":return qe(F5,kn,kn);default:throw new Error(`unknown projection type: ${t}`)}}function X7(t,e,n,i,o){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return J0(e,n,i,o);default:throw new Error(`unknown projection clip type: ${t}`)}}function qe(t,e,n){return{type:({width:i,height:o,rotate:a,precision:u=.15,clip:c})=>{var h,d,p;const l=t();return u!=null&&((h=l.precision)==null||h.call(l,u)),a!=null&&((d=l.rotate)==null||d.call(l,a)),typeof c=="number"&&((p=l.clipAngle)==null||p.call(l,c)),l.scale(Math.min(i/e,o/n)),l.translate([i/2,o/2]),l},aspectRatio:n/e}}function za(t,e,n){const{type:i,aspectRatio:o}=qe(t,e,n);return{type:a=>{const{parallels:u,domain:c,width:l,height:h}=a,d=i(a);return u!=null&&(d.parallels(u),c===void 0&&d.fitSize([l,h],{type:"Sphere"})),d},aspectRatio:o}}const iy=Ko({stream:t=>t}),j7=Ko(_c({point(t,e){this.stream.point(t,-e)}}));function K7(t,e,n,i){const o=n[t],a=n[e],u=o.length,c=n[t]=new Float64Array(u).fill(NaN),l=n[e]=new Float64Array(u).fill(NaN);let h;const d=i.stream({point(p,g){c[h]=p,l[h]=g}});for(h=0;h<u;++h)d.point(o[h],a[h])}function J7({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(ii(t)&&(t=t.type),t!=null)}function Q7(t){if(typeof(t==null?void 0:t.stream)=="function")return Am;if(ii(t)&&(t=t.type),t!=null){if(typeof t!="function"){const{aspectRatio:e}=ny(t);if(e)return e}return Am}}function tM(t){const e=[],n=[],i={scale:"x",value:e},o={scale:"y",value:n},a={point(u,c){e.push(u),n.push(c)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const u of t.value)hi(u,a);return[i,o]}const ry=new Map([["accent",l4],["category10",c4],["dark2",h4],["paired",d4],["pastel1",m4],["pastel2",p4],["set1",g4],["set2",_4],["set3",y4],["tableau10",v4]]);function eM(t){return t!=null&&ry.has(`${t}`.toLowerCase())}const Em=new Map([...ry,["brbg",Cn(t_,e_)],["prgn",Cn(n_,i_)],["piyg",Cn(r_,o_)],["puor",Cn(a_,s_)],["rdbu",Cn(xc,xs)],["rdgy",Cn(u_,f_)],["rdylbu",Cn(Mc,Ms)],["rdylgn",Cn(c_,l_)],["spectral",Cn(h_,d_)],["burd",$m(xc,xs)],["buylrd",$m(Mc,Ms)],["blues",jt(Mr,D_)],["greens",jt(R_,Z_)],["greys",jt(F_,U_)],["oranges",jt(Y_,G_)],["purples",jt(H_,W_)],["reds",jt(q_,V_)],["turbo",An(e1)],["viridis",An(n1)],["magma",An(i1)],["inferno",An(r1)],["plasma",An(o1)],["cividis",An(X_)],["cubehelix",An(j_)],["warm",An(K_)],["cool",An(J_)],["bugn",jt(m_,p_)],["bupu",jt(g_,__)],["gnbu",jt(y_,v_)],["orrd",jt(b_,w_)],["pubu",jt(T_,L_)],["pubugn",jt(x_,M_)],["purd",jt(S_,P_)],["rdpu",jt(k_,C_)],["ylgn",jt($_,N_)],["ylgnbu",jt(A_,E_)],["ylorbr",jt(z_,O_)],["ylorrd",jt(I_,B_)],["rainbow",Nm(Q_)],["sinebow",Nm(t1)]]);function jt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?je(e,n):t[n])}function Cn(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?je(e,n):t[n])}function $m(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?je(i=>e(1-i),n):t[n].slice().reverse())}function An(t){return({length:e})=>je(t,Math.max(2,Math.floor(e)))}function Nm(t){return({length:e})=>je(t,Math.floor(e)+1).slice(0,-1)}function oy(t){const e=`${t}`.toLowerCase();if(!Em.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Em.get(e)}function fu(t,e){const n=oy(t),i=typeof n=="function"?n({length:e}):n;return i.length!==e?i.slice(0,e):i}function nM(t,e="greys"){const n=new Set,[i,o]=fu(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(o);else if(a===!1)n.add(i);else return;return[...n]}const zm=new Map([["brbg",e_],["prgn",i_],["piyg",o_],["puor",s_],["rdbu",xs],["rdgy",f_],["rdylbu",Ms],["rdylgn",l_],["spectral",d_],["burd",t=>xs(1-t)],["buylrd",t=>Ms(1-t)],["blues",D_],["greens",Z_],["greys",U_],["purples",W_],["reds",V_],["oranges",G_],["turbo",e1],["viridis",n1],["magma",i1],["inferno",r1],["plasma",o1],["cividis",X_],["cubehelix",j_],["warm",K_],["cool",J_],["bugn",p_],["bupu",__],["gnbu",v_],["orrd",w_],["pubugn",M_],["pubu",L_],["purd",P_],["rdpu",C_],["ylgnbu",E_],["ylgn",N_],["ylorbr",O_],["ylorrd",B_],["rainbow",Q_],["sinebow",t1]]);function Cl(t){const e=`${t}`.toLowerCase();if(!zm.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return zm.get(e)}const iM=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function rM(t){return t!=null&&iM.has(`${t}`.toLowerCase())}const ay=t=>e=>t(1-e),wf=[0,1],Om=new Map([["number",ue],["rgb",Pi],["hsl",l6],["hcl",m6],["lab",h6]]);function sy(t){const e=`${t}`.toLowerCase();if(!Om.has(e))throw new Error(`unknown interpolator: ${e}`);return Om.get(e)}function na(t,e,n,{type:i,nice:o,clamp:a,zero:u,domain:c=fy(t,n),unknown:l,round:h,scheme:d,interval:p,range:g=Ht.get(t)===Qo?pM(n,c):Ht.get(t)===ta?gM(n,c):Ht.get(t)===ea?wf:void 0,interpolate:_=Ht.get(t)===Wn?d==null&&g!==void 0?Pi:Cl(d!==void 0?d:i==="cyclical"?"rainbow":"turbo"):h?Qc:ue,reverse:v}){if(p=Jo(p,i),(i==="cyclical"||i==="sequential")&&(i="linear"),typeof _!="function"&&(_=sy(_)),v=!!v,g!==void 0){const w=(c=ke(c)).length,b=(g=ke(g)).length;if(w!==b){if(_.length===1)throw new Error("invalid piecewise interpolator");_=Us(_,g),g=void 0}}if(_.length===1?(v&&(_=ay(_),v=!1),g===void 0&&(g=Float64Array.from(c,(w,b)=>b/(c.length-1)),g.length===2&&(g=wf)),e.interpolate((g===wf?Ko:El)(_))):e.interpolate(_),u){const[w,b]=Re(c);(w>0||b<0)&&(c=$o(c),Tr(c)!==Math.sign(w)?c[c.length-1]=0:c[0]=0)}return v&&(c=Qa(c)),e.domain(c).unknown(l),o&&(e.nice(oM(o,i)),c=e.domain()),g!==void 0&&e.range(g),a&&e.clamp(a),{type:i,domain:c,range:g,scale:e,interpolate:_,interval:p}}function oM(t,e){return t===!0?void 0:typeof t=="number"?t:J4(t,e)}function aM(t,e,n){return na(t,ko(),e,n)}function sM(t,e,n){return uy(t,e,{...n,exponent:.5})}function uy(t,e,{exponent:n=1,...i}){return na(t,zg().exponent(n),e,{...i,type:"pow"})}function uM(t,e,{base:n=10,domain:i=_M(e),...o}){return na(t,Ag().base(n),e,{...o,domain:i})}function fM(t,e,{constant:n=1,...i}){return na(t,$g().constant(n),e,i)}function cM(t,e,{range:n,quantiles:i=n===void 0?5:(n=[...n]).length,n:o=i,scheme:a="rdylbu",domain:u=yM(e),unknown:c,interpolate:l,reverse:h}){return n===void 0&&(n=l!==void 0?je(l,o):Ht.get(t)===Wn?fu(a,o):void 0),u.length>0&&(u=Og(u,n===void 0?{length:o}:n).quantiles()),Al(t,e,{domain:u,range:n,reverse:h,unknown:c})}function lM(t,e,{range:n,n:i=n===void 0?5:(n=[...n]).length,scheme:o="rdylbu",domain:a=fy(t,e),unknown:u,interpolate:c,reverse:l}){const[h,d]=Re(a);let p;return n===void 0?(p=xo(h,d,i),p[0]<=h&&p.splice(0,1),p[p.length-1]>=d&&p.pop(),i=p.length+1,n=c!==void 0?je(c,i):Ht.get(t)===Wn?fu(o,i):void 0):(p=je(ue(h,d),i+1).slice(1,-1),h instanceof Date&&(p=p.map(g=>new Date(g)))),Tr(ke(a))<0&&p.reverse(),Al(t,e,{domain:p,range:n,reverse:l,unknown:u})}function Al(t,e,{domain:n=[0],unknown:i,scheme:o="rdylbu",interpolate:a,range:u=a!==void 0?je(a,n.length+1):Ht.get(t)===Wn?fu(o,n.length+1):void 0,reverse:c}){n=ke(n);const l=Tr(n);if(!isNaN(l)&&!hM(n,l))throw new Error(`the ${t} scale has a non-monotonic domain`);return c&&(u=Qa(u)),{type:"threshold",scale:Ig(l<0?Qa(n):n,u===void 0?[]:u).unknown(i),domain:n,range:u}}function hM(t,e){for(let n=1,i=t.length,o=t[0];n<i;++n){const a=Ro(o,o=t[n]);if(a!==0&&a!==e)return!1}return!0}function dM(t){return{type:"identity",scale:c7(Ht.get(t))?Pg():e=>e}}function Io(t,e=x1){return t.length?[Bn(t,({value:n})=>n===void 0?n:Bn(n,e)),Xe(t,({value:n})=>n===void 0?n:Xe(n,e))]:[0,1]}function fy(t,e){const n=Ht.get(t);return(n===Qo||n===ea||n===ta?mM:Io)(e)}function mM(t){return[0,t.length?Xe(t,({value:e})=>e===void 0?e:Xe(e,x1)):1]}function pM(t,e){const n=t.find(({radius:u})=>u!==void 0);if(n!==void 0)return[0,n.radius];const i=Ja(t,.5,({value:u})=>u===void 0?NaN:Ja(u,.25,pl)),o=e.map(u=>3*Math.sqrt(u/i)),a=30/Xe(o);return a<1?o.map(u=>u*a):o}function gM(t,e){const n=Df(t,({value:a})=>a===void 0?NaN:Df(a,Math.abs)),i=e.map(a=>12*a/n),o=60/Xe(i);return o<1?i.map(a=>a*o):i}function _M(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return Io(t,pl);if(n<0)return Io(t,M1)}return[1,10]}function yM(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const i of n)e.push(i);return e}function El(t){return(e,n)=>i=>t(e+i*(n-e))}function cu(t,e,n,i,{type:o,nice:a,clamp:u,domain:c=Io(i),unknown:l,pivot:h=0,scheme:d,range:p,symmetric:g=!0,interpolate:_=Ht.get(t)===Wn?d==null&&p!==void 0?Pi:Cl(d!==void 0?d:"rdbu"):ue,reverse:v}){h=+h,c=ke(c);let[w,b]=c;if(c.length>2&&wi(`Warning: the diverging ${t} scale domain contains extra elements.`),Ro(w,b)<0&&([w,b]=[b,w],v=!v),w=Math.min(w,h),b=Math.max(b,h),typeof _!="function"&&(_=sy(_)),p!==void 0&&(_=_.length===1?El(_)(...p):Us(_,p)),v&&(_=ay(_)),g){const T=n.apply(h),M=T-n.apply(w),S=n.apply(b)-T;M<S?w=n.invert(T-S):M>S&&(b=n.invert(T+M))}return e.domain([w,h,b]).unknown(l).interpolator(_),u&&e.clamp(u),a&&e.nice(a),{type:o,domain:[w,b],pivot:h,interpolate:_,scale:e}}function vM(t,e,n){return cu(t,jg(),MM,e,n)}function bM(t,e,n){return cy(t,e,{...n,exponent:.5})}function cy(t,e,{exponent:n=1,...i}){return cu(t,Qg().exponent(n=+n),SM(n),e,{...i,type:"diverging-pow"})}function wM(t,e,{base:n=10,pivot:i=1,domain:o=Io(e,i<0?M1:pl),...a}){return cu(t,Kg().base(n=+n),TM,e,{domain:o,pivot:i,...a})}function xM(t,e,{constant:n=1,...i}){return cu(t,Jg().constant(n=+n),PM(n),e,i)}const MM={apply(t){return t},invert(t){return t}},TM={apply:Math.log,invert:Math.exp},LM={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function SM(t){return t===.5?LM:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function PM(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function ly(t,e,n,i){return na(t,e,n,i)}function kM(t,e,n){return ly(t,u4(),e,n)}function CM(t,e,n){return ly(t,f4(),e,n)}const ia=Symbol("ordinal");function hy(t,e,n,{type:i,interval:o,domain:a,range:u,reverse:c,hint:l}){return o=Jo(o,i),a===void 0&&(a=my(n,o,t)),(i==="categorical"||i===ia)&&(i="ordinal"),c&&(a=Qa(a)),a=e.domain(a).domain(),u!==void 0&&(typeof u=="function"&&(u=u(a)),e.range(u)),{type:i,domain:a,range:u,scale:e,hint:l,interval:o}}function AM(t,e,{type:n,interval:i,domain:o,range:a,scheme:u,unknown:c,...l}){i=Jo(i,n),o===void 0&&(o=my(e,i,t));let h;if(Ht.get(t)===su)h=NM(e),a=a===void 0?zM(h):ee(a,Ml);else if(Ht.get(t)===Wn&&(a===void 0&&(n==="ordinal"||n===ia)&&(a=nM(o,u),a!==void 0&&(u=void 0)),u===void 0&&a===void 0&&(u=n==="ordinal"?"turbo":"tableau10"),u!==void 0))if(a!==void 0){const d=Cl(u),p=a[0],g=a[1]-a[0];a=({length:_})=>je(v=>d(p+g*v),_)}else a=oy(u);if(c===vc)throw new Error(`implicit unknown on ${t} scale is not supported`);return hy(t,fl().unknown(c),e,{...l,type:n,domain:o,range:a,hint:h})}function EM(t,e,{align:n=.5,padding:i=.5,...o}){return dy(U5().align(n).padding(i),e,o,t)}function $M(t,e,{align:n=.5,padding:i=.1,paddingInner:o=i,paddingOuter:a=t==="fx"||t==="fy"?0:i,...u}){return dy(Gs().align(n).paddingInner(o).paddingOuter(a),e,u,t)}function dy(t,e,n,i){let{round:o}=n;return o!==void 0&&t.round(o=!!o),t=hy(i,t,e,n),t.round=o,t}function my(t,e,n){const i=new Bs;for(const{value:o,domain:a}of t){if(a!==void 0)return a();if(o!==void 0)for(const u of o)i.add(u)}if(e!==void 0){const[o,a]=Re(i).map(e.floor,e);return e.range(o,e.offset(a))}if(i.size>1e4&&Ht.get(n)===pn)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return wo(i,Qe)}function Im(t,e){let n;for(const{hint:i}of t){const o=i==null?void 0:i[e];if(o!==void 0){if(n===void 0)n=o;else if(n!==o)return}}return n}function NM(t){return{fill:Im(t,"fill"),stroke:Im(t,"stroke")}}function zM(t){return me(t.fill)?A4:C4}function $c(t,{label:e,inset:n=0,insetTop:i=n,insetRight:o=n,insetBottom:a=n,insetLeft:u=n,round:c,nice:l,clamp:h,zero:d,align:p,padding:g,projection:_,facet:{label:v=e}={},...w}={}){const b={};for(const[T,M]of t){const S=w[T],P=DM(T,M,{round:Ht.get(T)===pn?c:void 0,nice:l,clamp:h,zero:d,align:p,padding:g,projection:_,...S});if(P){let{label:k=T==="fx"||T==="fy"?v:e,percent:A,transform:N,inset:I,insetTop:$=I!==void 0?I:T==="y"?i:0,insetRight:O=I!==void 0?I:T==="x"?o:0,insetBottom:E=I!==void 0?I:T==="y"?a:0,insetLeft:R=I!==void 0?I:T==="x"?u:0}=S||{};if(N==null)N=void 0;else if(typeof N!="function")throw new Error("invalid scale transform; not a function");P.percent=!!A,P.label=k===void 0?IM(M,P):k,P.transform=N,T==="x"||T==="fx"?(P.insetLeft=+R,P.insetRight=+O):(T==="y"||T==="fy")&&(P.insetTop=+$,P.insetBottom=+E),b[T]=P}}return b}function Bm(t){const e={},n={scales:e};for(const[i,o]of Object.entries(t)){const{scale:a,type:u,interval:c,label:l}=o;e[i]=HM(o),n[i]=a,a.type=u,c!=null&&(a.interval=c),l!=null&&(a.label=l)}return n}function OM(t,e){const{x:n,y:i,fx:o,fy:a}=t,u=o||a?$l(e):e;o&&Dm(o,u),a&&Rm(a,u);const c=o||a?py(t,e):e;n&&Dm(n,c),i&&Rm(i,c)}function IM(t=[],e){let n;for(const{label:i}of t)if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}if(n!==void 0)return!Zi(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function $l(t){const{marginTop:e,marginRight:n,marginBottom:i,marginLeft:o,width:a,height:u,facet:{marginTop:c,marginRight:l,marginBottom:h,marginLeft:d}}=t;return{marginTop:Math.max(e,c),marginRight:Math.max(n,l),marginBottom:Math.max(i,h),marginLeft:Math.max(o,d),width:a,height:u}}function py({fx:t,fy:e},n){const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:c,height:l}=$l(n);return{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:t?t.scale.bandwidth()+u+o:c,height:e?e.scale.bandwidth()+i+a:l,facet:{width:c,height:l}}}function Dm(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:i}=t,{width:o,marginLeft:a=0,marginRight:u=0}=e,c=a+n,l=o-u-i;t.range=[c,Math.max(c,l)],Zi(t)||(t.range=_y(t)),t.scale.range(t.range)}gy(t)}function Rm(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:i}=t,{height:o,marginTop:a=0,marginBottom:u=0}=e,c=a+n,l=o-u-i;t.range=[Math.max(c,l),c],Zi(t)?t.range.reverse():t.range=_y(t),t.scale.range(t.range)}gy(t)}function gy(t){t.round===void 0&&ZM(t)&&BM(t)<=30&&t.scale.round(!0)}function BM({scale:t}){const e=t.domain().length,[n,i]=t.range(),o=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),u=e-o,c=Math.abs(i-n)/Math.max(1,u+a*2);return(c-Math.floor(c))*u}function _y(t){const e=t.scale.domain().length+yy(t);if(!(e>2))return t.range;const[n,i]=t.range;return Array.from({length:e},(o,a)=>n+a/(e-1)*(i-n))}function DM(t,e=[],n={}){const i=RM(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Zi({type:i})){const o=e.map(({value:a})=>a).filter(a=>a!==void 0);o.some(Fe)?wi(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${er(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${er(i)}".`):o.some(e7)?wi(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${er(i)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${er(i)}".`):o.some(n7)&&wi(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${er(i)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${er(i)}".`)}switch(n.type=i,i){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Oa(e,n,wm);break;case"identity":switch(Ht.get(t)){case pn:n=Oa(e,n,wm);break;case su:n=Oa(e,n,FM);break}break;case"utc":case"time":n=Oa(e,n,H4);break}switch(i){case"diverging":return vM(t,e,n);case"diverging-sqrt":return bM(t,e,n);case"diverging-pow":return cy(t,e,n);case"diverging-log":return wM(t,e,n);case"diverging-symlog":return xM(t,e,n);case"categorical":case"ordinal":case ia:return AM(t,e,n);case"cyclical":case"sequential":case"linear":return aM(t,e,n);case"sqrt":return sM(t,e,n);case"threshold":return Al(t,e,n);case"quantile":return cM(t,e,n);case"quantize":return lM(t,e,n);case"pow":return uy(t,e,n);case"log":return uM(t,e,n);case"symlog":return fM(t,e,n);case"utc":return CM(t,e,n);case"time":return kM(t,e,n);case"point":return EM(t,e,n);case"band":return $M(t,e,n);case"identity":return dM(t);case void 0:return;default:throw new Error(`unknown scale type: ${i}`)}}function er(t){return typeof t=="symbol"?t.description:t}const Zm={toString:()=>"projection"};function RM(t,e,{type:n,domain:i,range:o,scheme:a,pivot:u,projection:c}){if(t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&c!=null&&(n=Zm);for(const{type:h}of e)if(h!==void 0){if(n===void 0)n=h;else if(n!==h)throw new Error(`scale incompatible with channel: ${n} !== ${h}`)}if(n===Zm)return;if(n!==void 0)return n;if(i===void 0&&!e.some(({value:h})=>h!==void 0))return;const l=Ht.get(t);if(l===Qo)return"sqrt";if(l===ea||l===ta)return"linear";if(l===su)return"ordinal";if((i||o||[]).length>2)return xf(l);if(i!==void 0){if(xm(i))return xf(l);if(Fe(i))return"utc"}else{const h=e.map(({value:d})=>d).filter(d=>d!==void 0);if(h.some(xm))return xf(l);if(h.some(Fe))return"utc"}if(l===Wn){if(u!=null||rM(a))return"diverging";if(eM(a))return"categorical"}return"linear"}function xf(t){switch(t){case pn:return"point";case Wn:return ia;default:return"ordinal"}}function Zi({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===ia}function yy({type:t}){return t==="threshold"}function ZM({type:t}){return t==="point"||t==="band"}function Sr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let i=1,o=e.length;i<o;++i)if(t(e[i])-n)return!1;return!0}function Oa(t,{domain:e,...n},i){for(const o of t)o.value!==void 0&&(o.value=i(o.value));return{domain:e===void 0?e:i(e),...n}}function FM(t){return ee(t,Ml)}function UM(t){return e=>{if(!Ht.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function HM({scale:t,type:e,domain:n,range:i,interpolate:o,interval:a,transform:u,percent:c,pivot:l}){if(e==="identity")return{type:"identity",apply:d=>d,invert:d=>d};const h=t.unknown?t.unknown():void 0;return{type:e,domain:$o(n),...i!==void 0&&{range:$o(i)},...u!==void 0&&{transform:u},...c&&{percent:c},...h!==void 0&&{unknown:h},...a!==void 0&&{interval:a},...o!==void 0&&{interpolate:o},...t.clamp&&{clamp:t.clamp()},...l!==void 0&&{pivot:l,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:d=>t(d),...t.invert&&{invert:d=>t.invert(d)}}}function WM(t,e,n={}){let i=.5-Te,o=.5+Te,a=.5+Te,u=.5-Te;for(const{marginTop:w,marginRight:b,marginBottom:T,marginLeft:M}of e)w>i&&(i=w),b>o&&(o=b),T>a&&(a=T),M>u&&(u=M);let{margin:c,marginTop:l=c!==void 0?c:i,marginRight:h=c!==void 0?c:o,marginBottom:d=c!==void 0?c:a,marginLeft:p=c!==void 0?c:u}=n;l=+l,h=+h,d=+d,p=+p;let{width:g=640,height:_=qM(t,n,{width:g,marginTopDefault:i,marginRightDefault:o,marginBottomDefault:a,marginLeftDefault:u})+Math.max(0,l-i+d-a)}=n;g=+g,_=+_;const v={width:g,height:_,marginTop:l,marginRight:h,marginBottom:d,marginLeft:p};if(t.fx||t.fy){let{margin:w,marginTop:b=w!==void 0?w:l,marginRight:T=w!==void 0?w:h,marginBottom:M=w!==void 0?w:d,marginLeft:S=w!==void 0?w:p}=n.facet??{};b=+b,T=+T,M=+M,S=+S,v.facet={marginTop:b,marginRight:T,marginBottom:M,marginLeft:S}}return v}function qM({x:t,y:e,fy:n,fx:i},{projection:o,aspectRatio:a},{width:u,marginTopDefault:c,marginRightDefault:l,marginBottomDefault:h,marginLeftDefault:d}){const p=n?n.scale.domain().length:1,g=Q7(o);if(g){const v=i?i.scale.domain().length:1,w=(1.1*p-.1)/(1.1*v-.1)*g,b=Math.max(.1,Math.min(10,w));return Math.round((u-d-l)*b+c+h)}const _=e?Zi(e)?e.scale.domain().length:Math.max(7,17/p):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const v=Fm("y",e)/(Fm("x",t)*a),w=i?i.scale.bandwidth():1,b=n?n.scale.bandwidth():1,T=w*(u-d-l)-t.insetLeft-t.insetRight;return(v*T+e.insetTop+e.insetBottom)/b+c+h}return!!(e||n)*Math.max(1,Math.min(60,_*p))*20+!!i*30+60}function Fm(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:i}=e;let o;switch(n){case"linear":case"utc":case"time":o=Number;break;case"pow":{const c=e.scale.exponent();o=l=>Math.pow(l,c);break}case"log":o=Math.log;break;case"point":case"band":return i.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,u]=Re(i);return Math.abs(o(u)-o(a))}function VM(t,e){const{fx:n,fy:i}=$c(t,e),o=n==null?void 0:n.scale.domain(),a=i==null?void 0:i.scale.domain();return o&&a?xw(o,a).map(([u,c],l)=>({x:u,y:c,i:l})):o?o.map((u,c)=>({x:u,i:c})):a?a.map((u,c)=>({y:u,i:c})):void 0}function YM(t,{x:e,y:n}){return e&&(e=Nc(e)),n&&(n=Nc(n)),t.filter(e&&n?i=>e.has(i.x)&&n.has(i.y):e?i=>e.has(i.x):i=>n.has(i.y)).sort(e&&n?(i,o)=>e.get(i.x)-e.get(o.x)||n.get(i.y)-n.get(o.y):e?(i,o)=>e.get(i.x)-e.get(o.x):(i,o)=>n.get(i.y)-n.get(o.y))}function Nl(t,{fx:e,fy:n}){const i=Hn(t),o=e==null?void 0:e.value,a=n==null?void 0:n.value;return e&&n?ur(i,u=>(u.fx=o[u[0]],u.fy=a[u[0]],u),u=>o[u],u=>a[u]):e?ur(i,u=>(u.fx=o[u[0]],u),u=>o[u]):ur(i,u=>(u.fy=a[u[0]],u),u=>a[u])}function GM(t,e,{marginTop:n,marginLeft:i}){return t&&e?({x:o,y:a})=>`translate(${t(o)-i},${e(a)-n})`:t?({x:o})=>`translate(${t(o)-i},0)`:({y:o})=>`translate(0,${e(o)-n})`}function XM(t){const e=[],n=new Uint32Array(Jn(t,i=>i.length));for(const i of t){let o=0;for(const a of t)i!==a&&(n.set(a,o),o+=a.length);e.push(n.slice(0,o))}return e}const jM=new Map([["top",Mf],["right",Sf],["bottom",Tf],["left",Lf],["top-left",Ia(Mf,Lf)],["top-right",Ia(Mf,Sf)],["bottom-left",Ia(Tf,Lf)],["bottom-right",Ia(Tf,Sf)],["top-empty",QM],["right-empty",n9],["bottom-empty",t9],["left-empty",e9],["empty",i9]]);function KM(t){if(t==null)return null;const e=jM.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Um=new WeakMap;function Nc(t){let e=Um.get(t);return e||Um.set(t,e=new Ti(ee(t,(n,i)=>[n,i]))),e}function ri(t,e){return Nc(t).get(e)}function JM(t,e,n){return e=Na(e),n=Na(n),t.find(i=>Object.is(Na(i.x),e)&&Object.is(Na(i.y),n))}function lu(t,e,n){var i;return(i=JM(t,e,n))==null?void 0:i.empty}function Mf(t,{y:e},{y:n}){return e?ri(e,n)===0:!0}function Tf(t,{y:e},{y:n}){return e?ri(e,n)===e.length-1:!0}function Lf(t,{x:e},{x:n}){return e?ri(e,n)===0:!0}function Sf(t,{x:e},{x:n}){return e?ri(e,n)===e.length-1:!0}function QM(t,{y:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ri(e,i);if(a>0)return lu(t,n,e[a-1])}function t9(t,{y:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ri(e,i);if(a<e.length-1)return lu(t,n,e[a+1])}function e9(t,{x:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ri(e,n);if(a>0)return lu(t,e[a-1],i)}function n9(t,{x:e},{x:n,y:i,empty:o}){if(o)return!1;if(!e)return;const a=ri(e,n);if(a<e.length-1)return lu(t,e[a+1],i)}function i9(t,e,{empty:n}){return n}function Ia(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Pf(t,{channels:{fx:e,fy:n},groups:i}){return e&&n?t.map(({x:o,y:a})=>{var u;return((u=i.get(o))==null?void 0:u.get(a))??[]}):e?t.map(({x:o})=>i.get(o)??[]):t.map(({y:o})=>i.get(o)??[])}class wn{constructor(e,n={},i={},o){const{facet:a="auto",facetAnchor:u,fx:c,fy:l,sort:h,dx:d=0,dy:p=0,margin:g=0,marginTop:_=g,marginRight:v=g,marginBottom:w=g,marginLeft:b=g,clip:T=o==null?void 0:o.clip,channels:M,tip:S,render:P}=i;if(this.data=e,this.sort=No(h)?h:null,this.initializer=ks(i).initializer,this.transform=this.initializer?i.transform:Tl(i).transform,a===null||a===!1?this.facet=null:(this.facet=rn(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===Va&&typeof c=="string"?[c]:c,this.fy=e===Va&&typeof l=="string"?[l]:l),this.facetAnchor=KM(u),n=R1(n),M!==void 0&&(n={...r9(M),...n}),o!==void 0&&(n={...F7(this,i,o),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([k,A])=>{if(vl(A.value)){const{value:N,label:I=A.label,scale:$=A.scale}=A.value;A={...A,label:I,scale:$,value:N}}if(e===Va&&typeof A.value=="string"){const{value:N}=A;A={...A,value:[N]}}return[k,A]}).filter(([k,{value:A,optional:N}])=>{if(A!=null)return!0;if(N)return!1;throw new Error(`missing channel value: ${k}`)})),this.dx=+d,this.dy=+p,this.marginTop=+_,this.marginRight=+v,this.marginBottom=+w,this.marginLeft=+b,this.clip=ty(T),this.tip=o9(S),this.facet==="super"){if(c||l)throw new Error("super-faceting cannot use fx or fy");for(const k in this.channels){const{scale:A}=n[k];if(!(A!=="x"&&A!=="y"))throw new Error("super-faceting cannot use x or y")}}P!=null&&(this.render=by(P,this.render))}initialize(e,n,i){let o=ke(this.data);e===void 0&&o!=null&&(e=[Hn(o)]);const a=e;this.transform!=null&&({facets:e,data:o}=this.transform(o,e,i),o=ke(o)),e!==void 0&&(e.original=a);const u=k7(this.channels,o);return this.sort!=null&&A7(o,e,u,n,this.sort),{data:o,facets:e,channels:u}}filter(e,n,i){for(const o in n){const{filter:a=$i}=n[o];if(a!==null){const u=i[o];e=e.filter(c=>a(u[c]))}}return e}project(e,n,i){for(const o in e)if(e[o].scale==="x"&&/^x|x$/.test(o)){const a=o.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&K7(o,a,n,i.projection)}}scale(e,n,i){const o=C7(e,n);return i.projection&&this.project(e,o,i),o}}function vy(...t){return t.plot=wn.prototype.plot,t}function by(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,i,o,a,u,c){return t.call(this,n,i,o,a,u,(l,h,d,p,g)=>e.call(this,l,h,d,p,g,c))}}function r9(t){return Object.fromEntries(Object.entries(R1(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:ou(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function o9(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?rn(t,"tip",["x","y","xy"]):t}function zl(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:ii(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}const Hm=new WeakMap;function Ol(t,e,{x:n,y:i,px:o,py:a,maxRadius:u=40,channels:c,render:l,...h}={}){return u=+u,o!=null&&(n??(n=null),c={...c,px:{value:o,scale:"x"}}),a!=null&&(i??(i=null),c={...c,py:{value:a,scale:"y"}}),{x:n,y:i,channels:c,...h,render:by(function(d,p,g,_,v,w){v={...v,pointerSticky:!1};const b=v.ownerSVGElement,{data:T}=v.getMarkState(this);let M=Hm.get(b);M||Hm.set(b,M={sticky:!1,roots:[],renders:[]});let S=M.renders.push(K)-1;const{x:P,y:k,fx:A,fy:N}=p;let I=A?A(d.fx)-_.marginLeft:0,$=N?N(d.fy)-_.marginTop:0;P!=null&&P.bandwidth&&(I+=P.bandwidth()/2),k!=null&&k.bandwidth&&($+=k.bandwidth()/2);const O=d.fi!=null;let E;if(O){let j=M.facetStates;j||(M.facetStates=j=new Map),E=j.get(this),E||j.set(this,E=new Map)}const[R,F]=uu(this,_),{px:U,py:B}=g,Y=U?j=>U[j]:wy(g,R),Q=B?j=>B[j]:xy(g,F);let q,et,Z,W;function X(j,ft){if(O)if(W&&(W=cancelAnimationFrame(W)),j==null)E.delete(d.fi);else{E.set(d.fi,ft),W=requestAnimationFrame(()=>{W=null;for(const[V,tt]of E)if(tt<ft||tt===ft&&V<d.fi){j=null;break}K(j)});return}K(j)}function K(j){if(q===j&&Z===M.sticky)return;q=j,Z=v.pointerSticky=M.sticky;const ft=q==null?[]:[q];O&&(ft.fx=d.fx,ft.fy=d.fy,ft.fi=d.fi);const V=w(ft,p,g,_,v);if(et){if(O){const tt=et.parentNode,at=et.getAttribute("transform"),H=V.getAttribute("transform");at?V.setAttribute("transform",at):V.removeAttribute("transform"),H?tt.setAttribute("transform",H):tt.removeAttribute("transform"),V.removeAttribute("aria-label"),V.removeAttribute("aria-description"),V.removeAttribute("aria-hidden")}et.replaceWith(V)}return M.roots[S]=et=V,q==null&&(E==null?void 0:E.size)>1||v.dispatchValue(q==null?null:T[q]),V}function st(j){if(M.sticky||j.pointerType==="mouse"&&j.buttons===1)return;let[ft,V]=Uf(j);ft-=I,V-=$;const tt=ft<_.marginLeft||ft>_.width-_.marginRight?1:t,at=V<_.marginTop||V>_.height-_.marginBottom?1:e;let H=null,vt=u*u;for(const dt of d){const At=tt*(Y(dt)-ft),Et=at*(Q(dt)-V),ct=At*At+Et*Et;ct<=vt&&(H=dt,vt=ct)}if(H!=null&&(t!==1||e!==1)){const dt=Y(H)-ft,At=Q(H)-V;vt=dt*dt+At*At}X(H,vt)}function nt(j){j.pointerType==="mouse"&&q!=null&&(M.sticky&&M.roots.some(ft=>ft==null?void 0:ft.contains(j.target))||(M.sticky?(M.sticky=!1,M.renders.forEach(ft=>ft(null))):(M.sticky=!0,K(q)),j.stopImmediatePropagation()))}function J(j){j.pointerType==="mouse"&&(M.sticky||X(null))}return b.addEventListener("pointerenter",st),b.addEventListener("pointermove",st),b.addEventListener("pointerdown",nt),b.addEventListener("pointerleave",J),K(null)},l)}}function a9(t){return Ol(1,1,t)}function s9(t){return Ol(1,.01,t)}function u9(t){return Ol(.01,1,t)}function wy({x1:t,x2:e,x:n=t},i){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>i}function xy({y1:t,y2:e,y:n=t},i){return t&&e?o=>(t[o]+e[o])/2:n?o=>n[o]:()=>i}function My(t){return Zi(t)&&t.interval===void 0?void 0:"tabular-nums"}function f9(t,e){let{label:n=t.label,tickSize:i=6,width:o=240,height:a=44+i,marginTop:u=18,marginRight:c=0,marginBottom:l=16+i,marginLeft:h=0,style:d,ticks:p=(o-h-c)/64,tickFormat:g,fontVariant:_=My(t),round:v=!0,opacity:w,className:b}=e;const T=kl(e);b=Sl(b),w=Me(w)[1],g===null&&(g=()=>null);const M=be("svg",T).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",o).attr("height",a).attr("viewBox",`0 0 ${o} ${a}`).call(R=>R.append("style").text(`.${b}-ramp {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
.${b}-ramp text {
  white-space: pre;
}`)).call(Pl,d);let S=R=>R.selectAll(".tick line").attr("y1",u+l-a),P;const k=v?(R,F)=>R.rangeRound(F):(R,F)=>R.range(F),{type:A,domain:N,range:I,interpolate:$,scale:O,pivot:E}=t;if($){const R=I===void 0?$:Us($.length===1?El($):$,I);P=k(O.copy(),je(ue(h,o-c),Math.min(N.length+(E!==void 0),I===void 0?1/0:I.length)));const F=256,U=T.document.createElement("canvas");U.width=F,U.height=1;const B=U.getContext("2d");for(let Y=0,Q=F-1;Y<F;++Y)B.fillStyle=R(Y/Q),B.fillRect(Y,0,1,1);M.append("image").attr("opacity",w).attr("x",h).attr("y",u).attr("width",o-h-c).attr("height",a-u-l).attr("preserveAspectRatio","none").attr("xlink:href",U.toDataURL())}else if(A==="threshold"){const R=N,F=g===void 0?U=>U:typeof g=="string"?ze(g):g;P=k(ko().domain([-1,I.length-1]),[h,o-c]),M.append("g").attr("fill-opacity",w).selectAll().data(I).enter().append("rect").attr("x",(U,B)=>P(B-1)).attr("y",u).attr("width",(U,B)=>P(B)-P(B-1)).attr("height",a-u-l).attr("fill",U=>U),p=ee(R,(U,B)=>B),g=U=>F(R[U],U)}else P=k(Gs().domain(N),[h,o-c]),M.append("g").attr("fill-opacity",w).selectAll().data(N).enter().append("rect").attr("x",P).attr("y",u).attr("width",Math.max(0,P.bandwidth()-1)).attr("height",a-u-l).attr("fill",O),S=()=>{};return M.append("g").attr("transform",`translate(0,${a-l})`).call(s0(P).ticks(Array.isArray(p)?null:p,typeof g=="string"?g:void 0).tickFormat(typeof g=="function"?g:void 0).tickSize(i).tickValues(Array.isArray(p)?p:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",re(_,"normal")).call(S).call(R=>R.select(".domain").remove()),n!==void 0&&M.append("text").attr("x",h).attr("y",u-6).attr("fill","currentColor").attr("font-weight","bold").text(n),M.node()}const Ty=Math.PI/180;function Ly(t,{marker:e,markerStart:n=e,markerMid:i=e,markerEnd:o=e}={}){t.markerStart=kf(n),t.markerMid=kf(i),t.markerEnd=kf(o)}function kf(t){if(t==null||t===!1)return null;if(t===!0)return qm;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Wm("auto");case"arrow-reverse":return Wm("auto-start-reverse");case"dot":return c9;case"circle":case"circle-fill":return qm;case"circle-stroke":return l9}throw new Error(`invalid marker: ${t}`)}function Wm(t){return(e,n)=>be("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(i=>i.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function c9(t,e){return be("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function qm(t,e){return be("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function l9(t,e){return be("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}let h9=0;function Sy(t,e,{stroke:n},i){return d9(t,e,n&&(o=>n[o]),i)}function d9(t,{markerStart:e,markerMid:n,markerEnd:i,stroke:o},a=()=>o,u){const c=new Map;function l(h){return function(d){const p=a(d);let g=c.get(h);g||c.set(h,g=new Map);let _=g.get(p);if(!_){const v=this.parentNode.insertBefore(h(p,u),this),w=`plot-marker-${++h9}`;v.setAttribute("id",w),g.set(p,_=`url(#${w})`)}return _}}e&&t.attr("marker-start",l(e)),n&&t.attr("marker-mid",l(n)),i&&t.attr("marker-end",l(i))}function Py({inset:t,insetLeft:e,insetRight:n,...i}={}){return[e,n]=Cy(t,e,n),{inset:t,insetLeft:e,insetRight:n,...i}}function ky({inset:t,insetTop:e,insetBottom:n,...i}={}){return[e,n]=Cy(t,e,n),{inset:t,insetTop:e,insetBottom:n,...i}}function Cy(t,e,n){return t===void 0&&e===void 0&&n===void 0?Te?[1,0]:[.5,.5]:[e,n]}function Ay(t,{interval:e}){return t={...ou(t)},t.interval=wl(t.interval===void 0?e:t.interval),t}function Ey(t,e,n,i){const{[t]:o,[`${t}1`]:a,[`${t}2`]:u}=n,{value:c,interval:l}=Ay(o,n);if(c==null||l==null&&!i)return n;const h=Nr(o);if(l==null){let _;const v={transform:w=>_||(_=Kt(w,c)),label:h};return{...n,[t]:void 0,[`${t}1`]:a===void 0?v:a,[`${t}2`]:u===void 0?v:u}}let d,p;function g(_){return p!==void 0&&_===d?p:p=ee(Kt(d=_,c),v=>l.floor(v))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:g,label:h}:a,[`${t}2`]:u===void 0?{transform:_=>g(_).map(v=>l.offset(v)),label:h}:u})}function $y(t,e,n){const{[t]:i}=n,{value:o,interval:a}=Ay(i,n);return o==null||a==null?n:e({...n,[t]:{label:Nr(i),transform:u=>{const c=ee(Kt(u,o),h=>a.floor(h)),l=c.map(h=>a.offset(h));return c.map(Fe(c)?(h,d)=>h==null||isNaN(h=+h)||(d=l[d],d==null)||isNaN(d=+d)?void 0:new Date((h+d)/2):(h,d)=>h==null||(d=l[d],d==null)?NaN:(+h+ +d)/2)}}})}function Ny(t={}){return Ey("x",Py,t)}function m9(t={}){return Ey("y",ky,t)}function p9(t={}){return $y("x",Py,t)}function g9(t={}){return $y("y",ky,t)}const zy={ariaLabel:"rule",fill:null,stroke:"currentColor"};class _9 extends wn{constructor(e,n={}){const{x:i,y1:o,y2:a,inset:u=0,insetTop:c=u,insetBottom:l=u}=n;super(e,{x:{value:i,scale:"x",optional:!0},y1:{value:o,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},zl(n,"x"),zy),this.insetTop=Ft(c),this.insetBottom=Ft(l),Ly(this,n)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y1:h,y2:d}=i,{width:p,height:g,marginTop:_,marginRight:v,marginLeft:w,marginBottom:b}=o,{insetTop:T,insetBottom:M}=this;return be("svg:g",a).call(Bi,this,o,a).call(Ri,this,{x:l&&u},Te,0).call(S=>S.selectAll().data(e).enter().append("line").call(Di,this).attr("x1",l?P=>l[P]:(w+p-v)/2).attr("x2",l?P=>l[P]:(w+p-v)/2).attr("y1",h&&!Sr(c)?P=>h[P]+T:_+T).attr("y2",d&&!Sr(c)?c.bandwidth?P=>d[P]+c.bandwidth()-M:P=>d[P]-M:g-b-M).call(zr,this,i).call(Sy,this,i,a)).node()}}class y9 extends wn{constructor(e,n={}){const{x1:i,x2:o,y:a,inset:u=0,insetRight:c=u,insetLeft:l=u}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:!0},x2:{value:o,scale:"x",optional:!0}},zl(n,"y"),zy),this.insetRight=Ft(c),this.insetLeft=Ft(l),Ly(this,n)}render(e,n,i,o,a){const{x:u,y:c}=n,{y:l,x1:h,x2:d}=i,{width:p,height:g,marginTop:_,marginRight:v,marginLeft:w,marginBottom:b}=o,{insetLeft:T,insetRight:M}=this;return be("svg:g",a).call(Bi,this,o,a).call(Ri,this,{y:l&&c},0,Te).call(S=>S.selectAll().data(e).enter().append("line").call(Di,this).attr("x1",h&&!Sr(u)?P=>h[P]+T:w+T).attr("x2",d&&!Sr(u)?u.bandwidth?P=>d[P]+u.bandwidth()-M:P=>d[P]-M:p-v-M).attr("y1",l?P=>l[P]:(_+g-b)/2).attr("y2",l?P=>l[P]:(_+g-b)/2).call(zr,this,i).call(Sy,this,i,a)).node()}}function v9(t,e){let{x:n=ve,y:i,y1:o,y2:a,...u}=m9(e);return[o,a]=Oy(i,o,a),new _9(t,{...u,x:n,y1:o,y2:a})}function b9(t,e){let{y:n=ve,x:i,x1:o,x2:a,...u}=Ny(e);return[o,a]=Oy(i,o,a),new y9(t,{...u,y:n,x1:o,x2:a})}function Oy(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Iy(t,...e){let n=e.length;for(let i=0,o=!0;i<n;++i)typeof e[i]!="function"&&(o&&(t=t.slice(),o=!1),t.splice(i,2,t[i]+e[i]+t[i+1]),e.splice(i,1),--i,--n);return i=>{let o=t[0];for(let a=0;a<n;++a)o+=e[a](i)+t[a+1];return o}}const w9={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},By="";class Il extends wn{constructor(e,n={}){const{x:i,y:o,text:a=Ii(e)&&B1(e)?ve:$1,frameAnchor:u,textAnchor:c=/right$/i.test(u)?"end":/left$/i.test(u)?"start":"middle",lineAnchor:l=/^top/i.test(u)?"top":/^bottom/i.test(u)?"bottom":"middle",lineHeight:h=1,lineWidth:d=1/0,textOverflow:p,monospace:g,fontFamily:_=g?"ui-monospace, monospace":void 0,fontSize:v,fontStyle:w,fontVariant:b,fontWeight:T,rotate:M}=n,[S,P]=Me(M,0),[k,A]=S9(v);if(super(e,{x:{value:i,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},fontSize:{value:k,optional:!0},rotate:{value:t7(S),optional:!0},text:{value:a,filter:w1,optional:!0}},n,w9),this.rotate=P,this.textAnchor=re(c,"middle"),this.lineAnchor=rn(l,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+h,this.lineWidth=+d,this.textOverflow=Dy(p),this.monospace=!!g,this.fontFamily=he(_),this.fontSize=A,this.fontStyle=he(w),this.fontVariant=he(b),this.fontWeight=he(T),this.frameAnchor=xl(u),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${d}`);this.splitLines=Zy(this),this.clipLine=Fy(this)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y:h,rotate:d,text:p,title:g,fontSize:_}=i,{rotate:v}=this,[w,b]=uu(this,o);return be("svg:g",a).call(Bi,this,o,a).call(Ry,this,p,o).call(Ri,this,{x:l&&u,y:h&&c}).call(T=>T.selectAll().data(e).enter().append("text").call(Di,this).call(x9,this,p,g).attr("transform",Iy`translate(${l?M=>l[M]:w},${h?M=>h[M]:b})${d?M=>` rotate(${d[M]})`:v?` rotate(${v})`:""}`).call(St,"font-size",_&&(M=>_[M])).call(zr,this,i)).node()}}function Dy(t){return t==null?null:rn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function x9(t,e,n,i){if(!n)return;const{lineAnchor:o,lineHeight:a,textOverflow:u,splitLines:c,clipLine:l}=e;t.each(function(h){const d=c(Lr(n[h])??"").map(l),p=d.length,g=o==="top"?.71:o==="bottom"?1-p:(164-p*100)/200;if(p>1){let _=0;for(let v=0;v<p;++v){if(++_,!d[v])continue;const w=this.ownerDocument.createElementNS(mr.svg,"tspan");w.setAttribute("x",0),v===_-1?w.setAttribute("y",`${(g+v)*a}em`):w.setAttribute("dy",`${_*a}em`),w.textContent=d[v],this.appendChild(w),_=0}}else g&&this.setAttribute("y",`${g*a}em`),this.textContent=d[0];if(u&&!i&&d[0]!==n[h]){const _=this.ownerDocument.createElementNS(mr.svg,"title");_.textContent=n[h],this.appendChild(_)}})}function jn(t,{x:e,y:n,...i}={}){return i.frameAnchor===void 0&&([e,n]=O1(e,n)),new Il(t,{...i,x:e,y:n})}function zc(t,{x:e=ve,...n}={}){return new Il(t,g9({...n,x:e}))}function M9(t,{y:e=ve,...n}={}){return new Il(t,p9({...n,y:e}))}function Ry(t,e,n){St(t,"text-anchor",e.textAnchor),St(t,"font-family",e.fontFamily),St(t,"font-size",e.fontSize),St(t,"font-style",e.fontStyle),St(t,"font-variant",e.fontVariant===void 0?T9(n):e.fontVariant),St(t,"font-weight",e.fontWeight)}function T9(t){return t&&(i7(t)||Fe(t))?"tabular-nums":void 0}const L9=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function S9(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),L9.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function P9(t,e,n){const i=[];let o,a=0;for(const[u,c,l]of k9(t)){if(o===void 0&&(o=u),a>o&&n(t,o,c)>e&&(i.push(t.slice(o,a)+(t[a-1]===By?"-":"")),o=u),l){i.push(t.slice(o,c)),o=void 0;continue}a=c}return i}function*k9(t){let e=0,n=0;const i=t.length;for(;n<i;){let o=1;switch(t[n]){case By:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++o;case`
`:yield[e,n,!0],n+=o,e=n;break;default:++n;break}}yield[e,n,!0]}const Vm={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Bl(t,e=0,n=t.length){let i=0;for(let o=e;o<n;o=Or(t,o))i+=Vm[t[o]]??(Hy(t,o)?120:Vm.e);return i}function Dl(t,e=0,n=t.length){let i=0;for(let o=e;o<n;o=Or(t,o))i+=Hy(t,o)?200:100;return i}function Zy({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const i=t?Dl:Bl,o=e*100;return a=>P9(a,o,i)}function Fy({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const i=t?Dl:Bl,o=e*100;switch(n){case"clip-start":return a=>Gm(a,o,i,"");case"clip-end":return a=>Ym(a,o,i,"");case"ellipsis-start":return a=>Gm(a,o,i,lr);case"ellipsis-middle":return a=>C9(a,o,i,lr);case"ellipsis-end":return a=>Ym(a,o,i,lr)}}const lr="";function Pr(t,e,n,i){const o=[];let a=0;for(let u=0,c=0,l=t.length;u<l;u=c){c=Or(t,u);const h=n(t,u,c);if(a+h>e){for(a+=i;a>e&&u>0;)c=u,u=o.pop(),a-=n(t,u,c);return[u,e-a]}a+=h,o.push(u)}return[-1,0]}function Ym(t,e,n,i){t=t.trim();const o=n(i),[a]=Pr(t,e,n,o);return a<0?t:t.slice(0,a).trimEnd()+i}function C9(t,e,n,i){t=t.trim();const o=n(t);if(o<=e)return t;const a=n(i)/2,[u,c]=Pr(t,e/2,n,a),[l]=Pr(t,o-e/2-c+a,n,-a);return l<0?i:t.slice(0,u).trimEnd()+i+t.slice(Or(t,l)).trimStart()}function Gm(t,e,n,i){t=t.trim();const o=n(t);if(o<=e)return t;const a=n(i),[u]=Pr(t,o-e+a,n,-a);return u<0?i:i+t.slice(Or(t,u)).trimStart()}const Oc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Xm=/\p{Extended_Pictographic}/uy;function Or(t,e){return e+=A9(t,e)?2:1,$9(t,e)&&(e=Oc.lastIndex),E9(t,e)?Or(t,e+1):e}function Uy(t,e){return t.charCodeAt(e)<128}function A9(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const i=t.charCodeAt(e+1);return i>=56320&&i<57344}return!1}function E9(t,e){return t.charCodeAt(e)===8205}function $9(t,e){return Uy(t,e)?!1:(Oc.lastIndex=e,Oc.test(t))}function Hy(t,e){return Uy(t,e)?!1:(Xm.lastIndex=e,Xm.test(t))}const N9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Wy=3.5,z9=Wy*5,qy={draw(t,e,n){const i=e*n/z9;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-i,i-e),t.lineTo(0,-e),t.lineTo(i,i-e)}},O9={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},I9=new Map([["arrow",qy],["spike",O9]]);function B9(t){return t&&typeof t.draw=="function"}function D9(t){if(B9(t))return t;const e=I9.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class Vy extends wn{constructor(e,n={}){const{x:i,y:o,r:a=Wy,length:u,rotate:c,shape:l=qy,anchor:h="middle",frameAnchor:d}=n,[p,g]=Me(u,12),[_,v]=Me(c,0);super(e,{x:{value:i,scale:"x",optional:!0},y:{value:o,scale:"y",optional:!0},length:{value:p,scale:"length",optional:!0},rotate:{value:_,optional:!0}},n,N9),this.r=+a,this.length=g,this.rotate=v,this.shape=D9(l),this.anchor=rn(h,"anchor",["start","middle","end"]),this.frameAnchor=xl(d)}render(e,n,i,o,a){const{x:u,y:c}=n,{x:l,y:h,length:d,rotate:p}=i,{length:g,rotate:_,anchor:v,shape:w,r:b}=this,[T,M]=uu(this,o);return be("svg:g",a).call(Bi,this,o,a).call(Ri,this,{x:l&&u,y:h&&c}).call(S=>S.selectAll().data(e).enter().append("path").call(Di,this).attr("transform",Iy`translate(${l?P=>l[P]:T},${h?P=>h[P]:M})${p?P=>` rotate(${p[P]})`:_?` rotate(${_})`:""}${v==="start"?"":v==="end"?d?P=>` translate(0,${d[P]})`:` translate(0,${g})`:d?P=>` translate(0,${d[P]/2})`:` translate(0,${g/2})`}`).attr("d",d?P=>{const k=nc();return w.draw(k,d[P],b),k}:(()=>{const P=nc();return w.draw(P,g,b),P})()).call(zr,this,i)).node()}}function R9(t,e={}){const{x:n=ve,...i}=e;return new Vy(t,{...i,x:n})}function Z9(t,e={}){const{y:n=ve,...i}=e;return new Vy(t,{...i,y:n})}function oi(t,e){return arguments.length<2&&!Ii(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function hu({anchor:t}={},e){return t===void 0?e[0]:rn(t,"anchor",e)}function Yy(t){return hu(t,["left","right"])}function Gy(t){return hu(t,["right","left"])}function Xy(t){return hu(t,["bottom","top"])}function jy(t){return hu(t,["top","bottom"])}function Ky(){const[t,e]=oi(...arguments);return Qy("y",Yy(e),t,e)}function F9(){const[t,e]=oi(...arguments);return Qy("fy",Gy(e),t,e)}function Jy(){const[t,e]=oi(...arguments);return tv("x",Xy(e),t,e)}function U9(){const[t,e]=oi(...arguments);return tv("fx",jy(e),t,e)}function Qy(t,e,n,{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:u=o,strokeWidth:c=1,fill:l=i,fillOpacity:h=o,textAnchor:d,textStroke:p,textStrokeOpacity:g,textStrokeWidth:_,tickSize:v=t==="y"?6:0,tickPadding:w,tickRotate:b,x:T,margin:M,marginTop:S=M===void 0?20:M,marginRight:P=M===void 0?e==="right"?40:0:M,marginBottom:k=M===void 0?20:M,marginLeft:A=M===void 0?e==="left"?40:0:M,label:N,labelAnchor:I,labelArrow:$,labelOffset:O,...E}){return v=Ft(v),w=Ft(w),b=Ft(b),I!==void 0&&(I=rn(I,"labelAnchor",["center","top","bottom"])),$=uv($),vy(v&&!me(a)?H9(t,e,n,{stroke:a,strokeOpacity:u,strokeWidth:c,tickSize:v,tickPadding:w,tickRotate:b,x:T,...E}):null,me(l)?null:q9(t,e,n,{fill:l,fillOpacity:h,stroke:p,strokeOpacity:g,strokeWidth:_,textAnchor:d,tickSize:v,tickPadding:w,tickRotate:b,x:T,marginTop:S,marginRight:P,marginBottom:k,marginLeft:A,...E}),!me(l)&&N!==null?jn([],rv({fill:l,fillOpacity:h,...E},function(R,F,U,B,Y){const Q=B[t],{marginTop:q,marginRight:et,marginBottom:Z,marginLeft:W}=t==="y"&&Y.inset||Y,X=I??(Q.bandwidth?"center":"top"),K=O??(e==="right"?et:W)-3;return X==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=X,this.frameAnchor=`${X}-${e}`,this.rotate=0),this.dy=X==="top"?3-q:X==="bottom"?Z-3:0,this.dx=e==="right"?K:-K,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[sv(t,Q,{anchor:e,label:N,labelAnchor:X,labelArrow:$})]}}}})):null)}function tv(t,e,n,{color:i="currentColor",opacity:o=1,stroke:a=i,strokeOpacity:u=o,strokeWidth:c=1,fill:l=i,fillOpacity:h=o,textAnchor:d,textStroke:p,textStrokeOpacity:g,textStrokeWidth:_,tickSize:v=t==="x"?6:0,tickPadding:w,tickRotate:b,y:T,margin:M,marginTop:S=M===void 0?e==="top"?30:0:M,marginRight:P=M===void 0?20:M,marginBottom:k=M===void 0?e==="bottom"?30:0:M,marginLeft:A=M===void 0?20:M,label:N,labelAnchor:I,labelArrow:$,labelOffset:O,...E}){return v=Ft(v),w=Ft(w),b=Ft(b),I!==void 0&&(I=rn(I,"labelAnchor",["center","left","right"])),$=uv($),vy(v&&!me(a)?W9(t,e,n,{stroke:a,strokeOpacity:u,strokeWidth:c,tickSize:v,tickPadding:w,tickRotate:b,y:T,...E}):null,me(l)?null:V9(t,e,n,{fill:l,fillOpacity:h,stroke:p,strokeOpacity:g,strokeWidth:_,textAnchor:d,tickSize:v,tickPadding:w,tickRotate:b,y:T,marginTop:S,marginRight:P,marginBottom:k,marginLeft:A,...E}),!me(l)&&N!==null?jn([],rv({fill:l,fillOpacity:h,...E},function(R,F,U,B,Y){const Q=B[t],{marginTop:q,marginRight:et,marginBottom:Z,marginLeft:W}=t==="x"&&Y.inset||Y,X=I??(Q.bandwidth?"center":"right"),K=O??(e==="top"?q:Z)-3;return X==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${X}`,this.textAnchor=X==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-K:K,this.dx=X==="right"?et-3:X==="left"?3-W:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[sv(t,Q,{anchor:e,label:N,labelAnchor:X,labelArrow:$})]}}}})):null)}function H9(t,e,n,{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:u=e+(t==="y"?"-empty":""),frameAnchor:c=e,tickSize:l,inset:h=0,insetLeft:d=h,insetRight:p=h,dx:g=0,y:_=t==="y"?void 0:null,...v}){return Ir(Z9,t,e,`${t}-axis tick`,n,{strokeWidth:i,strokeLinecap:o,strokeLinejoin:a,facetAnchor:u,frameAnchor:c,y:_,...v,dx:e==="left"?+g-Te+ +d:+g+Te-p,anchor:"start",length:l,shape:e==="left"?tT:eT})}function W9(t,e,n,{strokeWidth:i=1,strokeLinecap:o=null,strokeLinejoin:a=null,facetAnchor:u=e+(t==="x"?"-empty":""),frameAnchor:c=e,tickSize:l,inset:h=0,insetTop:d=h,insetBottom:p=h,dy:g=0,x:_=t==="x"?void 0:null,...v}){return Ir(R9,t,e,`${t}-axis tick`,n,{strokeWidth:i,strokeLinejoin:a,strokeLinecap:o,facetAnchor:u,frameAnchor:c,x:_,...v,dy:e==="bottom"?+g-Te-p:+g+Te+ +d,anchor:"start",length:l,shape:e==="bottom"?J9:Q9})}function q9(t,e,n,{facetAnchor:i=e+(t==="y"?"-empty":""),frameAnchor:o=e,tickSize:a,tickRotate:u=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(u)>60?4*Math.cos(u*Ty):0),text:l,textAnchor:h=Math.abs(u)>60?"middle":e==="left"?"end":"start",lineAnchor:d=u>60?"top":u<-60?"bottom":"middle",fontVariant:p,inset:g=0,insetLeft:_=g,insetRight:v=g,dx:w=0,y:b=t==="y"?void 0:null,...T}){return Ir(M9,t,e,`${t}-axis tick label`,n,{facetAnchor:i,frameAnchor:o,text:l,textAnchor:h,lineAnchor:d,fontVariant:p,rotate:u,y:b,...T,dx:e==="left"?+w-a-c+ +_:+w+ +a+ +c-v},function(M,S,P,k,A){p===void 0&&(this.fontVariant=av(M)),l===void 0&&(A.text=ov(M,S,P,k,e))})}function V9(t,e,n,{facetAnchor:i=e+(t==="x"?"-empty":""),frameAnchor:o=e,tickSize:a,tickRotate:u=0,tickPadding:c=Math.max(3,9-a)+(Math.abs(u)>=10?4*Math.cos(u*Ty):0),text:l,textAnchor:h=Math.abs(u)>=10?u<0^e==="bottom"?"start":"end":"middle",lineAnchor:d=Math.abs(u)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:p,inset:g=0,insetTop:_=g,insetBottom:v=g,dy:w=0,x:b=t==="x"?void 0:null,...T}){return Ir(zc,t,e,`${t}-axis tick label`,n,{facetAnchor:i,frameAnchor:o,text:l===void 0?null:l,textAnchor:h,lineAnchor:d,fontVariant:p,rotate:u,x:b,...T,dy:e==="bottom"?+w+ +a+ +c-v:+w-a-c+ +_},function(M,S,P,k,A){p===void 0&&(this.fontVariant=av(M)),l===void 0&&(A.text=ov(M,S,P,k,e))})}function Y9(){const[t,e]=oi(...arguments);return ev("y",Yy(e),t,e)}function G9(){const[t,e]=oi(...arguments);return ev("fy",Gy(e),t,e)}function X9(){const[t,e]=oi(...arguments);return nv("x",Xy(e),t,e)}function j9(){const[t,e]=oi(...arguments);return nv("fx",jy(e),t,e)}function ev(t,e,n,{y:i=t==="y"?void 0:null,x:o=null,x1:a=e==="left"?o:null,x2:u=e==="right"?o:null,...c}){return Ir(b9,t,e,`${t}-grid`,n,{y:i,x1:a,x2:u,...iv(c)})}function nv(t,e,n,{x:i=t==="x"?void 0:null,y:o=null,y1:a=e==="top"?o:null,y2:u=e==="bottom"?o:null,...c}){return Ir(v9,t,e,`${t}-grid`,n,{x:i,y1:a,y2:u,...iv(c)})}function iv({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:i=e,strokeWidth:o=1,...a}){return{stroke:n,strokeOpacity:i,strokeWidth:o,...a}}function rv({fill:t,fillOpacity:e,fontFamily:n,fontSize:i,fontStyle:o,fontVariant:a,fontWeight:u,monospace:c,pointerEvents:l,shapeRendering:h,clip:d=!1},p){return[,t]=Un(t),[,e]=Me(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:i,fontStyle:o,fontVariant:a,fontWeight:u,monospace:c,pointerEvents:l,shapeRendering:h,clip:d,initializer:p}}function Ir(t,e,n,i,o,a,u){let c;function l(p,g,_,v,w,b){const T=p==null&&(e==="fx"||e==="fy"),{[e]:M}=v;if(!M)throw new Error(`missing scale: ${e}`);const S=M.domain();let{interval:P,ticks:k,tickFormat:A,tickSpacing:N=e==="x"?80:35}=a;if(typeof k=="string"&&fv(M)&&(P=k,k=void 0),k===void 0&&(k=Jo(P,M.type)??K9(M,N)),p==null){if(Ii(k))p=ke(k);else if(Q4(k))p=Cf(k,...Re(S));else if(M.interval){let $=M.interval;if(M.ticks){const[O,E]=Re(S),R=(E-O)/$[jo];$=_m($,R/k)??$,p=Cf($,O,E)}else{p=S;const O=p.length;$=_m($,O/k)??$,$!==M.interval&&(p=Cf($,...Re(p)))}if($===M.interval){const O=Math.round(p.length/k);O>1&&(p=p.filter((E,R)=>R%O===0))}}else M.ticks?p=M.ticks(k):p=S;if(!M.ticks&&p.length&&p!==S){const $=new Bs(S);p=p.filter(O=>$.has(O)),p.length||wi(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?g=[Hn(p)]:c[e]={scale:e,value:ve}}u==null||u.call(this,M,p,k,A,c);const I=Object.fromEntries(Object.entries(c).map(([$,O])=>[$,{...O,value:Kt(p,O.value)}]));return T&&(g=b.filterFacets(p,I)),{data:p,facets:g,channels:I}}const h=ks(a).initializer,d=t(o,ks({...a,initializer:l},h));return o==null?(c=d.channels,d.channels={}):c={},d.ariaLabel=i,d.clip===void 0&&(d.clip=!1),d}function K9(t,e){const[n,i]=Re(t.range());return(i-n)/e}function ov(t,e,n,i,o){return{value:Rl(t,e,n,i,o)}}function Rl(t,e,n,i,o){return typeof i=="function"?i:i===void 0&&e&&Fe(e)?I4(e,o)??Lr:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,i):i===void 0?Lr:typeof i=="string"?(Fe(t.domain())?Xo:ze)(i):Ko(i)}function Cf(t,e,n){return t.range(e,t.offset(t.floor(n)))}const J9={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},Q9={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},tT={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},eT={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function av(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function nT(t){return Math.sign(Tr(t.domain()))*Math.sign(Tr(t.range()))}function sv(t,e,{anchor:n,label:i=e.label,labelAnchor:o,labelArrow:a}={}){if(!(i==null||i.inferred&&fv(e)&&/^(date|time|year)$/i.test(i))){if(i=String(i),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[]/.test(i)),!a)return i;if(a===!0){const u=nT(e);u&&(a=/x$/.test(t)||o==="center"?/x$/.test(t)===u<0?"left":"right":u<0?"up":"down")}switch(a){case"left":return` ${i}`;case"right":return`${i} `;case"up":return n==="right"?`${i} `:` ${i}`;case"down":return n==="right"?`${i} `:` ${i}`}return i}}function uv(t="auto"){return me(t)?!1:typeof t=="boolean"?t:rn(t,"labelArrow",["auto","up","right","down","left"])}function fv(t){return Fe(t.domain())}function jm(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function iT(t,{opacity:e,...n}={}){if(!Zi(t)&&!yy(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return cv(t,n,(i,o,a,u)=>i.append("svg").attr("width",a).attr("height",u).attr("fill",o.scale).attr("fill-opacity",Me(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function rT(t,{fill:e=(h=>(h=t.hint)==null?void 0:h.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:i=(d=>(d=t.hint)==null?void 0:d.stroke)()!==void 0?t.hint.stroke:me(e)?"currentColor":"none",strokeOpacity:o=1,strokeWidth:a=1.5,r:u=4.5,...c}={},l){const[p,g]=Un(e),[_,v]=Un(i),w=jm(l,p),b=jm(l,_),T=u*u*Math.PI;return n=Me(n)[1],o=Me(o)[1],a=Me(a)[1],cv(t,c,(M,S,P,k)=>M.append("svg").attr("viewBox","-8 -8 16 16").attr("width",P).attr("height",k).attr("fill",p==="color"?A=>w.scale(A):g).attr("fill-opacity",n).attr("stroke",_==="color"?A=>b.scale(A):v).attr("stroke-opacity",o).attr("stroke-width",a).append("path").attr("d",A=>{const N=nc();return t.scale(A).draw(N,T),N}))}function cv(t,e={},n){let{columns:i,tickFormat:o,fontVariant:a=My(t),swatchSize:u=15,swatchWidth:c=u,swatchHeight:l=u,marginLeft:h=0,className:d,style:p,width:g}=e;const _=kl(e);d=Sl(d),o=Rl(t.scale,t.domain,void 0,o);const v=be("div",_).attr("class",`${d}-swatches ${d}-swatches-${i!=null?"columns":"wrap"}`);let w;return i!=null?(w=`.${d}-swatches-columns .${d}-swatch {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
.${d}-swatches-columns .${d}-swatch::before {
  flex-shrink: 0;
}
.${d}-swatches-columns .${d}-swatch-label {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,v.style("columns",i).selectAll().data(t.domain).enter().append("div").attr("class",`${d}-swatch`).call(n,t,c,l).call(b=>b.append("div").attr("class",`${d}-swatch-label`).attr("title",o).text(o))):(w=`.${d}-swatches-wrap {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
.${d}-swatches-wrap .${d}-swatch {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,v.selectAll().data(t.domain).enter().append("span").attr("class",`${d}-swatch`).call(n,t,c,l).append(function(){return this.ownerDocument.createTextNode(o.apply(this,arguments))})),v.call(b=>b.insert("style","*").text(`.${d}-swatches {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
.${d}-swatch > svg {
  margin-right: 0.5em;
  overflow: visible;
}
${w}`)).style("margin-left",h?`${+h}px`:null).style("width",g===void 0?null:`${+g}px`).style("font-variant",re(a,"normal")).call(Pl,p).node()}const Ic=new Map([["symbol",rT],["color",hv],["opacity",aT]]);function oT(t,e,n={}){return(i,o)=>{if(!Ic.has(i))throw new Error(`unknown legend type: ${i}`);if(i in t)return Ic.get(i)(t[i],lv(e,n[i],o),a=>t[a])}}function lv({className:t,...e},{label:n,ticks:i,tickFormat:o}={},a){return s7(a,{className:t,...e},{label:n,ticks:i,tickFormat:o})}function hv(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return iT(t,n);case"ramp":return f9(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function aT({type:t,interpolate:e,...n},{legend:i=!0,color:o=Qn(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(i===!0&&(i="ramp"),`${i}`.toLowerCase()!=="ramp")throw new Error(`${i} opacity legends are not supported`);return hv({type:t,...n,interpolate:sT(o)},{legend:i,...a})}function sT(t){const{r:e,g:n,b:i}=Qn(t)||Qn(0,0,0);return o=>`rgba(${e},${n},${i},${o})`}function uT(t,e,n){const i=[];for(const[o,a]of Ic){const u=n[o];if(u!=null&&u.legend&&o in t){const c=a(t[o],lv(e,t[o],u),l=>t[l]);c!=null&&i.push(c)}}return i}const fT={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},cT={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class lT extends wn{constructor(e={}){const{anchor:n=null,inset:i=0,insetTop:o=i,insetRight:a=i,insetBottom:u=i,insetLeft:c=i,rx:l,ry:h}=e;super(Va,void 0,e,n==null?fT:cT),this.anchor=N1(n,"anchor",["top","right","bottom","left"]),this.insetTop=Ft(o),this.insetRight=Ft(a),this.insetBottom=Ft(u),this.insetLeft=Ft(c),this.rx=Ft(l),this.ry=Ft(h)}render(e,n,i,o,a){const{marginTop:u,marginRight:c,marginBottom:l,marginLeft:h,width:d,height:p}=o,{anchor:g,insetTop:_,insetRight:v,insetBottom:w,insetLeft:b,rx:T,ry:M}=this,S=h+b,P=d-c-v,k=u+_,A=p-l-w;return be(g?"svg:line":"svg:rect",a).datum(0).call(Bi,this,o,a).call(Di,this).call(zr,this,i).call(Ri,this,{}).call(g==="left"?N=>N.attr("x1",S).attr("x2",S).attr("y1",k).attr("y2",A):g==="right"?N=>N.attr("x1",P).attr("x2",P).attr("y1",k).attr("y2",A):g==="top"?N=>N.attr("x1",S).attr("x2",P).attr("y1",k).attr("y2",k):g==="bottom"?N=>N.attr("x1",S).attr("x2",P).attr("y1",A).attr("y2",A):N=>N.attr("x",S).attr("y",k).attr("width",P-S).attr("height",A-k).attr("rx",T).attr("ry",M)).node()}}function Bc(t){return new lT(t)}const Af={ariaLabel:"tip",fill:"white",stroke:"currentColor"},hT=new Set(["geometry","href","src","ariaLabel","scales"]);class dT extends wn{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Ii(e)&&B1(e)&&(n={...n,title:ve});const{x:i,y:o,x1:a,x2:u,y1:c,y2:l,anchor:h,monospace:d,fontFamily:p=d?"ui-monospace, monospace":void 0,fontSize:g,fontStyle:_,fontVariant:v,fontWeight:w,lineHeight:b=1,lineWidth:T=20,frameAnchor:M,format:S,textAnchor:P="start",textOverflow:k,textPadding:A=8,title:N,pointerSize:I=12,pathFilter:$="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&u!=null?null:i,scale:"x",optional:!0},y:{value:c!=null&&l!=null?null:o,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:u==null},y1:{value:c,scale:"y",optional:l==null},x2:{value:u,scale:"x",optional:a==null},y2:{value:l,scale:"y",optional:c==null},title:{value:N,optional:!0}},n,Af),this.anchor=D1(h,"anchor"),this.previousAnchor=this.anchor??"top-left",this.frameAnchor=xl(M),this.textAnchor=re(P,"middle"),this.textPadding=+A,this.pointerSize=+I,this.pathFilter=he($),this.lineHeight=+b,this.lineWidth=+T,this.textOverflow=Dy(k),this.monospace=!!d,this.fontFamily=he(p),this.fontSize=Ft(g),this.fontStyle=he(_),this.fontVariant=he(v),this.fontWeight=he(w);for(const O in Af)O in this.channels&&(this[O]=Af[O]);this.splitLines=Zy(this),this.clipLine=Fy(this),this.format={...S}}render(e,n,i,o,a){const u=this,{x:c,y:l,fx:h,fy:d}=n,{ownerSVGElement:p,document:g}=a,{anchor:_,monospace:v,lineHeight:w,lineWidth:b}=this,{textPadding:T,pointerSize:M,pathFilter:S}=this,{marginTop:P,marginLeft:k}=o,{x1:A,y1:N,x2:I,y2:$,x:O=A??I,y:E=N??$}=i,R=h?h(e.fx)-k:0,F=d?d(e.fy)-P:0,[U,B]=uu(this,o),Y=wy(i,U),Q=xy(i,B),q=v?Dl:Bl,et=q(lr);let Z,W;"title"in i?(Z=i.channels,W=vT):(Z=yT.call(this,i,n),W=bT);const X=be("svg:g",a).call(Bi,this,o,a).call(Ry,this).call(Ri,this,{x:O&&c,y:E&&l}).call(nt=>nt.selectAll().data(e).enter().append("g").attr("transform",J=>`translate(${Math.round(Y(J))},${Math.round(Q(J))})`).call(Di,this).call(J=>J.append("path").attr("filter",S)).call(J=>J.append("text").each(function(j){const ft=xe(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const V=W.call(u,j,e,Z,n,i);if(typeof V=="string")for(const tt of u.splitLines(V))K(ft,{value:u.clipLine(tt)});else{const tt=new Set;for(const at of V){const{label:H=""}=at;H&&tt.has(H)||(tt.add(H),K(ft,at))}}})));function K(nt,{label:J,value:j,color:ft,opacity:V}){J??(J=""),j??(j="");const tt=ft!=null||V!=null;let at,H=b*100;const[vt]=Pr(J,H,q,et);if(vt>=0)J=J.slice(0,vt).trimEnd()+lr,at=j.trim(),j="";else{(J||!j&&!tt)&&(j=" "+j);const[At]=Pr(j,H-q(J),q,et);At>=0&&(j=j.slice(0,At).trimEnd()+lr,at=j.trim())}const dt=nt.append("tspan").attr("x",0).attr("dy",`${w}em`).text("");J&&dt.append("tspan").attr("font-weight","bold").text(J),j&&dt.append(()=>g.createTextNode(j)),tt&&dt.append("tspan").text(" ").attr("fill",ft).attr("fill-opacity",V).style("user-select","none"),at&&dt.append("title").text(at)}function st(){const{width:nt,height:J}=o.facet??o;X.selectChildren().each(function(j){let{x:ft,width:V,height:tt}=this.getBBox();V=Math.round(V),tt=Math.round(tt);let at=_;if(at===void 0){at=u.previousAnchor;const dt=Y(j)+R,At=Q(j)+F,Et=dt+V+T*2<nt,ct=dt-V-T*2>0,zt=At+tt+M+T*2+7<J,on=At-tt-M-T*2>0,we=(/-left$/.test(at)?Et||!ct:Et&&!ct)?"left":"right",Br=(/^top-/.test(at)?zt||!on:zt&&!on)?"top":"bottom";at=u.previousAnchor=`${Br}-${we}`}const H=this.firstChild,vt=this.lastChild;if(H.setAttribute("d",_T(at,M,T,V,tt)),ft)for(const dt of vt.childNodes)dt.setAttribute("x",-ft);vt.setAttribute("y",`${+pT(at,vt.childNodes.length,w).toFixed(6)}em`),vt.setAttribute("transform",`translate(${gT(at,M,T,V,tt)})`)}),X.attr("visibility",null)}return e.length&&(X.attr("visibility","hidden"),p.isConnected?Promise.resolve().then(st):typeof requestAnimationFrame<"u"&&requestAnimationFrame(st)),X.node()}}function mT(t,{x:e,y:n,...i}={}){return i.frameAnchor===void 0&&([e,n]=O1(e,n)),new dT(t,{...i,x:e,y:n})}function pT(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function gT(t,e,n,i,o){switch(t){case"middle":return[-i/2,o/2];case"top-left":return[n,e+n];case"top":return[-i/2,e/2+n];case"top-right":return[-i-n,e+n];case"right":return[-e/2-i-n,o/2];case"bottom-left":return[n,-e-n];case"bottom":return[-i/2,-e/2-n];case"bottom-right":return[-i-n,-e-n];case"left":return[n+e/2,o/2]}}function _T(t,e,n,i,o){const a=i+n*2,u=o+n*2;switch(t){case"middle":return`M${-a/2},${-u/2}h${a}v${u}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${u}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${u}h${-a}v${-u}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${u}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-u/2}h${-a}v${u}h${a}v${e/2-u/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-u}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-u}h${-a}v${u}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-u}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-u/2}h${a}v${u}h${-a}v${e/2-u/2}z`}}function yT({channels:t},e){var o,a;const n={};let i=this.format;i=Km(i,t,"x"),i=Km(i,t,"y"),this.format=i;for(const u in i){const c=i[u];if(!(c===null||c===!1))if(u==="fx"||u==="fy")n[u]=!0;else{const l=km(t,u);l&&(n[u]=l)}}for(const u in t){if(u in n||u in i||hT.has(u))continue;const c=km(t,u);c&&(n[u]=c)}this.facet&&(e.fx&&!("fx"in i)&&(n.fx=!0),e.fy&&!("fy"in i)&&(n.fy=!0));for(const u in n){const c=this.format[u];if(typeof c=="string"){const l=((o=n[u])==null?void 0:o.value)??((a=e[u])==null?void 0:a.domain())??[];this.format[u]=(Fe(l)?Xo:ze)(c)}else if(c===void 0||c===!0){const l=e[u];this.format[u]=l!=null&&l.bandwidth?Rl(l,l.domain()):Lr}}return n}function Km(t,e,n){if(!(n in t))return t;const i=`${n}1`,o=`${n}2`;if((i in t||!(i in e))&&(o in t||!(o in e)))return t;const a=Object.entries(t),u=t[n];return a.splice(a.findIndex(([c])=>c===n)+1,0,[i,u],[o,u]),Object.fromEntries(a)}function vT(t,e,{title:n}){return Lr(n.value[t],t)}function*bT(t,e,n,i,o){for(const a in n){if(a==="fx"||a==="fy"){yield{label:Cs(i,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const u=n[a];if(a==="x2"&&"x1"in n)yield{label:Qm(i,n,"x"),value:Jm(this.format.x2,n.x1,u,t)};else if(a==="y2"&&"y1"in n)yield{label:Qm(i,n,"y"),value:Jm(this.format.y2,n.y1,u,t)};else{const c=u.value[t],l=u.scale;if(!$i(c)&&l==null)continue;yield{label:Cs(i,n,a),value:this.format[a](c,t),color:l==="color"?o[a][t]:null,opacity:l==="opacity"?o[a][t]:null}}}}function Jm(t,e,n,i){var o;return(o=n.hint)!=null&&o.length?`${t(n.value[i]-e.value[i],i)}`:`${t(e.value[i],i)}${t(n.value[i],i)}`}function Qm(t,e,n){const i=Cs(t,e,`${n}1`,n),o=Cs(t,e,`${n}2`,n);return i===o?i:`${i}${o}`}function Cs(t,e,n,i=n){const o=e[n],a=t[(o==null?void 0:o.scale)??n];return String((a==null?void 0:a.label)??(o==null?void 0:o.label)??i)}function dv(t={}){var et;const{facet:e,style:n,title:i,subtitle:o,caption:a,ariaLabel:u,ariaDescription:c}=t,l=Sl(t.className),h=t.marks===void 0?[]:ep(t.marks);h.push(...kT(h));const d=ST(e,t),p=new Map;for(const Z of h){const W=np(Z,d,t);W&&p.set(Z,W)}const g=new Map;d&&io(g,[d],t),io(g,p,t);const _=ep(CT(h,g,t));for(const Z of _){const W=np(Z,d,t);W&&p.set(Z,W)}h.unshift(..._);let v=VM(g,t);if(v!==void 0){const Z=d?Pf(v,d):void 0;for(const X of h){if(X.facet===null||X.facet==="super")continue;const K=p.get(X);K!==void 0&&(K.facetsIndex=X.fx!=null||X.fy!=null?Pf(v,K):Z)}const W=new Set;for(const{facetsIndex:X}of p.values())X==null||X.forEach((K,st)=>{(K==null?void 0:K.length)>0&&W.add(st)});v.forEach(0<W.size&&W.size<v.length?(X,K)=>X.empty=!W.has(K):X=>X.empty=!1);for(const X of h)if(X.facet==="exclude"){const K=p.get(X);K!==void 0&&(K.facetsIndex=XM(K.facetsIndex))}}for(const Z of Ht.keys())Sc(t[Z])&&Z!=="fx"&&Z!=="fy"&&g.set(Z,[]);const w=new Map;for(const Z of h){if(w.has(Z))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:W,channels:X}=p.get(Z)??{},{data:K,facets:st,channels:nt}=Z.initialize(W,X,t);Zl(nt,t),w.set(Z,{data:K,facets:st,channels:nt})}const b=$c(io(g,w,t),t),T=WM(b,h,t);OM(b,T);const M=Bm(b),{fx:S,fy:P}=M,k=S||P?py(b,T):T,A=S||P?IT(M,T):T,N=kl(t),I=N.document,$=Rs("svg").call(I.documentElement);let O=$;N.ownerSVGElement=$,N.className=l,N.projection=G7(t,k),N.filterFacets=(Z,W)=>Pf(v,{channels:W,groups:Nl(Z,W)}),N.getMarkState=Z=>{const W=w.get(Z),X=p.get(Z);return{...W,channels:{...W.channels,...X==null?void 0:X.channels}}},N.dispatchValue=Z=>{O.value!==Z&&(O.value=Z,O.dispatchEvent(new Event("input",{bubbles:!0})))};const E=new Set;for(const[Z,W]of w)if(Z.initializer!=null){const X=Z.facet==="super"?A:k,K=Z.initializer(W.data,W.facets,W.channels,M,X,N);if(K.data!==void 0&&(W.data=K.data),K.facets!==void 0&&(W.facets=K.facets),K.channels!==void 0){const{fx:st,fy:nt,...J}=K.channels;LT(J),Object.assign(W.channels,J);for(const j of Object.values(J)){const{scale:ft}=j;ft!=null&&!f7(Ht.get(ft))&&(mv(j,t),E.add(ft))}(st!=null||nt!=null)&&p.set(Z,!0)}}if(E.size){const Z=new Map;io(Z,w,t,st=>E.has(st)),io(g,w,t,st=>E.has(st));const W=OT($c(Z,t),b),{scales:X,...K}=Bm(W);Object.assign(b,W),Object.assign(M,K),Object.assign(M.scales,X)}let R,F;v!==void 0&&(R={x:S==null?void 0:S.domain(),y:P==null?void 0:P.domain()},v=YM(v,R),F=GM(S,P,T));for(const[Z,W]of w)W.values=Z.scale(W.channels,M,N);const{width:U,height:B}=T;xe($).attr("class",l).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",U).attr("height",B).attr("viewBox",`0 0 ${U} ${B}`).attr("aria-label",u).attr("aria-description",c).call(Z=>Z.append("style").text(`.${l} {
  display: block;
  background: white;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
.${l} text,
.${l} tspan {
  white-space: pre;
}`)).call(Pl,n);for(const Z of h){const{channels:W,values:X,facets:K}=w.get(Z);if(v===void 0||Z.facet==="super"){let st=null;if(K&&(st=K[0],st=Z.filter(st,W,X),st.length===0))continue;const nt=Z.render(st,M,X,A,N);if(nt==null)continue;$.appendChild(nt)}else{let st;for(const nt of v){if(!(((et=Z.facetAnchor)==null?void 0:et.call(Z,v,R,nt))??!nt.empty))continue;let J=null;if(K){const ft=p.has(Z);if(J=K[ft?nt.i:0],J=Z.filter(J,W,X),J.length===0)continue;!ft&&J===K[0]&&(J=X4(J)),J.fx=nt.x,J.fy=nt.y,J.fi=nt.i}const j=Z.render(J,M,X,k,N);if(j!=null){(st??(st=xe($).append("g"))).append(()=>j).datum(nt);for(const ft of["aria-label","aria-description","aria-hidden","transform"])j.hasAttribute(ft)&&(st.attr(ft,j.getAttribute(ft)),j.removeAttribute(ft))}}st==null||st.selectChildren().attr("transform",F)}}const Y=uT(b,N,t),{figure:Q=i!=null||o!=null||a!=null||Y.length>0}=t;Q&&(O=I.createElement("figure"),O.className=`${l}-figure`,O.style.maxWidth="initial",i!=null&&O.append(tp(I,i,"h2")),o!=null&&O.append(tp(I,o,"h3")),O.append(...Y,$),a!=null&&O.append(wT(I,a))),O.scale=UM(M.scales),O.legend=oT(b,N,t);const q=R7();return q>0&&xe($).append("text").attr("x",U).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${q.toLocaleString("en-US")} warning${q===1?"":"s"}. Please check the console.`),O}function tp(t,e,n){if(e.ownerDocument)return e;const i=t.createElement(n);return i.append(e),i}function wT(t,e){const n=t.createElement("figcaption");return n.append(e),n}function xT({marks:t=[],...e}={}){return dv({...e,marks:[...t,this]})}wn.prototype.plot=xT;function ep(t){return t.flat(1/0).filter(e=>e!=null).map(MT)}function MT(t){return typeof t.render=="function"?t:new TT(t)}class TT extends wn{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Zl(t,e){for(const n in t)mv(t[n],e);return t}function mv(t,e){const{scale:n,transform:i=!0}=t;if(n==null||!i)return;const{type:o,percent:a,interval:u,transform:c=a?l=>l*100:I1(u,o)}=e[n]??{};c!=null&&(t.value=ee(t.value,c),t.transform=!1)}function LT(t){for(const e in t)K1(e,t[e])}function io(t,e,n,i=F4){var o,a;for(const{channels:u}of e.values())for(const c in u){const l=u[c],{scale:h}=l;if(h!=null&&i(h))if(h==="projection"){if(!J7(n)){const d=((o=n.x)==null?void 0:o.domain)===void 0,p=((a=n.y)==null?void 0:a.domain)===void 0;if(d||p){const[g,_]=tM(l);d&&Ef(t,"x",g),p&&Ef(t,"y",_)}}}else Ef(t,h,l)}return t}function Ef(t,e,n){const i=t.get(e);i!==void 0?i.push(n):t.set(e,[n])}function ST(t,e){if(t==null)return;const{x:n,y:i}=t;if(n==null&&i==null)return;const o=ke(t.data);if(o==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Oo(o,{value:n,scale:"fx"})),i!=null&&(a.fy=Oo(o,{value:i,scale:"fy"})),Zl(a,e);const u=Nl(o,a);return{channels:a,groups:u,data:t.data}}function np(t,e,n){var l;if(t.facet===null||t.facet==="super")return;const{fx:i,fy:o}=t;if(i!=null||o!=null){const h=ke(t.data??i??o);if(h===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(h===null)return;const d={};return i!=null&&(d.fx=Oo(h,{value:i,scale:"fx"})),o!=null&&(d.fy=Oo(h,{value:o,scale:"fy"})),Zl(d,n),{channels:d,groups:Nl(h,d)}}if(e===void 0)return;const{channels:a,groups:u,data:c}=e;if(t.facet!=="auto"||t.data===c)return{channels:a,groups:u};c.length>0&&(u.size>1||u.size===1&&a.fx&&a.fy&&[...u][0][1].size>1)&&((l=ke(t.data))==null?void 0:l.length)===c.length&&wi(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function PT(t,e={}){return ks({...e,x:null,y:null},(n,i,o,a,u,c)=>c.getMarkState(t))}function kT(t){const e=[];for(const n of t){let i=n.tip;if(i){i===!0?i={}:typeof i=="string"&&(i={pointer:i});let{pointer:o}=i;o=/^x$/i.test(o)?s9:/^y$/i.test(o)?u9:a9,i=o(PT(n,i)),i.title=null;const a=mT(n.data,i);a.facet=n.facet,a.facetAnchor=n.facetAnchor,e.push(a)}}return e}function CT(t,e,n){let{projection:i,x:o={},y:a={},fx:u={},fy:c={},axis:l,grid:h,facet:d={},facet:{axis:p=l,grid:g}=d,x:{axis:_=l,grid:v=_===null?null:h}=o,y:{axis:w=l,grid:b=w===null?null:h}=a,fx:{axis:T=p,grid:M=T===null?null:g}=u,fy:{axis:S=p,grid:P=S===null?null:g}=c}=n;(i||!Sc(o)&&!ip("x",t))&&(_=v=null),(i||!Sc(a)&&!ip("y",t))&&(w=b=null),e.has("fx")||(T=M=null),e.has("fy")||(S=P=null),_===void 0&&(_=!Ra(t,"x")),w===void 0&&(w=!Ra(t,"y")),T===void 0&&(T=!Ra(t,"fx")),S===void 0&&(S=!Ra(t,"fy")),_===!0&&(_="bottom"),w===!0&&(w="left"),T===!0&&(T=_==="top"||_===null?"bottom":"top"),S===!0&&(S=w==="right"||w===null?"left":"right");const k=[];return Da(k,P,G9,c),Ba(k,S,F9,"right","left",d,c),Da(k,M,j9,u),Ba(k,T,U9,"top","bottom",d,u),Da(k,b,Y9,a),Ba(k,w,Ky,"left","right",n,a),Da(k,v,X9,o),Ba(k,_,Jy,"bottom","top",n,o),k}function Ba(t,e,n,i,o,a,u){if(!e)return;const c=AT(e);u=ET(c?i:e,a,u);const{line:l}=u;(n===Ky||n===Jy)&&l&&!zo(l)&&t.push(Bc($T(u))),t.push(n(u)),c&&t.push(n({...u,anchor:o,label:null}))}function Da(t,e,n,i){!e||zo(e)||t.push(n(NT(e,i)))}function AT(t){return/^\s*both\s*$/i.test(t)}function ET(t,e,{line:n=e.line,ticks:i,tickSize:o,tickSpacing:a,tickPadding:u,tickFormat:c,tickRotate:l,fontVariant:h,ariaLabel:d,ariaDescription:p,label:g=e.label,labelAnchor:_,labelArrow:v=e.labelArrow,labelOffset:w}){return{anchor:t,line:n,ticks:i,tickSize:o,tickSpacing:a,tickPadding:u,tickFormat:c,tickRotate:l,fontVariant:h,ariaLabel:d,ariaDescription:p,label:g,labelAnchor:_,labelArrow:v,labelOffset:w}}function $T(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function NT(t,{stroke:e=au(t)?t:void 0,ticks:n=zT(t)?t:void 0,tickSpacing:i,ariaLabel:o,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:i,ariaLabel:o,ariaDescription:a}}function zT(t){switch(typeof t){case"number":return!0;case"string":return!au(t)}return Ii(t)||typeof(t==null?void 0:t.range)=="function"}function Ra(t,e){const n=`${e}-axis `;return t.some(i=>{var o;return(o=i.ariaLabel)==null?void 0:o.startsWith(n)})}function ip(t,e){for(const n of e)for(const i in n.channels){const{scale:o}=n.channels[i];if(o===t||o==="projection")return!0}return!1}function OT(t,e){for(const n in t){const i=t[n],o=e[n];i.label===void 0&&o&&(i.label=o.label)}return t}function IT({fx:t,fy:e},n){const{marginTop:i,marginRight:o,marginBottom:a,marginLeft:u,width:c,height:l}=$l(n),h=t&&rp(t),d=e&&rp(e);return{marginTop:e?d[0]:i,marginRight:t?c-h[1]:o,marginBottom:e?l-d[1]:a,marginLeft:t?h[0]:u,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:c,height:l}}function rp(t){const e=t.domain();let n=t(e[0]),i=t(e[e.length-1]);return i<n&&([n,i]=[i,n]),[n,i+t.bandwidth()]}function BT(t={}){return z1(t)?t:{...t,x:ve}}function DT(t,e){if(e.length===1)return{data:t,facets:e};const n=t.length,i=new Uint8Array(n);let o=0;for(const c of e)for(const l of c)i[l]&&++o,i[l]=1;if(o===0)return{data:t,facets:e};t=$o(t);const a=t[A1]=new Uint32Array(n+o);e=e.map(c=>$o(c,Uint32Array));let u=n;i.fill(0);for(const c of e)for(let l=0,h=c.length;l<h;++l){const d=c[l];i[d]?(c[l]=u,t[u]=t[d],a[u]=d,++u):a[d]=d,i[d]=1}return{data:t,facets:e}}function Dc(t={},e={}){arguments.length===1&&([t,e]=ZT(t));const{y1:n,y:i=n,x:o,...a}=e,[u,c,l,h]=UT(i,o,"y","x",t,a);return{...u,y1:n,y:c,x1:l,x2:h,x:K4(l,h)}}function RT({x:t,x1:e,x2:n,...i}={}){return i=zl(i,"y"),e===void 0&&n===void 0?Dc({x:t,...i}):([e,n]=Y4(t,e,n),{...i,x1:e,x2:n})}function ZT(t){const{offset:e,order:n,reverse:i,...o}=t;return[{offset:e,order:n,reverse:i},o]}const FT={length:!0};function UT(t,e=Z4,n,i,{offset:o,order:a,reverse:u},c){if(e===null)throw new Error(`stack requires ${i}`);const l=G4(c),[h,d]=ir(t),[p,g]=Ps(e),[_,v]=Ps(e);return p.hint=_.hint=FT,o=HT(o),a=VT(a,o,i),[Tl(c,(w,b,T)=>{({data:w,facets:b}=DT(w,b));const M=t==null?void 0:d(Pc(Kt(w,t),T==null?void 0:T[n])),S=Kt(w,e,Float64Array),P=Kt(w,l),k=a&&a(w,M,S,P),A=w.length,N=g(new Float64Array(A)),I=v(new Float64Array(A)),$=[];for(const O of b){const E=M?Array.from(Hc(O,R=>M[R]).values()):[O];if(k)for(const R of E)R.sort(k);for(const R of E){let F=0,U=0;u&&R.reverse();for(const B of R){const Y=S[B];Y<0?F=I[B]=(N[B]=F)+Y:Y>0?U=I[B]=(N[B]=U)+Y:I[B]=N[B]=U}}$.push(E)}return o&&o($,N,I,P),{data:w,facets:b}}),h,p,_]}function HT(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return WT;case"center":case"silhouette":return qT;case"wiggle":return gv}throw new Error(`unknown offset: ${t}`)}}function pv(t,e){let n=0,i=0;for(const o of t){const a=e[o];a<n&&(n=a),a>i&&(i=a)}return[n,i]}function WT(t,e,n){for(const i of t)for(const o of i){const[a,u]=pv(o,n);for(const c of o){const l=1/(u-a||1);e[c]=l*(e[c]-a),n[c]=l*(n[c]-a)}}}function qT(t,e,n){for(const i of t){for(const o of i){const[a,u]=pv(o,n);for(const c of o){const l=(u+a)/2;e[c]-=l,n[c]-=l}}_v(i,e,n)}yv(t,e,n)}function gv(t,e,n,i){for(const o of t){const a=new Ti;let u=0;for(const c of o){let l=-1;const h=c.map(_=>Math.abs(n[_]-e[_])),d=c.map(_=>{l=i?i[_]:++l;const v=n[_]-e[_],w=a.has(l)?v-a.get(l):0;return a.set(l,v),w}),p=[0,...Mw(d)];for(const _ of c)e[_]+=u,n[_]+=u;const g=Jn(h);g&&(u-=Jn(h,(_,v)=>(d[v]/2+p[v])*_)/g)}_v(o,e,n)}yv(t,e,n)}function _v(t,e,n){const i=Bn(t,o=>Bn(o,a=>e[a]));for(const o of t)for(const a of o)e[a]-=i,n[a]-=i}function yv(t,e,n){const i=t.length;if(i===1)return;const o=t.map(c=>c.flat()),a=o.map(c=>(Bn(c,l=>e[l])+Xe(c,l=>n[l]))/2),u=Bn(a);for(let c=0;c<i;c++){const l=u-a[c];for(const h of o[c])e[h]+=l,n[h]+=l}}function VT(t,e,n){if(t===void 0&&e===gv)return op(Qe);if(t!=null){if(typeof t=="string"){const i=t.startsWith("-"),o=i?Ss:Qe;switch((i?t.slice(1):t).toLowerCase()){case"value":case n:return YT(o);case"z":return GT(o);case"sum":return XT(o);case"appearance":return jT(o);case"inside-out":return op(o)}return ap(E1(t))}if(typeof t=="function")return(t.length===1?ap:KT)(t);if(Array.isArray(t))return JT(t);throw new Error(`invalid order: ${t}`)}}function YT(t){return(e,n,i)=>(o,a)=>t(i[o],i[a])}function GT(t){return(e,n,i,o)=>(a,u)=>t(o[a],o[u])}function XT(t){return du(t,(e,n,i,o)=>qc(Hn(e),a=>Jn(a,u=>i[u]),a=>o[a]))}function jT(t){return du(t,(e,n,i,o)=>qc(Hn(e),a=>n[r0(a,u=>i[u])],a=>o[a]))}function op(t){return du(t,(e,n,i,o)=>{const a=Hn(e),u=qc(a,p=>n[r0(p,g=>i[g])],p=>o[p]),c=ur(a,p=>Jn(p,g=>i[g]),p=>o[p]),l=[],h=[];let d=0;for(const p of u)d<0?(d+=c.get(p),l.push(p)):(d-=c.get(p),h.push(p));return h.reverse().concat(l)})}function ap(t){return e=>{const n=Kt(e,t);return(i,o)=>Qe(n[i],n[o])}}function KT(t){return e=>(n,i)=>t(e[n],e[i])}function JT(t){return du(Qe,()=>t)}function du(t,e){return(n,i,o,a)=>{if(!a)throw new Error("missing channel: z");const u=new Ti(e(n,i,o,a).map((c,l)=>[c,l]));return(c,l)=>t(u.get(a[c]),u.get(a[l]))}}class QT extends wn{constructor(e,n,i={},o){super(e,n,i,o);const{inset:a=0,insetTop:u=a,insetRight:c=a,insetBottom:l=a,insetLeft:h=a,rx:d,ry:p}=i;this.insetTop=Ft(u),this.insetRight=Ft(c),this.insetBottom=Ft(l),this.insetLeft=Ft(h),this.rx=re(d,"auto"),this.ry=re(p,"auto")}render(e,n,i,o,a){const{rx:u,ry:c}=this;return be("svg:g",a).call(Bi,this,o,a).call(this._transform,this,n).call(l=>l.selectAll().data(e).enter().append("rect").call(Di,this).attr("x",this._x(n,i,o)).attr("width",this._width(n,i,o)).attr("y",this._y(n,i,o)).attr("height",this._height(n,i,o)).call(St,"rx",u).call(St,"ry",c).call(zr,this,i)).node()}_x(e,{x:n},{marginLeft:i}){const{insetLeft:o}=this;return n?a=>n[a]+o:i+o}_y(e,{y:n},{marginTop:i}){const{insetTop:o}=this;return n?a=>n[a]+o:i+o}_width({x:e},{x:n},{marginRight:i,marginLeft:o,width:a}){const{insetLeft:u,insetRight:c}=this,l=n&&e?e.bandwidth():a-i-o;return Math.max(0,l-u-c)}_height({y:e},{y:n},{marginTop:i,marginBottom:o,height:a}){const{insetTop:u,insetBottom:c}=this,l=n&&e?e.bandwidth():a-i-o;return Math.max(0,l-u-c)}}const tL={ariaLabel:"bar"};class eL extends QT{constructor(e,n={}){const{x1:i,x2:o,y:a}=n;super(e,{x1:{value:i,scale:"x"},x2:{value:o,scale:"x"},y:{value:a,scale:"y",type:"band",optional:!0}},n,tL)}_transform(e,n,{x:i}){e.call(Ri,n,{x:i},0,0)}_x({x:e},{x1:n,x2:i},{marginLeft:o}){const{insetLeft:a}=this;return Sr(e)?o+a:u=>Math.min(n[u],i[u])+a}_width({x:e},{x1:n,x2:i},{marginRight:o,marginLeft:a,width:u}){const{insetLeft:c,insetRight:l}=this;return Sr(e)?u-o-a-c-l:h=>Math.max(0,Math.abs(i[h]-n[h])-c-l)}}function kr(t,e={}){return V4(e)||(e={...e,y:$1,x2:ve}),new eL(t,RT(Ny(BT(e))))}function sp(t){let e,n,i,o=[t[3]],a={};for(let u=0;u<o.length;u+=1)a=Ya(a,o[u]);return{c(){e=_t("div"),Jh(e,a)},m(u,c){Ct(u,e,c),n||(i=[hr(e,"click",function(){Bo(t[1])&&t[1].apply(this,arguments)}),qb(t[2].call(null,e))],n=!0)},p(u,c){t=u,Jh(e,a=nw(o,[c&8&&t[3]]))},d(u){u&&kt(e),n=!1,ti(i)}}}function nL(t){let e=t[0],n,i=sp(t);return{c(){i.c(),n=In()},m(o,a){i.m(o,a),Ct(o,n,a)},p(o,[a]){a&1&&Ue(e,e=o[0])?(i.d(1),i=sp(o),i.c(),i.m(n.parentNode,n)):i.p(o,a)},i:Le,o:Le,d(o){o&&kt(n),i.d(o)}}}function iL(t,e,n){const i=["options","handleClick"];let o=jh(e,i),{options:a}=e,{handleClick:u=l=>{}}=e;function c(l){l.appendChild(dv(a))}return t.$$set=l=>{e=Ya(Ya({},e),Wb(l)),n(3,o=jh(e,i)),"options"in l&&n(0,a=l.options),"handleClick"in l&&n(1,u=l.handleClick)},[a,u,c,o]}class Fl extends en{constructor(e){super(),tn(this,e,iL,nL,Ue,{options:0,handleClick:1})}}function rL(t){let e,n,i;return n=new Fl({props:{handleClick:t[1],options:{width:200,marginTop:10,color:{range:["rgb(104,175,252)","rgb(164 114 244)"],domain:t[4]==="wheelchair_boarding"?["Some","None"]:["true","false"]},marks:[kr(t[0].features,ar({x:"count",ariaLabel:t[5],stroke:t[6],fillOpacity:t[7]},{y:up,fill:t[8]})),jn([t[3]],{frameAnchor:"top",textAnchor:"start",fontSize:12,dx:-98,dy:-10}),zc(t[0].features,Dc(Mm({x:"count",text:t[9],id:fp,ariaLabel:cp},{z:t[10],inset:.5,textAnchor:"middle",id:t[11],ariaLabel:t[12]})))],marginBottom:0,x:{label:t[3],axis:null},y:{axis:null},height:55,style:{cursor:"pointer"}}}}),{c(){e=_t("div"),oe(n.$$.fragment),ot(e,"class","mx-1")},m(o,a){Ct(o,e,a),Jt(n,e,null),i=!0},p(o,[a]){const u={};a&2&&(u.handleClick=o[1]),a&29&&(u.options={width:200,marginTop:10,color:{range:["rgb(104,175,252)","rgb(164 114 244)"],domain:o[4]==="wheelchair_boarding"?["Some","None"]:["true","false"]},marks:[kr(o[0].features,ar({x:"count",ariaLabel:o[5],stroke:o[6],fillOpacity:o[7]},{y:up,fill:o[8]})),jn([o[3]],{frameAnchor:"top",textAnchor:"start",fontSize:12,dx:-98,dy:-10}),zc(o[0].features,Dc(Mm({x:"count",text:o[9],id:fp,ariaLabel:cp},{z:o[10],inset:.5,textAnchor:"middle",id:o[11],ariaLabel:o[12]})))],marginBottom:0,x:{label:o[3],axis:null},y:{axis:null},height:55,style:{cursor:"pointer"}}),n.$set(u)},i(o){i||(ut(n.$$.fragment,o),i=!0)},o(o){pt(n.$$.fragment,o),i=!1},d(o){o&&kt(e),Qt(n)}}}const up=t=>1,fp=t=>t[0].id,cp=t=>t[0];function oL(t,e,n){let{data:i}=e,{handleClick:o}=e,{selected:a}=e,{label:u}=e,{prop:c}=e;const l=b=>b[0].properties[c],h=b=>`${b[0].properties[c]}`===a?"black":"none",d=b=>a?`${b[0].properties[c]}`===a?1:.5:.8,p=b=>`${b.properties[c]}`,g=b=>b[0].properties[c],_=b=>b.properties[c],v=b=>b.properties[c],w=b=>b.properties[c];return t.$$set=b=>{"data"in b&&n(0,i=b.data),"handleClick"in b&&n(1,o=b.handleClick),"selected"in b&&n(2,a=b.selected),"label"in b&&n(3,u=b.label),"prop"in b&&n(4,c=b.prop)},[i,o,a,u,c,l,h,d,p,g,_,v,w]}class aL extends en{constructor(e){super(),tn(this,e,oL,rL,Ue,{data:0,handleClick:1,selected:2,label:3,prop:4})}}function lp(t){let e;const n=t[4].default,i=As(n,t,t[3],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&8)&&$s(i,n,o,o[3],e?Es(n,o[3],a,null):Ns(o[3]),null)},i(o){e||(ut(i,o),e=!0)},o(o){pt(i,o),e=!1},d(o){i&&i.d(o)}}}function sL(t){let e,n,i=t[2]&&lp(t);return{c(){e=_t("div"),i&&i.c(),ot(e,"use",t[0])},m(o,a){Ct(o,e,a),i&&i.m(e,null),t[5](e),n=!0},p(o,[a]){o[2]?i?(i.p(o,a),a&4&&ut(i,1)):(i=lp(o),i.c(),ut(i,1),i.m(e,null)):i&&(pe(),pt(i,1,1,()=>{i=null}),ge()),(!n||a&1)&&ot(e,"use",o[0])},i(o){n||(ut(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[5](null)}}}function uL(t,e,n){let{$$slots:i={},$$scope:o}=e,a,u,c=!1,{startOpen:l=!1}=e;const{getLayer:h}=Uc("layer"),d=h();Cr(()=>{a=_i.popup().setContent(u),d&&(d.bindPopup(a),d.on("popupopen",()=>n(2,c=!0)),d.on("popupclose",()=>n(2,c=!1)),l&&(d==null||d.openPopup()))}),zs(()=>{d==null||d.unbindPopup(),a==null||a.remove(),a=void 0});function p(g){xi[g?"unshift":"push"](()=>{u=g,n(1,u)})}return t.$$set=g=>{"startOpen"in g&&n(0,l=g.startOpen),"$$scope"in g&&n(3,o=g.$$scope)},t.$$.update=()=>{t.$$.dirty&1&&(l&&d?d==null||d.openPopup():d&&d.closePopup())},[l,u,c,o,i,p]}class Ul extends en{constructor(e){super(),tn(this,e,uL,sL,Ue,{startOpen:0})}}function fL(t){let e;return{c(){e=_t("div"),ot(e,"class","histogram mx-1 svelte-13skr5q")},m(n,i){Ct(n,e,i),t[7](e)},p:Le,i:Le,o:Le,d(n){n&&kt(e),t[7](null)}}}function cL(t,e,n){let{data:i=Array.from({length:100},(p,g)=>g)}=e,{width:o=200}=e,{height:a=75}=e,{tickFormat:u=ze(".2s")}=e,{onUpdate:c=null}=e,{label:l="Value "}=e,h;Cr(()=>{const p={top:15,right:30,bottom:30,left:30},g=xe(h).append("svg").attr("width",o).attr("height",a),_=ko().domain(Re(i)).range([p.left,o-p.right]).nice(),v=zw().domain(_.domain()).thresholds(_.ticks(20))(i),w=Math.max(...v.map(k=>k.length)),b=ko().domain([0,w]).nice().range([a-p.bottom,p.top]),T=g.selectAll("rect").data(v).enter().append("rect").attr("x",k=>_(k.x0)+1).attr("width",k=>Math.max(0,_(k.x1)-_(k.x0)-1)).attr("y",k=>b(k.length)).attr("height",k=>b(0)-b(k.length)).attr("fill","rgb(104,175,252)").attr("fill-opacity",.8),M=z3().extent([[p.left,p.top],[o-p.right,a-p.bottom]]).on("brush",S).on("end",P);g.append("g").attr("class","brush").call(M),g.append("text").attr("x",2).attr("y",9).attr("text-anchor","start").attr("font-size","12px").style("font-family","system-ui, sans-serif").text(l),g.append("g").attr("transform",`translate(0,${a-p.bottom})`).call(s0(_).ticks(4).tickFormat(u)),g.append("g").attr("transform",`translate(${p.left},0)`).call(Xw(b).ticks(2));function S(k){if(k.selection){const[A,N]=k.selection;T.attr("fill-opacity",I=>{const $=_(I.x0)+1;return $>=A&&$<=N?1:.3}),c&&c([_.invert(A),_.invert(N)])}}function P(k){k.selection||(T.attr("fill-opacity",1),c&&c(null))}});function d(p){xi[p?"unshift":"push"](()=>{h=p,n(0,h)})}return t.$$set=p=>{"data"in p&&n(1,i=p.data),"width"in p&&n(2,o=p.width),"height"in p&&n(3,a=p.height),"tickFormat"in p&&n(4,u=p.tickFormat),"onUpdate"in p&&n(5,c=p.onUpdate),"label"in p&&n(6,l=p.label)},[h,i,o,a,u,c,l,d]}class lL extends en{constructor(e){super(),tn(this,e,cL,fL,Ue,{data:1,width:2,height:3,tickFormat:4,onUpdate:5,label:6})}}function hp(t){let e;const n=t[4].default,i=As(n,t,t[3],null);return{c(){i&&i.c()},m(o,a){i&&i.m(o,a),e=!0},p(o,a){i&&i.p&&(!e||a&8)&&$s(i,n,o,o[3],e?Es(n,o[3],a,null):Ns(o[3]),null)},i(o){e||(ut(i,o),e=!0)},o(o){pt(i,o),e=!1},d(o){i&&i.d(o)}}}function hL(t){let e,n,i=t[0]&&hp(t);return{c(){e=_t("div"),i&&i.c()},m(o,a){Ct(o,e,a),i&&i.m(e,null),t[5](e),n=!0},p(o,[a]){o[0]?i?(i.p(o,a),a&1&&ut(i,1)):(i=hp(o),i.c(),ut(i,1),i.m(e,null)):i&&(pe(),pt(i,1,1,()=>{i=null}),ge())},i(o){n||(ut(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(),t[5](null)}}}function dL(t,e,n){let{$$slots:i={},$$scope:o}=e,{latLngs:a}=e,u,c;const{getMap:l}=Uc("map"),h=l();Fc("layer",{getLayer:()=>u}),Cr(()=>{h&&n(0,u=_i.polyline(a,{color:"black",weight:2,opacity:.8}).addTo(h))}),zs(()=>{u==null||u.remove(),n(0,u=void 0)});function d(p){xi[p?"unshift":"push"](()=>{c=p,n(1,c)})}return t.$$set=p=>{"latLngs"in p&&n(2,a=p.latLngs),"$$scope"in p&&n(3,o=p.$$scope)},[u,c,a,o,i,d]}class mL extends en{constructor(e){super(),tn(this,e,dL,hL,Ue,{latLngs:2})}}function pL(t){let e,n,i,o;return{c(){e=_t("button"),ot(e,"class",n=Kh(`mx-2 my-1 p-1 hover:border-black border-solid border-1 border-black ${t[0]?"opacity-100":"opacity-30 hover:opacity-50"}`)+" svelte-10lm8cb"),vo(e,"background-image","url("+t[2]+")")},m(a,u){Ct(a,e,u),i||(o=hr(e,"click",Vb(function(){Bo(t[1])&&t[1].apply(this,arguments)})),i=!0)},p(a,[u]){t=a,u&1&&n!==(n=Kh(`mx-2 my-1 p-1 hover:border-black border-solid border-1 border-black ${t[0]?"opacity-100":"opacity-30 hover:opacity-50"}`)+" svelte-10lm8cb")&&ot(e,"class",n),u&4&&vo(e,"background-image","url("+t[2]+")")},i:Le,o:Le,d(a){a&&kt(e),i=!1,o()}}}function gL(t,e,n){let{checked:i=!0}=e,{onClick:o=()=>{}}=e,{imageUrl:a="./ttc.svg"}=e;return t.$$set=u=>{"checked"in u&&n(0,i=u.checked),"onClick"in u&&n(1,o=u.onClick),"imageUrl"in u&&n(2,a=u.imageUrl)},[i,o,a]}class $f extends en{constructor(e){super(),tn(this,e,gL,pL,Ue,{checked:0,onClick:1,imageUrl:2})}}function dp(t,e,n){const i=t.slice();return i[12]=e[n],i}function mp(t,e,n){const i=t.slice();return i[15]=e[n],i}function pp(t,e,n){const i=t.slice();return i[18]=e[n],i}function gp(t){let e,n,i,o,a=[],u=new Map,c,l,h=dn(Object.keys(t[5][0]));const d=_=>_[18];for(let _=0;_<h.length;_+=1){let v=pp(t,h,_),w=d(v);u.set(w,a[_]=_p(w,v))}let p=dn(t[5]),g=[];for(let _=0;_<p.length;_+=1)g[_]=vp(dp(t,p,_));return{c(){e=_t("div"),n=_t("table"),i=_t("thead"),o=_t("tr");for(let _=0;_<a.length;_+=1)a[_].c();c=Dt(),l=_t("tbody");for(let _=0;_<g.length;_+=1)g[_].c();ot(i,"class","sticky top-0 bg-white"),ot(n,"class","min-w-full"),ot(e,"class","border-gray mt-1 overflow-x-auto"),vo(e,"max-height",wL)},m(_,v){Ct(_,e,v),lt(e,n),lt(n,i),lt(i,o);for(let w=0;w<a.length;w+=1)a[w]&&a[w].m(o,null);lt(n,c),lt(n,l);for(let w=0;w<g.length;w+=1)g[w]&&g[w].m(l,null)},p(_,v){if(v&113&&(h=dn(Object.keys(_[5][0])),a=Xp(a,v,d,1,_,h,u,o,tw,_p,null,pp)),v&44){p=dn(_[5]);let w;for(w=0;w<p.length;w+=1){const b=dp(_,p,w);g[w]?g[w].p(b,v):(g[w]=vp(b),g[w].c(),g[w].m(l,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=p.length}},d(_){_&&kt(e);for(let v=0;v<a.length;v+=1)a[v].d();Rc(g,_)}}}function _L(t){let e,n;return{c(){e=Kn("svg"),n=Kn("path"),ot(n,"stroke-linecap","round"),ot(n,"stroke-linejoin","round"),ot(n,"stroke-width","2"),ot(n,"d","M4 8h16M4 16h16"),ot(e,"class","w-4 h-4 ml-1 text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity"),ot(e,"fill","none"),ot(e,"stroke","currentColor"),ot(e,"viewBox","0 0 24 24"),ot(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){Ct(i,e,o),lt(e,n)},d(i){i&&kt(e)}}}function yL(t){let e,n;return{c(){e=Kn("svg"),n=Kn("path"),ot(n,"stroke-linecap","round"),ot(n,"stroke-linejoin","round"),ot(n,"stroke-width","2"),ot(n,"d","M19 9l-7 7-7-7"),ot(e,"class","w-4 h-4 ml-1 text-gray-600"),ot(e,"fill","none"),ot(e,"stroke","currentColor"),ot(e,"viewBox","0 0 24 24"),ot(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){Ct(i,e,o),lt(e,n)},d(i){i&&kt(e)}}}function vL(t){let e,n;return{c(){e=Kn("svg"),n=Kn("path"),ot(n,"stroke-linecap","round"),ot(n,"stroke-linejoin","round"),ot(n,"stroke-width","2"),ot(n,"d","M5 15l7-7 7 7"),ot(e,"class","w-4 h-4 ml-1 text-gray-600"),ot(e,"fill","none"),ot(e,"stroke","currentColor"),ot(e,"viewBox","0 0 24 24"),ot(e,"xmlns","http://www.w3.org/2000/svg")},m(i,o){Ct(i,e,o),lt(e,n)},d(i){i&&kt(e)}}}function _p(t,e){let n,i,o,a=e[18]+"",u,c,l,h,d,p;function g(b,T){return b[18]===b[0]&&b[4]===1?vL:b[18]===b[0]&&b[4]===-1?yL:_L}let _=g(e),v=_(e);function w(){return e[10](e[18])}return{key:t,first:null,c(){n=_t("th"),i=_t("div"),v.c(),o=Dt(),u=Ve(a),c=Dt(),l=Kn("svg"),h=Dt(),ot(l,"class","w-4 h-4 ml-1 opacity-0"),ot(l,"fill","none"),ot(l,"viewBox","0 0 24 24"),ot(l,"xmlns","http://www.w3.org/2000/svg"),ot(i,"class","flex items-center"),ot(n,"class","cursor-pointer px-1 py-1 border truncate select-none svelte-16512im"),this.first=n},m(b,T){Ct(b,n,T),lt(n,i),v.m(i,null),lt(i,o),lt(i,u),lt(i,c),lt(i,l),lt(n,h),d||(p=hr(n,"click",w),d=!0)},p(b,T){e=b,_!==(_=g(e))&&(v.d(1),v=_(e),v&&(v.c(),v.m(i,o))),T&32&&a!==(a=e[18]+"")&&Ga(u,a)},d(b){b&&kt(n),v.d(),d=!1,p()}}}function yp(t){let e,n=t[15]+"",i;return{c(){e=_t("td"),i=Ve(n),ot(e,"class","border px-1 py-1 truncate"),vo(e,"max-width","240px")},m(o,a){Ct(o,e,a),lt(e,i)},p(o,a){a&32&&n!==(n=o[15]+"")&&Ga(i,n)},d(o){o&&kt(e)}}}function vp(t){let e,n,i,o,a,u=dn(Object.values(t[12])),c=[];for(let h=0;h<u.length;h+=1)c[h]=yp(mp(t,u,h));function l(){return t[11](t[12])}return{c(){e=_t("tr");for(let h=0;h<c.length;h+=1)c[h].c();n=Dt(),ot(e,"class",i=`cursor-pointer ${t[12].id===t[2]?"bg-orange-300":"hover:bg-slate-100"}`)},m(h,d){Ct(h,e,d);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(e,null);lt(e,n),o||(a=hr(e,"click",l),o=!0)},p(h,d){if(t=h,d&32){u=dn(Object.values(t[12]));let p;for(p=0;p<u.length;p+=1){const g=mp(t,u,p);c[p]?c[p].p(g,d):(c[p]=yp(g),c[p].c(),c[p].m(e,n))}for(;p<c.length;p+=1)c[p].d(1);c.length=u.length}d&36&&i!==(i=`cursor-pointer ${t[12].id===t[2]?"bg-orange-300":"hover:bg-slate-100"}`)&&ot(e,"class",i)},d(h){h&&kt(e),Rc(c,h),o=!1,a()}}}function bL(t){let e,n,i,o,a,u=t[5].length+"",c,l,h,d,p,g,_,v,w,b,T,M,S,P,k,A,N,I,$,O,E,R=t[5]&&t[5].length>0&&gp(t);return{c(){e=_t("div"),n=_t("div"),i=_t("div"),o=Ve("NORCs filtered by the controls above and search below (currently "),a=_t("strong"),c=Ve(u),l=Ve(" rows"),h=Ve(`). Click column headers to sort (currently
      `),d=_t("em"),p=Ve(t[0]),g=Ve("."),_=Ve("). Click a row to zoom the map."),v=Dt(),w=_t("div"),b=_t("button"),b.textContent="Download Table",T=Dt(),M=_t("form"),S=_t("label"),S.textContent="Search stops or buildings",P=Dt(),k=_t("div"),A=_t("div"),A.innerHTML='<svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"></path></svg>',N=Dt(),I=_t("input"),$=Dt(),R&&R.c(),ot(b,"type","button"),ot(b,"class","py-2.5 px-5 me-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700 whitespace-nowrap"),ot(n,"class","border-t mt-2 pt-2 flex justify-between text-start"),ot(S,"for","default-search"),ot(S,"class","mb-2 text-sm font-medium text-gray-900 sr-only dark:text-white"),ot(A,"class","absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none"),ot(I,"type","search"),ot(I,"id","default-search"),ot(I,"class","block w-full p-2 ps-10 text-sm text-gray-900 border border-gray-300 rounded-lg bg-gray-50"),ot(I,"placeholder","Search stops or buildings"),ot(k,"class","relative w-60"),ot(M,"class","flex mb-2"),ot(e,"class","mb-10")},m(F,U){Ct(F,e,U),lt(e,n),lt(n,i),lt(i,o),lt(i,a),lt(a,c),lt(a,l),lt(i,h),lt(i,d),lt(d,p),lt(d,g),lt(i,_),lt(n,v),lt(n,w),lt(w,b),lt(e,T),lt(e,M),lt(M,S),lt(M,P),lt(M,k),lt(k,A),lt(k,N),lt(k,I),lt(e,$),R&&R.m(e,null),O||(E=[hr(b,"click",t[7]),hr(I,"input",t[9])],O=!0)},p(F,[U]){U&32&&u!==(u=F[5].length+"")&&Ga(c,u),U&1&&Ga(p,F[0]),F[5]&&F[5].length>0?R?R.p(F,U):(R=gp(F),R.c(),R.m(e,null)):R&&(R.d(1),R=null)},i:Le,o:Le,d(F){F&&kt(e),R&&R.d(),O=!1,ti(E)}}}let wL="400px";function xL(t,e,n){let i,o,{items:a=[]}=e,{sortBy:u=""}=e,{selectedRow:c}=e,{searchTerm:l=""}=e,{rowClick:h=()=>{}}=e;const d=w=>{u===w?n(4,i*=-1):n(0,u=w)};function p(){const b=Object.keys(o[0]).join(",")+`
`+o.map(P=>Object.values(P).join(",")).join(`
`),T=new Blob([b],{type:"text/csv"}),M=window.URL.createObjectURL(T),S=document.createElement("a");S.href=M,S.setAttribute("download","data.csv"),document.body.appendChild(S),S.click(),document.body.removeChild(S),window.URL.revokeObjectURL(M)}const g=w=>n(1,l=w.target.value),_=w=>d(w),v=w=>h(w);return t.$$set=w=>{"items"in w&&n(8,a=w.items),"sortBy"in w&&n(0,u=w.sortBy),"selectedRow"in w&&n(2,c=w.selectedRow),"searchTerm"in w&&n(1,l=w.searchTerm),"rowClick"in w&&n(3,h=w.rowClick)},t.$$.update=()=>{t.$$.dirty&275&&n(5,o=[...a].filter(w=>Object.values(w).filter(b=>typeof b=="string").join(" ").toLowerCase().includes(l.toLowerCase())).sort((w,b)=>w[u]>b[u]?i:w[u]<b[u]?-i:0))},n(4,i=-1),[u,l,c,h,i,o,d,p,a,g,_,v]}class ML extends en{constructor(e){super(),tn(this,e,xL,bL,Ue,{items:8,sortBy:0,selectedRow:2,searchTerm:1,rowClick:3})}}function TL(t){let e,n;return e=new Fl({props:{handleClick:t[1],options:{marks:[jn([t[5]],{frameAnchor:"top",textAnchor:"end",fontSize:12,dx:0,dy:-10}),kr(t[0],ar({x:"count",ariaLabel:bp,opacity:t[9]},{y:t[7],fill:t[7],ariaLabel:t[7],sort:{y:"x",reverse:!0},opacity:t[7]})),jn(t[0],ar({x:"count",text:"count",ariaLabel:wp},{y:t[7],ariaLabel:t[7],dx:2,textAnchor:"start",sort:{y:"x",reverse:!0}}))],marginLeft:t[2],marginRight:20,x:{label:null,axis:null},width:t[3],height:t[4],marginTop:0,marginBottom:0,color:{range:Mr[9].slice(3,7),reverse:!0,domain:["Shelter With Bench Underneath","None","Bench only","Shelter Without Bench"]},style:{cursor:"pointer",userSelect:"none"}}}}),{c(){oe(e.$$.fragment)},m(i,o){Jt(e,i,o),n=!0},p(i,[o]){const a={};o&2&&(a.handleClick=i[1]),o&125&&(a.options={marks:[jn([i[5]],{frameAnchor:"top",textAnchor:"end",fontSize:12,dx:0,dy:-10}),kr(i[0],ar({x:"count",ariaLabel:bp,opacity:i[9]},{y:i[7],fill:i[7],ariaLabel:i[7],sort:{y:"x",reverse:!0},opacity:i[7]})),jn(i[0],ar({x:"count",text:"count",ariaLabel:wp},{y:i[7],ariaLabel:i[7],dx:2,textAnchor:"start",sort:{y:"x",reverse:!0}}))],marginLeft:i[2],marginRight:20,x:{label:null,axis:null},width:i[3],height:i[4],marginTop:0,marginBottom:0,color:{range:Mr[9].slice(3,7),reverse:!0,domain:["Shelter With Bench Underneath","None","Bench only","Shelter Without Bench"]},style:{cursor:"pointer",userSelect:"none"}}),e.$set(a)},i(i){n||(ut(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){Qt(e,i)}}}const bp=t=>t[0],wp=t=>t[0];function LL(t,e,n){let{data:i}=e,{y:o="amenity"}=e,{handleClick:a}=e,{marginLeft:u=300}=e,{width:c=330}=e,{height:l=60}=e,{title:h=""}=e,{selected:d=""}=e;const p=_=>_.properties&&_.properties[o]||"None",g=_=>d?_[0]===d?1:.2:1;return t.$$set=_=>{"data"in _&&n(0,i=_.data),"y"in _&&n(8,o=_.y),"handleClick"in _&&n(1,a=_.handleClick),"marginLeft"in _&&n(2,u=_.marginLeft),"width"in _&&n(3,c=_.width),"height"in _&&n(4,l=_.height),"title"in _&&n(5,h=_.title),"selected"in _&&n(6,d=_.selected)},[i,a,u,c,l,h,d,p,o,g]}class SL extends en{constructor(e){super(),tn(this,e,LL,TL,Ue,{data:0,y:8,handleClick:1,marginLeft:2,width:3,height:4,title:5,selected:6})}}function xp(t,e,n){const i=t.slice();return i[22]=e[n],i[24]=n,i}function Mp(t,e,n){const i=t.slice();return i[25]=e[n],i}function Tp(t){var p,g;let e,n,i,o,a,u,c;n=new aL({props:{prop:"wheelchair_boarding",label:"Wheelchair boarding",selected:(p=t[2].find(Op))==null?void 0:p.value,data:t[0],handleClick:t[15]}}),o=new SL({props:{data:t[0].features,y:"amenity",marginLeft:200,width:300,selected:(g=t[2].find(Ip))==null?void 0:g.value.toString(),handleClick:t[16]}});let l=dn(t[9]),h=[];for(let _=0;_<l.length;_+=1)h[_]=Lp(Mp(t,l,_));const d=_=>pt(h[_],1,1,()=>{h[_]=null});return{c(){e=_t("div"),oe(n.$$.fragment),i=Dt(),oe(o.$$.fragment),a=Dt(),u=_t("div");for(let _=0;_<h.length;_+=1)h[_].c();ot(e,"class","flex flex-wrap mt-3"),ot(u,"class","flex flex-wrap mt-3")},m(_,v){Ct(_,e,v),Jt(n,e,null),lt(e,i),Jt(o,e,null),Ct(_,a,v),Ct(_,u,v);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(u,null);c=!0},p(_,v){var T,M;const w={};v&4&&(w.selected=(T=_[2].find(Op))==null?void 0:T.value),v&1&&(w.data=_[0]),n.$set(w);const b={};if(v&1&&(b.data=_[0].features),v&4&&(b.selected=(M=_[2].find(Ip))==null?void 0:M.value.toString()),o.$set(b),v&8705){l=dn(_[9]);let S;for(S=0;S<l.length;S+=1){const P=Mp(_,l,S);h[S]?(h[S].p(P,v),ut(h[S],1)):(h[S]=Lp(P),h[S].c(),ut(h[S],1),h[S].m(u,null))}for(pe(),S=l.length;S<h.length;S+=1)d(S);ge()}},i(_){if(!c){ut(n.$$.fragment,_),ut(o.$$.fragment,_);for(let v=0;v<l.length;v+=1)ut(h[v]);c=!0}},o(_){pt(n.$$.fragment,_),pt(o.$$.fragment,_),h=h.filter(Boolean);for(let v=0;v<h.length;v+=1)pt(h[v]);c=!1},d(_){_&&(kt(e),kt(a),kt(u)),Qt(n),Qt(o),Rc(h,_)}}}function Lp(t){let e,n;function i(...a){return t[17](t[25],...a)}function o(...a){return t[18](t[25],...a)}return e=new lL({props:{data:t[0].features.map(i),label:`${t[25].label} `,onUpdate:o,tickFormat:t[25].tickFormat}}),{c(){oe(e.$$.fragment)},m(a,u){Jt(e,a,u),n=!0},p(a,u){t=a;const c={};u&1&&(c.data=t[0].features.map(i)),e.$set(c)},i(a){n||(ut(e.$$.fragment,a),n=!0)},o(a){pt(e.$$.fragment,a),n=!1},d(a){Qt(e,a)}}}function Sp(t){let e=[],n=new Map,i,o,a=dn(t[3]);const u=c=>c[22].properties.id;for(let c=0;c<a.length;c+=1){let l=xp(t,a,c),h=u(l);n.set(h,e[c]=Ep(h,l))}return{c(){for(let c=0;c<e.length;c+=1)e[c].c();i=In()},m(c,l){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(c,l);Ct(c,i,l),o=!0},p(c,l){l&16842&&(a=dn(c[3]),pe(),e=Xp(e,l,u,1,c,a,n,i.parentNode,ew,Ep,i,xp),ge())},i(c){if(!o){for(let l=0;l<a.length;l+=1)ut(e[l]);o=!0}},o(c){for(let l=0;l<e.length;l+=1)pt(e[l]);o=!1},d(c){c&&kt(i);for(let l=0;l<e.length;l+=1)e[l].d(c)}}}function Pp(t){let e,n;return e=new jp({props:{latLng:[+t[22].properties.latitude,+t[22].properties.longitude],radius:4,fillColor:"black",$$slots:{default:[kL]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},m(i,o){Jt(e,i,o),n=!0},p(i,o){const a={};o&8&&(a.latLng=[+i[22].properties.latitude,+i[22].properties.longitude]),o&268435466&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ut(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){Qt(e,i)}}}function PL(t){let e,n=t[14](t[22])+"",i;return{c(){e=new Zc(!1),i=In(),e.a=i},m(o,a){e.m(n,o,a),Ct(o,i,a)},p(o,a){a&8&&n!==(n=o[14](o[22])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function kL(t){let e,n;return e=new Ul({props:{startOpen:t[24]+1===t[1],$$slots:{default:[PL]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},m(i,o){Jt(e,i,o),n=!0},p(i,o){const a={};o&10&&(a.startOpen=i[24]+1===i[1]),o&268435464&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ut(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){Qt(e,i)}}}function kp(t){let e,n;return e=new jp({props:{latLng:[+t[22].properties.stop_lat,+t[22].properties.stop_lon],radius:4,fillColor:"red",$$slots:{default:[AL]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},m(i,o){Jt(e,i,o),n=!0},p(i,o){const a={};o&8&&(a.latLng=[+i[22].properties.stop_lat,+i[22].properties.stop_lon]),o&268435464&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ut(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){Qt(e,i)}}}function CL(t){let e,n=t[14](t[22])+"",i;return{c(){e=new Zc(!1),i=In(),e.a=i},m(o,a){e.m(n,o,a),Ct(o,i,a)},p(o,a){a&8&&n!==(n=o[14](o[22])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function AL(t){let e,n;return e=new Ul({props:{$$slots:{default:[CL]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},m(i,o){Jt(e,i,o),n=!0},p(i,o){const a={};o&268435464&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ut(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){Qt(e,i)}}}function Cp(t){let e,n,i=t[22].geometry&&Ap(t);return{c(){i&&i.c(),e=In()},m(o,a){i&&i.m(o,a),Ct(o,e,a),n=!0},p(o,a){o[22].geometry?i?(i.p(o,a),a&8&&ut(i,1)):(i=Ap(o),i.c(),ut(i,1),i.m(e.parentNode,e)):i&&(pe(),pt(i,1,1,()=>{i=null}),ge())},i(o){n||(ut(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(o)}}}function Ap(t){let e,n;return e=new mL({props:{latLngs:t[22].geometry.coordinates.map(Bp),$$slots:{default:[$L]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment)},m(i,o){Jt(e,i,o),n=!0},p(i,o){const a={};o&8&&(a.latLngs=i[22].geometry.coordinates.map(Bp)),o&268435464&&(a.$$scope={dirty:o,ctx:i}),e.$set(a)},i(i){n||(ut(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){Qt(e,i)}}}function EL(t){let e,n=t[14](t[22])+"",i;return{c(){e=new Zc(!1),i=In(),e.a=i},m(o,a){e.m(n,o,a),Ct(o,i,a)},p(o,a){a&8&&n!==(n=o[14](o[22])+"")&&e.p(n)},d(o){o&&(kt(i),e.d())}}}function $L(t){let e,n,i;return e=new Ul({props:{$$slots:{default:[EL]},$$scope:{ctx:t}}}),{c(){oe(e.$$.fragment),n=Dt()},m(o,a){Jt(e,o,a),Ct(o,n,a),i=!0},p(o,a){const u={};a&268435464&&(u.$$scope={dirty:a,ctx:o}),e.$set(u)},i(o){i||(ut(e.$$.fragment,o),i=!0)},o(o){pt(e.$$.fragment,o),i=!1},d(o){o&&kt(n),Qt(e,o)}}}function Ep(t,e){let n,i,o,a,u,c=e[8]&&Pp(e),l=e[6]&&kp(e),h=e[7]&&Cp(e);return{key:t,first:null,c(){n=In(),c&&c.c(),i=Dt(),l&&l.c(),o=Dt(),h&&h.c(),a=In(),this.first=n},m(d,p){Ct(d,n,p),c&&c.m(d,p),Ct(d,i,p),l&&l.m(d,p),Ct(d,o,p),h&&h.m(d,p),Ct(d,a,p),u=!0},p(d,p){e=d,e[8]?c?(c.p(e,p),p&256&&ut(c,1)):(c=Pp(e),c.c(),ut(c,1),c.m(i.parentNode,i)):c&&(pe(),pt(c,1,1,()=>{c=null}),ge()),e[6]?l?(l.p(e,p),p&64&&ut(l,1)):(l=kp(e),l.c(),ut(l,1),l.m(o.parentNode,o)):l&&(pe(),pt(l,1,1,()=>{l=null}),ge()),e[7]?h?(h.p(e,p),p&128&&ut(h,1)):(h=Cp(e),h.c(),ut(h,1),h.m(a.parentNode,a)):h&&(pe(),pt(h,1,1,()=>{h=null}),ge())},i(d){u||(ut(c),ut(l),ut(h),u=!0)},o(d){pt(c),pt(l),pt(h),u=!1},d(d){d&&(kt(n),kt(i),kt(o),kt(a)),c&&c.d(d),l&&l.d(d),h&&h.d(d)}}}function NL(t){let e,n,i=t[3]&&Sp(t);return{c(){i&&i.c(),e=In()},m(o,a){i&&i.m(o,a),Ct(o,e,a),n=!0},p(o,a){o[3]?i?(i.p(o,a),a&8&&ut(i,1)):(i=Sp(o),i.c(),ut(i,1),i.m(e.parentNode,e)):i&&(pe(),pt(i,1,1,()=>{i=null}),ge())},i(o){n||(ut(i),n=!0)},o(o){pt(i),n=!1},d(o){o&&kt(e),i&&i.d(o)}}}function $p(t){let e,n;return e=new ML({props:{items:t[3].map(t[19]),sortBy:"Distance",rowClick:t[20],selectedRow:t[1]}}),{c(){oe(e.$$.fragment)},m(i,o){Jt(e,i,o),n=!0},p(i,o){const a={};o&8&&(a.items=i[3].map(i[19])),o&2&&(a.rowClick=i[20]),o&2&&(a.selectedRow=i[1]),e.$set(a)},i(i){n||(ut(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){Qt(e,i)}}}function Np(t){let e,n;return e=new Fl({props:{options:{width:900,marginLeft:300,inset:2,fx:{domain:["Shelter With Bench Underneath","Shelter Without Bench","Bench only","None"]},marks:[Bc(),kr(t[3],{x:Dp,y:Rp,fx:Zp,channels:{NORC:Fp,"Num. Seniors":Up},tip:{format:{y:!1,fx:!1,x:!1,fill:!1}},stroke:"white",fill:Hp,sort:{y:"x",reverse:!0,limit:40}})],color:{range:Mr[9].slice(3,7),reverse:!0,domain:["Shelter With Bench Underneath","Shelter Without Bench","Bench only","None"]},style:{width:"90%"}}}}),{c(){oe(e.$$.fragment)},m(i,o){Jt(e,i,o),n=!0},p(i,o){const a={};o&8&&(a.options={width:900,marginLeft:300,inset:2,fx:{domain:["Shelter With Bench Underneath","Shelter Without Bench","Bench only","None"]},marks:[Bc(),kr(i[3],{x:Dp,y:Rp,fx:Zp,channels:{NORC:Fp,"Num. Seniors":Up},tip:{format:{y:!1,fx:!1,x:!1,fill:!1}},stroke:"white",fill:Hp,sort:{y:"x",reverse:!0,limit:40}})],color:{range:Mr[9].slice(3,7),reverse:!0,domain:["Shelter With Bench Underneath","Shelter Without Bench","Bench only","None"]},style:{width:"90%"}}),e.$set(a)},i(i){n||(ut(e.$$.fragment,i),n=!0)},o(i){pt(e.$$.fragment,i),n=!1},d(i){Qt(e,i)}}}function zL(t){let e,n,i,o,a,u,c,l,h,d,p,g,_,v,w,b,T,M,S,P,k,A,N,I,$,O=t[0]&&Tp(t);d=new $f({props:{imageUrl:"ttc.svg",checked:t[6],onClick:t[10]}}),g=new $f({props:{imageUrl:"apartment.svg",checked:t[8],onClick:t[12]}}),v=new $f({props:{imageUrl:"route.svg",checked:t[7],onClick:t[11]}}),T=new cw({props:{view:t[4],zoom:t[5],$$slots:{default:[NL]},$$scope:{ctx:t}}});let E=t[3]&&$p(t),R=t[3]&&Np(t);return{c(){e=_t("div"),n=_t("h1"),n.textContent="Naturally Occuring Retirement Communities",i=Dt(),o=_t("p"),o.innerHTML="<em>Use the controls below to explore the data in the map and table.</em>",a=Dt(),O&&O.c(),u=Dt(),c=_t("div"),l=_t("div"),h=_t("form"),oe(d.$$.fragment),p=Dt(),oe(g.$$.fragment),_=Dt(),oe(v.$$.fragment),w=Dt(),b=_t("div"),oe(T.$$.fragment),M=Dt(),E&&E.c(),S=Dt(),P=_t("div"),k=_t("h1"),k.textContent="Stops",A=Dt(),N=_t("p"),N.innerHTML="<em>Top 40 stops by number of seniors served, by amenity</em>",I=Dt(),R&&R.c(),ot(n,"class","flex pb-0 text-2xl"),ot(o,"class","text-start border-b"),ot(h,"class","flex flex-wrap"),vo(l,"width","80px"),ot(b,"class","w-[calc(100%-80px)] h-[calc(50vh)]"),ot(c,"class","flex"),ot(k,"class","flex pb-0 pt-2 text-2xl border-t"),ot(N,"class","text-start m0"),ot(e,"class","w-full")},m(F,U){Ct(F,e,U),lt(e,n),lt(e,i),lt(e,o),lt(e,a),O&&O.m(e,null),lt(e,u),lt(e,c),lt(c,l),lt(l,h),Jt(d,h,null),lt(h,p),Jt(g,h,null),lt(h,_),Jt(v,h,null),lt(c,w),lt(c,b),Jt(T,b,null),lt(e,M),E&&E.m(e,null),lt(e,S),lt(e,P),lt(P,k),lt(P,A),lt(P,N),lt(P,I),R&&R.m(P,null),$=!0},p(F,[U]){F[0]?O?(O.p(F,U),U&1&&ut(O,1)):(O=Tp(F),O.c(),ut(O,1),O.m(e,u)):O&&(pe(),pt(O,1,1,()=>{O=null}),ge());const B={};U&64&&(B.checked=F[6]),d.$set(B);const Y={};U&256&&(Y.checked=F[8]),g.$set(Y);const Q={};U&128&&(Q.checked=F[7]),v.$set(Q);const q={};U&16&&(q.view=F[4]),U&32&&(q.zoom=F[5]),U&268435914&&(q.$$scope={dirty:U,ctx:F}),T.$set(q),F[3]?E?(E.p(F,U),U&8&&ut(E,1)):(E=$p(F),E.c(),ut(E,1),E.m(e,S)):E&&(pe(),pt(E,1,1,()=>{E=null}),ge()),F[3]?R?(R.p(F,U),U&8&&ut(R,1)):(R=Np(F),R.c(),ut(R,1),R.m(P,null)):R&&(pe(),pt(R,1,1,()=>{R=null}),ge())},i(F){$||(ut(O),ut(d.$$.fragment,F),ut(g.$$.fragment,F),ut(v.$$.fragment,F),ut(T.$$.fragment,F),ut(E),ut(R),$=!0)},o(F){pt(O),pt(d.$$.fragment,F),pt(g.$$.fragment,F),pt(v.$$.fragment,F),pt(T.$$.fragment,F),pt(E),pt(R),$=!1},d(F){F&&kt(e),O&&O.d(),Qt(d),Qt(g),Qt(v),Qt(T),E&&E.d(),R&&R.d()}}}function zp(t,e){return`http://maps.google.com/maps?q=&layer=c&cbll=${t},${e}&cbp=11,0,0,0,0`}const Op=t=>t.prop==="wheelchair_boarding",Ip=t=>t.prop==="amenity",Bp=t=>[+t[1],+t[0]],Dp=t=>t.properties["Age 65+ Total"],Rp=t=>t.properties.stop_name,Zp=t=>t.properties.amenity||"None",Fp=t=>t.properties.Address,Up=t=>t.properties["Age 65+ Total"],Hp=t=>t.properties.amenity||"None";function OL(t,e,n){let i,o=[43.70107,-79.397015],a,u=11,c=!0,l=!0,h=!0,d,p,g=[];const _=[{prop:"distance",label:"Distance",tickFormat:ze(".2s")},{prop:"Age 65+ Total",label:"Num. Seniors",tickFormat:ze(".2s")},{prop:"% of Seniors",label:"Pct. Seniors",tickFormat:ze(".0%")}];Cr(async()=>{n(0,d=await fetch("./norcs_with_closest_stops_merged_new.geojson").then($=>$.json()))});function v(){n(6,c=!c)}function w(){n(7,l=!l)}function b(){n(8,h=!h)}function T($,O){g.find(E=>E.prop===$&&(E.value===O||O===null))?n(2,g=g.filter(E=>E.prop!==$)):n(2,g=[...g.filter(E=>E.prop!==$),{prop:$,value:O}])}function M($){return`
      <em>Building: </em><a target="_blank" href="${zp($.properties.latitude,$.properties.longitude)}">${$.properties.Address}</a><br/>
      <em>Pct. Seniors: </em>${ze(".1%")($.properties["% of Seniors"])}<br/>
<em>Stop</em>: <a target="_blank" href="${zp($.properties.stop_lat,$.properties.stop_lon)}">${$.properties.stop_name}</a><br/>
      <em>Distance</em>: ${$.properties.distance}m<br/>
      <em>Amenity</em>: ${$.properties.amenity||"None"}<br/>
      <em>Source</em>: ${$.properties.source}
    `}const S=$=>$.target.ariaLabel?T("wheelchair_boarding",$.target.ariaLabel):null,P=$=>$.target.ariaLabel?T("amenity",$.target.ariaLabel):null,k=($,O)=>O.properties[$.prop],A=($,O)=>T($.prop,O),N=$=>({...$.properties,"% of Seniors":ze(".1%")($.properties["% of Seniors"])}),I=$=>p===$.id?n(1,p=null):n(1,p=$.id);return t.$$.update=()=>{t.$$.dirty&5&&n(3,i=d==null?void 0:d.features.filter($=>g.every(O=>typeof O.value=="string"?`${$.properties[O.prop]}`==(O.value==="None"?"null":O.value):Array.isArray(O.value)?+$.properties[O.prop]>=O.value[0]&&+$.properties[O.prop]<=O.value[1]:!1))),t.$$.dirty&10&&n(4,a=p?[i[p+1].properties.latitude,i[p+1].properties.longitude]:o),t.$$.dirty&2&&n(5,u=p?14:11)},[d,p,g,i,a,u,c,l,h,_,v,w,b,T,M,S,P,k,A,N,I]}class IL extends en{constructor(e){super(),tn(this,e,OL,zL,Ue,{})}}new IL({target:document.getElementById("app")});
